"use strict";
(self["webpackChunktei_shell"] = self["webpackChunktei_shell"] || []).push([["node_modules_tei_retail-admin_fesm2020_tei-retail-admin-site-online-setup-categories_module-1-d44142"],{

/***/ 68629:
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/@tei/retail-admin/fesm2020/tei-retail-admin-site-online-setup-categories.module-1ae52960.mjs ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SiteOnlineSetupCategoriesModule": () => (/* binding */ SiteOnlineSetupCategoriesModule)
/* harmony export */ });
/* harmony import */ var C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 83918);
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/cdk/drag-drop */ 47727);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/icon */ 57822);
/* harmony import */ var _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/legacy-button */ 69159);
/* harmony import */ var _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/legacy-card */ 77315);
/* harmony import */ var _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/material/legacy-core */ 57090);
/* harmony import */ var _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/legacy-dialog */ 58446);
/* harmony import */ var _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/legacy-form-field */ 41204);
/* harmony import */ var _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @angular/material/legacy-input */ 52044);
/* harmony import */ var _angular_material_legacy_menu__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/legacy-menu */ 1051);
/* harmony import */ var _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/material/legacy-select */ 36002);
/* harmony import */ var _angular_material_tree__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/tree */ 53453);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/router */ 60124);
/* harmony import */ var _tei_core_translate__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @tei/core-translate */ 13273);
/* harmony import */ var _tei_material__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @tei/material */ 81231);
/* harmony import */ var _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tei-retail-admin-tei-retail-admin-d7678e61.mjs */ 38977);
/* harmony import */ var _angular_cdk_tree__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/cdk/tree */ 15183);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ 59295);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ 32673);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ 21339);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs */ 32313);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ 54363);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ 60116);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs */ 19337);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ 50635);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ngx-translate/core */ 38699);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ 56908);






























































const _c0 = ["emptyItem"];
function SiteOnlineSetupCategoriesComponent_tei_material_bread_crumb_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "tei-material-bread-crumb", 18);
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("breadCrumbData", ctx_r0.breadCrumbData);
  }
}
function SiteOnlineSetupCategoriesComponent_button_13_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function SiteOnlineSetupCategoriesComponent_button_13_Template_button_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r6);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r5.openCreateCategoryDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](2, 1, "RETAIL_RETAIL_ADMIN.CATEGORIES.ADD_CATEGORY"));
  }
}
const _c1 = function (a0, a1, a2) {
  return {
    "a-tree-node-item-drop-above": a0,
    "a-tree-node-item-drop-below": a1,
    "a-tree-node-item-drop-center": a2
  };
};
function SiteOnlineSetupCategoriesComponent_mat_tree_node_17_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "mat-tree-node", 20)(1, "button", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](2, "mat-icon", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("dragstart", function SiteOnlineSetupCategoriesComponent_mat_tree_node_17_Template_div_dragstart_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r9.handleDragStart($event, node_r7));
    })("dragover", function SiteOnlineSetupCategoriesComponent_mat_tree_node_17_Template_div_dragover_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r11.handleDragOver($event, node_r7));
    })("dragend", function SiteOnlineSetupCategoriesComponent_mat_tree_node_17_Template_div_dragend_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r10);
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r12.handleDragEnd($event));
    })("drop", function SiteOnlineSetupCategoriesComponent_mat_tree_node_17_Template_div_drop_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r13.handleDrop($event, node_r7));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "span", 24)(5, "span", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "div", 9)(8, "button", 26)(9, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](10, "more_vert");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](11, "mat-menu", null, 27)(13, "button", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function SiteOnlineSetupCategoriesComponent_mat_tree_node_17_Template_button_click_13_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r14.openEditCategoryDialog(node_r7));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](14, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](15, "create");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](16, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](17);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](18, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](19, "button", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function SiteOnlineSetupCategoriesComponent_mat_tree_node_17_Template_button_click_19_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r15.openRemoveCategoryDialog(node_r7));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](20, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](21, "delete_forever");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](22, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](23);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](24, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()()()();
  }
  if (rf & 2) {
    const node_r7 = ctx.$implicit;
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵreference"](12);
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("id", "a-tree-node-item-expand-toggle-" + node_r7.RetailCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction3"](13, _c1, ctx_r2.dragNodeExpandOverArea === ctx_r2.dropOverAreaType.Above && ctx_r2.dragNodeExpandOverNode === node_r7, ctx_r2.dragNodeExpandOverArea === ctx_r2.dropOverAreaType.Below && ctx_r2.dragNodeExpandOverNode === node_r7, ctx_r2.dragNodeExpandOverArea === ctx_r2.dropOverAreaType.Center && ctx_r2.dragNodeExpandOverNode === node_r7))("id", "a-tree-node-item-draggable-" + node_r7.RetailCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", node_r7.CategoryName, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("matMenuTriggerFor", _r8);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("id", "a-manage-page-" + node_r7.RetailCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](18, 9, "RETAIL_RETAIL_ADMIN.CATEGORIES.EDIT"));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("id", "a-remove-page-" + node_r7.RetailCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](24, 11, "RETAIL_RETAIL_ADMIN.CATEGORIES.DELETE"));
  }
}
function SiteOnlineSetupCategoriesComponent_mat_tree_node_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r19 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "mat-tree-node", 30)(1, "button", 31)(2, "mat-icon", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("dragstart", function SiteOnlineSetupCategoriesComponent_mat_tree_node_18_Template_div_dragstart_4_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r19);
      const node_r16 = restoredCtx.$implicit;
      const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r18.handleDragStart($event, node_r16));
    })("dragover", function SiteOnlineSetupCategoriesComponent_mat_tree_node_18_Template_div_dragover_4_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r19);
      const node_r16 = restoredCtx.$implicit;
      const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r20.handleDragOver($event, node_r16));
    })("dragend", function SiteOnlineSetupCategoriesComponent_mat_tree_node_18_Template_div_dragend_4_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r19);
      const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r21.handleDragEnd($event));
    })("drop", function SiteOnlineSetupCategoriesComponent_mat_tree_node_18_Template_div_drop_4_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r19);
      const node_r16 = restoredCtx.$implicit;
      const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r22.handleDrop($event, node_r16));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "span", 24)(6, "span", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "div", 9)(9, "button", 26)(10, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](11, "more_vert");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](12, "mat-menu", null, 32)(14, "button", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function SiteOnlineSetupCategoriesComponent_mat_tree_node_18_Template_button_click_14_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r19);
      const node_r16 = restoredCtx.$implicit;
      const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r23.openEditCategoryDialog(node_r16));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](15, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](16, "create");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](17, "mat-label", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](19, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](20, "button", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function SiteOnlineSetupCategoriesComponent_mat_tree_node_18_Template_button_click_20_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r19);
      const node_r16 = restoredCtx.$implicit;
      const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r24.openRemoveCategoryDialog(node_r16));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](21, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](22, "delete_forever");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](23, "mat-label", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](24);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](25, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()()()();
  }
  if (rf & 2) {
    const node_r16 = ctx.$implicit;
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵreference"](13);
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("id", "a-tree-node-item-expand-toggle-" + node_r16.RetailCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", ctx_r3.treeControl.isExpanded(node_r16) ? "expand_more" : "chevron_right", " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction3"](14, _c1, ctx_r3.dragNodeExpandOverArea === ctx_r3.dropOverAreaType.Above && ctx_r3.dragNodeExpandOverNode === node_r16, ctx_r3.dragNodeExpandOverArea === ctx_r3.dropOverAreaType.Below && ctx_r3.dragNodeExpandOverNode === node_r16, ctx_r3.dragNodeExpandOverArea === ctx_r3.dropOverAreaType.Center && ctx_r3.dragNodeExpandOverNode === node_r16))("id", "a-tree-node-item-draggable-" + node_r16.RetailCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", node_r16.CategoryName, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("matMenuTriggerFor", _r17);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("id", "a-manage-page-" + node_r16.RetailCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](19, 10, "RETAIL_RETAIL_ADMIN.CATEGORIES.EDIT"));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("id", "a-remove-page-" + node_r16.RetailCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](25, 12, "RETAIL_RETAIL_ADMIN.CATEGORIES.DELETE"));
  }
}
class SiteOnlineSetupCategoriesComponent {
  constructor(route, translate, dialog, snackBarService, categoriesService, database) {
    this.route = route;
    this.translate = translate;
    this.dialog = dialog;
    this.snackBarService = snackBarService;
    this.categoriesService = categoriesService;
    this.database = database;
    this.isLoading = false;
    this.showAddCategoryButton = false;
    this.nestedNodeMap = new Map();
    this.getLevel = node => node.Level;
    this.isExpandable = node => node.expandable;
    this.getChildren = node => node.Childs;
    this.flatNodeMap = new Map();
    this.hasChild = (_, _nodeData) => _nodeData.expandable;
    this.dropOverAreaType = _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D;
    // To keep track of expanded nodes
    this.expandedNodeIds = new Set();
    this.dragNodeExpandOverWaitTimeMs = 500;
    this.retailCategoryItemJagged = [];
    this.retailCategoryItem = [];
    this.breadCrumbData = [{
      title: this.translate.instant('RETAIL_RETAIL_ADMIN.SITES_CONFIGS.SITES_TABLE.SETUP'),
      relativeUrl: '../../../'
    }, {
      title: this.translate.instant('RETAIL_RETAIL_ADMIN.SITES_CONFIGS.SITES_TABLE.SITES'),
      relativeUrl: '../../'
    }, {
      title: this.translate.instant('RETAIL_RETAIL_ADMIN.SITES_CONFIGS.SITES_TABLE.ONLINE_SETUP'),
      relativeUrl: '../online-setup'
    }, {
      title: this.translate.instant('RETAIL_RETAIL_ADMIN.CATEGORIES.CATEGORIES'),
      relativeUrl: ''
    }];
    this.transformer = (node, level) => {
      const existingNode = this.nestedNodeMap.get(node);
      const flatNode = existingNode && existingNode.CategoryName === node.CategoryName ? existingNode : new _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.F();
      flatNode.CategoryName = node.CategoryName;
      flatNode.Level = level;
      flatNode.ParentID = node.ParentID;
      flatNode.RetailCategoryID = node.CategoryID;
      // Check if this node has children
      const hasChildren = node.Childs && node.Childs.length > 0;
      flatNode.expandable = hasChildren;
      // Store the mapping for later use
      this.flatNodeMap.set(flatNode, node);
      this.nestedNodeMap.set(node, flatNode);
      return flatNode;
    };
    // Extract siteId from the activated route
    this.siteId$ = this.route.paramMap.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(params => params.get('siteId') || ''));
    this.treeControl = new _angular_cdk_tree__WEBPACK_IMPORTED_MODULE_5__.FlatTreeControl(this.getLevel, this.isExpandable);
    this.treeFlattener = new _angular_material_tree__WEBPACK_IMPORTED_MODULE_6__.MatTreeFlattener(this.transformer, this.getLevel, this.isExpandable, this.getChildren);
    this.dataSource = new _angular_material_tree__WEBPACK_IMPORTED_MODULE_6__.MatTreeFlatDataSource(this.treeControl, this.treeFlattener);
  }
  ngOnInit() {
    this.configureTree();
    this.getCategories();
  }
  configureTree() {
    this.database.dataChange.subscribe(data => {
      this.dataSource.data = data;
    });
  }
  getCategories() {
    this.saveExpandedNodes();
    this.flatNodeMap.clear();
    this.nestedNodeMap.clear();
    this.isLoading = true;
    this.siteId$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.take)(1), (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.switchMap)(siteId => this.categoriesService.Get(siteId)), (0,rxjs__WEBPACK_IMPORTED_MODULE_9__.delay)(200), (0,rxjs__WEBPACK_IMPORTED_MODULE_10__.finalize)(() => {
      this.isLoading = false;
      this.showAddCategoryButton = true;
    })).subscribe({
      next: result => {
        if (result.Categories) {
          this.fixChildrenProperty(result.Categories);
        }
        this.database.initialize(result.Categories);
        this.database.reviseSortOrder();
        this.retailCategoryItemJagged = result.EcommerceCategoriesJagged;
        this.retailCategoryItem = result.Categories;
        this.expandSavedExpandedNodes();
      },
      error: () => {
        this.showErrorMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.LOAD_ERROR');
      }
    });
  }
  findNode(categoryID) {
    let selectedCategory;
    this.flatNodeMap.forEach((value, key) => {
      if (key.RetailCategoryID === categoryID) {
        selectedCategory = key;
      }
    });
    return selectedCategory;
  }
  /**
   * Fix any naming inconsistencies in the children property
   * (Some APIs use 'Childs', others use 'Children')
   */
  fixChildrenProperty(categories) {
    categories.forEach(category => {
      // Check if we need to rename the property
      if (category['Children'] && !category.Childs) {
        category.Childs = category['Children'];
      }
      // Ensure the Childs array is properly initialized
      if (!category.Childs) {
        category.Childs = [];
      }
      // Process children recursively
      if (category.Childs && category.Childs.length > 0) {
        this.fixChildrenProperty(category.Childs);
      }
    });
  }
  // Save expanded nodes before refresh
  saveExpandedNodes() {
    this.expandedNodeIds.clear();
    if (this.treeControl) {
      const expandedNodes = this.treeControl.dataNodes.filter(node => this.treeControl.isExpanded(node));
      expandedNodes.forEach(node => {
        this.expandedNodeIds.add(node.RetailCategoryID);
      });
    }
  }
  expandSavedExpandedNodes() {
    this.expandedNodeIds.forEach(nodeId => {
      this.treeControl.expand(this.findNode(nodeId));
    });
  }
  openCreateCategoryDialog() {
    var _this = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.getCategories();
      const addCategoryDialog = _this.dialog.open(_tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.R, {
        panelClass: ['o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen', 'retail-add-category-dialog'],
        width: '460px',
        data: {
          retailCategoryItemJagged: _this.retailCategoryItemJagged,
          siteId: yield (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.firstValueFrom)(_this.siteId$)
        }
      });
      // Use better observable chaining to avoid nested subscriptions
      addCategoryDialog.afterClosed().subscribe({
        next: result => {
          if (result) {
            _this.showSuccessMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.CATEGORY_SAVED');
            _this.getCategories();
          }
        },
        error: () => {
          _this.showErrorMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.CREATE_ERROR');
        }
      });
    })();
  }
  findCategoryById(items, categoryId) {
    for (const item of items) {
      var _item$Childs;
      if (item.CategoryID === categoryId) {
        return item;
      }
      if ((_item$Childs = item.Childs) !== null && _item$Childs !== void 0 && _item$Childs.length) {
        const found = this.findCategoryById(item.Childs, categoryId);
        if (found) {
          return found;
        }
      }
    }
    return undefined;
  }
  openEditCategoryDialog(node) {
    var _this2 = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      // Validate node
      if (!node || typeof node.RetailCategoryID !== 'number') {
        _this2.showErrorMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.EDIT_ERROR');
        return;
      }
      // Get category data
      const category = _this2.findCategoryById(_this2.retailCategoryItem, node.RetailCategoryID);
      if (!category) {
        _this2.showErrorMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.EDIT_ERROR');
        return;
      }
      // Open dialog
      const editCategoryDialog = _this2.dialog.open(_tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.e, {
        panelClass: ['o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen', 'retail-edit-category-dialog'],
        width: '460px',
        data: {
          retailCategoryItemJagged: _this2.retailCategoryItemJagged.filter(item => item.CategoryID !== category.CategoryID),
          retailCategoryItem: category,
          siteId: yield (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.firstValueFrom)(_this2.siteId$)
        }
      });
      // Use better observable chaining to avoid nested subscriptions
      editCategoryDialog.afterClosed().subscribe({
        next: result => {
          if (result) {
            _this2.showSuccessMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.CATEGORY_SAVED');
            _this2.getCategories();
          }
        },
        error: () => {
          _this2.showErrorMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.EDIT_ERROR');
        }
      });
    })();
  }
  // Helper methods to reduce duplication
  showErrorMessage(messageKey) {
    this.snackBarService.showError(this.translate.instant(messageKey), '', null, 'left');
  }
  showSuccessMessage(messageKey) {
    this.snackBarService.showSuccess(this.translate.instant(messageKey), '', null, 'left', 'bottom');
  }
  openRemoveCategoryDialog(node) {
    // Validate node
    if (!node || typeof node.RetailCategoryID !== 'number') {
      this.showErrorMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.DELETE_ERROR');
      return;
    }
    // Get category data
    const retailCategoryItem = this.findCategoryById(this.retailCategoryItem, node.RetailCategoryID);
    if (!retailCategoryItem) {
      this.showErrorMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.DELETE_ERROR');
      return;
    }
    // Validate category ID
    if (typeof retailCategoryItem.CategoryID !== 'number') {
      this.showErrorMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.DELETE_ERROR');
      return;
    }
    // Open dialog
    const deleteCategoryDialog = this.dialog.open(_tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.f, {
      panelClass: ['o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen', 'retail-delete-category-dialog'],
      width: '460px',
      data: retailCategoryItem
    });
    // Use better observable chaining to avoid nested subscriptions
    deleteCategoryDialog.afterClosed().pipe(
    // Only proceed if confirmed
    (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.filter)(result => !!result),
    // Start loading indicator
    (0,rxjs__WEBPACK_IMPORTED_MODULE_13__.tap)(() => this.isLoading = true),
    // Delete the category
    (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.switchMap)(() => this.categoriesService.Delete(retailCategoryItem.CategoryID)),
    // Ensure loading finishes even if there's an error
    (0,rxjs__WEBPACK_IMPORTED_MODULE_10__.finalize)(() => this.isLoading = false)).subscribe({
      next: () => {
        this.showSuccessMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.CATEGORY_DELETED');
        this.getCategories();
      },
      error: () => {
        this.showErrorMessage('RETAIL_RETAIL_ADMIN.CATEGORIES.DELETE_ERROR');
      }
    });
  }
  handleDragStart(event, node) {
    if (event.dataTransfer) event.dataTransfer.setDragImage(this.emptyItem.nativeElement, 0, 0);
    this.dragNode = node;
    this.treeControl.collapse(node);
    const targetElement = event.target;
    targetElement.classList.add('dragged');
  }
  handleDragOver(event, node) {
    event.preventDefault();
    // Handle node expand
    if (node === this.dragNodeExpandOverNode) {} else {
      this.dragNodeExpandOverNode = node;
      this.dragNodeExpandOverTime = new Date().getTime();
    }
    let isValidToBeBelow = false;
    let currentNode = this.flatNodeMap.get(node);
    let parent = this.database.getParentFromNodes(currentNode);
    if (parent == null) {
      let items = this.database.data;
      isValidToBeBelow = items.indexOf(currentNode) == items.length - 1;
    } else {
      isValidToBeBelow = parent.Childs.indexOf(currentNode) == parent.Childs.length - 1;
    }
    // Handle drag area
    const target = event.currentTarget || event.target;
    let percentageY = event.offsetY / target.clientHeight;
    let centerThreshold = 0.75;
    if (!isValidToBeBelow) centerThreshold = 1.0;
    if (percentageY < 0.25) {
      this.dragNodeExpandOverArea = _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Above;
    } else if (percentageY >= 0.25 && percentageY <= centerThreshold) {
      this.dragNodeExpandOverArea = _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Center;
    } else if (percentageY > 0.75 && percentageY <= 1 && isValidToBeBelow) {
      this.dragNodeExpandOverArea = _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Below;
    } else {
      this.dragNodeExpandOverArea = null;
    }
  }
  /**
   * Validates both drag and target nodes and returns a boolean indicating if they're valid
   */
  validateDragNodes(draggedNode, targetNode) {
    if (!draggedNode || !targetNode) {
      return false;
    }
    const draggedItem = this.flatNodeMap.get(draggedNode);
    const targetItem = this.flatNodeMap.get(targetNode);
    if (!draggedItem || !targetItem) {
      return false;
    }
    // Determine the target parent level for validation
    let targetParentLevel = 0;
    if (this.dragNodeExpandOverArea === _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Above || this.dragNodeExpandOverArea === _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Below) {
      // When dropping above or below, the dragged item becomes a sibling of the target node
      targetParentLevel = targetNode.Level;
    } else if (this.dragNodeExpandOverArea === _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Center) {
      // When dropping in the center, the dragged item becomes a child of the target node
      targetParentLevel = targetNode.Level;
    }
    // Validate if the drop would exceed 4 levels
    if (this.database.wouldExceedMaxLevels(draggedItem, targetParentLevel, 3)) {
      this.snackBarService.showError(this.translate.instant('RETAIL_RETAIL_ADMIN.CATEGORIES.MAX_NESTING_LEVEL_ERROR'), "", null, "left", "bottom");
      return false;
    }
    return true;
  }
  /**
   * Calculate the appropriate parent ID based on drop area and node properties
   */
  calculateParentId(targetNode, dropArea) {
    if (dropArea !== _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Center && !targetNode.ParentID) {
      return null;
    } else if (dropArea !== _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Center && targetNode.ParentID) {
      return targetNode.ParentID;
    } else if (dropArea === _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Center) {
      return targetNode.RetailCategoryID;
    }
    return null;
  }
  /**
   * Calculate the appropriate sort order based on drop area and target node
   */
  calculateSortOrder(targetNode, dropArea) {
    if (dropArea === _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Above || dropArea === _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Below) {
      // Get target's position - same calculation for both above and below
      const targetParent = this.findParentNodeFlat(targetNode);
      // Get all nodes at the same level
      const siblings = this.treeControl.dataNodes.filter(n => {
        if (targetParent) {
          return n.ParentID === targetParent.RetailCategoryID;
        } else {
          return !n.ParentID || n.ParentID === 0;
        }
      });
      // Find target's position among siblings
      const targetIndex = siblings.findIndex(n => n.RetailCategoryID === targetNode.RetailCategoryID);
      return targetIndex + 1; // Convert to 1-based index
    } else {
      // Center - as a child, it will be the first child
      return 1;
    }
  }
  handleDrop(event, node) {
    event.preventDefault();
    event.stopPropagation();
    // Try to recover dragNode if missing
    if (!this.dragNode && event.dataTransfer.getData('text/plain')) {
      const draggedId = parseInt(event.dataTransfer.getData('text/plain'), 10);
      this.dragNode = this.treeControl.dataNodes.find(n => n.RetailCategoryID === draggedId);
    }
    // Exit if no drag node or same node
    if (!this.dragNode || node === this.dragNode) {
      this.resetDragState();
      return;
    }
    this.isLoading = true;
    // Validate nodes before proceeding
    if (!this.validateDragNodes(this.dragNode, node)) {
      this.isLoading = false;
      this.resetDragState();
      return;
    }
    const draggedItem = this.flatNodeMap.get(this.dragNode);
    const targetItem = this.flatNodeMap.get(node);
    const parentId = this.calculateParentId(node, this.dragNodeExpandOverArea);
    const sortOrder = this.calculateSortOrder(node, this.dragNodeExpandOverArea);
    // Update UI tree structure based on drop area
    let newItem;
    if (this.dragNodeExpandOverArea === _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Above) {
      newItem = this.database.copyPasteItemAbove(draggedItem, targetItem);
    } else if (this.dragNodeExpandOverArea === _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.D.Below) {
      newItem = this.database.copyPasteItemBelow(draggedItem, targetItem);
    } else {
      newItem = this.database.copyPasteItem(draggedItem, targetItem);
    }
    this.database.deleteItem(draggedItem);
    // Expand the node if it has children
    const newFlatNode = this.nestedNodeMap.get(newItem);
    if (newFlatNode !== null && newFlatNode !== void 0 && newFlatNode.expandable) {
      this.treeControl.expand(newFlatNode);
    }
    // Update backend
    this.siteId$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.take)(1), (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.switchMap)(siteId => this.categoriesService.SortOrder({
      ECommItemCategoryID: draggedItem.CategoryID,
      DisplayOrder: sortOrder,
      ParentID: parentId,
      InstanceID: siteId
    }))).subscribe({
      next: () => {
        // Success handling
      },
      error: () => {
        this.snackBarService.showError(this.translate.instant('RETAIL_RETAIL_ADMIN.CATEGORIES.SORT_ERROR'), '', null, 'left', 'bottom');
        this.isLoading = false;
      },
      complete: () => {
        this.snackBarService.showSuccess(this.translate.instant('RETAIL_RETAIL_ADMIN.CATEGORIES.CATEGORY_SAVED'), '', null, 'left', 'bottom');
        this.getCategories();
        this.resetDragState();
      }
    });
    this.handleDragEnd(event);
  }
  // Helper method to find parent node for flat nodes
  findParentNodeFlat(node) {
    if (!node.ParentID) {
      return null; // No parent, root level
    }
    // Find node with RetailCategoryID matching ParentID
    return this.treeControl.dataNodes.find(n => n.RetailCategoryID === node.ParentID) || null;
  }
  findParentNode(node) {
    const nodes = this.treeControl.dataNodes;
    const nodeLevel = node.Level;
    for (let i = nodes.indexOf(node) - 1; i >= 0; i--) {
      if (nodes[i].Level < nodeLevel) {
        return nodes[i];
      }
    }
    return null;
  }
  handleDragEnd(event) {
    const targetElement = event.target;
    targetElement.classList.remove('dragged');
    if (event.dataTransfer.dropEffect == "none") this.resetDragState();
  }
  resetDragState() {
    this.dragNode = null;
    this.dragNodeExpandOverNode = null;
    this.dragNodeExpandOverTime = 0;
    this.dragNodeExpandOverArea = null;
  }
  trackById(index, node) {
    return node.RetailCategoryID;
  }
}
SiteOnlineSetupCategoriesComponent.ɵfac = function SiteOnlineSetupCategoriesComponent_Factory(t) {
  return new (t || SiteOnlineSetupCategoriesComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_14__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_16__.MatLegacyDialog), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_17__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"]('IRetailCategoriesService'), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"]('Database'));
};
SiteOnlineSetupCategoriesComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({
  type: SiteOnlineSetupCategoriesComponent,
  selectors: [["tei-retail-admin-site-online-setup-categories"]],
  viewQuery: function SiteOnlineSetupCategoriesComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵviewQuery"](_c0, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵloadQuery"]()) && (ctx.emptyItem = _t.first);
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵProvidersFeature"]([{
    provide: 'IRetailCategoriesService',
    useClass: _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.g
  }, {
    provide: 'Database',
    useClass: _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.T
  }])],
  decls: 22,
  vars: 9,
  consts: [[1, "container-shell"], [1, "overflow-hidden", "mb-3"], [1, "row"], [1, "col-md-12"], [1, "m-breadcrumb"], [3, "breadCrumbData", 4, "ngIf"], [1, "p-category-container"], [1, "d-flex", "justify-content-between", "align-items-center", "mb-2"], [1, "a-text-h3"], [1, ""], ["mat-raised-button", "", "type", "button", "color", "primary", "class", "", 3, "click", 4, "ngIf"], [1, "o-card"], [1, "d-flex", "flex-wrap", "o-tree-page-list"], [1, "o-card", "outline", "mat-tree", "p-0", "w-100", 3, "dataSource", "treeControl"], ["matTreeNodeToggle", "", "matTreeNodePadding", "", 4, "matTreeNodeDef"], ["matTreeNodePadding", "", 4, "matTreeNodeDef", "matTreeNodeDefWhen"], ["emptyItem", ""], [3, "show"], [3, "breadCrumbData"], ["mat-raised-button", "", "type", "button", "color", "primary", 1, "", 3, "click"], ["matTreeNodeToggle", "", "matTreeNodePadding", ""], ["type", "button", "mat-icon-button", "", "disabled", "", "matTreeNodeToggle", "", 1, "a-tree-node-item-expand-toggle", 3, "id"], [1, "mat-icon-rtl-mirror"], ["draggable", "true", 1, "a-tree-node-draggable", 3, "ngClass", "id", "dragstart", "dragover", "dragend", "drop"], [1, "checklist-leaf-node", "d-flex", "align-items-center"], [1, "a-text-primary", "nodeContent"], ["mat-icon-button", "", "type", "button", 1, "a-more-button", 3, "matMenuTriggerFor"], ["catnodeemenu", "matMenu"], ["mat-menu-item", "", "type", "button", 1, "a-manage-page", 3, "id", "click"], ["mat-menu-item", "", "type", "button", 1, "a-remove-page", 3, "id", "click"], ["matTreeNodePadding", ""], ["type", "button", "mat-icon-button", "", "matTreeNodeToggle", "", 1, "a-tree-node-item-expand-toggle", 3, "id"], ["catleafemenu", "matMenu"], [1, "a-text-label"]],
  template: function SiteOnlineSetupCategoriesComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "tei-retail-retail-admin-right-side-action-bar-page-template")(1, "div", 0)(2, "div", 1)(3, "div", 2)(4, "div", 3)(5, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](6, SiteOnlineSetupCategoriesComponent_tei_material_bread_crumb_6_Template, 1, 1, "tei-material-bread-crumb", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "div", 6)(8, "div", 7)(9, "div", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](10);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](11, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](12, "div", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](13, SiteOnlineSetupCategoriesComponent_button_13_Template, 3, 3, "button", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](14, "mat-card", 11)(15, "div", 12)(16, "mat-tree", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](17, SiteOnlineSetupCategoriesComponent_mat_tree_node_17_Template, 25, 17, "mat-tree-node", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](18, SiteOnlineSetupCategoriesComponent_mat_tree_node_18_Template, 26, 18, "mat-tree-node", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](19, "span", null, 16);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](21, "tei-loading", 17);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.breadCrumbData.length);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](11, 7, "RETAIL_RETAIL_ADMIN.CATEGORIES.CATEGORIES"));
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.showAddCategoryButton);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("dataSource", ctx.dataSource)("treeControl", ctx.treeControl);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("matTreeNodeDefWhen", ctx.hasChild);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("show", ctx.isLoading);
    }
  },
  dependencies: [_angular_material_tree__WEBPACK_IMPORTED_MODULE_6__.MatTreeNodeDef, _angular_material_tree__WEBPACK_IMPORTED_MODULE_6__.MatTreeNodePadding, _angular_material_tree__WEBPACK_IMPORTED_MODULE_6__.MatTreeNodeToggle, _angular_material_tree__WEBPACK_IMPORTED_MODULE_6__.MatTree, _angular_material_tree__WEBPACK_IMPORTED_MODULE_6__.MatTreeNode, _angular_material_icon__WEBPACK_IMPORTED_MODULE_18__.MatIcon, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_19__.MatLegacyButton, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_20__.MatLegacyLabel, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_21__.MatLegacyCard, _angular_material_legacy_menu__WEBPACK_IMPORTED_MODULE_22__.MatLegacyMenu, _angular_material_legacy_menu__WEBPACK_IMPORTED_MODULE_22__.MatLegacyMenuItem, _angular_material_legacy_menu__WEBPACK_IMPORTED_MODULE_22__.MatLegacyMenuTrigger, _angular_common__WEBPACK_IMPORTED_MODULE_23__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_23__.NgIf, _tei_material__WEBPACK_IMPORTED_MODULE_17__.LoadingComponent, _tei_material__WEBPACK_IMPORTED_MODULE_17__.BreadCrumbComponent, _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.h, _tei_core_translate__WEBPACK_IMPORTED_MODULE_24__.TeiTextTranslatePipe],
  styles: [".a-primary-toggle-group[_ngcontent-%COMP%], .a-new-page[_ngcontent-%COMP%]{height:35px;line-height:25px}.a-primary-toggle-group[_ngcontent-%COMP%]     .mat-button-toggle-label-content, .a-new-page[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:35px}.a-primary-toggle-group[_ngcontent-%COMP%]     .mat-button-toggle, .a-new-page[_ngcontent-%COMP%]     .mat-button-toggle{color:#028eb5}.a-primary-toggle-group[_ngcontent-%COMP%]     .mat-button-toggle-checked, .a-new-page[_ngcontent-%COMP%]     .mat-button-toggle-checked{background-color:#028eb5;color:#fff}.a-primary-toggle-group[_ngcontent-%COMP%]     .mat-button-toggle-checked .mat-button-toggle-label-content, .a-new-page[_ngcontent-%COMP%]     .mat-button-toggle-checked .mat-button-toggle-label-content{color:#fff}.mat-tree-node[_ngcontent-%COMP%]{cursor:move}.mat-tree-node[_ngcontent-%COMP%]:hover{background-color:#00000014}.px-title[_ngcontent-%COMP%]{position:absolute;bottom:35px}.nb-theme-material-light[_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%]   .mat-tree[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%]   .mat-tree[_ngcontent-%COMP%]{background-color:#fff}.nb-theme-material-light[_nghost-%COMP%]   .a-tree-node-item-drop-above[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .a-tree-node-item-drop-above[_ngcontent-%COMP%]{border-top:5px solid #dddddd;margin-top:-5px}.nb-theme-material-light[_nghost-%COMP%]   .a-tree-node-item-drop-below[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .a-tree-node-item-drop-below[_ngcontent-%COMP%]{border-bottom:5px solid #dddddd;margin-bottom:-5px}.nb-theme-material-light[_nghost-%COMP%]   .a-tree-node-item-drop-center[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .a-tree-node-item-drop-center[_ngcontent-%COMP%]{background-color:#ddd}.nb-theme-material-dark[_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%]   .mat-tree[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%]   .mat-tree[_ngcontent-%COMP%]{background-color:#303030}.nb-theme-material-dark[_nghost-%COMP%]   .a-tree-node-item-drop-above[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .a-tree-node-item-drop-above[_ngcontent-%COMP%]{border-top:5px solid #555555;margin-top:-5px}.nb-theme-material-dark[_nghost-%COMP%]   .a-tree-node-item-drop-below[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .a-tree-node-item-drop-below[_ngcontent-%COMP%]{border-bottom:5px solid #555555;margin-bottom:-5px}.nb-theme-material-dark[_nghost-%COMP%]   .a-tree-node-item-drop-center[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .a-tree-node-item-drop-center[_ngcontent-%COMP%]{background-color:#555}@media only screen and (max-width: 600px){.px-container[_ngcontent-%COMP%]{height:80px}.tablet-px[_ngcontent-%COMP%]{margin-top:20px}.px-title[_ngcontent-%COMP%]{position:unset}}.w-90[_ngcontent-%COMP%]{width:90%}.dragged[_ngcontent-%COMP%]{transform:scale(.95)}.a-tree-node-draggable[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:-1;position:relative;height:48px;display:flex;align-items:center}.a-tree-node-draggable[_ngcontent-%COMP%]{z-index:1;transition:transform .2s ease-in-out;display:flex;align-items:center;flex:1;word-wrap:break-word}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](SiteOnlineSetupCategoriesComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.Component,
    args: [{
      selector: 'tei-retail-admin-site-online-setup-categories',
      providers: [{
        provide: 'IRetailCategoriesService',
        useClass: _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.g
      }, {
        provide: 'Database',
        useClass: _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.T
      }],
      template: "<tei-retail-retail-admin-right-side-action-bar-page-template>\r\n  <div class=\"container-shell\">\r\n    <div class=\"overflow-hidden mb-3\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"m-breadcrumb\">\r\n            <tei-material-bread-crumb *ngIf=\"breadCrumbData.length\" [breadCrumbData]=\"breadCrumbData\">\r\n            </tei-material-bread-crumb>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"p-category-container\">\r\n        <div class=\"d-flex justify-content-between align-items-center mb-2\">\r\n          <div class=\"a-text-h3\">{{'RETAIL_RETAIL_ADMIN.CATEGORIES.CATEGORIES' | teiTextTranslate}}</div>\r\n          <div class=\"\">\r\n            <button *ngIf=\"showAddCategoryButton\" mat-raised-button type=\"button\" color=\"primary\" class=\"\"\r\n              (click)=\"openCreateCategoryDialog()\">{{'RETAIL_RETAIL_ADMIN.CATEGORIES.ADD_CATEGORY' |\r\n              teiTextTranslate}}</button>\r\n          </div>\r\n        </div>\r\n\r\n        <mat-card class=\"o-card\">\r\n          <div class=\"d-flex flex-wrap o-tree-page-list\">\r\n            <mat-tree class=\"o-card outline mat-tree p-0 w-100\" [dataSource]=\"dataSource\" [treeControl]=\"treeControl\">\r\n              <!-- Leaf node without children -->\r\n              <mat-tree-node *matTreeNodeDef=\"let node\" matTreeNodeToggle matTreeNodePadding>\r\n                <button type=\"button\" mat-icon-button disabled matTreeNodeToggle class=\"a-tree-node-item-expand-toggle\"\r\n                  [id]=\"'a-tree-node-item-expand-toggle-'+node.RetailCategoryID\">\r\n                  <mat-icon class=\"mat-icon-rtl-mirror\">\r\n                  </mat-icon>\r\n                </button>\r\n                <div class=\"a-tree-node-draggable\" draggable=\"true\"\r\n                  [ngClass]=\"{'a-tree-node-item-drop-above': dragNodeExpandOverArea === dropOverAreaType.Above && dragNodeExpandOverNode === node,\r\n                                                    'a-tree-node-item-drop-below': dragNodeExpandOverArea === dropOverAreaType.Below && dragNodeExpandOverNode === node,\r\n                                                    'a-tree-node-item-drop-center': dragNodeExpandOverArea === dropOverAreaType.Center && dragNodeExpandOverNode === node}\"\r\n                  (dragstart)=\"handleDragStart($event, node);\" (dragover)=\"handleDragOver($event, node);\"\r\n                  (dragend)=\"handleDragEnd($event)\" (drop)=\"handleDrop($event, node);\"\r\n                  [id]=\"'a-tree-node-item-draggable-'+ node.RetailCategoryID\">\r\n                  <span class=\"checklist-leaf-node d-flex align-items-center\">\r\n                    <span class=\"a-text-primary nodeContent\">\r\n                      {{node.CategoryName}}\r\n                    </span>\r\n                  </span>\r\n                </div>\r\n                <div class=\"\">\r\n                  <button class=\"a-more-button\" mat-icon-button [matMenuTriggerFor]=\"catnodeemenu\" type=\"button\">\r\n                    <mat-icon>more_vert</mat-icon>\r\n                  </button>\r\n                  <mat-menu #catnodeemenu=\"matMenu\">\r\n                    <button mat-menu-item type=\"button\" class=\"a-manage-page\"\r\n                      [id]=\"'a-manage-page-'+ node.RetailCategoryID\" (click)=\"openEditCategoryDialog(node)\">\r\n                      <mat-icon>create</mat-icon>\r\n                      <span>{{'RETAIL_RETAIL_ADMIN.CATEGORIES.EDIT' | teiTextTranslate}}</span>\r\n                    </button>\r\n                    <button mat-menu-item type=\"button\" class=\"a-remove-page\"\r\n                      [id]=\"'a-remove-page-'+ node.RetailCategoryID\" (click)=\"openRemoveCategoryDialog(node)\">\r\n                      <mat-icon>delete_forever</mat-icon>\r\n                      <span>{{'RETAIL_RETAIL_ADMIN.CATEGORIES.DELETE' | teiTextTranslate}}</span>\r\n                    </button>\r\n                  </mat-menu>\r\n                </div>\r\n              </mat-tree-node>\r\n\r\n              <!-- Node with children -->\r\n              <mat-tree-node *matTreeNodeDef=\"let node; when: hasChild\" matTreeNodePadding>\r\n                <button type=\"button\" mat-icon-button matTreeNodeToggle class=\"a-tree-node-item-expand-toggle\"\r\n                  [id]=\"'a-tree-node-item-expand-toggle-'+ node.RetailCategoryID\">\r\n                  <mat-icon class=\"mat-icon-rtl-mirror\">\r\n                    {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}\r\n                  </mat-icon>\r\n                </button>\r\n                <div class=\"a-tree-node-draggable\" draggable=\"true\" (dragstart)=\"handleDragStart($event, node);\"\r\n                  (dragover)=\"handleDragOver($event, node);\" (dragend)=\"handleDragEnd($event)\"\r\n                  (drop)=\"handleDrop($event, node);\"\r\n                  [ngClass]=\"{'a-tree-node-item-drop-above': dragNodeExpandOverArea === dropOverAreaType.Above && dragNodeExpandOverNode === node,\r\n                                                    'a-tree-node-item-drop-below': dragNodeExpandOverArea === dropOverAreaType.Below && dragNodeExpandOverNode === node,\r\n                                                    'a-tree-node-item-drop-center': dragNodeExpandOverArea === dropOverAreaType.Center && dragNodeExpandOverNode === node}\"\r\n                  [id]=\"'a-tree-node-item-draggable-'+node.RetailCategoryID\">\r\n                  <span class=\"checklist-leaf-node d-flex align-items-center\">\r\n                    <span class=\"a-text-primary nodeContent\">\r\n                      {{node.CategoryName}}\r\n                    </span>\r\n                  </span>\r\n                </div>\r\n                <div class=\"\">\r\n                  <button mat-icon-button class=\"a-more-button\" [matMenuTriggerFor]=\"catleafemenu\" type=\"button\">\r\n                    <mat-icon>more_vert</mat-icon>\r\n                  </button>\r\n                  <mat-menu #catleafemenu=\"matMenu\">\r\n                    <button mat-menu-item type=\"button\" class=\"a-manage-page\"\r\n                      [id]=\"'a-manage-page-'+ node.RetailCategoryID\" (click)=\"openEditCategoryDialog(node)\">\r\n                      <mat-icon>create</mat-icon>\r\n                      <mat-label class=\"a-text-label\">{{'RETAIL_RETAIL_ADMIN.CATEGORIES.EDIT' |\r\n                        teiTextTranslate}}</mat-label>\r\n                    </button>\r\n                    <button mat-menu-item type=\"button\" class=\"a-remove-page\"\r\n                      [id]=\"'a-remove-page-'+ node.RetailCategoryID\" (click)=\"openRemoveCategoryDialog(node)\">\r\n                      <mat-icon>delete_forever</mat-icon>\r\n                      <mat-label class=\"a-text-label\">{{'RETAIL_RETAIL_ADMIN.CATEGORIES.DELETE' |\r\n                        teiTextTranslate}}</mat-label>\r\n                    </button>\r\n                  </mat-menu>\r\n                </div>\r\n              </mat-tree-node>\r\n            </mat-tree>\r\n            <span #emptyItem></span>\r\n          </div>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</tei-retail-retail-admin-right-side-action-bar-page-template>\r\n<tei-loading [show]=\"isLoading\"></tei-loading>",
      styles: [".a-primary-toggle-group,.a-new-page{height:35px;line-height:25px}.a-primary-toggle-group ::ng-deep .mat-button-toggle-label-content,.a-new-page ::ng-deep .mat-button-toggle-label-content{line-height:35px}.a-primary-toggle-group ::ng-deep .mat-button-toggle,.a-new-page ::ng-deep .mat-button-toggle{color:#028eb5}.a-primary-toggle-group ::ng-deep .mat-button-toggle-checked,.a-new-page ::ng-deep .mat-button-toggle-checked{background-color:#028eb5;color:#fff}.a-primary-toggle-group ::ng-deep .mat-button-toggle-checked .mat-button-toggle-label-content,.a-new-page ::ng-deep .mat-button-toggle-checked .mat-button-toggle-label-content{color:#fff}.mat-tree-node{cursor:move}.mat-tree-node:hover{background-color:#00000014}.px-title{position:absolute;bottom:35px}:host-context(.nb-theme-material-light) .o-tree-page-list .mat-tree{background-color:#fff}:host-context(.nb-theme-material-light) .a-tree-node-item-drop-above{border-top:5px solid #dddddd;margin-top:-5px}:host-context(.nb-theme-material-light) .a-tree-node-item-drop-below{border-bottom:5px solid #dddddd;margin-bottom:-5px}:host-context(.nb-theme-material-light) .a-tree-node-item-drop-center{background-color:#ddd}:host-context(.nb-theme-material-dark) .o-tree-page-list .mat-tree{background-color:#303030}:host-context(.nb-theme-material-dark) .a-tree-node-item-drop-above{border-top:5px solid #555555;margin-top:-5px}:host-context(.nb-theme-material-dark) .a-tree-node-item-drop-below{border-bottom:5px solid #555555;margin-bottom:-5px}:host-context(.nb-theme-material-dark) .a-tree-node-item-drop-center{background-color:#555}@media only screen and (max-width: 600px){.px-container{height:80px}.tablet-px{margin-top:20px}.px-title{position:unset}}.w-90{width:90%}.dragged{transform:scale(.95)}.a-tree-node-draggable>*{z-index:-1;position:relative;height:48px;display:flex;align-items:center}.a-tree-node-draggable{z-index:1;transition:transform .2s ease-in-out;display:flex;align-items:center;flex:1;word-wrap:break-word}\n"]
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_14__.ActivatedRoute
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_15__.TranslateService
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_16__.MatLegacyDialog
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_17__.SnackBarService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.Inject,
        args: ['IRetailCategoriesService']
      }]
    }, {
      type: _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.T,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.Inject,
        args: ['Database']
      }]
    }];
  }, {
    emptyItem: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.ViewChild,
      args: ['emptyItem']
    }]
  });
})();
const routes = [{
  path: '',
  component: SiteOnlineSetupCategoriesComponent
}];
const COMMON_MODULES = [_angular_common__WEBPACK_IMPORTED_MODULE_23__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_25__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_25__.ReactiveFormsModule, _angular_router__WEBPACK_IMPORTED_MODULE_14__.RouterModule];
const COMPONENT = [SiteOnlineSetupCategoriesComponent];
const CORE_MODULES = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_24__.TeiTextTranslatePipeModule];
const MATERIAL_MODULES = [_angular_material_tree__WEBPACK_IMPORTED_MODULE_6__.MatTreeModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_18__.MatIconModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_16__.MatLegacyDialogModule, _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_26__.DragDropModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_19__.MatLegacyButtonModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_20__.MatLegacyFormFieldModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_27__.MatLegacySelectModule, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_21__.MatLegacyCardModule, _angular_material_legacy_menu__WEBPACK_IMPORTED_MODULE_22__.MatLegacyMenuModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_28__.MatLegacyInputModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_29__.MatDividerModule, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_30__.MatLegacyOptionModule];
const TEI_MATERIAL_MODULES = [_tei_material__WEBPACK_IMPORTED_MODULE_17__.LoadingModule, _tei_material__WEBPACK_IMPORTED_MODULE_17__.BreadCrumbModule];
const TEI_RETAIL_ADMIN_MODULES = [_tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.i, _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.j, _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.k, _tei_retail_admin_tei_retail_admin_d7678e61_mjs__WEBPACK_IMPORTED_MODULE_3__.l];
class SiteOnlineSetupCategoriesModule {}
SiteOnlineSetupCategoriesModule.ɵfac = function SiteOnlineSetupCategoriesModule_Factory(t) {
  return new (t || SiteOnlineSetupCategoriesModule)();
};
SiteOnlineSetupCategoriesModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineNgModule"]({
  type: SiteOnlineSetupCategoriesModule
});
SiteOnlineSetupCategoriesModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjector"]({
  imports: [MATERIAL_MODULES, TEI_MATERIAL_MODULES, CORE_MODULES, COMMON_MODULES, TEI_RETAIL_ADMIN_MODULES, _angular_router__WEBPACK_IMPORTED_MODULE_14__.RouterModule.forChild(routes)]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](SiteOnlineSetupCategoriesModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule,
    args: [{
      declarations: [...COMPONENT],
      imports: [...MATERIAL_MODULES, ...TEI_MATERIAL_MODULES, ...CORE_MODULES, ...COMMON_MODULES, ...TEI_RETAIL_ADMIN_MODULES, _angular_router__WEBPACK_IMPORTED_MODULE_14__.RouterModule.forChild(routes)],
      exports: [...COMPONENT]
    }]
  }], null, null);
})();


/***/ })

}]);
//# sourceMappingURL=node_modules_tei_retail-admin_fesm2020_tei-retail-admin-site-online-setup-categories_module-1-d44142.js.map