{"version":3,"file":"main.js","mappings":"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,MAAM,CAAC,CAAC7B,WAAW,CAACkhE,OAAO,CAAC;AACrD;AAEAZ,6EAAyB,CAAC;EACxBa,MAAM,EAAEZ,oEAAqB;EAC7BxhF,IAAI,EAAE,CACJ,OAAO;CAEV,CAAC,CAACwG,IAAI,CAAC,MAAK;EAEX87E,sEAAA,EAAwB,CACrBE,eAAe,CAACpC,sDAAS,CAAC,CAC1BnpD,KAAK,CAACrsB,GAAG,IAAI6E,OAAO,CAACsJ,GAAG,CAACnO,GAAG,CAAC,CAAC;AACnC,CAAC,CAAC;;;;;;;;;;ACzEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACvSA;;;;;;;;;;ACAA;;;;;;;;;;ACAA","sources":["./projects/app-core-lib/src/index.ts","./projects/app-core-lib/src/lib/@core/app-core-lib.module.ts","./projects/app-core-lib/src/lib/@core/authentication/@intermediate/models/get-authentication-settings.model.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/add-token.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/auth.gaurd.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/auth.oauth2-token.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/auth.service.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/authentication-settings.provider.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/authentication-settings.service.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/check-profile-status.guard.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/check-profile-status.service.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/error.interceptor.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/password-less-strategy.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/password-strategy-options.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/password-strategy.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/token-storage.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/token.interceptor.ts","./projects/app-core-lib/src/lib/@core/authentication/@services/unauthorized.user.service.ts","./projects/app-core-lib/src/lib/@core/authentication/authentication.module.ts","./projects/app-core-lib/src/lib/@core/data/users.ts","./projects/app-core-lib/src/lib/@core/environments/environment.mobile.ts","./projects/app-core-lib/src/lib/@core/environments/pwa-config.ts","./projects/app-core-lib/src/lib/@core/intermediate/models/get-locate-tenant.model.ts","./projects/app-core-lib/src/lib/@core/intermediate/models/initiator-data.model.ts","./projects/app-core-lib/src/lib/@core/mock/mock-data.module.ts","./projects/app-core-lib/src/lib/@core/mock/users.service.ts","./projects/app-core-lib/src/lib/@core/module-import-guard.ts","./projects/app-core-lib/src/lib/@core/services/locate-tenant.service.ts","./projects/app-core-lib/src/lib/@core/services/messaging-client.service.ts","./projects/app-core-lib/src/lib/@core/services/redirection-local-storage.service.ts","./projects/app-core-lib/src/lib/@core/services/referer-local-storage.service.ts","./projects/app-core-lib/src/lib/@core/services/routing-management.service.ts","./projects/app-core-lib/src/lib/@core/services/tenant-redirect.service.ts","./projects/app-core-lib/src/lib/@core/utils/analytics.service.ts","./projects/app-core-lib/src/lib/@core/utils/index.ts","./projects/app-core-lib/src/lib/@core/utils/layout.service.ts","./projects/app-core-lib/src/lib/@intermediate/models/app.model.ts","./projects/app-core-lib/src/lib/@intermediate/models/report-notification.model.ts","./projects/app-core-lib/src/lib/@services/app.service.ts","./projects/app-core-lib/src/lib/@services/bus-bridge.service.ts","./projects/app-core-lib/src/lib/@services/global-settings.provider.ts","./projects/app-core-lib/src/lib/@services/web-dynamic-page.service.ts","./projects/app-core-lib/src/lib/@services/web-dynamic-routing.service.ts","./projects/app-core-lib/src/lib/@services/web-worker.service.ts","./projects/app-core-lib/src/lib/@theme/@intermediate/models/delete-user-profile-picture.model.ts","./projects/app-core-lib/src/lib/@theme/@intermediate/models/get-header.model.ts","./projects/app-core-lib/src/lib/@theme/@intermediate/models/get-sidebar-header.model.ts","./projects/app-core-lib/src/lib/@theme/@intermediate/models/get-user-preference.model.ts","./projects/app-core-lib/src/lib/@theme/@intermediate/models/post-user-preference.model.ts","./projects/app-core-lib/src/lib/@theme/@intermediate/pages-menu.ts","./projects/app-core-lib/src/lib/@theme/@services/header-store.service.ts","./projects/app-core-lib/src/lib/@theme/@services/header.service.ts","./projects/app-core-lib/src/lib/@theme/@services/load-header.service.ts","./projects/app-core-lib/src/lib/@theme/@services/profile-settings.service.ts","./projects/app-core-lib/src/lib/@theme/@services/sidebar-header.service.ts","./projects/app-core-lib/src/lib/@theme/@services/startup-routing.service.ts","./projects/app-core-lib/src/lib/@theme/@services/user-preference.service.ts","./projects/app-core-lib/src/lib/@theme/@services/user-profile-picture.service.ts","./projects/app-core-lib/src/lib/@theme/components/dialog-content/dialog-content.component.ts","./projects/app-core-lib/src/lib/@theme/components/dialog-content/dialog-content.component.html","./projects/app-core-lib/src/lib/@theme/components/footer/footer.component.ts","./projects/app-core-lib/src/lib/@theme/components/header/admin-panel-setting/admin-panel-setting.component.ts","./projects/app-core-lib/src/lib/@theme/components/header/admin-panel-setting/admin-panel-setting.component.html","./projects/app-core-lib/src/lib/@theme/components/header/admin-panel-setting/admin-panel-setting.module.ts","./projects/app-core-lib/src/lib/@theme/components/header/header.component.ts","./projects/app-core-lib/src/lib/@theme/components/header/header.component.html","./projects/app-core-lib/src/lib/@theme/components/header/light-header/light-header.component.ts","./projects/app-core-lib/src/lib/@theme/components/header/light-header/light-header.component.html","./projects/app-core-lib/src/lib/@theme/components/header/profile-settings/profile-settings.component.ts","./projects/app-core-lib/src/lib/@theme/components/header/profile-settings/profile-settings.component.html","./projects/app-core-lib/src/lib/@theme/components/header/profile-settings/profile-settings.module.ts","./projects/app-core-lib/src/lib/@theme/components/header/profile-settings/user-preference/user-preference.component.ts","./projects/app-core-lib/src/lib/@theme/components/header/profile-settings/user-preference/user-preference.component.html","./projects/app-core-lib/src/lib/@theme/components/header/unauthorized-user-menu/unauthorized-user-menu.component.ts","./projects/app-core-lib/src/lib/@theme/components/header/unauthorized-user-menu/unauthorized-user-menu.component.html","./projects/app-core-lib/src/lib/@theme/components/header/unauthorized-user-menu/unauthorized-user-menu.module.ts","./projects/app-core-lib/src/lib/@theme/components/index.ts","./projects/app-core-lib/src/lib/@theme/components/layout-direction-switcher/layout-direction-switcher.component.ts","./projects/app-core-lib/src/lib/@theme/components/search-input/search-input.component.ts","./projects/app-core-lib/src/lib/@theme/components/sidebar-footer/sidebar-footer.component.ts","./projects/app-core-lib/src/lib/@theme/components/sidebar-footer/sidebar-footer.component.html","./projects/app-core-lib/src/lib/@theme/components/sidebar-header/sidebar-header.component.ts","./projects/app-core-lib/src/lib/@theme/components/sidebar-header/sidebar-header.component.html","./projects/app-core-lib/src/lib/@theme/components/sidebar/sidebar.component.ts","./projects/app-core-lib/src/lib/@theme/components/sidebar/sidebar.component.html","./projects/app-core-lib/src/lib/@theme/components/switcher/switcher.component.ts","./projects/app-core-lib/src/lib/@theme/components/top-menu/top-menu.component.ts","./projects/app-core-lib/src/lib/@theme/components/top-menu/top-menu.component.html","./projects/app-core-lib/src/lib/@theme/layouts/index.ts","./projects/app-core-lib/src/lib/@theme/layouts/menu-free/menu-free.layout.ts","./projects/app-core-lib/src/lib/@theme/layouts/menu-free/menu-free.layout.html","./projects/app-core-lib/src/lib/@theme/layouts/one-column-custom-sidebar-with-header/one-column-custom-sidebar-with-header.layout.ts","./projects/app-core-lib/src/lib/@theme/layouts/one-column-custom-sidebar-with-header/one-column-custom-sidebar-with-header.layout.html","./projects/app-core-lib/src/lib/@theme/layouts/one-column-without-sidebar-with-header/one-column-without-sidebar-with-header.layout.ts","./projects/app-core-lib/src/lib/@theme/layouts/one-column-without-sidebar-with-header/one-column-without-sidebar-with-header.layout.html","./projects/app-core-lib/src/lib/@theme/layouts/one-column-without-sidebar/one-column-without-sidebar.layout.ts","./projects/app-core-lib/src/lib/@theme/layouts/one-column-without-sidebar/one-column-without-sidebar.layout.html","./projects/app-core-lib/src/lib/@theme/layouts/one-column/one-column.layout.ts","./projects/app-core-lib/src/lib/@theme/layouts/one-column/one-column.layout.html","./projects/app-core-lib/src/lib/@theme/layouts/pages-staging/pages-staging.layout.ts","./projects/app-core-lib/src/lib/@theme/layouts/pages-staging/pages-staging.layout.html","./projects/app-core-lib/src/lib/@theme/layouts/three-columns/three-columns.layout.ts","./projects/app-core-lib/src/lib/@theme/layouts/two-columns/two-columns.layout.ts","./projects/app-core-lib/src/lib/@theme/styles/material/custom-icons.ts","./projects/app-core-lib/src/lib/@theme/styles/material/theme.material-dark.ts","./projects/app-core-lib/src/lib/@theme/styles/material/theme.material-light.ts","./projects/app-core-lib/src/lib/@theme/styles/theme.dark.ts","./projects/app-core-lib/src/lib/@theme/styles/theme.default.ts","./projects/app-core-lib/src/lib/@theme/theme.module.ts","./projects/app-core-lib/src/lib/app-translate.factory.ts","./projects/app-core-lib/src/lib/auth/@intermediate/models/get-finalize-authentication.model.ts","./projects/app-core-lib/src/lib/auth/@intermediate/models/get-handle-impersonation.model.ts","./projects/app-core-lib/src/lib/auth/@intermediate/models/get-handle-redirection.model.ts","./projects/app-core-lib/src/lib/auth/@intermediate/models/get-landing.model.ts","./projects/app-core-lib/src/lib/auth/@intermediate/models/get-user-complete-profile.model.ts","./projects/app-core-lib/src/lib/auth/@intermediate/models/post-finalize-authentication.model.ts","./projects/app-core-lib/src/lib/auth/@services/activation.service.ts","./projects/app-core-lib/src/lib/auth/@services/complete-profile.service.ts","./projects/app-core-lib/src/lib/auth/@services/finalize-authentication.service.ts","./projects/app-core-lib/src/lib/auth/@services/handle-redirection-helper.service.ts","./projects/app-core-lib/src/lib/auth/@services/handle-redirection.service.ts","./projects/app-core-lib/src/lib/auth/@services/landing.service.ts","./projects/app-core-lib/src/lib/auth/@services/o-auth.service.ts","./projects/app-core-lib/src/lib/auth/@services/user-complete-profile.service.ts","./projects/app-core-lib/src/lib/auth/auth-routing.module.ts","./projects/app-core-lib/src/lib/auth/auth.component.ts","./projects/app-core-lib/src/lib/auth/auth.component.html","./projects/app-core-lib/src/lib/auth/auth.module.ts","./projects/app-core-lib/src/lib/auth/components/change-password/change-password.component.ts","./projects/app-core-lib/src/lib/auth/components/change-password/change-password.component.html","./projects/app-core-lib/src/lib/auth/components/change-password/change-password.module.ts","./projects/app-core-lib/src/lib/auth/components/complete-profile/complete-profile.component.ts","./projects/app-core-lib/src/lib/auth/components/complete-profile/complete-profile.component.html","./projects/app-core-lib/src/lib/auth/components/complete-profile/complete-profile.module.ts","./projects/app-core-lib/src/lib/auth/components/error/error.component.ts","./projects/app-core-lib/src/lib/auth/components/error/error.component.html","./projects/app-core-lib/src/lib/auth/components/finalize-authentication/finalize-authentication.component.ts","./projects/app-core-lib/src/lib/auth/components/finalize-authentication/finalize-authentication.component.html","./projects/app-core-lib/src/lib/auth/components/finalize-authentication/finalize-authentication.module.ts","./projects/app-core-lib/src/lib/auth/components/grant-activation/grant-activation.component.ts","./projects/app-core-lib/src/lib/auth/components/grant-activation/grant-activation.component.html","./projects/app-core-lib/src/lib/auth/components/grant-activation/grant-activation.module.ts","./projects/app-core-lib/src/lib/auth/components/handle-redirection/handle-authentication.module.ts","./projects/app-core-lib/src/lib/auth/components/handle-redirection/handle-redirection.component.ts","./projects/app-core-lib/src/lib/auth/components/handle-redirection/handle-redirection.component.html","./projects/app-core-lib/src/lib/auth/components/landing/landing.component.ts","./projects/app-core-lib/src/lib/auth/components/landing/landing.component.html","./projects/app-core-lib/src/lib/auth/components/landing/landing.module.ts","./projects/app-core-lib/src/lib/auth/components/login/login.component.ts","./projects/app-core-lib/src/lib/auth/components/login/login.component.html","./projects/app-core-lib/src/lib/auth/components/login/login.module.ts","./projects/app-core-lib/src/lib/auth/components/logout/logout.component.ts","./projects/app-core-lib/src/lib/auth/components/logout/logout.component.html","./projects/app-core-lib/src/lib/auth/components/logout/logout.module.ts","./projects/app-core-lib/src/lib/auth/components/password-less-login/password-less-login.component.ts","./projects/app-core-lib/src/lib/auth/components/password-less-login/password-less-login.component.html","./projects/app-core-lib/src/lib/auth/components/password-less-login/password-less-login.module.ts","./projects/app-core-lib/src/lib/auth/components/register/register.component.ts","./projects/app-core-lib/src/lib/auth/components/register/register.component.html","./projects/app-core-lib/src/lib/auth/components/register/register.module.ts","./projects/app-core-lib/src/lib/auth/components/register/register.resolver.ts","./projects/app-core-lib/src/lib/auth/components/request-activation/request-activation.component.ts","./projects/app-core-lib/src/lib/auth/components/request-activation/request-activation.component.html","./projects/app-core-lib/src/lib/auth/components/request-activation/request-activation.module.ts","./projects/app-core-lib/src/lib/auth/components/request-password/request-password.component.ts","./projects/app-core-lib/src/lib/auth/components/request-password/request-password.component.html","./projects/app-core-lib/src/lib/auth/components/request-password/request-password.module.ts","./projects/app-core-lib/src/lib/auth/components/reset-password/reset-password.component.ts","./projects/app-core-lib/src/lib/auth/components/reset-password/reset-password.component.html","./projects/app-core-lib/src/lib/auth/components/reset-password/reset-password.module.ts","./projects/app-core-lib/src/lib/auth/components/user-complete-profile/user-complete-profile.component.ts","./projects/app-core-lib/src/lib/auth/components/user-complete-profile/user-complete-profile.component.html","./projects/app-core-lib/src/lib/auth/components/user-complete-profile/user-complete-profile.module.ts","./projects/app-core-lib/src/lib/components/dialogs/ready-report-dialog/ready-report-dialog.component.ts","./projects/app-core-lib/src/lib/components/dialogs/ready-report-dialog/ready-report-dialog.component.html","./projects/app-core-lib/src/lib/components/dialogs/ready-report-dialog/ready-report-dialog.module.ts","./projects/app-core-lib/src/lib/components/toolbar/toolbar.component.ts","./projects/app-core-lib/src/lib/components/toolbar/toolbar.component.html","./projects/app-core-lib/src/lib/components/toolbar/toolbar.module.ts","./projects/app-core-lib/src/lib/pages/@intermediate/models/get-dashboard.model.ts","./projects/app-core-lib/src/lib/pages/@intermediate/models/get-tenant.model.ts","./projects/app-core-lib/src/lib/pages/@services/custom-exception.service.ts","./projects/app-core-lib/src/lib/pages/@services/dashboard.service.ts","./projects/app-core-lib/src/lib/pages/@services/tenant.service.ts","./projects/app-core-lib/src/lib/pages/dashboard/dashboard.component.ts","./projects/app-core-lib/src/lib/pages/dashboard/dashboard.component.html","./projects/app-core-lib/src/lib/pages/dashboard/dashboard.module.ts","./projects/app-core-lib/src/lib/pages/default-route-handler/default-route-handler.component.ts","./projects/app-core-lib/src/lib/pages/default-route-handler/default-route-handler.component.html","./projects/app-core-lib/src/lib/pages/miscellaneous/NotApplicableAction/not-applicable-action.component.ts","./projects/app-core-lib/src/lib/pages/miscellaneous/NotApplicableAction/not-applicable-action.component.html","./projects/app-core-lib/src/lib/pages/miscellaneous/forbidden/forbidden.component.ts","./projects/app-core-lib/src/lib/pages/miscellaneous/forbidden/forbidden.component.html","./projects/app-core-lib/src/lib/pages/miscellaneous/miscellaneous-routing.module.ts","./projects/app-core-lib/src/lib/pages/miscellaneous/miscellaneous.component.ts","./projects/app-core-lib/src/lib/pages/miscellaneous/miscellaneous.module.ts","./projects/app-core-lib/src/lib/pages/miscellaneous/not-found/not-found.component.ts","./projects/app-core-lib/src/lib/pages/miscellaneous/not-found/not-found.component.html","./projects/app-core-lib/src/lib/pages/pages.component.ts","./projects/app-core-lib/src/lib/pages/pages.component.html","./projects/app-core-lib/src/lib/pages/portal-groups/components/portal-view/portal-view.component.html","./projects/app-core-lib/src/lib/pages/portal-groups/components/portal-view/portal-view.component.ts","./projects/app-core-lib/src/lib/pages/portal-groups/portal-groups.component.ts","./projects/app-core-lib/src/lib/pages/portal-groups/portal-groups.component.html","./projects/app-core-lib/src/lib/pages/portal-groups/portal-groups.module.ts","./projects/app-core-lib/src/lib/pages/portals/components/admin-info-dialog/admin-info-dialog.component.ts","./projects/app-core-lib/src/lib/pages/portals/components/admin-info-dialog/admin-info-dialog.component.html","./projects/app-core-lib/src/lib/pages/portals/components/single-portal/single-portal.component.ts","./projects/app-core-lib/src/lib/pages/portals/components/single-portal/single-portal.component.html","./projects/app-core-lib/src/lib/pages/portals/portals.component.ts","./projects/app-core-lib/src/lib/pages/portals/portals.component.html","./projects/app-core-lib/src/lib/pages/portals/portals.module.ts","./projects/app-core-lib/src/lib/pages/web/web.component.ts","./projects/app-core-lib/src/lib/pages/web/web.component.html","./projects/app-core-lib/src/lib/pages/web/web.module.ts","./projects/app-core-lib/src/public-api.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$","ignored|C:\\DevelopmentGitLab\\web\\shell\\source\\node_modules\\fabric\\dist|jsdom","ignored|C:\\DevelopmentGitLab\\web\\shell\\source\\node_modules\\fabric\\dist|jsdom/lib/jsdom/living/generated/utils","ignored|C:\\DevelopmentGitLab\\web\\shell\\source\\node_modules\\fabric\\dist|jsdom/lib/jsdom/utils"],"sourcesContent":["/*\r\n * Public API\r\n */\r\n\r\nexport * from './public-api';\r\n","import { CommonModule } from '@angular/common';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { ModuleWithProviders, NgModule, Optional, SkipSelf } from '@angular/core';\r\nimport { APIBaseUrlProvider, ConfigService, ENVIRONMENT, LocateRouteService } from '@tei/core';\r\nimport { NbAuthModule } from '@tei/nebular-auth';\r\nimport { NbRoleProvider, NbSecurityModule } from '@tei/nebular-security';\r\nimport { of as observableOf } from 'rxjs';\r\nimport { AuthOAuth2Token } from './authentication/@services/auth.oauth2-token';\r\nimport { AuthenticationSettingsProvider } from './authentication/@services/authentication-settings.provider';\r\nimport { AuthenticationSettingsService } from './authentication/@services/authentication-settings.service';\r\nimport { PasswordLessAuthStrategy } from './authentication/@services/password-less-strategy';\r\nimport { PasswordAuthStrategy } from './authentication/@services/password-strategy';\r\nimport { UnauthorizedUserService } from './authentication/@services/unauthorized.user.service';\r\nimport { AuthenticationModule } from './authentication/authentication.module';\r\nimport { UserData } from './data/users';\r\nimport { environment } from './environments/environment';\r\nimport { MockDataModule } from './mock/mock-data.module';\r\nimport { UserService } from './mock/users.service';\r\nimport { throwIfAlreadyLoaded } from './module-import-guard';\r\nimport { RefererLocalStorage } from './services/referer-local-storage.service';\r\nimport { AnalyticsService, defaultConfig, LayoutService } from './utils';\r\nimport { ReadyReportDialogModule } from '../components/dialogs/ready-report-dialog/ready-report-dialog.module';\r\n\r\nconst socialLinks = [\r\n  {\r\n    url: 'https://github.com/akveo/nebular',\r\n    target: '_blank',\r\n    icon: 'github',\r\n  },\r\n  {\r\n    url: 'https://www.facebook.com/akveo/',\r\n    target: '_blank',\r\n    icon: 'facebook',\r\n  },\r\n  {\r\n    url: 'https://twitter.com/akveo_inc',\r\n    target: '_blank',\r\n    icon: 'twitter',\r\n  },\r\n];\r\n\r\nconst DATA_SERVICES = [\r\n  { provide: UserData, useClass: UserService },\r\n];\r\n\r\nexport class NbSimpleRoleProvider extends NbRoleProvider\r\n{\r\n  getRole()\r\n  {\r\n    // here you could provide any role based on any auth flow\r\n    return observableOf('guest');\r\n  }\r\n}\r\n\r\n\r\nexport const NB_CORE_PROVIDERS = [\r\n  ...MockDataModule.forRoot().providers,\r\n  ...DATA_SERVICES,\r\n  ...AuthenticationModule.forRoot({\r\n    strategies: [\r\n      PasswordAuthStrategy.setup({\r\n        name: 'gateway',\r\n        baseEndpoint: defaultConfig.apiBaseUrl,\r\n        login: {\r\n          endpoint: '/Auth/Login',\r\n          redirect: {\r\n            success: 'auth/finalize-authentication'\r\n          },\r\n          defaultErrors: ['Login combination is incorrect, please try again.'],\r\n\r\n        },\r\n        validateToken: {\r\n          endpoint: '/Auth/ValidateToken',\r\n          redirect: {\r\n            success: 'auth/finalize-authentication'\r\n          },\r\n          defaultErrors: ['Token is not correct, please try again.'],\r\n        },\r\n        reauthenticate: {\r\n          endpoint: '/Auth/Reauthenticate',\r\n          redirect: {\r\n            success: 'auth/finalize-authentication'\r\n          },\r\n          defaultErrors: ['Token is not correct, please try again.'],\r\n        },\r\n        refreshToken: {\r\n          endpoint: '/Auth/RefreshToken'\r\n        },\r\n        register: {\r\n          endpoint: '/Auth/Register',\r\n          redirect: {\r\n            success: 'auth/finalize-authentication'\r\n          }\r\n        },\r\n        requestPass: {\r\n          endpoint: '/Auth/ForgetPassword'\r\n        },\r\n        resetPass: {\r\n          endpoint: '/Auth/ResetPassword',\r\n          method: 'post'\r\n        },\r\n        logout: {\r\n          endpoint: '/Auth/Logout'\r\n        },\r\n        token: {\r\n          class: AuthOAuth2Token,\r\n          getter: (module: string, res: HttpResponse<Object>) =>\r\n          {\r\n            return res.body;\r\n          },\r\n        },\r\n        errors: {\r\n          getter: (module, res, options) =>\r\n          {\r\n            return res.error ? res.error[''] : options[module].defaultErrors;\r\n          },\r\n        },\r\n      }),\r\n      PasswordLessAuthStrategy.setup({\r\n        name: 'password-less',\r\n        baseEndpoint: defaultConfig.apiBaseUrl,\r\n        login: {\r\n          endpoint: '/Auth/PasswordlessLogin',\r\n          redirect: {\r\n            success: 'auth/finalize-authentication'\r\n          },\r\n          defaultErrors: ['Login combination is incorrect, please try again.'],\r\n\r\n        },\r\n        validateToken: {\r\n          endpoint: '/Auth/ValidateToken',\r\n          redirect: {\r\n            success: 'auth/finalize-authentication'\r\n          },\r\n          defaultErrors: ['Token is not correct, please try again.'],\r\n        },\r\n        reauthenticate: {\r\n          endpoint: '/Auth/Reauthenticate',\r\n          redirect: {\r\n            success: 'auth/finalize-authentication'\r\n          },\r\n          defaultErrors: ['Token is not correct, please try again.'],\r\n        },\r\n        refreshToken: {\r\n          endpoint: '/Auth/RefreshToken'\r\n        },\r\n        register: {\r\n          endpoint: '/Auth/Register',\r\n          redirect: {\r\n            success: 'auth/finalize-authentication'\r\n          }\r\n        },\r\n        requestPass: {\r\n          endpoint: '/Auth/ForgetPassword'\r\n        },\r\n        resetPass: {\r\n          endpoint: '/Auth/ResetPassword',\r\n          method: 'post'\r\n        },\r\n        logout: {\r\n          endpoint: '/Auth/Logout'\r\n        },\r\n        token: {\r\n          class: AuthOAuth2Token,\r\n          getter: (module: string, res: HttpResponse<Object>) =>\r\n          {\r\n            return res.body;\r\n          },\r\n        },\r\n        errors: {\r\n          getter: (module, res, options) =>\r\n          {\r\n            return res.error ? res.error[''] : options[module].defaultErrors;\r\n          },\r\n        },\r\n      }),\r\n    ],\r\n    forms: {\r\n      login: {\r\n        strategy: 'gateway',\r\n        socialLinks: socialLinks,\r\n        rememberMe: false\r\n      },\r\n      register: {\r\n        strategy: 'gateway',\r\n        socialLinks: socialLinks,\r\n      },\r\n      logout: {\r\n        strategy: 'gateway',\r\n      },\r\n      requestPassword: {\r\n        strategy: 'gateway',\r\n      },\r\n      resetPassword: {\r\n        strategy: 'gateway',\r\n      },\r\n      validation: {\r\n        password: {\r\n          required: true,\r\n          minLength: 6,\r\n          maxLength: 50,\r\n        },\r\n        firstName: {\r\n          required: true\r\n        },\r\n        lastName: {\r\n          required: true\r\n        },\r\n        username: {\r\n          required: true\r\n        },\r\n        email: {\r\n          required: true\r\n        },\r\n      }\r\n    },\r\n  }).providers,\r\n  NbSecurityModule.forRoot({\r\n    accessControl: {\r\n      guest: {\r\n        view: '*',\r\n      },\r\n      user: {\r\n        parent: 'guest',\r\n        create: '*',\r\n        edit: '*',\r\n        remove: '*',\r\n      },\r\n    },\r\n  }).providers,\r\n  {\r\n    provide: NbRoleProvider, useClass: NbSimpleRoleProvider,\r\n  },\r\n  AnalyticsService,\r\n  LayoutService,\r\n  RefererLocalStorage\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ReadyReportDialogModule,\r\n    AuthenticationModule\r\n  ],\r\n  exports: [\r\n    NbAuthModule,\r\n    ReadyReportDialogModule,\r\n    AuthenticationModule\r\n  ],\r\n  declarations: [],\r\n})\r\nexport class AppCoreLibModule\r\n{\r\n\r\n  constructor(@Optional() @SkipSelf() parentModule: AppCoreLibModule)\r\n  {\r\n    throwIfAlreadyLoaded(parentModule, 'AppCoreLibModule');\r\n  }\r\n\r\n  static forRoot(): ModuleWithProviders<AppCoreLibModule>\r\n  {\r\n    return {\r\n      ngModule: AppCoreLibModule,\r\n      providers: [\r\n        ...NB_CORE_PROVIDERS,\r\n        { provide: 'IAuthenticationSettingsService', useClass: AuthenticationSettingsService },\r\n        { provide: 'IUnauthorizedUserService', useClass: UnauthorizedUserService },\r\n        AuthenticationSettingsProvider,\r\n        { provide: ENVIRONMENT, useValue: environment },\r\n        { provide: 'IConfigService', useClass: ConfigService },\r\n        { provide: 'IAPIBaseUrlProvider', useClass: APIBaseUrlProvider },\r\n        { provide: 'ILocateRouteService', useClass: LocateRouteService }\r\n\r\n      ],\r\n    };\r\n  }\r\n}\r\n","export class GetAuthenticationSettingsRequest\r\n{\r\n  public AuthenticationType?: string;\r\n}\r\n\r\nexport class GetAuthenticationSettingsResponse\r\n{\r\n  public Settings: AuthenticationSettings;\r\n  public MessagingEnabled?: boolean;\r\n  public LoginPageSettings?: LoginPageSetting;\r\n}\r\n\r\nexport class AuthenticationSettings\r\n{\r\n  public UserNameType: UserNameTypeEnum;\r\n  public UserNameLabel: string;\r\n  public UserNamePlaceHolder: string;\r\n  public AllowSocialLogin: boolean;\r\n  public AllowRegistration: boolean;\r\n  public AllowActivation: boolean;\r\n  public PasswordLessLogin: boolean;\r\n  public TokenStorageType: TokenStorageTypeEnum;\r\n  public AllowMember: boolean;\r\n  public AllowPublic: boolean;\r\n}\r\n\r\nexport class LoginPageSetting\r\n{\r\n  LoginMessage!: string;\r\n  LinkToDisplayFirst!: string;\r\n  PublicRegistrationLabel!: string;\r\n  MemberActivationLabel!: string;\r\n  PublicRegistrationMessage!: string;\r\n  MemberActivationMessage!: string;\r\n}\r\n\r\nexport enum TokenStorageTypeEnum\r\n{\r\n  SessionStorage,\r\n  LocalStorage\r\n}\r\n\r\nexport enum UserNameTypeEnum\r\n{\r\n  AlphaNumeric,\r\n  Numeric,\r\n  Email\r\n}\r\n\r\nexport enum LoginPageEnum\r\n{\r\n  UserName,\r\n  Password\r\n}\r\n","import { HttpRequest } from \"@angular/common/http\";\r\nimport { IAuthToken } from \"@tei/abstraction\";\r\n\r\nexport module AddToken\r\n{\r\n  export function addToken(request: HttpRequest<any>, token: IAuthToken)\r\n  {\r\n    request = request.clone({\r\n      setHeaders: {\r\n        Authorization: `Bearer ${ token.getValue() }`\r\n      }\r\n    });\r\n\r\n    const extended_access_token = token?.getPayload()?.extended_access_token;\r\n\r\n    if (extended_access_token)\r\n    {\r\n      request = request.clone({\r\n        setHeaders: {\r\n          ExtendedAuthorization: `Bearer ${ extended_access_token }`\r\n        }\r\n      });\r\n    }\r\n\r\n    return request;\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Store } from \"@ngrx/store\";\r\nimport { ILocateRouteService, IThemeState, PostHearBeatService, SidebarSelected, TopMenuSelected } from '@tei/core';\r\nimport { Observable, forkJoin } from 'rxjs';\r\nimport { map, mergeMap } from 'rxjs/operators';\r\nimport { GetAnonymousRoutesResponse } from '../@intermediate/models/get-anonymous-routes.model';\r\nimport { AuthService } from './auth.service';\r\nimport { UnauthorizedUserService } from './unauthorized.user.service';\r\n\r\n@Injectable()\r\nexport class AuthGuard implements CanActivate\r\n{\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private store: Store<IThemeState>,\r\n    private unauthorizedUserService: UnauthorizedUserService,\r\n    public hearBeatService: PostHearBeatService,\r\n    @Inject('ILocateRouteService') private locateRouteService: ILocateRouteService) { }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot)\r\n    : Observable<boolean> | Promise<boolean> | boolean\r\n  {\r\n    const tokenObservable = this.authService.getToken();\r\n\r\n    const anonymousRoutesObservable = this.unauthorizedUserService.anonymousRoutesHTTPCalled ?\r\n      this.unauthorizedUserService.getAnonymousRoutes() :\r\n      this.unauthorizedUserService.GetAnonymousRoutesObservable({ DeviceWidth: window.innerWidth });\r\n\r\n    let subscriptions: any = [this.authService.isAuthenticatedOrRefresh(), anonymousRoutesObservable,];\r\n\r\n    if (state.url === \"/\")\r\n      subscriptions = [this.authService.isAuthenticatedOrRefresh(), anonymousRoutesObservable, this.locateRouteService.GetDefaultPage({ ApplicationIdentifier: \"\" })];\r\n\r\n    return this.authService.getToken().pipe(\r\n      mergeMap((token) =>\r\n      {\r\n        //return forkJoin([this.authService.validateToken('gateway', token), anonymousRoutesObservable]).pipe(\r\n        return forkJoin(subscriptions).pipe(\r\n          map(results =>\r\n          {\r\n            const isAuthenticated = results[0];\r\n            const anonymousRoutes: GetAnonymousRoutesResponse = results[1];\r\n            const extendedToken = token?.getPayload()?.extended_access_token;\r\n\r\n            if (!this.unauthorizedUserService.anonymousRoutesHTTPCalled)\r\n            {\r\n              this.unauthorizedUserService.setAnonymousRoutes(results[1]);\r\n            }\r\n\r\n            if (!isAuthenticated)\r\n            {\r\n              const url = encodeURIComponent(window.location.href.replace(window.location.origin, ''));\r\n              if (anonymousRoutes?.AllowAnonymous)\r\n              {\r\n                if (state.url === \"/\" && anonymousRoutes?.Routes?.length === 0)\r\n                {\r\n                  this.router.navigateByUrl(`/auth/login?redirect_path=${ url }`);\r\n                  return false;\r\n                }\r\n                if (anonymousRoutes?.Routes?.length > 0)\r\n                {\r\n                  this.dispatchInitialSidebarAction(anonymousRoutes?.Routes[0]?.ApplicationIdentifier);\r\n                }\r\n                if (state.url === \"/\" && results[2].DefaultPageUrl !== null && results[2].DefaultPageUrl !== '')\r\n                {\r\n                  this.router.navigate([results[2].DefaultPageUrl]);\r\n                  return true;\r\n                }\r\n                for (const item of anonymousRoutes?.Routes)\r\n                {\r\n                  // if (item.FullRoute ===  state.url)\r\n\r\n                  if (state.url === item.FullRoute\r\n                    || state.url.startsWith(this.trimEnd(item.FullRoute, '/'))\r\n                    || state.url.startsWith(this.trimEnd(item.FullRoute, '?')))\r\n                  {\r\n                    return true;\r\n                  }\r\n                }\r\n              }\r\n              if (state.url === \"/\" || window.location.href.replace(window.location.origin, \"\") === \"/\")\r\n                this.router.navigateByUrl(`/auth/login`);\r\n              else\r\n                this.router.navigateByUrl(`/auth/login?redirect_path=${ url }`);\r\n              return false;\r\n            } else\r\n            {\r\n              this.hearBeatService.hearBeatSSOPoller();\r\n              if (extendedToken)\r\n              {\r\n                this.hearBeatService.hearBeatPOSPoller();\r\n              }\r\n            }\r\n            return true;\r\n          })\r\n        );\r\n\r\n      })\r\n\r\n    );\r\n\r\n  }\r\n\r\n  private trimEnd(model: string, char: string): string\r\n  {\r\n    return (model.endsWith(char) ? model.slice(0, -1) : model) + char;\r\n  }\r\n\r\n  private dispatchInitialSidebarAction(identifier: string): void\r\n  {\r\n    //Ignore sidebar state since topbar state will be restored after refresh and load sidebar as well\r\n    this.store.dispatch(new TopMenuSelected({ Identifier: identifier, Title: '' }));\r\n    this.store.dispatch(new SidebarSelected({ Identifier: '', Title: '', RefID: '', IsAuthenticated: false }));\r\n  }\r\n}\r\n","import { NbAuthOAuth2Token } from '@tei/nebular-auth';\r\n\r\nconst prepareOAuth2Token = (data) =>\r\n{\r\n  if (typeof data === 'string')\r\n  {\r\n    try\r\n    {\r\n      return JSON.parse(data);\r\n    } catch (e) { }\r\n  }\r\n  return data;\r\n};\r\n\r\nexport class AuthOAuth2Token extends NbAuthOAuth2Token\r\n{\r\n  constructor(data: { [key: string]: string | number; } | string = {},\r\n    ownerStrategyName: string)\r\n  {\r\n    super(prepareOAuth2Token(data), ownerStrategyName);\r\n    this.createdAt = new Date(this.payload.IssuedAt + 'Z');\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { NbAuthResult, NbAuthService, NbAuthToken, NbTokenService, NB_AUTH_STRATEGIES } from '@tei/nebular-auth';\r\nimport { IAuthResult, IAuthService, IAuthToken } from '@tei/abstraction';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map, switchMap } from 'rxjs/operators';\r\nimport { AuthOAuth2Token } from './auth.oauth2-token';\r\nimport { PasswordAuthStrategy } from './password-strategy';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService extends NbAuthService implements IAuthService\r\n{\r\n  constructor(protected tokenService: NbTokenService,\r\n    @Inject(NB_AUTH_STRATEGIES) protected strategies)\r\n  {\r\n    super(tokenService, strategies);\r\n  }\r\n\r\n  validateToken(strategyName: string, data?: any): Observable<IAuthResult>\r\n  {\r\n    const strategy = this.getStrategy(strategyName) as PasswordAuthStrategy;\r\n    return strategy.validateToken(data);\r\n  }\r\n\r\n  reauthenticate(strategyName: string, data?: any): Observable<IAuthResult>\r\n  {\r\n    const strategy = this.getStrategy(strategyName) as PasswordAuthStrategy;\r\n\r\n    return strategy.reauthenticate(data)\r\n      .pipe(\r\n        switchMap((result: NbAuthResult) =>\r\n        {\r\n          return this.processResult(result);\r\n        }),\r\n      );\r\n  }\r\n\r\n  patchToken(strategyName: string, data?: any): Observable<IAuthToken>\r\n  {\r\n    return this.tokenService.get().pipe(\r\n      map((token: NbAuthToken) =>\r\n      {\r\n        const payload = token.getPayload();\r\n\r\n        Object.keys(data).forEach(name =>\r\n        {\r\n          payload[name] = data[name];\r\n        });\r\n\r\n        this.tokenService.set(new AuthOAuth2Token(payload, strategyName)).subscribe();\r\n\r\n        return token;\r\n      })\r\n    );\r\n  }\r\n\r\n  private processResult(result: NbAuthResult)\r\n  {\r\n    if (result.isSuccess() && result.getToken())\r\n    {\r\n      return this.tokenService.set(result.getToken())\r\n        .pipe(\r\n          map((token: NbAuthToken) =>\r\n          {\r\n            return result;\r\n          }),\r\n        );\r\n    }\r\n\r\n    return of(result);\r\n  }\r\n}\r\n","import { APP_INITIALIZER, FactoryProvider, Inject, Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { IAuthenticationSettingsService } from '../@intermediate/authentication-settings.interface';\r\nimport\r\n  {\r\n    AuthenticationSettings,\r\n    GetAuthenticationSettingsRequest,\r\n    GetAuthenticationSettingsResponse,\r\n    LoginPageSetting,\r\n    TokenStorageTypeEnum\r\n  } from '../@intermediate/models/get-authentication-settings.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthenticationSettingsProvider\r\n{\r\n  private authenticationSettings: AuthenticationSettings;\r\n  private loginPageSettings: LoginPageSetting;\r\n\r\n  constructor(\r\n    @Inject('IAuthenticationSettingsService') private authenticationSettingsService: IAuthenticationSettingsService\r\n  ) { }\r\n\r\n  public GetSettings(authenticationType?: string): Observable<{ authenticationSettings?: AuthenticationSettings; loginPageSettings?: LoginPageSetting; }>\r\n  {\r\n    if (!this.authenticationSettings || !this.loginPageSettings)\r\n    {\r\n      const request = new GetAuthenticationSettingsRequest();\r\n      request.AuthenticationType = authenticationType ?? '';\r\n      return this.authenticationSettingsService.Get(request).pipe(\r\n        map((response: GetAuthenticationSettingsResponse) =>\r\n        {\r\n          this.authenticationSettings = response.Settings;\r\n          this.loginPageSettings = response.LoginPageSettings;\r\n          return {\r\n            authenticationSettings: this.authenticationSettings,\r\n            loginPageSettings: this.loginPageSettings\r\n          };\r\n        })\r\n      );\r\n    } else\r\n    {\r\n      return of({\r\n        authenticationSettings: this.authenticationSettings,\r\n        loginPageSettings: this.loginPageSettings\r\n      });\r\n    }\r\n  }\r\n\r\n  public get Settings(): AuthenticationSettings\r\n  {\r\n    return this.authenticationSettings;\r\n  }\r\n\r\n  public get LoginPageSettings(): LoginPageSetting\r\n  {\r\n    return this.loginPageSettings;\r\n  }\r\n\r\n  public get tokenStorage(): TokenStorageTypeEnum\r\n  {\r\n    return this.authenticationSettings?.TokenStorageType ?? TokenStorageTypeEnum.SessionStorage;\r\n  }\r\n}\r\n\r\n\r\nexport function AuthenticationSettingsFactory(globalSettingsProvider: AuthenticationSettingsProvider)\r\n{\r\n  return () => globalSettingsProvider.GetSettings();\r\n}\r\n\r\n\r\nexport const AuthenticationSettingFactoryProvider: FactoryProvider = {\r\n  provide: APP_INITIALIZER,\r\n  useFactory: AuthenticationSettingsFactory,\r\n  deps: [AuthenticationSettingsProvider],\r\n  multi: true\r\n};\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\nimport { Observable } from 'rxjs';\r\nimport { IAuthenticationSettingsService } from '../@intermediate/authentication-settings.interface';\r\nimport\r\n{\r\n  GetAuthenticationSettingsRequest,\r\n  GetAuthenticationSettingsResponse\r\n} from '../@intermediate/models/get-authentication-settings.model';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthenticationSettingsService implements IAuthenticationSettingsService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(private http: HttpClient, @Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider)\r\n  {\r\n    this.serviceUrl = apiBaseUrlProvider.getBaseUrl() + '/AuthenticationSettings';\r\n  }\r\n\r\n  public Get(request: GetAuthenticationSettingsRequest): Observable<GetAuthenticationSettingsResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.get<GetAuthenticationSettingsResponse>(apiUrl, { params: request as any });\r\n  }\r\n}\r\n","import { inject } from \"@angular/core\";\r\nimport { ActivatedRouteSnapshot, CanActivateFn, Router, RouterStateSnapshot } from \"@angular/router\";\r\nimport { forkJoin, map, of, switchMap } from \"rxjs\";\r\nimport { CheckProfileStatusModel } from \"../@intermediate/models/check-profile-status.model\";\r\nimport { AuthService } from \"./auth.service\";\r\nimport { CheckProfileStatusService } from \"./check-profile-status.service\";\r\nimport { UnauthorizedUserService } from \"./unauthorized.user.service\";\r\n\r\nfunction trimEnd(model: string, char: string): string\r\n{\r\n    return (model.endsWith(char) ? model.slice(0, -1) : model) + char;\r\n}\r\n\r\nexport const ProfileCompleteGuard: CanActivateFn = (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) =>\r\n{\r\n    const router = inject(Router);\r\n    const unauthorizedUserService = inject(UnauthorizedUserService);\r\n    const checkProfileStatusService = inject(CheckProfileStatusService);\r\n    const authService = inject(AuthService);\r\n\r\n    const anonymousRoutes$ = unauthorizedUserService.anonymousRoutesHTTPCalled\r\n        ? unauthorizedUserService.getAnonymousRoutes()\r\n        : unauthorizedUserService.GetAnonymousRoutesObservable({ DeviceWidth: window.innerWidth });\r\n\r\n    return forkJoin([anonymousRoutes$, authService.isAuthenticatedOrRefresh()]).pipe(\r\n        switchMap(([anonymousRoutes, isAuthenticated]) =>\r\n        {\r\n\r\n            if (!isAuthenticated)\r\n            {\r\n                const isAnonymousRoute = anonymousRoutes.Routes.some(route => state.url === route.FullRoute\r\n                    || state.url.startsWith(trimEnd(route.FullRoute, '/'))\r\n                    || state.url.startsWith(trimEnd(route.FullRoute, '?')));\r\n                if (isAnonymousRoute)\r\n                {\r\n                    return [true]; // Return an Observable emitting `true`\r\n                }\r\n\r\n                const url = (`/auth/login?redirect_path=${ encodeURIComponent(window.location.href.replace(window.location.origin, '')) }`);\r\n\r\n                return of(router.parseUrl(url));\r\n            }\r\n\r\n            return checkProfileStatusService.checkStatus().pipe(\r\n                map((result: CheckProfileStatusModel) =>\r\n                {\r\n                    const isCompleteProfilePage = state.url.toLocaleLowerCase().includes('/auth/complete-profile');\r\n                    const profileCompleted = result.ProfileCompleted;\r\n\r\n                    if (isCompleteProfilePage)\r\n                    {\r\n                        return profileCompleted ? router.parseUrl('/') : true;\r\n                    } else                   \r\n                    {\r\n                        let returnQueryString = state.url && state.url != \"/\" ? \"?returnURL=\" + encodeURIComponent(state.url) : \"\";\r\n                        return profileCompleted ? true : router.parseUrl('/auth/complete-profile' + returnQueryString); // Redirect to complete-profile page\r\n                    }\r\n\r\n                })\r\n            );\r\n        })\r\n    );\r\n};\r\n","import { Observable, of } from \"rxjs\";\r\nimport { ICheckProfileStatusService } from \"../@intermediate/check-profile-status.interface\";\r\nimport { CheckProfileStatusModel } from \"../@intermediate/models/check-profile-status.model\";\r\nimport { Inject, Injectable } from \"@angular/core\";\r\nimport { IAPIBaseUrlProvider } from \"@tei/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class CheckProfileStatusService implements ICheckProfileStatusService {\r\n    private readonly serviceUrl: string;\r\n\r\n    constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, protected http: HttpClient)\r\n    {\r\n        this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/CompleteProfile';\r\n    }\r\n\r\n    checkStatus(): Observable<CheckProfileStatusModel> {\r\n        const apiUrl = this.serviceUrl + '';\r\n        return this.http.get<CheckProfileStatusModel>(apiUrl);\r\n    }\r\n}","import { HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\r\nimport { Inject, Injectable, Injector } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IAuthService, IAuthToken } from '@tei/abstraction';\r\nimport { AppIdentifierService, ApplicationIdentifier, ILocateRouteService, IThemeState, ManageLoadingService, PagesStagingLayoutType, RecaptchaDialogService, selectTheme } from '@tei/core';\r\nimport { SnackBarService } from '@tei/material';\r\nimport { NbAuthResult, NbTokenStorage } from '@tei/nebular-auth';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { ManagerOverrideService } from '@tei/pos-shared';\r\nimport { BehaviorSubject, Observable, firstValueFrom, of, throwError } from 'rxjs';\r\nimport { catchError, filter, switchMap, take } from 'rxjs/operators';\r\nimport { GlobalSettingsProvider } from '../../../../lib/@services/global-settings.provider';\r\nimport { AddToken } from './add-token';\r\nconst CANCELLED_OVERRIDE_MANAGER_DIALOG = 'CANCELLED_OVERRIDE_MANAGER_DIALOG';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor\r\n{\r\n  constructor(\r\n    @Inject('ILocateRouteService') private locateRouteService: ILocateRouteService,\r\n    private router: Router,\r\n    private store: Store<IThemeState>,\r\n    private appIdentifierService: AppIdentifierService,\r\n    private tokenStorage: NbTokenStorage,\r\n    @Inject('IAuthService') private authService: IAuthService,\r\n    private injector: Injector,\r\n    private translate: TranslateService,\r\n    private snackBarService: SnackBarService,\r\n    private manageLoadingService: ManageLoadingService,\r\n    private GlobalSettingsProvider: GlobalSettingsProvider,\r\n    private themeService: NbThemeService,\r\n    private route: ActivatedRoute,\r\n  )\r\n  { }\r\n\r\n  private preventOtherRequest = false;\r\n  private isRefreshing = false;\r\n  private refreshTokenSubject: BehaviorSubject<any> = new BehaviorSubject<any>(null);\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>>\r\n  {\r\n    return next.handle(request).pipe(\r\n      catchError((error: HttpErrorResponse) =>\r\n      {\r\n        if (!error.status)\r\n        {\r\n          this.snackBarService.showError(this.translate.instant('SHELL.APP.NO_CONNECTION'), '', null, 'left', 'bottom', 20, 'wifi_off');\r\n          return throwError(() => error);\r\n        }\r\n        if ([403].indexOf(error.status) !== -1)\r\n        {\r\n          this.handle403Error();\r\n        }\r\n        if ([400].indexOf(error.status) !== -1)\r\n        {\r\n          if (this.hasErrorCode(error, '400001'))\r\n          {\r\n            this.router.navigateByUrl('not-applicable-action', {\r\n              state: {\r\n                title: error.error.Title,\r\n                errorCode: error.error.ErrorCode,\r\n              },\r\n              replaceUrl: true\r\n            });\r\n\r\n            return of();\r\n          }\r\n          else if (this.hasErrorCustomSplittedCode(error, 'Duplicate_Member_ID') || this.hasErrorCustomSplittedCode(error, 'Duplicate_Email_Address'))\r\n          {\r\n            this.handleMultipleContactError(error, request).then();\r\n            return of();\r\n          }\r\n          else if (this.hasErrorCode(error, 'UNVERIFIED_EMAIL'))\r\n          {\r\n            this.handleUnverifiedEmailError(request).then();\r\n            return of();\r\n          }\r\n          else if (this.hasErrorCode(error, 'CaptchaTokenV2Needed'))\r\n          {\r\n            return this.handleCaptchaTokenV2NeededError(request, next).pipe(catchError((captchaError) =>\r\n            {\r\n              this.handle400Error(captchaError);\r\n              return throwError(() => captchaError);\r\n            }));\r\n          }\r\n          else if (error?.error?.Title === 'Request needs supervisor override.')\r\n          {\r\n            return this.handleSupervisorOverrideError(request, next, error?.error?.Extensions?.SupervisorOverrideLogUID).pipe(catchError((supervisorError) =>\r\n            {\r\n              this.handle400Error(supervisorError);\r\n              if (request.headers?.has('ThrowManagerOverrideError')\r\n                && request.headers?.get('ThrowManagerOverrideError')?.toLowerCase() == 'true')\r\n              {\r\n                return throwError(() => supervisorError);\r\n              }\r\n              return of();\r\n            }));\r\n          }\r\n          else if (request.url.toLowerCase().includes('/auth/refreshtoken'))\r\n          {\r\n            this.handleInvalidRefreshToken();\r\n          }\r\n          else if (this.hasErrorCode(error, '400'))\r\n          {\r\n            this.handle400Error(error);\r\n          }\r\n\r\n          return throwError(() => error);\r\n        }\r\n        else if ([401].indexOf(error.status) !== -1)\r\n        {\r\n          const urlParams = new URLSearchParams(window.location.search);\r\n          const returnPath = urlParams.get('redirect_uri');\r\n          \r\n          if (request.url.includes(\"Logout\") && returnPath && (returnPath.startsWith('http://') || returnPath.startsWith('https://'))) {\r\n            window.location.href = returnPath;\r\n            return throwError(() => error);\r\n          }\r\n          else if (error.error.Message === 'Redirect to pos login.')\r\n          {\r\n            this.authService.patchToken('PasswordAuthStrategy', { extended_access_token: undefined }).subscribe(token =>\r\n            {\r\n              this.appIdentifierService.removeAppSession();\r\n              location.replace(window.location.origin);\r\n            });\r\n          } else\r\n          {\r\n            return this.authService.getToken().pipe(\r\n              switchMap((token: IAuthToken) =>\r\n              {\r\n                return this.handle401Error(request, next, token, error);\r\n              })\r\n            );\r\n          }\r\n        }\r\n        else\r\n        {\r\n          return throwError(() => error);\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private hasErrorCode(error: HttpErrorResponse, errorCode: string): boolean\r\n  {\r\n    if (error?.error?.ErrorCode?.toString() && (error.error.ErrorCode.toString() === (errorCode)))\r\n    {\r\n      return true;\r\n    }\r\n\r\n    if (error?.error instanceof String || typeof error?.error === 'string')\r\n    {\r\n      return (error?.error === (errorCode));\r\n    }\r\n    if (error?.error?.Title)\r\n    {\r\n      return (error?.error?.Title === (errorCode));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private hasErrorCustomSplittedCode(error: HttpErrorResponse, errorCode: string): boolean\r\n  {\r\n    if (error?.error?.ErrorCode?.toString() && (error.error.ErrorCode.toString().split('#')[0] === (errorCode)))\r\n    {\r\n      return true;\r\n    }\r\n\r\n    if (error?.error instanceof String || typeof error?.error === 'string')\r\n    {\r\n      return (error?.error?.split('#')[0] === (errorCode));\r\n    }\r\n    if (error?.error?.Title)\r\n    {\r\n      return (error?.error?.Title?.split('#')[0] === (errorCode));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private handle401Error(request: HttpRequest<any>, next: HttpHandler, token: IAuthToken, error: HttpErrorResponse): Observable<HttpEvent<any>>\r\n  {\r\n    // if you got error from pos applications\r\n    if (request.url.toLowerCase().includes('/pos/') || this.router.url.toLowerCase().includes('/pos/'))\r\n    {\r\n      this.preventOtherRequest = true;\r\n    }\r\n\r\n    // if you got error from refresh token\r\n    if (request.url.toLowerCase().includes('/auth/refreshtoken'))\r\n    {\r\n      this.handleInvalidRefreshToken();\r\n    }\r\n\r\n    if (!this.isRefreshing)\r\n    {\r\n      this.isRefreshing = true;\r\n      this.refreshTokenSubject.next(null);\r\n\r\n      return this.authService.refreshToken('gateway', token).pipe(\r\n        switchMap((new_token: any) =>\r\n        {\r\n          // In case of failure, we get last valid refresh token\r\n          if (new_token.isFailure())\r\n          {\r\n            this.refreshTokenSubject.pipe(\r\n              filter(t => t != null),\r\n              take(1),\r\n              switchMap(jwt =>\r\n              {\r\n                return next.handle(AddToken.addToken(request, jwt));\r\n              }));\r\n\r\n            this.handleInvalidRefreshToken();\r\n\r\n            // return next.handle(request);\r\n          }\r\n          else\r\n          {\r\n            if (new_token instanceof NbAuthResult && new_token.isSuccess())\r\n            {\r\n              new_token = new_token.getToken();\r\n            }\r\n\r\n            this.isRefreshing = false;\r\n\r\n            this.refreshTokenSubject.next(new_token);\r\n\r\n            if (this.preventOtherRequest)\r\n            {\r\n              const app_session = this.appIdentifierService.getAppSession();\r\n              this.router.navigate([app_session.baseAddress + '/logout']);\r\n              return throwError(() => error);\r\n            }\r\n\r\n            return next.handle(AddToken.addToken(request, new_token));\r\n          }\r\n        })\r\n      );\r\n    }\r\n    else\r\n    {\r\n      return this.refreshTokenSubject.pipe(\r\n        filter(token => token != null),\r\n        take(1),\r\n        switchMap(jwt =>\r\n        {\r\n          return next.handle(AddToken.addToken(request, jwt));\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  private handle400Error(error: HttpErrorResponse): void\r\n  {\r\n    if (!(error?.error?.Title))\r\n    {\r\n      return;\r\n    }\r\n    setTimeout(() =>\r\n      this.snackBarService.showError(error.error.Title, '', null, 'left', 'bottom', 5), 1000);\r\n    if (error.error.Title === 'Order has been completed and cannot be modified.')\r\n    {\r\n      const appSession = this.appIdentifierService.getAppSession();\r\n      if (appSession.appIdentifier === ApplicationIdentifier.FoodAndBeverage || appSession.appIdentifier === ApplicationIdentifier.Retail)\r\n      {\r\n        this.router.navigate([`${ appSession.baseAddress }/orders`]);\r\n      }\r\n    }\r\n  }\r\n\r\n  private handle403Error(): void\r\n  {\r\n    this.routeToForbiddenPage();\r\n  }\r\n\r\n  private handleSupervisorOverrideError(request: HttpRequest<any>, next: HttpHandler, logUID: string)\r\n  {\r\n    this.manageLoadingService.finishLoading();\r\n\r\n    const managerOverrideEventSubject: BehaviorSubject<any> = new BehaviorSubject<any>(null);\r\n    const managerOverrideService = this.injector.get(ManagerOverrideService);\r\n    managerOverrideService.supervisorOverride(logUID).subscribe(\r\n      (token) =>\r\n      {\r\n        this.manageLoadingService.startLoading();\r\n\r\n        if (!token)\r\n        {\r\n          managerOverrideEventSubject.next(CANCELLED_OVERRIDE_MANAGER_DIALOG);\r\n          return;\r\n        }\r\n        managerOverrideEventSubject.next(token);\r\n      });\r\n\r\n    return managerOverrideEventSubject.pipe(\r\n      filter(t => t != null),\r\n      take(1),\r\n      switchMap(token =>\r\n      {\r\n        return next.handle(this.addSupervisorToken(request, token as any));\r\n      })\r\n    );\r\n  }\r\n\r\n  private handleCaptchaTokenV2NeededError(request: HttpRequest<any>, next: HttpHandler)\r\n  {\r\n    const recaptchaDialogEventSubject: BehaviorSubject<string> = new BehaviorSubject<string>(null);\r\n    const recaptchaDialogService = this.injector.get(RecaptchaDialogService);\r\n    const theme = this.themeService.currentTheme.includes('dark') ? 'dark' : 'light';\r\n    const httpHeaders = request.headers;\r\n    const action = httpHeaders.has('CaptchaRequired') ? httpHeaders.get('CaptchaRequired') : null;\r\n\r\n    recaptchaDialogService.showDialog('Captcha', this.GlobalSettingsProvider.recaptchaSiteKeyV2, theme, action).subscribe(\r\n      (token: string) =>\r\n      {\r\n        if (!token)\r\n        {\r\n          recaptchaDialogEventSubject.next('invalid token.');\r\n          return;\r\n        }\r\n        recaptchaDialogEventSubject.next(token);\r\n      });\r\n\r\n    return recaptchaDialogEventSubject.pipe(\r\n      filter(t => t != null),\r\n      take(1),\r\n      switchMap(token =>\r\n      {\r\n        if (token === 'invalid token.')\r\n        {\r\n          const err: HttpErrorResponse = {\r\n            error: {\r\n              Title: 'invalid token.'\r\n            },\r\n            headers: null,\r\n            message: 'invalid token.',\r\n            name: null,\r\n            ok: null,\r\n            status: 400,\r\n            statusText: '',\r\n            type: null,\r\n            url: ''\r\n          };\r\n          return throwError(() => err);\r\n        } else if (token)\r\n        {\r\n          return next.handle(this.addCaptchaV2Token(request, token));\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private addSupervisorToken(request: HttpRequest<any>, token: IAuthToken)\r\n  {\r\n    if (token)\r\n    {\r\n      request = request.clone({\r\n        setHeaders: {\r\n          SupervisorAuthorization: `Bearer ${ token }`\r\n        }\r\n      });\r\n    }\r\n    return request;\r\n  }\r\n\r\n  private addCaptchaV2Token(request: HttpRequest<any>, token: string)\r\n  {\r\n    if (token)\r\n    {\r\n      request = request.clone({\r\n        setHeaders: {\r\n          CaptchaTokenV2: token\r\n        }\r\n      });\r\n      request.headers.delete('CaptchaTokenV3');\r\n    }\r\n    return request;\r\n  }\r\n\r\n  private handleInvalidRefreshToken(): void\r\n  {\r\n    this.tokenStorage.clear();\r\n    this.appIdentifierService.removeAppSession();\r\n\r\n    this.isRefreshing = false;\r\n\r\n    this.redirectToLandingRoute().then();\r\n  }\r\n\r\n  private async redirectToLandingRoute(): Promise<void>\r\n  {\r\n    if (!this.router.url.includes(\"login\"))\r\n    {\r\n\r\n      const theme = await firstValueFrom(this.store.pipe(select(selectTheme)));\r\n      {\r\n        let application = theme.topMenu?.Identifier;\r\n        let hasIdentifier = true;\r\n\r\n        if (!application)\r\n        {\r\n          hasIdentifier = false;\r\n          const result = await firstValueFrom(this.locateRouteService.GetDefaultPage({\r\n            ApplicationIdentifier: \"\"\r\n          }));\r\n          application = result.DefaultApplicationIdentifier;\r\n        }\r\n\r\n        const layout = theme.layout?.LayoutType ?? PagesStagingLayoutType.Default;\r\n\r\n        const url = encodeURIComponent(window.location.href.replace(window.location.origin, ''));\r\n\r\n        if (hasIdentifier && this.exceptPathName())\r\n        {\r\n          this.router.navigateByUrl(`/auth/login?redirect_path=${ url }&application=${ application }&layout=${ layout }`);\r\n        }\r\n        else\r\n        {\r\n          window.location.href = (`${ window.location.origin }/auth/login?application=${ application }&layout=${ layout }`);\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  private exceptPathName()\r\n  {\r\n    return window.location.pathname !== '/'\r\n      && window.location.pathname !== '/auth/forbidden'\r\n      && window.location.pathname !== '/auth/not-found'\r\n      && window.location.pathname !== '/auth/not-applicable-action'\r\n      && window.location.pathname !== '/forbidden'\r\n      && window.location.pathname !== '/not-found'\r\n      && window.location.pathname !== '/not-applicable-action'\r\n      ;\r\n  }\r\n\r\n  private routeToForbiddenPage(): void\r\n  {\r\n    this.router.navigate(['forbidden']);\r\n  }\r\n\r\n  async handleMultipleContactError(error: HttpErrorResponse, request: HttpRequest<any>): Promise<void>\r\n  {\r\n    const settings = await firstValueFrom(this.GlobalSettingsProvider.GetGlobalTenantSettings());\r\n    if (settings)\r\n    {\r\n      let errorTitle = error?.error instanceof String || typeof error?.error === 'string' ? error?.error : error?.error?.Title;\r\n      if (errorTitle.includes('#'))\r\n      {\r\n        const account = errorTitle.split('#')[1];\r\n        let description = this.translate.instant('SHELL.AUTH_PAGES.LOGIN.MULTIPLE_ACCOUNTS', { username: account, email: settings?.ContactEmail, phone: settings?.ContactPhone });\r\n\r\n        this.router.navigateByUrl('auth/error', {\r\n          state: {\r\n            title: this.translate.instant('SHELL.AUTH_PAGES.LOGIN.LOGIN_FAILED'),\r\n            description: description\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleUnverifiedEmailError(request: HttpRequest<any>): Promise<boolean>\r\n  {\r\n    const username = request.body.Email ? request.body.Email : request.body.UserName;\r\n    const paramString = this.getAllParamsAsString() ? '&' + this.getAllParamsAsString() : '';\r\n    const redirectPath = 'auth/login?username=' + username + paramString;\r\n\r\n    return this.router.navigateByUrl('auth/error', {\r\n      state: {\r\n        title: '',\r\n        description: this.translate.instant('SHELL.AUTH_PAGES.REGISTER.UN_VERIFY_EMAIL'),\r\n        backUrl: redirectPath\r\n      }\r\n    });\r\n  }\r\n\r\n  getAllParamsAsString()\r\n  {\r\n    const params = this.route.snapshot.queryParams;\r\n    const paramString = Object.entries(params).map(([key, value]) => `${ key }=${ decodeURIComponent(value) }`).join('&'); return paramString;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NbAuthResult, NbAuthStrategyClass, NbAuthStrategyOptions, NbPasswordAuthStrategy } from '@tei/nebular-auth';\r\nimport { SignalrMessagingClientService } from '@tei/core-signalr';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { ForgetPasswordRequest, LoginRequest, RefreshTokenRequest, RegisterRequest, ResetPasswordRequest } from '../@intermediate/models/authentication.model';\r\nimport { PasswordAuthStrategyOptions } from './password-strategy-options';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PasswordLessAuthStrategy extends NbPasswordAuthStrategy\r\n{\r\n  constructor(protected http: HttpClient,\r\n    private signalrMessagingClientService: SignalrMessagingClientService,\r\n    route: ActivatedRoute)\r\n  {\r\n    super(http, route);\r\n  }\r\n\r\n  protected defaultOptions: PasswordAuthStrategyOptions = new PasswordAuthStrategyOptions();\r\n\r\n  static setup(options: PasswordAuthStrategyOptions): [NbAuthStrategyClass, PasswordAuthStrategyOptions]\r\n  {\r\n    return [PasswordLessAuthStrategy, options];\r\n  }\r\n\r\n  authenticate(data?: any): Observable<NbAuthResult>\r\n  {\r\n    if (this.options.name === 'password-less')\r\n    {\r\n      return super.authenticate(data);\r\n    }\r\n    const request: LoginRequest = {\r\n      UserName: data.username,\r\n      Password: data.password,\r\n      AppIdentifier: data.app_identifier,\r\n      AdditionalParameters: data.AdditionalParameters\r\n    };\r\n    return super.authenticate(request);\r\n  }\r\n\r\n  register(data?: any): Observable<NbAuthResult>\r\n  {\r\n    const request: RegisterRequest = {\r\n      FirstName: data.firstName,\r\n      LastName: data.lastName,\r\n      UserName: data.email,\r\n      Email: data.email,\r\n      Password: data.password,\r\n      ConfirmPassword: data.confirmPassword,\r\n      PhoneNumber: data.phone,\r\n      AdditionalParameters: data.additionalParameters\r\n    };\r\n\r\n    return super.register(request);\r\n  }\r\n\r\n  requestPassword(data?: any): Observable<NbAuthResult>\r\n  {\r\n    let redirectUrl = window.location.origin + '/auth/reset-password';\r\n\r\n    const request: ForgetPasswordRequest = {\r\n      RedirectUrl: redirectUrl,\r\n      UserName: data.username,\r\n      TemplateKeyValues: null,\r\n      AdditionalParameters: data.additionalParameters\r\n    };\r\n\r\n    return super.requestPassword(request);\r\n  }\r\n\r\n  resetPassword(data?: any): Observable<NbAuthResult>\r\n  {\r\n    const request: ResetPasswordRequest = {\r\n      UserName: data.username,\r\n      NewPassword: data.password,\r\n      ConfirmPassword: data.confirmPassword,\r\n      Token: data.token,\r\n      AdditionalParameters: data.additionalParameters\r\n    };\r\n\r\n    return super.resetPassword(request);\r\n  }\r\n\r\n  logout(): Observable<NbAuthResult>\r\n  {\r\n    this.disconnectMessaging();\r\n\r\n    return super.logout()\r\n      .pipe(\r\n        map((result: NbAuthResult) =>\r\n        {\r\n          result[\"redirect\"] = result.getResponse().body?.RedirectUrl;\r\n          return result;\r\n        }),\r\n      );\r\n  }\r\n\r\n  disconnectMessaging()\r\n  {\r\n    try\r\n    {\r\n      this.signalrMessagingClientService.disconnect();\r\n    }\r\n    catch\r\n    {\r\n      console.error('Error in disconnecting SignalR messaging');\r\n    }\r\n  }\r\n\r\n  refreshToken(data?: any): Observable<NbAuthResult>\r\n  {\r\n    const request: RefreshTokenRequest = {\r\n      RefreshToken: data.payload?.refresh_token,\r\n    };\r\n\r\n    return super.refreshToken(request);\r\n  }\r\n\r\n  validateToken(data?: any): Observable<NbAuthResult>\r\n  {\r\n    const module = 'validateToken';\r\n    const method = this.getOption(`${ module }.method`);\r\n    const url = this.getActionEndpoint(module);\r\n    const requireValidToken = this.getOption(`${ module }.requireValidToken`);\r\n\r\n    return this.http.request(method, url, { body: null, observe: 'response', headers: { Authorization: `Bearer ${ data.access_token }` } })\r\n      .pipe(\r\n        map((res) =>\r\n        {\r\n          if (this.getOption(`${ module }.alwaysFail`))\r\n          {\r\n            throw this.createFailResponse(data);\r\n          }\r\n          return res;\r\n        }),\r\n        map((res) =>\r\n        {\r\n          if (data.refresh_token)\r\n          {\r\n            res.body[\"refresh_token\"] = data.refresh_token;\r\n          }\r\n\r\n          return new NbAuthResult(\r\n            true,\r\n            res,\r\n            this.getOption(`${ module }.redirect.success`),\r\n            [],\r\n            this.getOption('messages.getter')(module, res, this.options),\r\n            this.createToken(this.getOption('token.getter')(module, res, this.options), requireValidToken));\r\n        }),\r\n        catchError((res) =>\r\n        {\r\n          return this.handleResponseError(res, module);\r\n        }),\r\n      );\r\n  }\r\n\r\n  reauthenticate(data?: any): Observable<NbAuthResult>\r\n  {\r\n    const module = 'reauthenticate';\r\n    const method = this.getOption(`${ module }.method`);\r\n    const url = this.getActionEndpoint(module);\r\n    const requireValidToken = this.getOption(`${ module }.requireValidToken`);\r\n\r\n    if (data.reauthentication_access_token)\r\n    {\r\n      const request =\r\n      {\r\n        RefreshToken: data.refresh_token,\r\n        AppSecretProof: data.appsecret_proof\r\n      };\r\n\r\n      return this.http.request(method, url, { body: request, observe: 'response', headers: { Authorization: `Bearer ${ data.reauthentication_access_token }` } })\r\n        .pipe(\r\n          map((res) =>\r\n          {\r\n            if (this.getOption(`${ module }.alwaysFail`))\r\n            {\r\n              throw this.createFailResponse(data);\r\n            }\r\n            return res;\r\n          }),\r\n          map((res) =>\r\n          {\r\n            return this.createAuthResult(res, module, this.options, requireValidToken);\r\n          }),\r\n          catchError((res) =>\r\n          {\r\n            return this.handleResponseError(res, module);\r\n          }),\r\n        );\r\n    }\r\n    else\r\n    {\r\n      return of(this.createAuthResult({ body: data }, module, this.options, requireValidToken));\r\n    }\r\n  }\r\n\r\n  private createAuthResult(res, module: string, options: NbAuthStrategyOptions, requireValidToken: any): NbAuthResult\r\n  {\r\n    return new NbAuthResult(\r\n      true,\r\n      res,\r\n      this.getOption(`${ module }.redirect.success`),\r\n      [],\r\n      this.getOption('messages.getter')(module, res, options),\r\n      this.createToken(this.getOption('token.getter')(module, res, options), requireValidToken));\r\n  }\r\n}\r\n","import { NbPasswordAuthStrategyOptions, NbPasswordStrategyModule } from \"@tei/nebular-auth\";\r\n\r\nexport class PasswordAuthStrategyOptions extends NbPasswordAuthStrategyOptions\r\n{\r\n  validateToken?: boolean | NbPasswordStrategyModule = {\r\n    alwaysFail: false,\r\n    endpoint: 'validateToken',\r\n    method: 'get',\r\n    requireValidToken: true,\r\n    redirect: {\r\n      success: '/',\r\n      failure: null,\r\n    },\r\n    defaultErrors: ['Token is not correct, please try again.'],\r\n    defaultMessages: ['You have been successfully logged in.'],\r\n  };\r\n\r\n  reauthenticate?: boolean | NbPasswordStrategyModule = {\r\n    alwaysFail: false,\r\n    endpoint: 'reauthenticate',\r\n    method: 'post',\r\n    requireValidToken: true,\r\n    redirect: {\r\n      success: '/',\r\n      failure: null,\r\n    },\r\n    defaultErrors: ['Token is not correct, please try again.'],\r\n    defaultMessages: ['You have been successfully logged in.'],\r\n  };\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NbAuthResult, NbAuthStrategyClass, NbAuthStrategyOptions, NbPasswordAuthStrategy } from '@tei/nebular-auth';\r\nimport { SignalrMessagingClientService } from '@tei/core-signalr';\r\nimport { Observable, of } from 'rxjs';\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { ForgetPasswordRequest, LoginRequest, RefreshTokenRequest, RegisterRequest, ResetPasswordRequest } from '../@intermediate/models/authentication.model';\r\nimport { PasswordAuthStrategyOptions } from './password-strategy-options';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class PasswordAuthStrategy extends NbPasswordAuthStrategy\r\n{\r\n  constructor(protected http: HttpClient,\r\n    private signalrMessagingClientService: SignalrMessagingClientService,\r\n    route: ActivatedRoute)\r\n  {\r\n    super(http, route);\r\n  }\r\n\r\n  protected defaultOptions: PasswordAuthStrategyOptions = new PasswordAuthStrategyOptions();\r\n\r\n  static setup(options: PasswordAuthStrategyOptions): [NbAuthStrategyClass, PasswordAuthStrategyOptions]\r\n  {\r\n    return [PasswordAuthStrategy, options];\r\n  }\r\n\r\n  authenticate(data?: any): Observable<NbAuthResult>\r\n  {\r\n    if (this.options.name === 'password-less')\r\n    {\r\n      return super.authenticate(data);\r\n    }\r\n    const request: LoginRequest = {\r\n      UserName: data.username,\r\n      Password: data.password,\r\n      AppIdentifier: data.app_identifier,\r\n      AdditionalParameters: data.additionalParameters\r\n    };\r\n    return super.authenticate(request);\r\n  }\r\n\r\n  register(data?: any): Observable<NbAuthResult>\r\n  {\r\n    const request: RegisterRequest = {\r\n      FirstName: data.firstName,\r\n      LastName: data.lastName,\r\n      UserName: data.email,\r\n      Email: data.email,\r\n      Password: data.password,\r\n      ConfirmPassword: data.confirmPassword,\r\n      PhoneNumber: data.phone,\r\n      AdditionalParameters: data.additionalParameters\r\n    };\r\n\r\n    return super.register(request);\r\n  }\r\n\r\n  requestPassword(data?: any): Observable<NbAuthResult>\r\n  {\r\n    let redirectUrl = window.location.origin + '/auth/reset-password';\r\n\r\n    const request: ForgetPasswordRequest = {\r\n      RedirectUrl: redirectUrl,\r\n      UserName: data.username,\r\n      TemplateKeyValues: null,\r\n      AdditionalParameters: data.additionalParameters\r\n    };\r\n\r\n    return super.requestPassword(request);\r\n  }\r\n\r\n  resetPassword(data?: any): Observable<NbAuthResult>\r\n  {\r\n    const request: ResetPasswordRequest = {\r\n      UserName: data.username,\r\n      NewPassword: data.password,\r\n      ConfirmPassword: data.confirmPassword,\r\n      Token: data.token,\r\n      AdditionalParameters: data.additionalParameters\r\n    };\r\n\r\n    return super.resetPassword(request);\r\n  }\r\n\r\n  logout(): Observable<NbAuthResult>\r\n  {\r\n    this.disconnectMessaging();\r\n\r\n    return super.logout()\r\n      .pipe(\r\n        map((result: NbAuthResult) =>\r\n        {\r\n          result[\"redirect\"] = result.getResponse().body?.RedirectUrl;\r\n          return result;\r\n        }),\r\n      );\r\n  }\r\n\r\n  disconnectMessaging()\r\n  {\r\n    try\r\n    {\r\n      this.signalrMessagingClientService.disconnect();\r\n    }\r\n    catch\r\n    {\r\n      console.error('Error in disconnecting SignalR messaging');\r\n    }\r\n  }\r\n\r\n  refreshToken(data?: any): Observable<NbAuthResult>\r\n  {\r\n    const request: RefreshTokenRequest = {\r\n      RefreshToken: data.payload?.refresh_token,\r\n    };\r\n\r\n    return super.refreshToken(request);\r\n  }\r\n\r\n  validateToken(data?: any): Observable<NbAuthResult>\r\n  {\r\n    const module = 'validateToken';\r\n    const method = this.getOption(`${ module }.method`);\r\n    const url = this.getActionEndpoint(module);\r\n    const requireValidToken = this.getOption(`${ module }.requireValidToken`);\r\n\r\n    return this.http.request(method, url, { body: null, observe: 'response', headers: { Authorization: `Bearer ${ data.access_token }` } })\r\n      .pipe(\r\n        map((res) =>\r\n        {\r\n          if (this.getOption(`${ module }.alwaysFail`))\r\n          {\r\n            throw this.createFailResponse(data);\r\n          }\r\n          return res;\r\n        }),\r\n        map((res) =>\r\n        {\r\n          if (data.refresh_token)\r\n          {\r\n            res.body[\"refresh_token\"] = data.refresh_token;\r\n          }\r\n\r\n          return new NbAuthResult(\r\n            true,\r\n            res,\r\n            this.getOption(`${ module }.redirect.success`),\r\n            [],\r\n            this.getOption('messages.getter')(module, res, this.options),\r\n            this.createToken(this.getOption('token.getter')(module, res, this.options), requireValidToken));\r\n        }),\r\n        catchError((res) =>\r\n        {\r\n          return this.handleResponseError(res, module);\r\n        }),\r\n      );\r\n  }\r\n\r\n  reauthenticate(data?: any): Observable<NbAuthResult>\r\n  {\r\n    const module = 'reauthenticate';\r\n    const method = this.getOption(`${ module }.method`);\r\n    const url = this.getActionEndpoint(module);\r\n    const requireValidToken = this.getOption(`${ module }.requireValidToken`);\r\n\r\n    if (data.reauthentication_access_token)\r\n    {\r\n      const request =\r\n      {\r\n        RefreshToken: data.refresh_token,\r\n        AppSecretProof: data.appsecret_proof\r\n      };\r\n\r\n      return this.http.request(method, url, { body: request, observe: 'response', headers: { Authorization: `Bearer ${ data.reauthentication_access_token }` } })\r\n        .pipe(\r\n          map((res) =>\r\n          {\r\n            if (this.getOption(`${ module }.alwaysFail`))\r\n            {\r\n              throw this.createFailResponse(data);\r\n            }\r\n            return res;\r\n          }),\r\n          map((res) =>\r\n          {\r\n            return this.createAuthResult(res, module, this.options, requireValidToken);\r\n          }),\r\n          catchError((res) =>\r\n          {\r\n            return this.handleResponseError(res, module);\r\n          }),\r\n        );\r\n    }\r\n    else\r\n    {\r\n      return of(this.createAuthResult({ body: data }, module, this.options, requireValidToken));\r\n    }\r\n  }\r\n\r\n  private createAuthResult(res, module: string, options: NbAuthStrategyOptions, requireValidToken: any): NbAuthResult\r\n  {\r\n    return new NbAuthResult(\r\n      true,\r\n      res,\r\n      this.getOption(`${ module }.redirect.success`),\r\n      [],\r\n      this.getOption('messages.getter')(module, res, options),\r\n      this.createToken(this.getOption('token.getter')(module, res, options), requireValidToken));\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { NbAuthToken, NbAuthTokenParceler, NbTokenStorage } from \"@tei/nebular-auth\";\r\nimport { TokenStorageTypeEnum } from \"../@intermediate/models/get-authentication-settings.model\";\r\nimport { AuthenticationSettingsProvider } from \"./authentication-settings.provider\";\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class TokenStorage extends NbTokenStorage\r\n{\r\n  protected key = 'auth_app_token';\r\n  private get storage(): Storage\r\n  {\r\n    if (this.authenticationSettingsProvider.tokenStorage === TokenStorageTypeEnum.SessionStorage)\r\n    {\r\n      return sessionStorage;\r\n    } else\r\n    {\r\n      return localStorage;\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private parceler: NbAuthTokenParceler,\r\n    private authenticationSettingsProvider: AuthenticationSettingsProvider)\r\n  {\r\n    super();\r\n  }\r\n\r\n  /**\r\n   * Returns token from sessionStorage\r\n   * @returns {NbAuthToken}\r\n   */\r\n  get(): NbAuthToken\r\n  {\r\n    const raw = this.storage.getItem(this.key);\r\n    return this.parceler.unwrap(raw);\r\n  }\r\n\r\n  /**\r\n   * Sets token to sessionStorage\r\n   * @param {NbAuthToken} token\r\n   */\r\n  set(token: NbAuthToken)\r\n  {\r\n    const raw = this.parceler.wrap(token);\r\n    this.storage.setItem(this.key, raw);\r\n  }\r\n\r\n  /**\r\n   * Clears token from sessionStorage\r\n   */\r\n  clear()\r\n  {\r\n    this.storage.removeItem(this.key);\r\n  }\r\n}\r\n","import { HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Capacitor } from '@capacitor/core';\r\nimport { IAuthService, IAuthToken } from '@tei/abstraction';\r\nimport { Observable } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { ProfileSettingsService } from '../../../@theme/@services/profile-settings.service';\r\nimport { AddToken } from './add-token';\r\n@Injectable()\r\nexport class TokenInterceptor implements HttpInterceptor\r\n{\r\n  private isNativePlatform: boolean;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private profileSettingsService: ProfileSettingsService,\r\n    @Inject('IAuthService') private authService: IAuthService,\r\n  )\r\n  {\r\n    this.isNativePlatform = Capacitor.isNativePlatform();\r\n  }\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>>\r\n  {\r\n    request = this.removeCredentials(request);\r\n\r\n    const printerWizard = request.url.toLowerCase().includes('/html/cloudprnt_cgi');\r\n\r\n    const language = this.profileSettingsService?.getProfileSettingsFromStorage()?.language;\r\n\r\n    if (language)\r\n    {\r\n      request = request.clone({ headers: request.headers.set('Accept-Language', language) });\r\n    }\r\n\r\n\r\n\r\n    const isAuth: boolean =\r\n      request.url.toLowerCase().includes('/auth/login') ||\r\n      request.url.toLowerCase().includes('/error') ||\r\n      request.url.toLowerCase().includes('/auth/password-less-login') ||\r\n      (request.url.toLowerCase().includes('/handleredirection') && !request.url.toLowerCase().includes('/handleredirection/impersonation')) ||\r\n      request.url.toLowerCase().includes('/auth/reauthenticate') ||\r\n      request.url.toLowerCase().includes('/auth/externallogin') ||\r\n      request.url.toLowerCase().includes('/auth/obtainlocalaccesstoken') ||\r\n      request.url.toLowerCase().includes('/auth/refreshtoken') ||\r\n      request.url.toLowerCase().includes('/auth/register') ||\r\n      request.url.toLowerCase().includes('/auth/forgetpassword') ||\r\n      request.url.toLowerCase().includes('/auth/resetpassword') ||\r\n      request.url.toLowerCase().includes('/localization');\r\n\r\n    if (isAuth || printerWizard)\r\n    {\r\n      return next.handle(request);\r\n    }\r\n    else\r\n    {\r\n      return this.authService.isAuthenticatedOrRefresh()\r\n        .pipe(switchMap(authenticated =>\r\n        {\r\n          if (authenticated)\r\n          {\r\n            return this.authService.getToken().pipe(\r\n              switchMap((token: IAuthToken) =>\r\n              {\r\n                request = AddToken.addToken(request, token);\r\n                return next.handle(request);\r\n              })\r\n            );\r\n          }\r\n          else\r\n          {\r\n            return next.handle(request);\r\n          }\r\n        }));\r\n    }\r\n  }\r\n\r\n  private removeCredentials(request: HttpRequest<any>)\r\n  {\r\n    // Don't remove credentials for Capacitor native apps - they don't have CORS issues\r\n    if (this.isNativePlatform)\r\n    {\r\n      return request;\r\n    }\r\n\r\n    if (request.withCredentials && !request.url.toLowerCase().includes('oauth'))\r\n    {\r\n      return request.clone({\r\n        withCredentials: false\r\n      });\r\n    }\r\n    else\r\n    {\r\n      return request;\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable, of } from 'rxjs';\r\nimport { GetAnonymousRoutesRequest, GetAnonymousRoutesResponse } from '../@intermediate/models/get-anonymous-routes.model';\r\nimport { IUnauthorizedUserService } from '../@intermediate/unauthorized.user.interface';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UnauthorizedUserService implements IUnauthorizedUserService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  private anonymousRoutesSubject: BehaviorSubject<GetAnonymousRoutesResponse> = new BehaviorSubject<GetAnonymousRoutesResponse>(null);\r\n  public anonymousRoutes: Observable<GetAnonymousRoutesResponse> = this.anonymousRoutesSubject.asObservable();\r\n\r\n  anonymousRoutesHTTPCalled = false;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl();\r\n  }\r\n\r\n  public GetAnonymousRoutesObservable(request: GetAnonymousRoutesRequest): Observable<GetAnonymousRoutesResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/Pages/AnonymousRoutes';\r\n\r\n    return this.http.get<GetAnonymousRoutesResponse>(apiUrl, { params: request as any });\r\n  }\r\n\r\n  setAnonymousRoutes(anonymousRoutesResponse: GetAnonymousRoutesResponse): void\r\n  {\r\n    this.anonymousRoutesHTTPCalled = true;\r\n    this.anonymousRoutesSubject.next(anonymousRoutesResponse);\r\n  }\r\n\r\n  getAnonymousRoutes(): Observable<GetAnonymousRoutesResponse>\r\n  {\r\n    return of(this.anonymousRoutesSubject.value);\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { Injector, ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { LocateRouteService, ReCaptchaInterceptor } from '@tei/core';\r\nimport { NB_AUTH_FALLBACK_TOKEN, NB_AUTH_INTERCEPTOR_HEADER, NB_AUTH_OPTIONS, NB_AUTH_STRATEGIES, NB_AUTH_TOKENS, NB_AUTH_TOKEN_INTERCEPTOR_FILTER, NB_AUTH_USER_OPTIONS, NbAuthModule, NbAuthOptions, NbAuthService, NbAuthSimpleToken, NbAuthTokenParceler, NbDummyAuthStrategy, NbOAuth2AuthStrategy, NbTokenService, NbTokenStorage, nbNoOpInterceptorFilter, nbOptionsFactory, nbStrategiesFactory, nbTokensFactory } from '@tei/nebular-auth';\r\nimport { ManagerOverrideModule } from '@tei/pos-shared';\r\nimport { AuthGuard } from './@services/auth.gaurd';\r\nimport { AuthService } from './@services/auth.service';\r\nimport { ErrorInterceptor } from './@services/error.interceptor';\r\nimport { PasswordAuthStrategy } from './@services/password-strategy';\r\nimport { TokenStorage } from './@services/token-storage';\r\nimport { TokenInterceptor } from './@services/token.interceptor';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst MODULES = [ManagerOverrideModule, TranslateModule];\r\n\r\nconst COMPONENTS = [];\r\nconst PIPES = [];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MODULES],\r\n  exports: [...BASE_MODULES, ...MODULES, ...COMPONENTS, ...PIPES],\r\n  declarations: [...COMPONENTS, ...PIPES],\r\n  providers: [\r\n    AuthGuard,\r\n    { provide: 'IAuthService', useClass: AuthService },\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: TokenInterceptor,\r\n      multi: true\r\n    },\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: ErrorInterceptor,\r\n      multi: true\r\n    }, {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: ReCaptchaInterceptor,\r\n      multi: true\r\n    }\r\n  ],\r\n})\r\nexport class AuthenticationModule\r\n{\r\n  static forRoot(nbAuthOptions?: NbAuthOptions): ModuleWithProviders<NbAuthModule>\r\n  {\r\n    return {\r\n      ngModule: NbAuthModule,\r\n      providers: [\r\n        { provide: NB_AUTH_USER_OPTIONS, useValue: nbAuthOptions },\r\n        { provide: NB_AUTH_OPTIONS, useFactory: nbOptionsFactory, deps: [NB_AUTH_USER_OPTIONS] },\r\n        { provide: NB_AUTH_STRATEGIES, useFactory: nbStrategiesFactory, deps: [NB_AUTH_OPTIONS, Injector] },\r\n        { provide: NB_AUTH_TOKENS, useFactory: nbTokensFactory, deps: [NB_AUTH_STRATEGIES] },\r\n        { provide: NB_AUTH_FALLBACK_TOKEN, useValue: NbAuthSimpleToken },\r\n        { provide: NB_AUTH_INTERCEPTOR_HEADER, useValue: 'Authorization' },\r\n        { provide: NB_AUTH_TOKEN_INTERCEPTOR_FILTER, useValue: nbNoOpInterceptorFilter },\r\n        { provide: NbTokenStorage, useClass: TokenStorage },\r\n        { provide: NbAuthService, useClass: AuthService },\r\n        { provide: 'ILocateRouteService', useClass: LocateRouteService },\r\n        NbAuthTokenParceler,\r\n        NbTokenService,\r\n        NbDummyAuthStrategy,\r\n        PasswordAuthStrategy,\r\n        NbOAuth2AuthStrategy,\r\n      ],\r\n    };\r\n  }\r\n}\r\n","import { Observable } from 'rxjs';\r\n\r\nexport interface User {\r\n  name: string;\r\n  picture: string;\r\n}\r\n\r\nexport interface Contacts {\r\n  user: User;\r\n  type: string;\r\n}\r\n\r\nexport interface RecentUsers extends Contacts {\r\n  time: number;\r\n}\r\n\r\nexport abstract class UserData {\r\n  abstract getUsers(): Observable<User[]>;\r\n  abstract getContacts(): Observable<Contacts[]>;\r\n  abstract getRecentUsers(): Observable<RecentUsers[]>;\r\n}\r\n","export const environment = {\n  production: true,\n  apiBaseUrl: 'https://proxy-internal.totaleintegrated.com/dev/gateway',\n  messagingBaseUrl: 'https://proxy-internal.totaleintegrated.com/dev/messaging',\n  googleAnalyticsTagID: 'googleAnalyticsTagID',\n  recaptchaEnterpriseUrl: 'https://www.google.com/recaptcha/enterprise.js',\n  recaptchaUrl: 'https://www.google.com/recaptcha/api.js',\n  isEnterprise: true,\n  ignoreExternalLoginRedirection: false,\n  isCapacitor: true,\n  turnstileConfigs: {\n    cloudflareTurnstileUrl: 'https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit',\n    appearance: {\n      default: 'interaction-only',\n      auth: 'always',//always, interaction-only, execute,\n      teetimes: 'always'\n    }\n  }\n};\n","export const PWAConfigs = {\r\n  isActive: true\r\n};\r\n","export class GetLocateTenantRequest\r\n{\r\n  public TenantUID: string | undefined;\r\n}\r\n\r\nexport class GetLocateTenantResponse\r\n{\r\n  public Url: string;\r\n}\r\n","export class InitiatorData\r\n{\r\n  public Referer: string;\r\n  public RedirectUrl?: string;\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { UserService } from './users.service';\r\n\r\nconst SERVICES = [\r\n  UserService,\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n  ],\r\n  providers: [\r\n    ...SERVICES,\r\n  ],\r\n})\r\nexport class MockDataModule {\r\n  static forRoot(): ModuleWithProviders<MockDataModule> {\r\n    return {\r\n      ngModule: MockDataModule,\r\n      providers: [\r\n        ...SERVICES,\r\n      ],\r\n    };\r\n  }\r\n}\r\n","import { of as observableOf,  Observable } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\nimport { Contacts, RecentUsers, UserData } from '../data/users';\r\n\r\n@Injectable()\r\nexport class UserService extends UserData {\r\n\r\n  private time: Date = new Date;\r\n\r\n  private users = {\r\n    nick: { name: 'Nick Jones', picture: 'assets/images/nick.png' },\r\n    eva: { name: 'Eva Moor', picture: 'assets/images/eva.png' },\r\n    jack: { name: 'Jack Williams', picture: 'assets/images/jack.png' },\r\n    lee: { name: 'Lee Wong', picture: 'assets/images/lee.png' },\r\n    alan: { name: 'Alan Thompson', picture: 'assets/images/alan.png' },\r\n    kate: { name: 'Kate Martinez', picture: 'assets/images/kate.png' },\r\n  };\r\n  private types = {\r\n    mobile: 'mobile',\r\n    home: 'home',\r\n    work: 'work',\r\n  };\r\n  private contacts: Contacts[] = [\r\n    { user: this.users.nick, type: this.types.mobile },\r\n    { user: this.users.eva, type: this.types.home },\r\n    { user: this.users.jack, type: this.types.mobile },\r\n    { user: this.users.lee, type: this.types.mobile },\r\n    { user: this.users.alan, type: this.types.home },\r\n    { user: this.users.kate, type: this.types.work },\r\n  ];\r\n  private recentUsers: RecentUsers[]  = [\r\n    { user: this.users.alan, type: this.types.home, time: this.time.setHours(21, 12)},\r\n    { user: this.users.eva, type: this.types.home, time: this.time.setHours(17, 45)},\r\n    { user: this.users.nick, type: this.types.mobile, time: this.time.setHours(5, 29)},\r\n    { user: this.users.lee, type: this.types.mobile, time: this.time.setHours(11, 24)},\r\n    { user: this.users.jack, type: this.types.mobile, time: this.time.setHours(10, 45)},\r\n    { user: this.users.kate, type: this.types.work, time: this.time.setHours(9, 42)},\r\n    { user: this.users.kate, type: this.types.work, time: this.time.setHours(9, 31)},\r\n    { user: this.users.jack, type: this.types.mobile, time: this.time.setHours(8, 0)},\r\n  ];\r\n\r\n  getUsers(): Observable<any> {\r\n    return observableOf(this.users);\r\n  }\r\n\r\n  getContacts(): Observable<Contacts[]> {\r\n    return observableOf(this.contacts);\r\n  }\r\n\r\n  getRecentUsers(): Observable<RecentUsers[]> {\r\n    return observableOf(this.recentUsers);\r\n  }\r\n}\r\n","export function throwIfAlreadyLoaded(parentModule: any, moduleName: string) {\r\n  if (parentModule) {\r\n    throw new Error(`${moduleName} has already been loaded. Import Core modules in the AppModule only.`);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ILocateTenantService } from '../intermediate/locate-tenant.interface';\r\nimport { GetLocateTenantRequest } from '../intermediate/models/get-locate-tenant.model';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LocateTenantService implements ILocateTenantService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(\r\n    @Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient\r\n  )\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/LocateTenant';\r\n  }\r\n\r\n  public Get(request: GetLocateTenantRequest): Observable<any>\r\n  {\r\n    const apiUrl = this.serviceUrl;\r\n    return this.http.get<any>(apiUrl, { params: request as any });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { Router } from '@angular/router';\r\nimport { AppIdentifierService } from '@tei/core';\r\nimport { SignalrMessagingClientService } from '@tei/core-signalr';\r\nimport { CardDialogComponent, ConfirmationDialogComponent, SnackBarMessage, SnackBarService } from '@tei/material';\r\nimport { NbAuthService, NbTokenStorage } from '@tei/nebular-auth';\r\nimport { Observable, of } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { ReadyReportDialogDataModel } from '../../@intermediate/models/report-notification.model';\r\nimport { GlobalSettingsProvider } from '../../@services/global-settings.provider';\r\nimport { ReadyReportDialogComponent } from '../../components/dialogs/ready-report-dialog/ready-report-dialog.component';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Injectable()\r\nexport class MessagingClientService\r\n{\r\n  constructor(\r\n    private authService: NbAuthService,\r\n    private appIdentifierService: AppIdentifierService,\r\n    private tokenStorage: NbTokenStorage,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private router: Router,\r\n    public dialog: MatDialog,\r\n    private signalrMessagingClientService: SignalrMessagingClientService,\r\n    private snackBarService: SnackBarService,\r\n    private translate: TranslateService,\r\n  ) { }\r\n\r\n  initMessagingClientService(): void\r\n  {\r\n    this.connectToSignalR().subscribe((data) =>\r\n    {\r\n      if (data?.settings?.MessagingEnabled)\r\n      {\r\n        this.signalrMessagingClientService.init(data.result.getPayload()?.UserName, 'Bearer ' + data.result.getValue());\r\n        this.signalRMessageReceived();\r\n      }\r\n    });\r\n  }\r\n\r\n  connectToSignalR(): Observable<any>\r\n  {\r\n    return this.authService.onAuthenticationChange().pipe(\r\n      switchMap(() =>\r\n      {\r\n        return this.authService.getToken().pipe(\r\n          switchMap((result) =>\r\n          {\r\n            if (result?.getPayload() && result?.getValue())\r\n            {\r\n              return this.globalSettingsProvider.GetInitializationSettings().pipe(\r\n                switchMap((settings) =>\r\n                {\r\n                  return of({ result, settings });\r\n                })\r\n              );\r\n            } else\r\n            {\r\n              return of({});\r\n            }\r\n          })\r\n        );\r\n      })\r\n    );\r\n  }\r\n\r\n  signalRMessageReceived(): void\r\n  {\r\n    this.signalrMessagingClientService.messageReceived.subscribe(\r\n      {\r\n        next: (message) =>\r\n        {\r\n          if (message.MessageType === 'Logout')\r\n          {\r\n            const logoutMessage = JSON.parse(message.SerializedMessage);\r\n\r\n            this.authService.getToken().subscribe(token =>\r\n            {\r\n              if (logoutMessage.SessionID !== this.signalrMessagingClientService.sessionID && logoutMessage.UserUID === token.getPayload()?.UserName)\r\n              {\r\n                this.tokenStorage.clear();\r\n                this.appIdentifierService.removeAppSession();\r\n\r\n                this.openLogoutNotifyDialog([logoutMessage?.RedirectUrl]);\r\n              }\r\n            });\r\n          }\r\n          if (message.MessageType === 'NotificationMessage')\r\n          {\r\n            const notificationMessage = JSON.parse(message.SerializedMessage);\r\n\r\n            const snackMessage = new SnackBarMessage();\r\n            snackMessage.title = notificationMessage.Title;\r\n            snackMessage.description = notificationMessage.Description;\r\n\r\n            this.snackBarService.showSuccess(snackMessage, '', null, 'left');\r\n          }\r\n          if (message.MessageType === 'ReportNotificationInAppMessage')\r\n          {\r\n            const notificationMessage = JSON.parse(message.SerializedMessage);\r\n\r\n            const snackMessage = new SnackBarMessage();\r\n            snackMessage.title = notificationMessage.ReportName;\r\n            snackMessage.description = notificationMessage.ReportDescription;\r\n\r\n            this.snackBarService.showSuccess(snackMessage, 'View', () =>\r\n            {\r\n              const urlObj = new URL(notificationMessage.ReportUrl);\r\n              if (window.location.host == urlObj.host)\r\n              {\r\n                this.router.navigateByUrl(urlObj.pathname);\r\n              } else\r\n              {\r\n                window.location.href = notificationMessage.ReportUrl;\r\n              }\r\n            }, 'left', 'bottom', 0);\r\n\r\n            // this.dialog.open(ReadyReportDialogComponent, {\r\n            //   panelClass: ['o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen'],\r\n            //   data: {\r\n            //     title: notificationMessage.ReportName,\r\n            //     content: notificationMessage.ReportDescription ?? ' report is ready ! ',\r\n            //     reportLink: notificationMessage.ReportUrl,\r\n            //     closeButtonLabel: this.translate.instant('SHELL.MESSAGING.READY_REPORT_DIALOG.CLOSE'),\r\n            //     submitButtonLabel: this.translate.instant('SHELL.MESSAGING.READY_REPORT_DIALOG.VIEW_REPORT'),\r\n            //     submitButtonColor: 'accent',\r\n            //     closeButtonClass: \"mat-stroked-button\"\r\n            //   } as ReadyReportDialogDataModel,\r\n            //   width: '350px',\r\n            // });\r\n          }\r\n        },\r\n        error: (err) =>\r\n        {\r\n          console.log(err);\r\n        }\r\n      });\r\n  };\r\n\r\n  openLogoutNotifyDialog(logoutUrl: Array<string>): void\r\n  {\r\n    const dialogContent = {\r\n      title: 'SHELL.APP.HEADER',\r\n      content: 'SHELL.APP.DESCRIPTION',\r\n      cancelButtonLabel: 'SHELL.APP.CLOSE'\r\n    };\r\n\r\n    const dialogRef = this.dialog.open(CardDialogComponent, {\r\n      panelClass: 'o-logged-out-dialog',\r\n      data: {\r\n        component: ConfirmationDialogComponent,\r\n        dialogData: dialogContent\r\n      },\r\n      width: '350px'\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(() =>\r\n    {\r\n      this.router.navigate(logoutUrl);\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { InitiatorData } from '../intermediate/models/initiator-data.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RedirectionLocalStorage\r\n{\r\n\r\n  protected key = 'redirection_reference';\r\n  storage: Storage;\r\n\r\n  constructor()\r\n  {\r\n    this.storage = sessionStorage;\r\n  }\r\n\r\n  get(): InitiatorData\r\n  {\r\n    const raw = this.storage.getItem(this.key);\r\n\r\n    if (raw)\r\n    {\r\n      return JSON.parse(raw);\r\n    }\r\n  }\r\n\r\n  set(referer: string, redirect_url?: string)\r\n  {\r\n    const data: InitiatorData = { Referer: referer, RedirectUrl: redirect_url };\r\n    this.storage.setItem(this.key, JSON.stringify(data));\r\n  }\r\n\r\n  clear()\r\n  {\r\n    this.storage.removeItem(this.key);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { InitiatorData } from '../intermediate/models/initiator-data.model';\r\n\r\n@Injectable()\r\nexport class RefererLocalStorage\r\n{\r\n\r\n  protected key = 'app_referer';\r\n\r\n  constructor()\r\n  {\r\n\r\n  }\r\n\r\n  get(): InitiatorData\r\n  {\r\n    const raw = localStorage.getItem(this.key);\r\n\r\n    if (raw)\r\n    {\r\n      return JSON.parse(raw);\r\n    }\r\n  }\r\n\r\n  set(referer: string, redirect_url?: string)\r\n  {\r\n    const data: InitiatorData = { Referer: referer, RedirectUrl: redirect_url };\r\n    localStorage.setItem(this.key, JSON.stringify(data));\r\n  }\r\n\r\n  clear()\r\n  {\r\n    localStorage.removeItem(this.key);\r\n  }\r\n}\r\n","import { Inject, Injectable, OnDestroy } from '@angular/core';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\nimport { AppIdentifierService, AppSessionModel, IAPIBaseUrlProvider } from '@tei/core';\r\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\r\nimport { filter, takeUntil } from 'rxjs/operators';\r\nimport { MenuItem } from '../intermediate/models/get-header.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RoutingManagementService implements OnDestroy\r\n{\r\n  private destroy$ = new Subject();\r\n\r\n  private readonly serviceUrl: string;\r\n  pageIsReloaded: boolean = false;\r\n\r\n  //we use this property ro detect event from browser\r\n  //just set when header click, because on refresh this is false\r\n  headerOrSideMenuIsClicked: boolean = false;\r\n\r\n  // --- header menu data\r\n  private headerMenuDataSubject: BehaviorSubject<MenuItem[]> = new BehaviorSubject<MenuItem[]>(null);\r\n  public headerMenuData: Observable<MenuItem[]> = this.headerMenuDataSubject.asObservable();\r\n  private headerIsLoaded: boolean = false;\r\n  // --- header menu data\r\n\r\n  // --- select header menu\r\n  private selectedHeaderMenuSubject: BehaviorSubject<AppSessionModel> = new BehaviorSubject<AppSessionModel>(null);\r\n  public selectedHeaderMenu: Observable<AppSessionModel> = this.selectedHeaderMenuSubject.asObservable();\r\n  // --- select header menu\r\n\r\n  constructor(\r\n    @Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private router: Router,\r\n    private appIdentifierService: AppIdentifierService,\r\n  )\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl();\r\n\r\n    this.router.events\r\n      .pipe(takeUntil(this.destroy$))\r\n      .pipe(filter((rs): rs is NavigationEnd => rs instanceof NavigationEnd))\r\n      .subscribe(event =>\r\n      {\r\n        //detect reload page\r\n        this.pageIsReloaded = event.id === 1 && event.url === event.urlAfterRedirects;\r\n      });\r\n  }\r\n\r\n  // --- header menu data\r\n  onHeaderDataChange(item: MenuItem[]): void\r\n  {\r\n    this.headerMenuDataSubject.next(item);\r\n  }\r\n\r\n  getHeaderData(): MenuItem[]\r\n  {\r\n    return this.headerMenuDataSubject.value;\r\n  }\r\n\r\n  getHeaderIsLoaded(): boolean\r\n  {\r\n    return this.headerIsLoaded;\r\n  }\r\n\r\n  setHeaderIsLoaded(value: boolean): void\r\n  {\r\n    this.headerIsLoaded = value;\r\n  }\r\n  // --- header menu data\r\n\r\n  // --- select header menu\r\n  onHeaderMenuClick(appSession: AppSessionModel): void\r\n  {\r\n    this.appIdentifierService.setAppSession(appSession);\r\n    this.appIdentifierService.setAppSessionToSession(appSession);\r\n\r\n    this.headerOrSideMenuIsClicked = true;\r\n    this.selectedHeaderMenuSubject.next(appSession);\r\n\r\n    this.router.navigate([appSession.baseAddress]);\r\n  }\r\n  // --- select header menu\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { NbAuthToken } from '@tei/nebular-auth';\r\nimport { IAuthResult, IAuthService } from '@tei/abstraction';\r\nimport { ILocateTenantService } from '../intermediate/locate-tenant.interface';\r\nimport { GetLocateTenantRequest } from '../intermediate/models/get-locate-tenant.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TenantRedirectService\r\n{\r\n\r\n  constructor(@Inject('IAuthService') private authService: IAuthService,\r\n    @Inject('ILocateTenantService') private locateTenantService: ILocateTenantService) { }\r\n\r\n  redirect(tenantUid: string, path: string)\r\n  {\r\n    const request = new GetLocateTenantRequest();\r\n    request.TenantUID = tenantUid;\r\n\r\n    this.locateTenantService.Get(request).subscribe(response =>\r\n    {\r\n      this.authService.getToken().subscribe((token: NbAuthToken) =>\r\n      {\r\n        this.authService.validateToken('gateway', { access_token: token.getValue() }).subscribe((result: IAuthResult) =>\r\n        {\r\n          this.authService.getToken().subscribe((token_new: NbAuthToken) =>\r\n          {\r\n            const url = `${ response.Url }auth/handle-redirection?access_token=${ token_new.getValue() }&refresh_token=${ token_new.getPayload().refresh_token }&path=${ encodeURIComponent(path) }`;\r\n            window.location.href = url;\r\n          });\r\n        });\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport { filter } from 'rxjs/operators';\r\n\r\ndeclare const ga: any;\r\n\r\n@Injectable()\r\nexport class AnalyticsService {\r\n  private enabled: boolean;\r\n\r\n  constructor(private location: Location, private router: Router) {\r\n    this.enabled = false;\r\n  }\r\n\r\n  trackPageViews() {\r\n    if (this.enabled) {\r\n      this.router.events.pipe(\r\n        filter((event) => event instanceof NavigationEnd),\r\n      )\r\n        .subscribe(() => {\r\n          ga('send', {hitType: 'pageview', page: this.location.path()});\r\n        });\r\n    }\r\n  }\r\n\r\n  trackEvent(eventName: string) {\r\n    if (this.enabled) {\r\n      ga('send', 'event', eventName);\r\n    }\r\n  }\r\n}\r\n","import { environment } from '../environments/environment';\r\nimport { AnalyticsService } from './analytics.service';\r\nimport { LayoutService } from './layout.service';\r\n\r\nexport const defaultConfig = {\r\n  production: (window as any)?.__config?.production ?? environment?.production,\r\n  apiBaseUrl: (window as any)?.__config?.apiBaseUrl ?? environment?.apiBaseUrl,\r\n  messagingBaseUrl: (window as any)?.__config?.messagingBaseUrl ?? environment?.messagingBaseUrl,\r\n  googleAnalyticsTagID: (window as any)?.__config?.googleAnalyticsTagID ?? environment?.googleAnalyticsTagID,\r\n};\r\n\r\nexport\r\n{\r\n  LayoutService,\r\n  AnalyticsService\r\n};\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { debounceTime, delay, shareReplay } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class LayoutService\r\n{\r\n  protected layoutSize$ = new Subject();\r\n  protected layoutSizeChange$ = this.layoutSize$.pipe(\r\n    shareReplay({ refCount: true }),\r\n  );\r\n\r\n  changeLayoutSize()\r\n  {\r\n    this.layoutSize$.next(true);\r\n  }\r\n\r\n  onChangeLayoutSize(): Observable<any>\r\n  {\r\n    return this.layoutSizeChange$.pipe(delay(1));\r\n  }\r\n\r\n  onSafeChangeLayoutSize(): Observable<any>\r\n  {\r\n    return this.layoutSizeChange$.pipe(\r\n      debounceTime(350),\r\n    );\r\n  }\r\n}\r\n","import { GetGlobalTenantSettingsResponse as TenantSettingsResponse } from \"@tei/core\";\r\n\r\nexport class MenuEmitObject\r\n{\r\n  public AppIdentifier: string;\r\n  // public BaseUrl: string;\r\n}\r\n\r\n// export class ShellSidebarMenuItem extends NbMenuItem\r\n// {\r\n//   internalApplicationIdentifier: string;\r\n//   internalApplicationBackTitle: string;\r\n//   internalApplicationBackUrl: string;\r\n//   internalApplicationFullPath: string;\r\n//   headerLabel: string;\r\n//   position: number;\r\n//   sortOrder: number;\r\n// }\r\n\r\nexport class GetInitializationSettingsRequest\r\n{\r\n\r\n}\r\n\r\nexport class GetInitializationSettingsResponse\r\n{\r\n  public MessagingEnabled: boolean;\r\n}\r\n\r\nexport class GetGlobalTenantSettingsRequest\r\n{\r\n\r\n}\r\n\r\nexport class GetGlobalTenantSettingsResponse extends TenantSettingsResponse\r\n{\r\n\r\n}\r\n\r\nexport class ManifestSetting\r\n{\r\n  TenantWebAliasID: number;\r\n  Name: string;\r\n  ShortName: string;\r\n  ThemeColor: string;\r\n  BackgroundColor: string;\r\n  Display: string;\r\n  Scope: string;\r\n  StartUrl: string;\r\n  Description: string;\r\n  Orientation: string;\r\n  Icons: Icons[];\r\n}\r\n\r\nexport class Icons\r\n{\r\n  Src: string;\r\n  Sizes: string;\r\n  Type: string;\r\n  Purpose: string;\r\n}\r\n","export class ReadyReportDialogDataModel\r\n{\r\n    title: string;\r\n    content: string;\r\n    reportLink?: string;\r\n    submitButtonLabel?: string;\r\n    closeButtonLabel?: string;\r\n    submitButtonColor?: string;\r\n    submitButtonClass?: string;\r\n    closeButtonClass?: string;\r\n}","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\nimport { Observable } from 'rxjs';\r\nimport { IAppService } from '../@intermediate/app.interface';\r\nimport { GetGlobalTenantSettingsRequest, GetGlobalTenantSettingsResponse, GetInitializationSettingsRequest, GetInitializationSettingsResponse } from '../@intermediate/models/app.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AppService implements IAppService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/App';\r\n  }\r\n\r\n  public GetInitializationSettings(request: GetInitializationSettingsRequest): Observable<GetInitializationSettingsResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/InitializationSettings';\r\n    return this.http.get<GetInitializationSettingsResponse>(apiUrl, { params: request as any });\r\n  }\r\n\r\n  public GetGlobalTenantSettings(request: GetGlobalTenantSettingsRequest): Observable<GetGlobalTenantSettingsResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/GlobalTenantSettings';\r\n    return this.http.get<GetGlobalTenantSettingsResponse>(apiUrl, { params: request as any });\r\n  }\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { EventBus } from '@tei/core';\r\nimport { RetailTransactionInquiryDetailDialogService } from '@tei/retail-admin';\r\nimport { FBTransactionInquiryDetailDialogService } from '@tei/food-and-beverage-administration';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class BusBridgeService \r\n{\r\n    constructor(private bus: EventBus, private injector: Injector) \r\n    {\r\n        this.bus.on('FoodAndBeverageAdmin.TransactionInquiryDetail.ShowDialog').subscribe(({payload}) => {\r\n                \r\n            const transactionInquiryService = \r\n                    this.injector.get(FBTransactionInquiryDetailDialogService);\r\n\r\n                    transactionInquiryService.openDetailDialog(\r\n            payload.OrderID,\r\n            payload.CheckID,\r\n            payload.StartDate,\r\n            payload.EndDate \r\n        );\r\n        });\r\n        this.bus.on('RetailAdmin.TransactionInquiryDetail.ShowDialog').subscribe(({payload}) => {\r\n        \r\n            const transactionInquiryService = \r\n                    this.injector.get(RetailTransactionInquiryDetailDialogService);\r\n\r\n                    transactionInquiryService.openDetailDialog(payload.TransactionUID);\r\n\r\n        });\r\n    }\r\n\r\n}","import { APP_INITIALIZER, FactoryProvider, Inject, Injectable } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { IAppState, createTenantSettingsAction } from '@tei/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { IAppService } from '../@intermediate/app.interface';\r\nimport\r\n{\r\n  GetGlobalTenantSettingsRequest,\r\n  GetGlobalTenantSettingsResponse,\r\n  GetInitializationSettingsRequest,\r\n  GetInitializationSettingsResponse,\r\n  ManifestSetting\r\n} from '../@intermediate/models/app.model';\r\nimport { Router } from '@angular/router';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GlobalSettingsProvider\r\n{\r\n  public readonly CaptchaV3_InvalidToken = 'CaptchaV3_InvalidToken';\r\n  private initialization_settings: GetInitializationSettingsResponse;\r\n  private tenant_settings: GetGlobalTenantSettingsResponse;\r\n  private currentStylesheetLink: HTMLLinkElement | null = null;\r\n\r\n  constructor(\r\n    @Inject('IAppService') private appService: IAppService,\r\n    private store: Store<IAppState>,\r\n    private router: Router\r\n  ) { }\r\n\r\n  public GetInitializationSettings(): Observable<GetInitializationSettingsResponse>\r\n  {\r\n    if (!this.initialization_settings)\r\n    {\r\n      const request = new GetInitializationSettingsRequest();\r\n\r\n      return this.appService.GetInitializationSettings(request)\r\n        .pipe(\r\n          map((response: GetInitializationSettingsResponse) =>\r\n          {\r\n            this.initialization_settings = response;\r\n            return this.initialization_settings;\r\n          }));\r\n    }\r\n    else\r\n    {\r\n      return of(this.initialization_settings);\r\n    }\r\n  }\r\n\r\n  public GetGlobalTenantSettings(): Observable<GetGlobalTenantSettingsResponse>\r\n  {\r\n    if (!this.tenant_settings)\r\n    {\r\n      const request = new GetGlobalTenantSettingsRequest();\r\n\r\n      return this.appService.GetGlobalTenantSettings(request).pipe(\r\n        map((response: GetGlobalTenantSettingsResponse) =>\r\n        {\r\n          this.setIsDevice();\r\n          this.tenant_settings = response;\r\n          this.applyTenantStylesheet(response.CustomTenentStylesheetUrl);\r\n          this.store.dispatch(createTenantSettingsAction({ tenantSettings: this.tenant_settings }));\r\n          return this.tenant_settings;\r\n        }));\r\n    }\r\n    else\r\n    {\r\n      this.applyTenantStylesheet(this.tenant_settings.CustomTenentStylesheetUrl);\r\n      this.store.dispatch(createTenantSettingsAction({ tenantSettings: this.tenant_settings }));\r\n      return of(this.tenant_settings);\r\n    }\r\n  }\r\n\r\n  public getLogo(settings: GetGlobalTenantSettingsResponse, current_theme: string): string\r\n  {\r\n    if (current_theme.includes('dark'))\r\n    {\r\n      return settings?.DarkThemeLogo;\r\n    }\r\n    else\r\n    {\r\n      return settings?.LightThemeLogo;\r\n    }\r\n  }\r\n\r\n  public getHeaderLogo(settings: GetGlobalTenantSettingsResponse, current_theme: string): string\r\n  {\r\n    if (current_theme.includes('dark'))\r\n    {\r\n      return settings?.DarkThemeHeaderLogo;\r\n    }\r\n    else\r\n    {\r\n      return settings?.LightThemeHeaderLogo;\r\n    }\r\n  }\r\n\r\n  private applyTenantStylesheet(stylesheetUrl: string | undefined): void\r\n  {\r\n    this.removeTenantStylesheet();\r\n\r\n    if (stylesheetUrl && this.router.url.startsWith('/web')) {\r\n      var pageStyleSheet = document.getElementById(\"dynamic-page-stylesheet\");\r\n\r\n      const linkElement = document.createElement('link');\r\n      linkElement.rel = 'stylesheet';\r\n      linkElement.href = stylesheetUrl;\r\n      linkElement.id = 'tenant-stylesheet';\r\n      if (pageStyleSheet != null) {\r\n        document.head.insertBefore(linkElement, pageStyleSheet);\r\n      } else {\r\n        document.head.appendChild(linkElement);\r\n      }\r\n      this.currentStylesheetLink = linkElement;\r\n    }\r\n  }\r\n\r\n  private removeTenantStylesheet(): void\r\n  {\r\n    if (this.currentStylesheetLink)\r\n    {\r\n      this.currentStylesheetLink.remove();\r\n      this.currentStylesheetLink = null;\r\n    }\r\n  }\r\n\r\n  setIsDevice(): void\r\n  {\r\n    if (window.location.pathname.startsWith('/devices'))\r\n    {\r\n      localStorage.setItem('isDevice', 'true');\r\n    }\r\n  }\r\n\r\n  getPWAManifest(manifest: ManifestSetting): void\r\n  {\r\n    const ManifestSetting = {\r\n      name: manifest?.Name,\r\n      short_name: manifest?.ShortName,\r\n      theme_color: manifest?.ThemeColor,\r\n      background_color: manifest?.BackgroundColor,\r\n      display: manifest?.Display,\r\n      start_url: location.origin + manifest?.StartUrl,\r\n      description: manifest?.Description,\r\n      orientation: manifest?.Orientation,\r\n      icons: manifest?.Icons.map(icon => ({ src: icon?.Src, sizes: icon?.Sizes, type: icon?.Type, purpose: icon?.Purpose }))\r\n    };\r\n\r\n    const stringManifest = JSON.stringify(ManifestSetting);\r\n    const blob = new Blob([stringManifest], { type: 'application/json' });\r\n    const manifestURL = URL.createObjectURL(blob);\r\n    document.querySelector('#web-manifest').setAttribute('href', manifestURL);\r\n  }\r\n\r\n  public get recaptchaSiteKeyV3() { return this.tenant_settings?.GoogleRecaptchaSiteKey; }\r\n  public get googleRecaptchaIsActive() { return this.tenant_settings?.GoogleRecaptchaIsActive; }\r\n  public get recaptchaSiteKeyV2() { return this.tenant_settings?.GoogleRecaptchaSiteKeyV2; }\r\n}\r\n\r\nexport function globalSettingsFactory(globalSettingsProvider: GlobalSettingsProvider)\r\n{\r\n  return () => globalSettingsProvider.GetGlobalTenantSettings();\r\n}\r\n\r\nexport const globalSettingFactoryProvider: FactoryProvider = {\r\n  provide: APP_INITIALIZER,\r\n  useFactory: globalSettingsFactory,\r\n  deps: [GlobalSettingsProvider],\r\n  multi: true\r\n};\r\n","import { Injectable } from '@angular/core';\r\nimport { Meta, Title } from '@angular/platform-browser';\r\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class WebDynamicPageService\r\n{\r\n  private currentStyleSheetLink: HTMLLinkElement | null = null;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private titleService: Title,\r\n    private meta: Meta\r\n  ) { }\r\n\r\n  initDynamicTitleListener(defaultTitle: string): void\r\n  {\r\n    this.router.events\r\n      .pipe(\r\n        filter(event => event instanceof NavigationEnd),\r\n        map(() =>\r\n        {\r\n          let route = this.activatedRoute.firstChild;\r\n          let title: string | undefined;\r\n          let originalRoute: string | undefined;\r\n          let pageStyleSheetURL: string | undefined;\r\n\r\n          while (route)\r\n          {\r\n            if (route.snapshot.data?.['title'])\r\n            {\r\n              title = route.snapshot.data?.title;\r\n              break;\r\n            }\r\n            route = route.firstChild;\r\n          }\r\n\r\n          route = this.activatedRoute.firstChild;\r\n          while (route)\r\n          {\r\n            if (route.snapshot.data?.['OriginalRoute'])\r\n            {\r\n              originalRoute = route.snapshot.data?.OriginalRoute;\r\n            }\r\n            if (route.snapshot.data?.['PageStyleSheetURL'])\r\n            {\r\n              pageStyleSheetURL = route.snapshot.data?.PageStyleSheetURL;\r\n            }\r\n            if (originalRoute && pageStyleSheetURL)\r\n            {\r\n              break;\r\n            }\r\n            route = route.firstChild;\r\n          }\r\n\r\n          if (!this.router.url.startsWith('/web'))\r\n          {\r\n            pageStyleSheetURL = undefined;\r\n          }\r\n\r\n          return { title: title || defaultTitle, originalRoute, pageStyleSheetURL };\r\n        })\r\n      )\r\n      .subscribe(response =>\r\n      {\r\n        this.titleService.setTitle(response.title);\r\n\r\n        if (response.originalRoute)\r\n        {\r\n          this.meta.updateTag({ name: 'x-original-route', content: response.originalRoute });\r\n        }\r\n        else\r\n        {\r\n          this.meta.removeTag(\"name='x-original-route'\");\r\n        }\r\n\r\n        if (this.currentStyleSheetLink)\r\n        {\r\n          this.currentStyleSheetLink.remove();\r\n          this.currentStyleSheetLink = null;\r\n        }\r\n\r\n        if (response.pageStyleSheetURL)\r\n        {\r\n          const linkElement = document.createElement('link');\r\n          linkElement.rel = 'stylesheet';\r\n          linkElement.id = 'dynamic-page-stylesheet';\r\n          linkElement.href = response.pageStyleSheetURL;\r\n          linkElement.dataset.dynamicStylesheet = 'true';\r\n          document.head.appendChild(linkElement);\r\n          this.currentStyleSheetLink = linkElement;\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { Route } from '@angular/router';\r\nimport { ApplicationIdentifier, IAPIBaseUrlProvider, RouteChangeResolver } from '@tei/core';\r\nimport { catchError, firstValueFrom, map, Observable, of } from 'rxjs';\r\nimport { GetPageRoutesResponse, RouteMap } from '../@intermediate/models/web-dynamic-routing.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WebDynamicRoutingService\r\n{\r\n  moduleMap: { [key: string]: () => Partial<Route>; } = {\r\n    'TeeTimes': () => ({\r\n      loadChildren: () => import('@tei/booking-tee-times').then(m => m.TeeTimesModule),\r\n      data: { appIdentifier: ApplicationIdentifier.TeeTime },\r\n      resolve: { data: RouteChangeResolver }\r\n    }),\r\n    'FieldManagement': () => ({\r\n      loadChildren: () => import('@tei/common-field-management').then(m => m.FieldManagementModule),\r\n    }),\r\n    'LotterySettings': () => ({\r\n      loadChildren: () => import('@tei/tee-sheet-administration').then(m => m.LotteryRequestsModule),\r\n    }),\r\n    'Lottery': () => ({\r\n      loadChildren: () => import('@tei/booking-lottery').then(m => m.LotteryModule),\r\n      data: { appIdentifier: ApplicationIdentifier.Lottery },\r\n      resolve: { data: RouteChangeResolver }\r\n    }),\r\n    'Dining': () => ({\r\n      loadChildren: () => import('@tei/booking-dining').then(m => m.DiningModule),\r\n      data: { appIdentifier: ApplicationIdentifier.Dining },\r\n      resolve: { data: RouteChangeResolver }\r\n    }),\r\n    'MyAccount': () => ({\r\n      loadChildren: () => import('@tei/common-my-account').then(m => m.MyAccountModule),\r\n    }),\r\n    'MyAccount-PaymentMethods': () => ({\r\n      loadChildren: () => import('@tei/common-my-account').then(m => m.PaymentMethodsModule),\r\n      data: { NavigatedFromDynamicRouter: true }\r\n    }),\r\n    'MyAccount-MyProfile': () => ({\r\n      loadChildren: () => import('@tei/common-my-account').then(m => m.MyProfileFieldInfoModule),\r\n    }),\r\n    'MyAccount-Transactions': () => ({\r\n      loadChildren: () => import('@tei/common-my-account').then(m => m.TransactionsModule),\r\n    }),\r\n    'MyAccount-Itinerary': () => ({\r\n      loadChildren: () => import('@tei/common-my-account').then(m => m.ItineraryModule),\r\n    }),\r\n    'MyAccount-Statements': () => ({\r\n      loadChildren: () => import('@tei/common-my-account').then(m => m.StatementsModule),\r\n    }),\r\n    'MyAccount-Addresses': () => ({\r\n      loadChildren: () => import('@tei/common-my-account').then(m => m.AddressesModule),\r\n      data: { NavigatedFromDynamicRouter: true }\r\n    }),\r\n    'Event': () => ({\r\n      loadChildren: () => import('@tei/booking-event').then(m => m.EventModule),\r\n      data: { appIdentifier: ApplicationIdentifier.BookingEvent },\r\n      resolve: { data: RouteChangeResolver }\r\n    }),\r\n    'Activities': () => ({\r\n      loadChildren: () => import('@tei/booking-activities').then(m => m.ActivitiesModule),\r\n      data: { appIdentifier: ApplicationIdentifier.BookingActivities },\r\n      resolve: { data: RouteChangeResolver }\r\n    }),\r\n    'Shop': () => ({\r\n      loadChildren: () => import('@tei/retail-ecommerce').then(m => m.ECommerceModule),\r\n    }),\r\n    'MemberDirectory': () => ({\r\n      loadChildren: () => import('@tei/contacts-member-directory').then(m => m.MemberDirectoryModule),\r\n    }),\r\n    'Cms': () => ({\r\n      loadChildren: () => import('@tei/marketing-cms').then(m => m.CMSModule),\r\n      data: { appIdentifier: ApplicationIdentifier.Web },\r\n      resolve: { data: RouteChangeResolver }\r\n    }),\r\n    'Home': () => ({\r\n      loadChildren: () => import('@tei/marketing-cms').then(m => m.CmsHomePageModule),\r\n      data: { appIdentifier: ApplicationIdentifier.Web },\r\n      resolve: { data: RouteChangeResolver }\r\n    }),\r\n    'Content': () => ({\r\n      loadChildren: () => import('@tei/marketing-cms').then(m => m.ContentPageModule),\r\n      data: { appIdentifier: ApplicationIdentifier.Web },\r\n      resolve: { data: RouteChangeResolver }\r\n    }),\r\n  };\r\n\r\n  originalRoutes: RouteMap[] = [\r\n    { Route: 'tee-times', ModuleKey: 'TeeTimes' },\r\n    { Route: 'lottery/lottery-settings', ModuleKey: 'LotterySettings' },\r\n    { Route: 'lottery/lottery-request', ModuleKey: 'Lottery' },\r\n    { Route: 'dining', ModuleKey: 'Dining' },\r\n    { Route: 'field-management', ModuleKey: 'FieldManagement' },\r\n    { Route: 'my-account', ModuleKey: 'MyAccount' },\r\n    { Route: 'event', ModuleKey: 'Event' },\r\n    { Route: 'activities', ModuleKey: 'Activities' },\r\n    { Route: 'shop', ModuleKey: 'Shop' },\r\n    { Route: 'contacts/member-directory', ModuleKey: 'MemberDirectory' },\r\n  ];\r\n\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(\r\n    @Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider,\r\n    private http: HttpClient\r\n  )\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Marketing/CMS';\r\n  }\r\n\r\n  fetchWebRoutePathsFromApi(): Observable<RouteMap[]>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/PageRoutes';\r\n\r\n    return this.http.get<GetPageRoutesResponse>(apiUrl).pipe(\r\n      map((response: GetPageRoutesResponse) =>\r\n      {\r\n        const dynamicRoutes: RouteMap[] = response.PageRoutes.map(r => ({\r\n          Route: r.Route?.startsWith('/') ? r.Route.slice(1) : r.Route,\r\n          ModuleKey: r.ModuleKey,\r\n          PageTitle: r.PageTitle,\r\n          OriginalRoute: r.OriginalRoute,\r\n          PageUID: r.PageUID,\r\n          PageStyleSheetURL: r.PageStyleSheetURL\r\n        }));\r\n\r\n        return this.mergeRoutes(this.originalRoutes, dynamicRoutes);\r\n      }),\r\n      catchError(error =>\r\n      {\r\n        return of([\r\n          ...this.originalRoutes,\r\n          { Route: '', ModuleKey: 'Cms' },\r\n        ]);\r\n      })\r\n    );\r\n  }\r\n\r\n  private mergeRoutes(\r\n    originalRoutes: RouteMap[],\r\n    dynamicRoutes: RouteMap[]\r\n  ): RouteMap[]\r\n  {\r\n    const mergedMap = new Map<string, RouteMap>();\r\n\r\n    [...dynamicRoutes, ...originalRoutes, { Route: '', ModuleKey: 'Cms' }]\r\n      .forEach(item =>\r\n      {\r\n        const key = `${ item.Route }::${ item.ModuleKey }`;\r\n        const existing = mergedMap.get(key);\r\n\r\n        if (!existing)\r\n        {\r\n          mergedMap.set(key, { ...item });\r\n        } else\r\n        {\r\n          mergedMap.set(key, {\r\n            ...existing,\r\n            PageTitle: existing.PageTitle ?? item.PageTitle,\r\n            OriginalRoute: existing.OriginalRoute ?? item.OriginalRoute,\r\n            PageUID: existing.PageUID ?? item.PageUID,\r\n            PageStyleSheetURL: existing.PageStyleSheetURL ?? item.PageStyleSheetURL\r\n          });\r\n        }\r\n      });\r\n\r\n    return Array.from(mergedMap.values());\r\n  }\r\n\r\n  async loadDynamicRoutes(): Promise<void>\r\n  {\r\n    const routesFromApi = await firstValueFrom(this.fetchWebRoutePathsFromApi());\r\n    this._dynamicChildRoutes = routesFromApi.map(route =>\r\n    {\r\n      const configFactory = this.moduleMap[route.ModuleKey];\r\n      if (!configFactory)\r\n      {\r\n        console.warn(`No module mapping found for path: ${ route.Route }`);\r\n        return null;\r\n      }\r\n\r\n      const baseRoute = configFactory();\r\n      return {\r\n        path: route.Route,\r\n        ...baseRoute,\r\n        data: {\r\n          ...(baseRoute.data || {}),\r\n          title: route.PageTitle,\r\n          OriginalRoute: route.OriginalRoute,\r\n          PageUID: route.PageUID,\r\n          PageStyleSheetURL: route.PageStyleSheetURL\r\n        }\r\n      } as Route;\r\n    }).filter(r => r !== null);\r\n  }\r\n\r\n  private _dynamicChildRoutes: Route[] = [];\r\n\r\n  get dynamicChildRoutes(): Route[]\r\n  {\r\n    return this._dynamicChildRoutes;\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\r\nimport { SwUpdate } from '@angular/service-worker';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IAuthService } from '@tei/abstraction';\r\nimport { interval } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class WebWorkerService\r\n{\r\n  constructor(public swUpdate: SwUpdate,\r\n    private translate: TranslateService,\r\n    @Inject('IAuthService') private authService: IAuthService,\r\n    private snackBar: MatSnackBar)\r\n  {\r\n  }\r\n\r\n  updateClient(): void\r\n  {\r\n    if (!this.swUpdate.isEnabled)\r\n    {\r\n      console.log('PWA is not enabled');\r\n      return;\r\n    } else\r\n    {\r\n      console.log(\"pwa is enabled\");\r\n      interval(60000).subscribe(() => this.swUpdate.checkForUpdate().then(() => { }));\r\n    }\r\n    this.isAvailableUpdate();\r\n  }\r\n\r\n  isAvailableUpdate(): void\r\n  {\r\n    this.swUpdate.available.subscribe(() =>\r\n    {\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  forceUpdate(): void\r\n  {\r\n    this.swUpdate.activateUpdate().then(() =>\r\n    {\r\n      this.authService.isAuthenticated().subscribe(authenticated =>\r\n      {\r\n        if (authenticated)\r\n        {\r\n          console.log(\"pwa reload after authenticated\");\r\n          let snackBarRef = this.snackBar.open(\r\n            this.translate.instant('SHELL.WEB_WORKER.UPDATE_MESSAGE'),\r\n            this.translate.instant('SHELL.WEB_WORKER.REFRESH_NOW'),\r\n            {\r\n              duration: 0,\r\n              horizontalPosition: 'start',\r\n              verticalPosition: 'bottom'\r\n            });\r\n          snackBarRef.onAction().subscribe(() =>\r\n          {\r\n            location.reload();\r\n          });\r\n        } else\r\n        {\r\n          location.reload();\r\n        }\r\n      });\r\n      this.clearCache();\r\n    });\r\n  }\r\n\r\n  clearCache(): void\r\n  {\r\n    // Get all registered service workers\r\n    if ('serviceWorker' in navigator)\r\n    {\r\n      navigator.serviceWorker.getRegistrations().then((registrations) =>\r\n      {\r\n        // Unregister each service worker to clear cache\r\n        registrations.forEach((registration) =>\r\n        {\r\n          registration.unregister().then(r => { });\r\n        });\r\n      });\r\n    }\r\n  }\r\n}\r\n","export class DeleteUserProfilePictureRequest\r\n{\r\n}\r\n\r\nexport class DeleteUserProfilePictureResponse\r\n{\r\n}\r\n","import { ContextMenuType } from \"@tei/pos-shared\";\r\nimport { DesktopNavigationType } from '@tei/core';\r\n\r\nexport class GetHeaderRequest\r\n{\r\n\r\n}\r\n\r\nexport class GetHeaderResponse\r\n{\r\n  public User: UserInfo;\r\n  public Menu: MenuItem[];\r\n  public AllowProfilePictureChange : boolean = false;\r\n}\r\n\r\nexport class UserInfo\r\n{\r\n  public DisplayName: string;\r\n  public Email: string;\r\n  public RoleName: string;\r\n  public ProfilePictureUrl: string;\r\n}\r\n\r\nexport class MenuItem\r\n{\r\n  public ID: number;\r\n  public Name: string;\r\n  public Url: string;\r\n  public Identifier: string;\r\n  public ActualIdentifier: string;\r\n  public AllowBanners: boolean;\r\n  public CustomDesktopNavigationType: DesktopNavigationType;\r\n  public EnableCustomNavigation: boolean;\r\n  public Children: MenuItem[];\r\n  public Title: string;\r\n  public ContextMenuType: ContextMenuType;\r\n  public ApplicationRefID: string;\r\n  public Description: string;\r\n}\r\n","import { NbMenuItem } from \"@tei/nebular-theme\";\r\n\r\nexport class GetSidebarHeaderRequest\r\n{\r\n}\r\n\r\nexport class GetSidebarHeaderResponse\r\n{\r\n  Current: Tenant;\r\n  ParentTenant: Tenant;\r\n  IsParentAccessible: boolean;\r\n  ShowParent: boolean;\r\n}\r\n\r\nclass Tenant\r\n{\r\n  public TenantUID: string;\r\n  public Name: string;\r\n  public ImageUrl: string;\r\n}\r\n\r\nexport class GetSidebarRequest\r\n{\r\n  public ApplicationIdentifier: string;\r\n  public RefID: string;\r\n}\r\n\r\nexport class GetSidebarResponse\r\n{\r\n  public SidebarMenu: ShellSidebarMenuItem[];\r\n}\r\n\r\n\r\nexport class ShellSidebarMenuItem extends NbMenuItem\r\n{\r\n  internalApplicationIdentifier: string;\r\n  internalApplicationBackTitle: string;\r\n  internalApplicationBackUrl: string;\r\n  internalApplicationFullPath: string;\r\n  headerLabel: string;\r\n  refId:string;\r\n  position: number;\r\n  sortOrder: number;\r\n}\r\n","export class GetUserPreferenceRequest\r\n{\r\n\r\n}\r\n\r\nexport class GetUserPreferenceResponse\r\n{\r\n  public Preferences: Array<Preference> = [];\r\n  public IsAdmin: boolean;\r\n}\r\n\r\nexport class Preference\r\n{\r\n  public Identifier: string;\r\n  public Name: string;\r\n  public Type: PreferenceType;\r\n  public Value: string;\r\n  public PreferenceOptions: Array<PreferenceOption>;\r\n}\r\n\r\nexport class PreferenceOption\r\n{\r\n  public Identifier: string;\r\n  public Name: string;\r\n  public Description: string;\r\n  public Selected: boolean;\r\n}\r\n\r\nexport enum PreferenceType\r\n{\r\n  Input = 1,\r\n  Select = 2\r\n}\r\n\r\nexport class SelectedPreference\r\n{\r\n  public Identifier: string;\r\n  public Value: string;\r\n}\r\n","export class PostUserPreferenceRequest\r\n{\r\n  public Preferences: Array<Preference> = [];\r\n}\r\n\r\nexport class PostUserPreferenceResponse\r\n{\r\n\r\n}\r\n\r\nexport class Preference\r\n{\r\n  public Identifier: string;\r\n  public Value: string;\r\n}\r\n","import { NbMenuItem } from '@tei/nebular-theme';\r\n\r\nexport const MENU_ITEMS: NbMenuItem[] = [];\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { IAuthService } from '@tei/abstraction';\r\nimport { firstValueFrom, map, Observable, of } from 'rxjs';\r\nimport { IHeaderService } from '../@intermediate/header.interface';\r\nimport { GetHeaderResponse } from '../@intermediate/models/get-header.model';\r\nimport { ProfileSettingsService } from './profile-settings.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HeaderStoreService\r\n{\r\n  private headerModel: GetHeaderResponse;\r\n  private isAuthenticated: boolean;\r\n  constructor(@Inject('IHeaderService') private headerService: IHeaderService,\r\n    @Inject('IAuthService') private authService: IAuthService,\r\n    private profileSettingsService: ProfileSettingsService,\r\n  )\r\n  {\r\n  }\r\n\r\n  public handleIsAuthentication()\r\n  {\r\n    return this.authService.isAuthenticatedOrRefresh().subscribe(authenticated =>\r\n    {\r\n      this.isAuthenticated = authenticated;\r\n      if (this.isAuthenticated && !this.headerModel?.User)\r\n      {\r\n        this.profileSettingsService.getUserPreference();\r\n      }\r\n    });\r\n  }\r\n\r\n  public getHeaderFromApi(refresh: boolean): Observable<GetHeaderResponse>\r\n  {\r\n    if (refresh || !this.hasHeaderMenus())\r\n    {\r\n      return this.headerService.Get(null).pipe(map(headerModel =>\r\n      {        \r\n        this.headerModel = headerModel;\r\n        return headerModel;\r\n      }\r\n      ));\r\n    }\r\n    return of(this.headerModel);\r\n  }\r\n\r\n  public async fetchCurrentUserFromApi(): Promise<void>\r\n  {\r\n    if (!this.isAuthenticated) { return; }\r\n    const result = await firstValueFrom(this.headerService.GetCurrentUserInfo(null));\r\n    if (!this.headerModel)\r\n    {\r\n      this.headerModel = new GetHeaderResponse();\r\n    }\r\n    this.headerModel.User = result?.User || null;\r\n    this.headerModel.AllowProfilePictureChange = result?.AllowProfilePictureChange || false;\r\n  }\r\n\r\n  getHeaderModel(): GetHeaderResponse\r\n  {\r\n    return this.headerModel;\r\n  }\r\n\r\n  getIsAuthenticated(): boolean { return this.isAuthenticated; }\r\n\r\n  hasHeaderMenus(): boolean\r\n  {\r\n    return this.headerModel?.Menu !== null && this.headerModel?.Menu?.length > 0;\r\n  }\r\n\r\n  clearStore(): void\r\n  {\r\n    this.headerModel = null;\r\n  }\r\n\r\n}\r\n","import { HttpClient, HttpResponse } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\nimport { map, Observable } from 'rxjs';\r\nimport { IHeaderService } from '../@intermediate/header.interface';\r\nimport { GetCurrentUserInfoRequest, GetCurrentUserInfoResponse } from '../@intermediate/models/get-current-user-info.model';\r\nimport { GetHeaderRequest, GetHeaderResponse } from '../@intermediate/models/get-header.model';\r\nimport { debug } from 'node:console';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HeaderService implements IHeaderService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Header';\r\n  }\r\n\r\n  public Get(request: GetHeaderRequest): Observable<GetHeaderResponse>\r\n  {\r\n    return this.http.get<GetHeaderResponse>(this.serviceUrl, {\r\n      params: request as any,\r\n      observe: 'response'\r\n    }).pipe(\r\n      map((response: HttpResponse<GetHeaderResponse>) =>\r\n      {\r\n        const headerValue = response.headers.get('x-allow-profile-picture-change-info');        \r\n        return {\r\n          ...response.body!,\r\n          AllowProfilePictureChange: headerValue === 'True'\r\n        };\r\n      })\r\n    );\r\n  }\r\n\r\n  public GetCurrentUserInfo(request: GetCurrentUserInfoRequest): Observable<GetCurrentUserInfoResponse>\r\n  {\r\n    return this.http.get<GetHeaderResponse>(this.serviceUrl + '/GetCurrentUserInfo', {\r\n      params: request as any,\r\n      observe: 'response'\r\n    }).pipe(\r\n      map((response: HttpResponse<GetCurrentUserInfoResponse>) =>\r\n      {\r\n        const headerValue = response.headers.get('x-allow-profile-picture-change-info');        \r\n        return {\r\n          ...response.body!,\r\n          AllowProfilePictureChange: headerValue === 'True'\r\n        };\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Inject, Injectable, OnDestroy } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { select, Store } from '@ngrx/store';\r\nimport { IAuthService } from '@tei/abstraction';\r\nimport { AppIdentifierService, ApplicationIdentifier, AppSessionModel, ITopMenuState, selectTopMenu, TopMenuSelected } from '@tei/core';\r\nimport { ContextMenuType, IPOSSuccessfulAuthenticationState, POSAuthenticated } from '@tei/pos-shared';\r\nimport { firstValueFrom, Subscription } from 'rxjs';\r\nimport { GetHeaderResponse, MenuItem } from '../@intermediate/models/get-header.model';\r\nimport { HeaderStoreService } from './header-store.service';\r\n\r\nexport interface ILoadHeaderService { }\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class LoadHeaderService implements ILoadHeaderService, OnDestroy\r\n{\r\n  public static POS_IDENTIFIER = 'pos';\r\n  subscription = new Subscription();\r\n  get headerModel(): GetHeaderResponse { return this.headerStoreService.getHeaderModel(); };\r\n  userRoleShouldShow: boolean;\r\n  topMenu: MenuItem[];\r\n  topMenuState: ITopMenuState;\r\n  showMenuIcon: boolean = true;\r\n  get isAuthenticated(): boolean { return this.headerStoreService.getIsAuthenticated(); };\r\n\r\n  constructor(\r\n    private appIdentifierService: AppIdentifierService,\r\n    @Inject('IAuthService') private authService: IAuthService,\r\n    private posSuccessfulAuthentication: Store<IPOSSuccessfulAuthenticationState>,\r\n    private router: Router,\r\n    private headerStoreService: HeaderStoreService,\r\n    private store: Store,\r\n\r\n  )\r\n  {\r\n\r\n  }\r\n\r\n  async loadHeader(needNavigate: boolean, needRefresh: boolean): Promise<void>\r\n  {\r\n    this.topMenu = [];\r\n    this.topMenuState = null;\r\n\r\n    await firstValueFrom(this.headerStoreService.getHeaderFromApi(needRefresh));\r\n    const extendedAccessToken = await this.getExtendedToken();\r\n\r\n    if (!this.router.url.includes(\"/payment-engine/quick-payment\") && !this.hasHeaderMenus() && this.isAuthenticated)\r\n    {\r\n      this.router.navigate(['forbidden']);\r\n      return;\r\n    }\r\n\r\n    this.updateAppSession(this.headerModel.Menu, this.getAppSession(), extendedAccessToken);\r\n    await this.changeRouteToModule(this.headerModel.Menu || [], extendedAccessToken);\r\n    await this.updateStore(this.headerModel.Menu, needNavigate, extendedAccessToken);\r\n  }\r\n\r\n  public async getExtendedToken(): Promise<string>\r\n  {\r\n    return (await firstValueFrom(this.authService.getToken()))?.getPayload()?.extended_access_token;\r\n  }\r\n\r\n  public updateTopMenuState()\r\n  {\r\n    return this.store.pipe(\r\n      select(selectTopMenu),\r\n    );\r\n\r\n  }\r\n\r\n  private async updateAppSession(menus: MenuItem[], appSession: AppSessionModel, extendedAccessToken: string): Promise<void>\r\n  {\r\n    const menuItem = this.findPosMenuItem(menus, appSession?.applicationRefID);\r\n    if (menuItem == null)\r\n    {\r\n      return;\r\n    }\r\n\r\n    this.configureAppSession(appSession, menuItem);\r\n    await this.updatePosAuthenticationState(menuItem, extendedAccessToken);\r\n  }\r\n\r\n  private findPosMenuItem(menus: MenuItem[], applicationRefID: string): MenuItem | undefined\r\n  {\r\n    const menu = menus.find(menu => menu.Identifier === LoadHeaderService.POS_IDENTIFIER);\r\n    if (applicationRefID)\r\n    {\r\n      return menu?.Children?.find(child => child.ApplicationRefID === applicationRefID);\r\n    }\r\n    else if (menu?.Children?.length)\r\n    {\r\n      return menu?.Children?.[0];\r\n    }\r\n  }\r\n\r\n  private configureAppSession(appSession: AppSessionModel, menuItem: MenuItem): void\r\n  {\r\n    appSession.baseAddress = `${ LoadHeaderService.POS_IDENTIFIER }${ menuItem.Url }/${ menuItem.ApplicationRefID }`;\r\n    appSession.appIdentifier = menuItem.Identifier;\r\n    appSession.applicationRefID = menuItem.ApplicationRefID;\r\n    appSession.description = menuItem.Description;\r\n    appSession.showLogoutPopup = true;\r\n    appSession.urlAppRefIDRequired = true;\r\n\r\n    this.appIdentifierService.setAppSession(appSession);\r\n    this.appIdentifierService.setAppSessionToSession(appSession);\r\n  }\r\n\r\n  private async updatePosAuthenticationState(menuItem: MenuItem, extendedAccessToken: string): Promise<void>\r\n  {\r\n    if (extendedAccessToken)\r\n    {\r\n      this.dispatchPOSSuccessfulAuthenticationAction(new POSAuthenticated({\r\n        isAuthenticated: true,\r\n        identifier: menuItem.Identifier,\r\n        refID: menuItem.ApplicationRefID\r\n      }));\r\n    }\r\n  }\r\n\r\n  private dispatchPOSSuccessfulAuthenticationAction(POSSuccessfulAuthenticationAction: POSAuthenticated): void\r\n  {\r\n    this.posSuccessfulAuthentication.dispatch(POSSuccessfulAuthenticationAction);\r\n  }\r\n\r\n  async changeRouteToModule(resultMenu: MenuItem[], extendedAccessToken: string): Promise<void>\r\n  {\r\n    const lastSelectedModule = this.appIdentifierService.getAppSession();\r\n\r\n    if (extendedAccessToken && lastSelectedModule?.appIdentifier)\r\n    {\r\n      await this.handleAuthenticatedRoute(lastSelectedModule.appIdentifier);\r\n    } else\r\n    {\r\n      this.handleUnauthenticatedRoute(resultMenu, extendedAccessToken);\r\n    }\r\n  }\r\n\r\n  private async handleAuthenticatedRoute(appIdentifier: string): Promise<void>\r\n  {\r\n    const modulesRequiringUserRole = [\r\n      ApplicationIdentifier.FoodAndBeverage,\r\n      ApplicationIdentifier.Retail,\r\n      ApplicationIdentifier.RetailAdmin,\r\n      ApplicationIdentifier.EOD,\r\n      ApplicationIdentifier.FoodAndBeverageAdmin\r\n    ];\r\n    this.userRoleShouldShow = modulesRequiringUserRole.includes(appIdentifier as ApplicationIdentifier);\r\n  }\r\n\r\n  public async fetchCurrentUserFromApi(): Promise<void>\r\n  {\r\n    return await this.headerStoreService.fetchCurrentUserFromApi();\r\n  }\r\n\r\n  public handleUnauthenticatedRoute(resultMenu: MenuItem[], extendedAccessToken: any): void\r\n  {\r\n    this.topMenu = [];\r\n    if (extendedAccessToken)\r\n    {\r\n      this.topMenu = resultMenu.filter(a => a.Identifier === LoadHeaderService.POS_IDENTIFIER);\r\n    } else if (resultMenu.length > 1 || (resultMenu.length === 1 && resultMenu[0].ContextMenuType === ContextMenuType.advanced))\r\n    {\r\n      this.topMenu = resultMenu;\r\n    }\r\n  }\r\n\r\n  async updateStore(menus: MenuItem[], needNavigate: boolean, extendedAccessToken): Promise<void>\r\n  {\r\n\r\n    const currentTopMenu = await this.getCurrentTopMenu();\r\n\r\n    if (this.hasPosMenu() || extendedAccessToken)\r\n    {\r\n\r\n      const posTopMenuState = menus.find(a => a.Identifier === LoadHeaderService.POS_IDENTIFIER);\r\n\r\n      if (!this.isTopMenuUnchanged(currentTopMenu, posTopMenuState))\r\n      {\r\n        this.dispatchTopMenuUpdate(posTopMenuState);\r\n      } else\r\n      {\r\n        this.topMenuState = posTopMenuState;\r\n      }\r\n\r\n      this.updateAppSession(menus, this.getAppSession(), extendedAccessToken);\r\n      this.navigateToPos(needNavigate, extendedAccessToken, posTopMenuState);\r\n\r\n      return;\r\n    }\r\n\r\n    let topMenu = this.findMatchingTopMenuByUrl(menus);\r\n\r\n    if (!topMenu && this.hasHeaderMenus())\r\n    {\r\n      topMenu = this.findMatchingTopMenu(menus, currentTopMenu.Identifier);\r\n      if (!topMenu)\r\n      {\r\n        topMenu = menus[0];\r\n      }\r\n    }\r\n\r\n    this.topMenuState = topMenu;\r\n    if (needNavigate)\r\n    {\r\n      if (topMenu.Identifier === LoadHeaderService.POS_IDENTIFIER)\r\n      {\r\n        this.navigateToPos(needNavigate, extendedAccessToken, topMenu);\r\n      }\r\n\r\n      if (topMenu.Identifier === ApplicationIdentifier.Web && !topMenu.EnableCustomNavigation)\r\n      {\r\n        this.router.navigateByUrl(\"web\");\r\n      } else\r\n      {\r\n        this.router.navigate([topMenu.Url]);\r\n      }\r\n    }\r\n\r\n    if (this.topMenuState && !this.isTopMenuUnchanged(currentTopMenu, topMenu))\r\n    {\r\n      this.dispatchTopMenuUpdate(this.topMenuState);\r\n    }\r\n  }\r\n\r\n  private getAppSession(): AppSessionModel\r\n  {\r\n    const posTopMenuState = this.headerModel.Menu.find(a => a.Identifier === LoadHeaderService.POS_IDENTIFIER);\r\n    return this.appIdentifierService?.getAppSession() ?? ({ appIdentifier: posTopMenuState?.Children[0]?.Identifier, applicationRefID: posTopMenuState?.Children[0]?.ApplicationRefID } as AppSessionModel);\r\n  }\r\n\r\n  private navigateToPos(needNavigate: boolean, extendedAccessToken: any, posTopMenuState: MenuItem)\r\n  {\r\n    if (!window.location.pathname.startsWith('/pos'))\r\n    {\r\n      const appSession = this.appIdentifierService?.getAppSession();\r\n      if (this.isAuthenticated && extendedAccessToken && appSession?.baseAddress)\r\n      {\r\n        this.router.navigateByUrl(appSession.baseAddress);\r\n      } else\r\n      {\r\n        this.router.navigateByUrl(`pos${ posTopMenuState.Children[0].Url }/${ posTopMenuState.Children[0].ApplicationRefID }/login`);\r\n      }\r\n    }\r\n  }\r\n\r\n  private async getCurrentTopMenu(): Promise<ITopMenuState | null>\r\n  {\r\n    return firstValueFrom(this.store.pipe(select(selectTopMenu)));\r\n  }\r\n\r\n  private findMatchingTopMenu(menus: MenuItem[], identifier: string): MenuItem | undefined\r\n  {\r\n    return menus.find(menu => menu.Identifier === identifier);\r\n  }\r\n\r\n  private findMatchingTopMenuByUrl(menus: MenuItem[]): MenuItem | undefined\r\n  {\r\n    return menus.find(menu => window.location.pathname.startsWith(menu.Url) || (window.location.pathname.startsWith('/' + menu.Identifier)) || (window.location.pathname.startsWith('/' + LoadHeaderService.POS_IDENTIFIER) && menu.Identifier === LoadHeaderService.POS_IDENTIFIER));\r\n  }\r\n\r\n  private isTopMenuUnchanged(currentTopMenu: ITopMenuState, topMenu: ITopMenuState): boolean\r\n  {\r\n    return currentTopMenu.AllowBanners === topMenu.AllowBanners\r\n      && currentTopMenu.Identifier === topMenu.Identifier\r\n      && currentTopMenu.CustomDesktopNavigationType === topMenu.CustomDesktopNavigationType\r\n      && currentTopMenu.EnableCustomNavigation === topMenu.EnableCustomNavigation;\r\n  }\r\n\r\n  public dispatchTopMenuUpdate(topMenu: ITopMenuState): void\r\n  {\r\n    this.topMenuState = topMenu;\r\n    this.store.dispatch(new TopMenuSelected({\r\n      Title: topMenu.Title,\r\n      Identifier: topMenu.Identifier ?? \"\",\r\n      RefID: topMenu.RefID,\r\n      AllowBanners: topMenu.AllowBanners,\r\n      CustomDesktopNavigationType: topMenu.CustomDesktopNavigationType,\r\n      EnableCustomNavigation: topMenu.EnableCustomNavigation\r\n    }));\r\n  }\r\n\r\n\r\n  getHeaderModel(): GetHeaderResponse { return this.headerModel; }\r\n\r\n  getHeaderMenus(): MenuItem[] { return this.headerModel.Menu; }\r\n\r\n  hasHeaderMenus(): boolean { return this.headerModel?.Menu !== null && this.headerModel?.Menu?.length > 0; }\r\n\r\n  hasPosMenu(): boolean { return this.hasHeaderMenus() && this.getHeaderMenus()?.length === 1 && this.getHeaderMenus()[0].Identifier === LoadHeaderService.POS_IDENTIFIER; }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","import { Inject, Injectable } from \"@angular/core\";\r\nimport { Router } from \"@angular/router\";\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { StorageService } from \"@tei/core\";\r\nimport { NbThemeService } from \"@tei/nebular-theme\";\r\nimport { GlobalSettingsProvider } from \"../../@services/global-settings.provider\";\r\nimport { GetUserPreferenceRequest, GetUserPreferenceResponse } from \"../@intermediate/models/get-user-preference.model\";\r\nimport { UserPreferenceService } from \"./user-preference.service\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProfileSettingsService\r\n{\r\n  needToRefreshPage: boolean = false;\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private themeService: NbThemeService,\r\n    private storageService: StorageService,\r\n    @Inject('IUserPreferenceService') private userPreferenceService: UserPreferenceService,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private router: Router\r\n  ) { }\r\n\r\n  public ApplyChanges(identifier: string, value?: string)\r\n  {\r\n    let profileSettings = this.getProfileSettingsFromStorage();\r\n    profileSettings = profileSettings || {};\r\n    identifier = identifier?.toLowerCase();\r\n\r\n    this.globalSettingsProvider\r\n      .GetGlobalTenantSettings()\r\n      .subscribe(response =>\r\n      {\r\n        switch (identifier)\r\n        {\r\n          case 'theme':\r\n            if (response.EnforceTheme && this.router.url.startsWith(\"/web\"))\r\n            {\r\n              this.themeService.changeTheme(response.EnforceTheme);\r\n            } else\r\n            {\r\n              this.themeService.changeTheme(value || profileSettings[identifier] || appSettings.DEFAULT_THEME);\r\n            }\r\n            break;\r\n          case 'language':\r\n            this.changeTranslateLang(value);\r\n            const defaultCulture = response.DefaultCulture || appSettings.DEFAULT_CULTURE;\r\n\r\n            if (profileSettings['language'] != value && defaultCulture != value)\r\n            {\r\n              this.needToRefreshPage = true;\r\n            }\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n\r\n        profileSettings[identifier] = value || profileSettings[identifier] || appSettings.DEFAULT_THEME;\r\n        this.storageService.Set('profile-settings', profileSettings);\r\n      });\r\n  }\r\n\r\n  getUserPreference(): any\r\n  {\r\n    const request = new GetUserPreferenceRequest();\r\n\r\n    this.userPreferenceService.Get(request).subscribe(response =>\r\n    {\r\n      if (response == null)\r\n      {\r\n        this.setPreferenceFromStorage();\r\n        return;\r\n      }\r\n\r\n      response.Preferences.forEach(preference =>\r\n      {\r\n        this.ApplyChanges(preference?.Identifier, preference?.Value);\r\n      });\r\n\r\n      this.updateIsAdmin(response);\r\n\r\n      if (this.needToRefreshPage)\r\n      {\r\n        window.location.reload();\r\n      }\r\n    });\r\n  }\r\n\r\n  updateIsAdmin(response: GetUserPreferenceResponse): void\r\n  {\r\n    const profileSettings = this.getProfileSettingsFromStorage();\r\n    if (profileSettings)\r\n    {\r\n      profileSettings['IsAdmin'] = response.IsAdmin;\r\n      this.storageService.Set('profile-settings', profileSettings);\r\n    }\r\n  }\r\n\r\n  setPreferenceFromStorage(): void\r\n  {\r\n    const profileSettings = this.getProfileSettingsFromStorage();\r\n\r\n    this.globalSettingsProvider\r\n      .GetGlobalTenantSettings()\r\n      .subscribe(response =>\r\n      {\r\n        const defaultTheme = profileSettings?.theme || response.DefaultTheme || appSettings.DEFAULT_THEME;\r\n        this.themeService.changeTheme(defaultTheme);\r\n\r\n        const defaultLang = profileSettings?.language || response.DefaultCulture || appSettings.DEFAULT_CULTURE;\r\n        this.changeTranslateLang(defaultLang);\r\n      });\r\n  }\r\n\r\n  changeTranslateLang(lang: string): void\r\n  {\r\n    this.translate.use(lang);\r\n  }\r\n\r\n  getProfileSettingsFromStorage(): any\r\n  {\r\n    return this.storageService.Get('profile-settings');\r\n  }\r\n\r\n}\r\n\r\nconst appSettings = {\r\n  DEFAULT_CULTURE: 'en',\r\n  DEFAULT_THEME: 'material-dark'\r\n};\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { GetSidebarHeaderRequest, GetSidebarHeaderResponse, GetSidebarRequest, GetSidebarResponse } from '../@intermediate/models/get-sidebar-header.model';\r\nimport { ISidebarHeaderService } from '../@intermediate/sidebar.interface';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SidebarHeaderService implements ISidebarHeaderService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(\r\n    @Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient\r\n  )\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/SidebarHeader';\r\n  }\r\n\r\n  public Get(request: GetSidebarHeaderRequest): Observable<GetSidebarHeaderResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.get<GetSidebarHeaderResponse>(apiUrl, { params: request as any });\r\n  }\r\n\r\n  //TODO this method should come to side bar controller\r\n  public GetSidebar(request: GetSidebarRequest): Observable<GetSidebarResponse>\r\n  {\r\n    const apiUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Pages/Sidebar';\r\n    return this.http.get<GetSidebarResponse>(apiUrl, { params: request as any });\r\n  }\r\n}\r\n","import { Inject, Injectable } from \"@angular/core\";\r\nimport { NavigationEnd, NavigationStart, Router } from \"@angular/router\";\r\nimport { Store, select } from \"@ngrx/store\";\r\nimport { IThemeState, ITopMenuState, TopMenuSelected, selectTopMenu } from \"@tei/core\";\r\nimport { ILocateRouteService } from \"@tei/core/lib/providers/interfaces/locate-route.interface\";\r\nimport { firstValueFrom } from \"rxjs\";\r\nimport { LoadHeaderService } from \"./load-header.service\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StartupRoutingService\r\n{\r\n  browserRefresh: boolean = !(history?.state?.prevPage ?? null);\r\n  disableRedirection: boolean;\r\n  topMenu?: ITopMenuState;\r\n\r\n  constructor(@Inject('ILocateRouteService') private locateRouteService: ILocateRouteService,\r\n    private router: Router,\r\n    private store: Store<IThemeState>,\r\n    public loadHeaderService: LoadHeaderService)\r\n  {\r\n    this.router.events\r\n      .subscribe(async (event) =>\r\n      {\r\n        await this.handleRouting(event, router);\r\n      });\r\n  }\r\n\r\n  private async handleRouting(event, router: Router)\r\n  {\r\n    if (event instanceof NavigationStart)\r\n    {\r\n      this.browserRefresh = !router.navigated;\r\n      this.topMenu = null;\r\n      if (event.navigationTrigger === 'popstate')\r\n      {\r\n        this.loadHeaderService.loadHeader(false, false).then();\r\n      }\r\n    }\r\n    else if (event instanceof NavigationEnd)\r\n    {\r\n      if (this.browserRefresh)\r\n      {\r\n        if (this.router.url === '/')\r\n        {\r\n          this.getDefaultPage('', true);\r\n        } else if (!this.router.url.includes('handle-redirection'))\r\n        {\r\n          await this.updateIdentifier();\r\n          this.dispatchState(this.topMenu);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // public async redirectAfterFinalize(): Promise<void>\r\n  // {\r\n  //   //TODO Should be replaced by a state\r\n  //   const storedRedirect = this.redirectionStorage.get();\r\n\r\n  //   if (storedRedirect?.RedirectUrl?.includes('tee-times'))\r\n  //   {\r\n  //     await this.router.navigate([storedRedirect?.RedirectUrl]);\r\n  //   } else\r\n  //   {\r\n  //     await this.redirectToDefaultPage(true);\r\n  //   }\r\n  // }\r\n\r\n  public async redirectToDefaultPage(needRedirect: boolean): Promise<void>\r\n  {\r\n    if (this.disableRedirection)\r\n    {\r\n      this.disableRedirection = false;\r\n      return;\r\n    }\r\n\r\n    this.getDefaultPage(this.topMenu?.Identifier, needRedirect);\r\n  }\r\n\r\n  getDefaultPage(Identifier: string, needRedirect: boolean): void\r\n  {\r\n    this.locateRouteService.GetDefaultPage({\r\n      ApplicationIdentifier: Identifier ?? \"\"\r\n    }).subscribe(async result =>\r\n    {\r\n      if (result.DefaultPageUrl && needRedirect)\r\n      {\r\n        // I move the load header method to update the state after the browser url is prepared\r\n        //  await this.loadHeaderService.loadHeader(false, true);\r\n        this.router.navigate([result.DefaultPageUrl ?? '']).then(async () =>\r\n        {\r\n          await this.loadHeaderService.loadHeader(false, true);\r\n          this.topMenu = this.loadHeaderService.topMenuState;\r\n        });\r\n      } else\r\n      {\r\n        await this.loadHeaderService.loadHeader(needRedirect, true);\r\n      }\r\n\r\n\r\n    });\r\n  }\r\n\r\n  public async updateIdentifier(): Promise<void>\r\n  {\r\n    await firstValueFrom(this.store.pipe(select(selectTopMenu),)).then((y) =>\r\n    {\r\n      this.topMenu = y;\r\n    }).catch(err =>\r\n      console.log(err)\r\n    );\r\n  }\r\n\r\n  public dispatchState(topMenu: ITopMenuState): void\r\n  {\r\n    this.store.dispatch(new TopMenuSelected({\r\n      Title: topMenu.Title, Identifier: topMenu.Identifier ?? \"\", RefID: topMenu.RefID,\r\n      AllowBanners: topMenu.AllowBanners,\r\n      CustomDesktopNavigationType: topMenu.CustomDesktopNavigationType,\r\n      EnableCustomNavigation: topMenu.EnableCustomNavigation\r\n    }));\r\n  }\r\n}\r\n\r\nexport enum StartupRoutingType\r\n{\r\n  Default = \"Default\",\r\n  Finalize = \"Finalize\",\r\n  Impersonation = \"Impersonation\",\r\n  External = \"External\",\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { GetUserPreferenceRequest, GetUserPreferenceResponse } from '../@intermediate/models/get-user-preference.model';\r\nimport { PostUserPreferenceRequest, PostUserPreferenceResponse } from '../@intermediate/models/post-user-preference.model';\r\nimport { IUserPreferenceService } from '../@intermediate/user-preference.interface';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserPreferenceService implements IUserPreferenceService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/UserPreference';\r\n  }\r\n\r\n  public Get(request: GetUserPreferenceRequest): Observable<GetUserPreferenceResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.get<GetUserPreferenceResponse>(apiUrl, { params: request as any });\r\n  }\r\n\r\n  public Post(model: PostUserPreferenceRequest): Observable<PostUserPreferenceResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.post<GetUserPreferenceResponse>(apiUrl, model);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { DeleteUserProfilePictureRequest, DeleteUserProfilePictureResponse } from '../@intermediate/models/delete-user-profile-picture.model';\r\nimport { GetUserProfilePictureRequest, GetUserProfilePictureResponse } from '../@intermediate/models/get-user-profile-picture.model';\r\nimport { PostUserProfilePictureResponse } from '../@intermediate/models/post-user-profile-picture.model';\r\nimport { IUserProfilePictureService } from \"../@intermediate/user-profile-picture.interface\";\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserProfilePictureService implements IUserProfilePictureService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/UserProfilePicture';\r\n  }\r\n\r\n  public Get(request: GetUserProfilePictureRequest): Observable<GetUserProfilePictureResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.get<GetUserProfilePictureResponse>(apiUrl, { params: request as any });\r\n  }\r\n\r\n  public Post(model: FormData): Observable<PostUserProfilePictureResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.post<GetUserProfilePictureResponse>(apiUrl, model);\r\n  }\r\n\r\n  public Delete(request: DeleteUserProfilePictureRequest): Observable<DeleteUserProfilePictureResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.delete<DeleteUserProfilePictureResponse>(apiUrl);\r\n  }\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatLegacyDialog as MatDialog, MatLegacyDialogRef as MatDialogRef, MAT_LEGACY_DIALOG_DATA as MAT_DIALOG_DATA } from '@angular/material/legacy-dialog';\r\nimport { TenantRedirectService } from '../../../@core/services/tenant-redirect.service';\r\n\r\nexport interface dialogData\r\n{\r\n  title: string,\r\n  content: string,\r\n  cancelBtn: string,\r\n  acceptBtn: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'tei-dialog-content',\r\n  styleUrls: ['./dialog-content.component.scss'],\r\n  templateUrl: './dialog-content.component.html',\r\n})\r\nexport class DialogContentComponent implements OnInit\r\n{\r\n  portalData: dialogData = {\r\n    title: 'Change Portal',\r\n    content: 'Would you like to change portals?',\r\n    cancelBtn: 'Cancel',\r\n    acceptBtn: 'Change'\r\n  };\r\n\r\n  constructor(public dialogRef: MatDialogRef<DialogContentComponent>, public dialog: MatDialog,\r\n    @Inject(MAT_DIALOG_DATA) public data: { TenantUID: string; },\r\n    @Inject('ITenantRedirectService') private tenantRedirectService: TenantRedirectService)\r\n  {\r\n  }\r\n\r\n  ngOnInit()\r\n  {\r\n  }\r\n\r\n  onChangeClick()\r\n  {\r\n    this.tenantRedirectService.redirect(this.data.TenantUID, '/portals');\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n\r\n\r\n","<h3 class=\"a-text-h3\" mat-dialog-title>{{portalData?.title}}</h3>\r\n<div class=\"a-text-default\" mat-dialog-content class=\"mb-2\">\r\n  {{portalData?.content}}\r\n</div>\r\n<div mat-dialog-actions class=\"m-dialog-actions\">\r\n  <button mat-button mat-button-base [mat-dialog-close]>{{portalData?.cancelBtn}}</button>\r\n  <button mat-raised-button color=\"primary\" (click)=\"onChangeClick()\" cdkFocusInitial>{{portalData?.acceptBtn}}</button>\r\n</div>","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-footer',\r\n  styleUrls: ['./footer.component.scss'],\r\n  template: `\r\n    <div class=\"socials\">\r\n      <a href=\"#\" target=\"_blank\" class=\"ion ion-social-github\"></a>\r\n      <a href=\"#\" target=\"_blank\" class=\"ion ion-social-facebook\"></a>\r\n      <a href=\"#\" target=\"_blank\" class=\"ion ion-social-twitter\"></a>\r\n      <a href=\"#\" target=\"_blank\" class=\"ion ion-social-linkedin\"></a>\r\n    </div>\r\n  `,\r\n})\r\nexport class FooterComponent\r\n{\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { Router } from '@angular/router';\r\nimport { AppIdentifierService } from '@tei/core';\r\nimport { OrderTransferComponent } from '@tei/pos-food-and-beverage';\r\n\r\n@Component({\r\n  selector: 'shell-admin-panel-setting',\r\n  templateUrl: './admin-panel-setting.component.html',\r\n  styleUrls: ['./admin-panel-setting.component.scss']\r\n})\r\nexport class AdminPanelSettingComponent\r\n{\r\n  constructor(private dialog: MatDialog, private appIdentifierService: AppIdentifierService, private router: Router) { }\r\n\r\n  onTransferOrderClick(): void\r\n  {\r\n    this.dialog.open(OrderTransferComponent, {\r\n      maxHeight: '70vh',\r\n      panelClass: ['order-transfer-modal', 'o-dialog-sm-fullscreen'],\r\n    });\r\n  }\r\n}\r\n","<div class=\"m-admin-setting-cont\">\r\n  <button mat-icon-button\r\n    class=\"a-admin-setting-button d-flex align-items-center justify-content-between w-100 flex-column\"\r\n    [matMenuTriggerFor]=\"adminPanelSetting\">\r\n    <mat-icon class=\"a-admin-panel-setting-icon mx-2 ml-2\">admin_panel_settings</mat-icon>\r\n  </button>\r\n  <mat-menu class=\"m-admin-panels-menu\" #adminPanelSetting=\"matMenu\" yPosition=\"below\" xPosition=\"before\">\r\n    <button class=\"a-btn-menu-item\" mat-menu-item (click)=\"onTransferOrderClick()\">\r\n      <mat-icon class=\"\">swap_horiz</mat-icon>\r\n      {{'SHELL.ADMIN_PANEL_SETTING.TRANSFER_ORDERS' | teiTextTranslate}}\r\n    </button>\r\n  </mat-menu>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatLegacyDialogModule as MatDialogModule } from '@angular/material/legacy-dialog';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyMenuModule as MatMenuModule } from '@angular/material/legacy-menu';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { OrderTransferModule } from '@tei/pos-food-and-beverage';\r\nimport { AdminPanelSettingComponent } from './admin-panel-setting.component';\r\n\r\n\r\nconst BASE_MODULES = [CommonModule, RouterModule];\r\nconst COMPONENTS = [AdminPanelSettingComponent];\r\nconst MATERIAL_MODULES = [MatMenuModule, MatButtonModule, MatRippleModule, MatIconModule, MatDialogModule];\r\nconst FOOD_AND_BEVERAGE_MODULES = [OrderTransferModule];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\n@NgModule({\r\n  declarations: [\r\n    ...COMPONENTS\r\n  ],\r\n  imports: [\r\n    ...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...FOOD_AND_BEVERAGE_MODULES\r\n  ],\r\n  exports: [\r\n    ...COMPONENTS\r\n  ]\r\n})\r\nexport class AdminPanelSettingModule { }\r\n","import { Component, Inject, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Store, select } from '@ngrx/store';\r\nimport { AppIdentifierService, DesktopNavigationType, DeviceType, EventTypeEnum, GenericEventModel, GenericEventService, ICustomNavigationState, IThemeState, ResponsiveService } from '@tei/core';\r\nimport { NbSidebarService, NbThemeService } from '@tei/nebular-theme';\r\nimport { ExtendedAuthenticationService, LogoutPosConfirmDialogService, selectPOSSuccessfulAuthentication } from '@tei/pos-shared';\r\nimport { Subject, firstValueFrom } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { RoutingManagementService } from '../../../@core/services/routing-management.service';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\nimport { LoadHeaderService } from '../../@services/load-header.service';\r\n\r\n@Component({\r\n  selector: 'ngx-header',\r\n  styleUrls: ['./header.component.scss'],\r\n  templateUrl: './header.component.html',\r\n})\r\nexport class HeaderComponent implements OnInit, OnDestroy\r\n{\r\n  @Input() showMenuIcon: boolean = true;\r\n  @Input() customNavigationState: ICustomNavigationState;\r\n  deviceType = DeviceType;\r\n  desktopNavigationType = DesktopNavigationType;\r\n  isSmallScreen: boolean = false;\r\n  pageIsReloaded = false;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n  logo_url: string;\r\n\r\n  private destroy$ = new Subject();\r\n\r\n  constructor(private sidebarService: NbSidebarService,\r\n    @Inject('IExtendedAuthenticationService') private extendedAuthenticationService: ExtendedAuthenticationService,\r\n    public LoadHeaderService: LoadHeaderService,\r\n    private router: Router,\r\n    private store: Store<IThemeState>,\r\n    private responsiveService: ResponsiveService,\r\n    private genericEventService: GenericEventService,\r\n    private appIdentifierService: AppIdentifierService,\r\n    private routingManagementService: RoutingManagementService,\r\n    private logoutPosConfirmDialogService: LogoutPosConfirmDialogService,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private themeService: NbThemeService,\r\n  )\r\n  {\r\n    this.routingManagementService.setHeaderIsLoaded(false);\r\n  }\r\n\r\n  async ngOnInit(): Promise<void>\r\n  {\r\n    this.pageIsReloaded = this.routingManagementService.pageIsReloaded;\r\n\r\n    this.subscribeToGenericEvents();\r\n    this.initializeGlobalTenantSettings();\r\n    this.detectMobileScreen();\r\n  }\r\n\r\n  private subscribeToGenericEvents(): void\r\n  {\r\n    this.genericEventService.genericEvent\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe((event: GenericEventModel) => this.handleGenericEvent(event));\r\n  }\r\n\r\n  private async handleGenericEvent(event: GenericEventModel): Promise<void>\r\n  {\r\n    const token = await this.LoadHeaderService.getExtendedToken();\r\n    switch (event?.eventType)\r\n    {\r\n      case EventTypeEnum.onLogin:\r\n        await this.LoadHeaderService.changeRouteToModule(this.routingManagementService.getHeaderData(), token);\r\n        break;\r\n      case EventTypeEnum.onLogout:\r\n        await this.LoadHeaderService.loadHeader(false, false);\r\n        this.LoadHeaderService.userRoleShouldShow = false;\r\n        break;\r\n      case EventTypeEnum.onChangeSideBarCompact:\r\n        this.compactSideBar();\r\n        break;\r\n      case EventTypeEnum.onChangeCurrentModule:\r\n        if (event?.data?.headerMenuItems?.length > 0)\r\n        {\r\n          this.LoadHeaderService.topMenu = event.data.headerMenuItems;\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  private initializeGlobalTenantSettings(): void\r\n  {\r\n    this.globalSettingsProvider.GetGlobalTenantSettings().subscribe(response =>\r\n    {\r\n      this.tenant_settings = response;\r\n      this.updateLogoUrl(this.themeService.currentTheme);\r\n      this.subscribeToThemeChanges();\r\n    });\r\n  }\r\n\r\n  private subscribeToThemeChanges(): void\r\n  {\r\n    this.themeService.onThemeChange().subscribe(themeResponse =>\r\n    {\r\n      if (themeResponse.name !== themeResponse.previous)\r\n      {\r\n        this.updateLogoUrl(themeResponse.name);\r\n      }\r\n    });\r\n  }\r\n\r\n  private updateLogoUrl(theme: string): void\r\n  {\r\n    this.logo_url = this.globalSettingsProvider.getHeaderLogo(this.tenant_settings, theme);\r\n  }\r\n\r\n  async goToHome(): Promise<void>\r\n  {\r\n    const POSSuccessfulAuthentication = await firstValueFrom(\r\n      this.store.pipe(select(selectPOSSuccessfulAuthentication))\r\n    );\r\n\r\n    if (POSSuccessfulAuthentication.isAuthenticated)\r\n    {\r\n      this.confirmAndLogout();\r\n    } else\r\n    {\r\n      this.redirectBaseAddress();\r\n    }\r\n  }\r\n\r\n  private confirmAndLogout(): void\r\n  {\r\n    const dialogRef = this.logoutPosConfirmDialogService.openDialog(null, { disableClose: true });\r\n    dialogRef.afterClosed().subscribe(result =>\r\n    {\r\n      if (result)\r\n      {\r\n        this.handleLogout();\r\n      }\r\n    });\r\n  }\r\n\r\n  private handleLogout(): void\r\n  {\r\n    this.appIdentifierService.removeAppSession();\r\n    this.extendedAuthenticationService.extendedAuthenticationLogOut()\r\n      .subscribe(() => this.redirectBaseAddress());\r\n  }\r\n\r\n\r\n  redirectBaseAddress(): void\r\n  {\r\n    this.router.navigate(['']).then(() =>\r\n    {\r\n      window.location.reload();\r\n    });\r\n  }\r\n\r\n  toggleSidebar(): void\r\n  {\r\n    this.sidebarService.toggle(true, 'menu-sidebar');\r\n  }\r\n\r\n  compactSideBar(): void\r\n  {\r\n    this.sidebarService.compact('menu-sidebar');\r\n  }\r\n\r\n  private detectMobileScreen(): void\r\n  {\r\n    this.responsiveService.mediaBreakpoint.subscribe(screenSize =>\r\n    {\r\n      this.isSmallScreen = screenSize == 'xs';\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.destroy$.next(true);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"header-container header-container-right-side\">\r\n  <div class=\"d-flex a-menu-icon-container justify-content-center align-items-center\" *ngIf=\"showMenuIcon&&LoadHeaderService.hasHeaderMenus()&&!LoadHeaderService.hasPosMenu()\">\r\n    <a class=\"a-menu-icon\" mat-icon-button (click)=\"toggleSidebar()\">\r\n      <mat-icon>menu</mat-icon>\r\n    </a>\r\n  </div>\r\n  <mat-divider class=\"h-75\" [vertical]=\"true\" *ngIf=\"showMenuIcon&&LoadHeaderService.hasHeaderMenus()&&!LoadHeaderService.hasPosMenu()\"></mat-divider>\r\n  <div class=\"logo-container\">\r\n    <a class=\"sidebar-toggle p-2\" (click)=\"goToHome()\">\r\n      <img class=\"sidebar-toggle-image\" [src]=\"logo_url\">\r\n    </a>\r\n  </div>\r\n  <div\r\n    *ngIf=\"LoadHeaderService.topMenuState?.CustomDesktopNavigationType === desktopNavigationType.TopMenu && customNavigationState?.DeviceType === deviceType.Desktop\"\r\n    class=\"w-100 h-100 d-flex align-items-center\">\r\n    <tei-cms-custom-nav-container [isAuthenticated]=\"LoadHeaderService.isAuthenticated\"\r\n      [customNavigationState]=\"customNavigationState\"\r\n      [topMenuState]=\"LoadHeaderService.topMenuState\"></tei-cms-custom-nav-container>\r\n  </div>\r\n  <shell-top-menu *ngIf=\"LoadHeaderService.hasHeaderMenus()\" [CustomNavigationState]=\"customNavigationState\" [topMenuState]=\"LoadHeaderService.topMenuState\"\r\n    [menu]=\"LoadHeaderService.topMenu\"></shell-top-menu>\r\n</div>\r\n\r\n<div class=\"header-container\">\r\n  <div #ActionMenu id='ActionMenu'></div>\r\n  <mat-divider class=\"h-100\" [vertical]=\"true\"></mat-divider>\r\n  <shell-profile-settings *ngIf=\"LoadHeaderService.isAuthenticated\"\r\n    [userRoleShouldShow]=\"LoadHeaderService.userRoleShouldShow\" [UserInfo]=\"LoadHeaderService.headerModel?.User\" [allowProfilePictureChange]=\"LoadHeaderService.headerModel?.AllowProfilePictureChange\"\r\n    class=\"mx-2 h-100\">\r\n  </shell-profile-settings>\r\n  <shell-unauthorized-user-menu *ngIf=\"!LoadHeaderService.isAuthenticated\" [isSmallScreen]=\"isSmallScreen\"\r\n    class=\"mx-2 h-100\">\r\n  </shell-unauthorized-user-menu>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../../@services/global-settings.provider';\r\n\r\n@Component({\r\n  selector: 'ngx-light-header',\r\n  styleUrls: ['./light-header.component.scss'],\r\n  templateUrl: './light-header.component.html',\r\n})\r\nexport class LightHeaderComponent implements OnInit\r\n{\r\n  @Input() headerTitle: string;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n  logo_url: string;\r\n\r\n  constructor(\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private themeService: NbThemeService)\r\n  {\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.globalSettingsProvider\r\n      .GetGlobalTenantSettings()\r\n      .subscribe(response =>\r\n      {\r\n        this.tenant_settings = response;\r\n\r\n        this.logo_url = this.globalSettingsProvider.getHeaderLogo(this.tenant_settings, this.themeService.currentTheme);\r\n\r\n        this.themeService.onThemeChange()\r\n          .subscribe((theme_response) =>\r\n          {\r\n            if (theme_response.name !== theme_response.previous)\r\n            {\r\n              this.logo_url = this.globalSettingsProvider.getHeaderLogo(this.tenant_settings, theme_response.name);\r\n            }\r\n          });\r\n      });\r\n  }\r\n}\r\n","<div style=\"margin: -8px;\" class=\"header-container\">\r\n  <div class=\"logo-container\">\r\n    <span style=\"padding: 8px;\">\r\n      <!-- <nb-icon class=\"d-none\" icon=\"menu-2-outline\"></nb-icon> -->\r\n      <img style=\"min-width: 40px; width: auto; height: 40px\" [src]=\"logo_url\">\r\n    </span>\r\n  </div>\r\n  <strong>{{ headerTitle }}</strong>\r\n</div>\r\n","import { Component, Inject, Input, OnInit } from '@angular/core';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport\r\n  {\r\n    AppIdentifierService,\r\n    IThemeState,\r\n    LayoutActionChanged,\r\n    PagesStagingLayoutType,\r\n    TopMenuSelected\r\n  } from '@tei/core';\r\nimport { ImageUploaderComponent, ImageUploaderModel } from '@tei/material';\r\nimport { ExtendedAuthenticationService } from '@tei/pos-shared';\r\nimport { base64ToFile } from 'ngx-image-cropper';\r\nimport { DeleteUserProfilePictureRequest, DeleteUserProfilePictureResponse } from '../../../@intermediate/models/delete-user-profile-picture.model';\r\nimport { UserInfo } from '../../../@intermediate/models/get-header.model';\r\nimport { PostUserProfilePictureResponse } from '../../../@intermediate/models/post-user-profile-picture.model';\r\nimport { IUserProfilePictureService } from '../../../@intermediate/user-profile-picture.interface';\r\nimport { UserPreferenceComponent } from './user-preference/user-preference.component';\r\n@Component({\r\n  selector: 'shell-profile-settings',\r\n  templateUrl: './profile-settings.component.html',\r\n  styleUrls: ['./profile-settings.component.scss']\r\n})\r\nexport class ProfileSettingsComponent implements OnInit\r\n{\r\n  @Input() UserInfo: UserInfo;\r\n  @Input() userRoleShouldShow: boolean;\r\n  @Input() allowProfilePictureChange: boolean = false\r\n  uploadProfilePictureDialogRef: any;\r\n  shellVersion: string;\r\n\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private router: Router,\r\n    private appIdentifierService: AppIdentifierService,\r\n    private extendedAuthenticationService: ExtendedAuthenticationService,\r\n    @Inject('IUserProfilePictureService') private service: IUserProfilePictureService,\r\n    private store: Store<IThemeState>\r\n  )\r\n  { }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.shellVersion = sessionStorage.getItem('app_version');\r\n  }\r\n\r\n  onChangeProfileImage(): void {\r\n\r\n    if (!this.allowProfilePictureChange) {\r\n      return;\r\n    }\r\n\r\n    const imageFormats = '.jpg,.jpeg,.jpe,.jif,.jfif,.jfi,.png,.gif,.bmp,.dib,.tiff,.tif,.heif,.heic';\r\n    const permittedFileTypes = ['JPG', 'JPEG', 'JPE', 'JFIF', 'PNG', 'GIF', 'BMP', 'TIFF', 'HEIC'];\r\n    const data: ImageUploaderModel = {\r\n      round: true,\r\n      maintainAspectRatio: true,\r\n      aspectRatio: null,\r\n      acceptFormat: imageFormats,\r\n      permittedFileTypes: permittedFileTypes,\r\n      maxSize: 250,\r\n      hideRemoveButton: false,\r\n      imageServerUrl: this.UserInfo.ProfilePictureUrl\r\n    };\r\n\r\n    const imageUploaderDialogRef = this.dialog.open(ImageUploaderComponent, {\r\n      width: '400px',\r\n      panelClass: ['o-dialog-md-fullscreen'],\r\n      data\r\n    });\r\n\r\n    imageUploaderDialogRef.afterClosed().subscribe((result) => {\r\n      if (!result) {\r\n        return;\r\n      }\r\n\r\n      if (result?.croppedImage && result?.imgName) {\r\n        this.uploadUserProfilePicture(result);\r\n      } else if (result) {\r\n        this.deleteUserProfilePicture();\r\n      }\r\n    });\r\n  }\r\n\r\n  uploadUserProfilePicture(result: { croppedImage: string, imgName: string }): void {\r\n    const formData = new FormData();\r\n    const file = base64ToFile(result.croppedImage);\r\n    formData.append(\"Image\", file, result.imgName);\r\n\r\n    this.service.Post(formData).subscribe((response: PostUserProfilePictureResponse) => {\r\n      this.UserInfo.ProfilePictureUrl = response.ProfilePictureUrl;\r\n      this.uploadProfilePictureDialogRef.componentInstance.profilePictureUrl = response.ProfilePictureUrl;\r\n    });\r\n  }\r\n\r\n  deleteUserProfilePicture(): void {\r\n    const request = new DeleteUserProfilePictureRequest();\r\n\r\n    this.service.Delete(request).subscribe((response: DeleteUserProfilePictureResponse) => {\r\n      this.UserInfo.ProfilePictureUrl = '';\r\n      this.uploadProfilePictureDialogRef.componentInstance.profilePictureUrl = '';\r\n    });\r\n  }\r\n\r\n\r\n  onChangePreferences(): void\r\n  {\r\n    this.dialog.open(UserPreferenceComponent, {\r\n      maxWidth: '80vw',\r\n      minWidth: '320px',\r\n      panelClass: 'o-dialog-change-preferences'\r\n    });\r\n  }\r\n\r\n  onLogout(): void\r\n  {\r\n    this.appIdentifierService.removeAppSession();\r\n    this.store.dispatch(new LayoutActionChanged({ LayoutType: PagesStagingLayoutType.Default }));\r\n    this.router.navigate(['auth/logout']);\r\n  }\r\n\r\n  onPOSLogout(): void\r\n  {\r\n    this.extendedAuthenticationService.extendedAuthenticationLogOut(true).subscribe(res => { this.dispatchInitialSidebarAction(); });\r\n  }\r\n\r\n  private dispatchInitialSidebarAction(): void\r\n  {\r\n    const appSession = this.appIdentifierService.getAppSession();\r\n    this.store.dispatch(new TopMenuSelected({ Identifier: appSession.appIdentifier, Title: '', RefID: '' }));\r\n  }\r\n}\r\n","<section class=\"profile-settings h-100\">\r\n  <div [matMenuTriggerFor]=\"profileSettingMenu\" class=\"profile-settings-button h-100\">\r\n    <div class=\"o-avatar-container\">\r\n      <tei-avatar [src]=\"userRoleShouldShow ? '' : UserInfo?.ProfilePictureUrl\" [round]=\"true\"\r\n        [name]=\"UserInfo?.DisplayName\" [initialsSize]=\"'2'\" [size]=\"'40'\">\r\n      </tei-avatar>\r\n      <span class=\"a-avatar-badge a-avatar-badge-md a-avatar-badge-success a-avatar-badge-bottomright\"\r\n        *ngIf=\"userRoleShouldShow\">\r\n        <mat-icon>point_of_sale</mat-icon>\r\n      </span>\r\n    </div>\r\n  </div>\r\n  <mat-menu #profileSettingMenu=\"matMenu\" class=\"o-menu-user\" xPosition=\"before\" [hasBackdrop]=\"true\">\r\n    <ng-container *ngIf=\"userRoleShouldShow; else ShellUser\">\r\n      <div (click)=\"$event.stopPropagation()\" class=\"m-avatar-container d-flex flex-row align-items-center\">\r\n        <div class=\"o-avatar-container\">\r\n          <tei-avatar [round]=\"true\" [name]=\"UserInfo?.DisplayName\" [initialsSize]=\"'2'\" [size]=\"'52'\">\r\n          </tei-avatar>\r\n          <span class=\"a-avatar-badge a-avatar-badge-md a-avatar-badge-success a-avatar-badge-bottomright\">\r\n            <mat-icon>point_of_sale</mat-icon>\r\n          </span>\r\n        </div>\r\n        <div class=\"m-1 m-avatar-text\">\r\n          <div class=\"a-text-primary\">\r\n            {{ UserInfo?.DisplayName }}\r\n          </div>\r\n          <div class=\"m-user-information h-100\">\r\n            <p class=\"a-user-role\">\r\n              {{UserInfo?.RoleName}}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <button mat-menu-item class=\"d-flex flex-row align-items-center\" (click)=\"onPOSLogout()\">\r\n        <mat-icon style=\"-webkit-transform: rotate(180deg);\">logout</mat-icon>\r\n        <span>\r\n          {{'SHELL.PROFILE_SETTINGS.LOGOUT_OF_POS' | teiTextTranslate}}\r\n        </span>\r\n      </button>\r\n    </ng-container>\r\n    <ng-template #ShellUser>\r\n      <div (click)=\"$event.stopPropagation()\" class=\"m-avatar-container d-flex flex-row align-items-center\">\r\n        <div  [ngClass]=\"{ 'profile-photo-container mr-1': allowProfilePictureChange, 'o-avatar-container': !allowProfilePictureChange }\"\r\n         (click)=\"onChangeProfileImage()\">\r\n          <tei-avatar [src]=\"UserInfo?.ProfilePictureUrl\" [round]=\"true\" [name]=\"UserInfo?.DisplayName\"\r\n            [initialsSize]=\"'2'\" [size]=\"'52'\">\r\n          </tei-avatar>\r\n          <mat-icon *ngIf=\"allowProfilePictureChange\" class=\"profile-photo-placeholder\">photo_camera</mat-icon>\r\n        </div>\r\n        <div class=\"m-1 m-avatar-text\">\r\n          <div class=\"a-text-primary\">\r\n            {{ UserInfo?.DisplayName }}\r\n          </div>\r\n          <div class=\"a-text-secondary email\">\r\n            {{ UserInfo?.Email }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <button [routerLink]=\"['web/my-account/account-security']\" mat-menu-item\r\n        class=\"d-flex flex-row align-items-center\">\r\n        <mat-icon>lock</mat-icon>\r\n        <span>{{'SHELL.PROFILE_SETTINGS.ACCOUNT_SECURITY' | teiTextTranslate}}</span>\r\n      </button>\r\n      <button mat-menu-item class=\"d-flex flex-row align-items-center\" (click)=\"onChangePreferences()\">\r\n        <mat-icon>tune</mat-icon>\r\n        <span>{{'SHELL.PROFILE_SETTINGS.PREFERENCES' | teiTextTranslate}}</span>\r\n      </button>\r\n      <button mat-menu-item class=\"d-flex flex-row align-items-center\" (click)=\"onLogout()\">\r\n        <mat-icon style=\"-webkit-transform: rotate(180deg);\">logout</mat-icon>\r\n        <span>{{'SHELL.PROFILE_SETTINGS.LOGOUT' | teiTextTranslate}}</span>\r\n      </button>\r\n      <mat-divider></mat-divider>\r\n      <span class=\"shell-version\">{{'SHELL.APP.VERSION' | teiTextTranslate}}: {{shellVersion}}</span>\r\n    </ng-template>\r\n  </mat-menu>\r\n</section>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n//MATERIAL_MODULES\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatLegacyDialogModule as MatDialogModule } from '@angular/material/legacy-dialog';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyMenuModule as MatMenuModule } from '@angular/material/legacy-menu';\r\nimport { MatLegacySelectModule as MatSelectModule } from '@angular/material/legacy-select';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { AvatarModule, UploadProfilePictureModule } from '@tei/material';\r\nimport { ProfileSettingsService } from '../../../@services/profile-settings.service';\r\nimport { UserPreferenceService } from '../../../@services/user-preference.service';\r\nimport { UserProfilePictureService } from '../../../@services/user-profile-picture.service';\r\nimport { ProfileSettingsComponent } from './profile-settings.component';\r\n//COMPONENTS\r\nimport { UserPreferenceComponent } from './user-preference/user-preference.component';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, ReactiveFormsModule, RouterModule];\r\nconst COMPONENTS = [ProfileSettingsComponent, UserPreferenceComponent];\r\nconst MATERIAL_MODULES = [MatMenuModule, MatButtonModule, MatRippleModule, MatIconModule, MatDialogModule, MatDividerModule, MatSelectModule];\r\nconst TEI_MATERIAL_MODULES = [AvatarModule, UploadProfilePictureModule];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_MATERIAL_MODULES, ...TEI_CORE_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_MATERIAL_MODULES, ...TEI_CORE_MODULES, ...COMPONENTS],\r\n  providers: [\r\n    { provide: 'IUserProfilePictureService', useClass: UserProfilePictureService },\r\n    { provide: 'IUserPreferenceService', useClass: UserPreferenceService }, ProfileSettingsService]\r\n})\r\nexport class ProfileSettingsModule { }\r\n","import { Component, Inject, OnInit, SkipSelf } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { ErrorStateMatcher } from '@angular/material/core';\r\nimport { MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\r\nimport { Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { IAppState, ModelDrivenFormGroupControlValueAccessor, ngFormGroupControlValueAccessorProviders } from '@tei/core';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { GetUserPreferenceRequest, GetUserPreferenceResponse, PreferenceType } from '../../../../@intermediate/models/get-user-preference.model';\r\nimport { PostUserPreferenceRequest } from '../../../../@intermediate/models/post-user-preference.model';\r\nimport { ProfileSettingsService } from '../../../../@services/profile-settings.service';\r\nimport { UserPreferenceService } from '../../../../@services/user-preference.service';\r\n\r\n@Component({\r\n  selector: 'shell-user-preference',\r\n  templateUrl: './user-preference.component.html',\r\n  styleUrls: ['./user-preference.component.scss'],\r\n  providers: [ngFormGroupControlValueAccessorProviders(UserPreferenceComponent)]\r\n})\r\nexport class UserPreferenceComponent extends ModelDrivenFormGroupControlValueAccessor implements OnInit\r\n{\r\n  form: UntypedFormGroup;\r\n  model: GetUserPreferenceResponse;\r\n  isThemeEnforced = false;\r\n\r\n  constructor(\r\n    @Inject('IUserPreferenceService') private service: UserPreferenceService,\r\n    private preferencesDialogRef: MatDialogRef<UserPreferenceComponent>,\r\n    @SkipSelf() protected _errorStateMatcher: ErrorStateMatcher,\r\n    private profileSettingsService: ProfileSettingsService,\r\n    private store: Store<IAppState>,\r\n    private router: Router\r\n  )\r\n  {\r\n    super(_errorStateMatcher);\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.checkEnforcedTheme();\r\n    this.Load();\r\n  }\r\n\r\n  async checkEnforcedTheme(): Promise<void>\r\n  {\r\n    let tenantSettings = await firstValueFrom(this.store);\r\n    if (tenantSettings.tenantSettings.TenantSettings.EnforceTheme && this.router.url.startsWith(\"/web\"))\r\n    {\r\n      this.isThemeEnforced = true;\r\n    }\r\n  }\r\n\r\n  get formControls()\r\n  {\r\n    return this.form.controls;\r\n  }\r\n\r\n  Load()\r\n  {\r\n    if (!this.model)\r\n    {\r\n      this.model = new GetUserPreferenceResponse();\r\n    }\r\n    //In this functionality we don't have any parameters for request, but I added an empty request\r\n    const request = new GetUserPreferenceRequest();\r\n    this.service.Get(request).subscribe(response =>\r\n    {\r\n      this.model = response;\r\n      if (this.isThemeEnforced)\r\n      {\r\n        this.model.Preferences = this.model.Preferences.filter(f => f.Identifier !== \"THEME\");\r\n      }\r\n      this.setFormValidators();\r\n    });\r\n\r\n  }\r\n\r\n  setFormValidators(): void\r\n  {\r\n    const group: any = {};\r\n\r\n    this.model?.Preferences?.forEach(preference =>\r\n    {\r\n      group[preference?.Identifier] = new UntypedFormControl(preference.Value || '', Validators.required);\r\n    });\r\n    this.form = new UntypedFormGroup(group);\r\n  }\r\n\r\n  get languageChanged(): boolean\r\n  {\r\n    return this.model?.Preferences?.filter(p => p.Identifier?.toLowerCase() === 'language')[0]?.Value !== this.formControls['LANGUAGE']?.value;\r\n  }\r\n\r\n  isSelectControl(preferenceType: number)\r\n  {\r\n    return PreferenceType.Select == preferenceType;\r\n  }\r\n\r\n  onClose(): void\r\n  {\r\n    this.preferencesDialogRef.close();\r\n  }\r\n\r\n  onSaveAndClose(): void\r\n  {\r\n    if (this.form.invalid)\r\n    {\r\n      return;\r\n    }\r\n    const request = new PostUserPreferenceRequest();\r\n\r\n    this.model.Preferences.forEach(preference =>\r\n    {\r\n      request.Preferences.push({\r\n        Identifier: preference?.Identifier,\r\n        Value: this.formControls[preference?.Identifier].value\r\n      });\r\n    });\r\n\r\n    this.service.Post(request).subscribe(() =>\r\n    {\r\n      this.applyChanges();\r\n      this.preferencesDialogRef.close();\r\n    });\r\n  }\r\n\r\n  applyChanges()\r\n  {\r\n    Object.keys(this.formControls).forEach(key =>\r\n    {\r\n      this.profileSettingsService.ApplyChanges(key, this.formControls[key].value);\r\n    });\r\n    if (this.languageChanged)\r\n    {\r\n      window.location.reload();\r\n    }\r\n  }\r\n}\r\n","<div class=\"o-dialog-container\">\r\n  <div class=\"m-dialog-header\">\r\n    <div class=\"row align-items-center\">\r\n      <div class=\"col\">\r\n        <div class=\"a-text-h3\">{{'SHELL.PREFERENCES.TITLE' | teiTextTranslate}}</div>\r\n      </div>\r\n      <div class=\"col-auto\">\r\n        <button (click)=\"onClose()\" mat-icon-button>\r\n          <mat-icon>close</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <mat-divider></mat-divider>\r\n  <div class=\"m-dialog-content\" [formGroup]=\"form\" *ngIf=\"model?.Preferences?.length > 0\">\r\n    <div *ngFor=\"let preference of model?.Preferences\">\r\n      <div class=\"a-text-label mb-1\">{{ preference?.Name }}</div>\r\n      <mat-form-field class=\"no-label select w-100\" appearance=\"outline\"\r\n        *ngIf=\"isSelectControl(preference?.Type); else InputType\">\r\n        <mat-select [formControlName]=\"preference?.Identifier\">\r\n          <mat-option value=\"{{ option?.Identifier }}\" *ngFor=\"let option of preference?.PreferenceOptions\">\r\n            <div class=\"d-flex flex-row align-items-center\">\r\n              <span>{{ option?.Name }}</span>\r\n            </div>\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      <ng-template #InputType>\r\n        <mat-form-field class=\"a-input a-input-nolabel\" appearance=\"outline\">\r\n          <input matInput placeholder=\"Enter Text Here\">\r\n        </mat-form-field>\r\n      </ng-template>\r\n    </div>\r\n  </div>\r\n  <div class=\"m-dialog-actions a-button-contained\">\r\n    <button mat-button mat-flat-button color=\"accent\" (click)=\"onSaveAndClose()\">\r\n      {{'SHELL.PREFERENCES.SAVE' | teiTextTranslate}}\r\n    </button>\r\n  </div>\r\n</div>","import { Component, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'shell-unauthorized-user-menu',\r\n  templateUrl: './unauthorized-user-menu.component.html',\r\n  styleUrls: ['./unauthorized-user-menu.component.scss']\r\n})\r\nexport class UnauthorizedUserMenuComponent\r\n{\r\n  @Input() isSmallScreen: boolean = false;\r\n  defaultProfilePicture: string = '/assets/images/ProfilePicture.png';\r\n  constructor(private router: Router) { }\r\n\r\n  logIn(): void\r\n  {\r\n    this.router.navigate(['auth/login']);\r\n  }\r\n\r\n  register(): void\r\n  {\r\n    this.router.navigate(['auth/register']);\r\n  }\r\n}\r\n","<section class=\"unauthorized-user-menu h-100\">\r\n  <div [matMenuTriggerFor]=\"unauthorizedUserMenu\" class=\"unauthorized-user-menu-button h-100\">\r\n    <button *ngIf=\"!isSmallScreen\" type=\"button\" mat-raised-button class=\"btn btn-success\">\r\n      {{'SHELL.UNAUTHORIZED_USER.LOGIN' | teiTextTranslate}}\r\n    </button>\r\n    <tei-avatar *ngIf=\"isSmallScreen\" [src]=\"defaultProfilePicture\" [round]=\"true\" [size]=\"'36'\">\r\n    </tei-avatar>\r\n  </div>\r\n  <mat-menu #unauthorizedUserMenu=\"matMenu\" class=\"o-menu-user\" xPosition=\"before\" [hasBackdrop]=\"true\">\r\n\r\n    <button mat-menu-item class=\"d-flex flex-row align-items-center\" (click)=\"logIn()\">\r\n      <mat-icon>logout</mat-icon>\r\n      <span>{{'SHELL.UNAUTHORIZED_USER.LOGIN' | teiTextTranslate}}</span>\r\n    </button>\r\n    <button mat-menu-item class=\"d-flex flex-row align-items-center\" (click)=\"register()\">\r\n      <mat-icon>person_add</mat-icon>\r\n      <span>{{'SHELL.UNAUTHORIZED_USER.REGISTER' | teiTextTranslate}}</span>\r\n    </button>\r\n  </mat-menu>\r\n</section>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyMenuModule as MatMenuModule } from '@angular/material/legacy-menu';\r\nimport { MatLegacySelectModule as MatSelectModule } from '@angular/material/legacy-select';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { AvatarModule } from '@tei/material';\r\nimport { UnauthorizedUserMenuComponent } from './unauthorized-user-menu.component';\r\n\r\nconst BASE_MODULES = [CommonModule, RouterModule];\r\nconst COMPONENTS = [UnauthorizedUserMenuComponent];\r\nconst MATERIAL_MODULES = [MatMenuModule, MatButtonModule, MatRippleModule, MatIconModule, MatSelectModule];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\nconst TEI_MATERIAL_MODULES = [AvatarModule];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...TEI_MATERIAL_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...TEI_MATERIAL_MODULES, ...COMPONENTS]\r\n})\r\nexport class UnauthorizedUserMenuModule { }\r\n","export * from './header/header.component';\r\nexport * from './footer/footer.component';\r\nexport * from './search-input/search-input.component';\r\nexport * from './switcher/switcher.component';\r\nexport * from './layout-direction-switcher/layout-direction-switcher.component';\r\n","import { Component, OnDestroy, Input } from '@angular/core';\r\nimport { NbLayoutDirectionService, NbLayoutDirection } from '@tei/nebular-theme';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'ngx-layout-direction-switcher',\r\n  template: `\r\n    <ngx-switcher\r\n      [firstValue]=\"directions.RTL\"\r\n      [secondValue]=\"directions.LTR\"\r\n      [firstValueLabel]=\"'RTL'\"\r\n      [secondValueLabel]=\"'LTR'\"\r\n      [value]=\"currentDirection\"\r\n      (valueChange)=\"toggleDirection($event)\"\r\n      [vertical]=\"vertical\">\r\n    </ngx-switcher>\r\n  `,\r\n})\r\nexport class LayoutDirectionSwitcherComponent implements OnDestroy {\r\n\r\n  protected destroy$ = new Subject<void>();\r\n\r\n  directions = NbLayoutDirection;\r\n  currentDirection: NbLayoutDirection;\r\n\r\n  @Input() vertical: boolean = false;\r\n\r\n  constructor(private directionService: NbLayoutDirectionService) {\r\n    this.currentDirection = this.directionService.getDirection();\r\n\r\n    this.directionService.onDirectionChange()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(newDirection => this.currentDirection = newDirection);\r\n  }\r\n\r\n  toggleDirection(newDirection) {\r\n    this.directionService.setDirection(newDirection);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","import { Component, ElementRef, EventEmitter, Output, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-search-input',\r\n  styleUrls: ['./search-input.component.scss'],\r\n  template: `\r\n    <i class=\"control-icon ion ion-ios-search\"\r\n       (click)=\"showInput()\"></i>\r\n    <input placeholder=\"Type your search request here...\"\r\n           #input\r\n           [class.hidden]=\"!isInputShown\"\r\n           (blur)=\"hideInput()\"\r\n           (input)=\"onInput($event)\">\r\n  `,\r\n})\r\nexport class SearchInputComponent {\r\n  @ViewChild('input', { static: true }) input: ElementRef;\r\n\r\n  @Output() search: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  isInputShown = false;\r\n\r\n  showInput() {\r\n    this.isInputShown = true;\r\n    this.input.nativeElement.focus();\r\n  }\r\n\r\n  hideInput() {\r\n    this.isInputShown = false;\r\n  }\r\n\r\n  onInput(val: any) {\r\n    this.search.emit(val);\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { NbMenuItem } from '@tei/nebular-theme';\r\n@Component({\r\n  selector: 'tei-sidebar-footer',\r\n  styleUrls: ['./sidebar-footer.component.scss'],\r\n  templateUrl: './sidebar-footer.component.html',\r\n})\r\nexport class SideBarFooterComponent\r\n{\r\n  @Input() items: NbMenuItem[] = [];\r\n\r\n  constructor() { }\r\n}\r\n","<nb-menu [items]=\"items\"></nb-menu>\r\n","import { Component, Inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { NbMenuItem } from '@tei/nebular-theme';\r\nimport { IAuthService, IAuthToken } from '@tei/abstraction';\r\nimport\r\n{\r\n  AppIdentifierService,\r\n  ApplicationIdentifier,\r\n  EventTypeEnum,\r\n  GenericEventModel,\r\n  GenericEventService\r\n} from '@tei/core';\r\nimport { ExtendedAuthenticationService } from '@tei/pos-shared';\r\nimport { Subscription } from 'rxjs';\r\nimport { GetSidebarHeaderRequest, GetSidebarHeaderResponse } from '../../@intermediate/models/get-sidebar-header.model';\r\nimport { ISidebarHeaderService } from '../../@intermediate/sidebar.interface';\r\nimport { DialogContentComponent } from '../dialog-content/dialog-content.component';\r\n\r\n@Component({\r\n  selector: 'tei-sidebar-header',\r\n  styleUrls: ['./sidebar-header.component.scss'],\r\n  templateUrl: './sidebar-header.component.html',\r\n})\r\nexport class SideBarHeaderComponent implements OnInit, OnDestroy\r\n{\r\n  genericEventSubscription: Subscription;\r\n  authServiceSubscription: Subscription;\r\n  routerSubscription: Subscription;\r\n\r\n  model: GetSidebarHeaderResponse;\r\n  showPortalChangeButton: boolean = true;\r\n  browserRefresh: boolean;\r\n  PosMenu: NbMenuItem;\r\n  retailButton: NbMenuItem;\r\n  foodAndbeverageButton: NbMenuItem;\r\n  moduleName: string;\r\n  TerminalName: string;\r\n\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    private genericEventService: GenericEventService,\r\n    private appIdentifierService: AppIdentifierService,\r\n    @Inject('ISidebarHeaderService') private sidebarheadreService: ISidebarHeaderService,\r\n    @Inject('IAuthService') private authService: IAuthService,\r\n    @Inject('IExtendedAuthenticationService') private extendedAuthenticationService: ExtendedAuthenticationService)\r\n  {\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.changeHeaderMenu();\r\n    const request = new GetSidebarHeaderRequest();\r\n    this.getDataFromStorage();\r\n    this.load(request);\r\n  }\r\n\r\n  private changeHeaderMenu(): void\r\n  {\r\n    this.genericEventSubscription = this.genericEventService.genericEvent.subscribe(\r\n      (event: GenericEventModel) =>\r\n      {\r\n        const PosState = new Map()\r\n          .set('PosChangeModule', (event?.eventType === EventTypeEnum.onChangeCurrentModule))\r\n          .set('Poslogin', (event?.eventType === EventTypeEnum.onLogin))\r\n          .set('Poslogout', (event?.eventType === EventTypeEnum.onLogout));\r\n\r\n        if (PosState.get('PosChangeModule'))\r\n        {\r\n          this.showPortalChangeButton = true;\r\n          this.getCurrentTerminal();\r\n        }\r\n        if (PosState.get('Poslogin'))\r\n        {\r\n          this.showPortalChangeButton = false;\r\n          this.getCurrentTerminal();\r\n        }\r\n        else if (PosState.get('Poslogout'))\r\n        {\r\n          this.showPortalChangeButton = true;\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  private getCurrentTerminal(): void\r\n  {\r\n    this.authServiceSubscription = this.authService.getToken().subscribe((token: IAuthToken) =>\r\n    {\r\n      const extendedAccessToken = token?.getPayload()?.extended_access_token || '';\r\n      if (extendedAccessToken)\r\n      {\r\n        this.setMenuButton();\r\n      }\r\n    });\r\n  }\r\n  private getDataFromStorage(): void\r\n  {\r\n    const app_session = this.appIdentifierService.getAppSession();\r\n    if (app_session?.appIdentifier)\r\n    {\r\n      this.moduleName = app_session.appIdentifier;\r\n    }\r\n    if (app_session?.extendedAuthenticationData)\r\n    {\r\n      this.TerminalName = JSON.parse(app_session.extendedAuthenticationData).TerminalDescription;\r\n    }\r\n  }\r\n\r\n  private setMenuButton(): void\r\n  {\r\n    this.showPortalChangeButton = false;\r\n    this.getDataFromStorage();\r\n\r\n    this.retailButton = {\r\n      title: this.TerminalName,\r\n      icon: { icon: 'shopping_cart', pack: 'MaterialIcon' },\r\n    };\r\n\r\n    this.foodAndbeverageButton = {\r\n      title: this.TerminalName,\r\n      icon: { icon: 'local_dining', pack: 'MaterialIcon' },\r\n    };\r\n    this.showPosMenu(this.moduleName);\r\n  }\r\n\r\n  private showPosMenu(moduleName: string): void\r\n  {\r\n    if (moduleName == ApplicationIdentifier.Retail || moduleName == ApplicationIdentifier.RetailAdmin)\r\n    {\r\n      this.PosMenu = this.retailButton;\r\n    }\r\n    else if (moduleName === ApplicationIdentifier.FoodAndBeverage || moduleName == ApplicationIdentifier.FoodAndBeverageAdmin)\r\n    {\r\n      this.PosMenu = this.foodAndbeverageButton;\r\n    }\r\n    else\r\n    {\r\n      console.error('current module is not pos valid module');\r\n    }\r\n  }\r\n\r\n  private load(request: GetSidebarHeaderRequest): void\r\n  {\r\n    if (this.moduleName === ApplicationIdentifier.Office)\r\n    {\r\n      this.showPortalChangeButton = true;\r\n    }\r\n\r\n    if (!this.model)\r\n    {\r\n      this.model = new GetSidebarHeaderResponse();\r\n    }\r\n    this.sidebarheadreService.Get(request).subscribe(response =>\r\n    {\r\n      this.model = response;\r\n    });\r\n  }\r\n\r\n  changePortalDialog(): void\r\n  {\r\n    if (this.model.IsParentAccessible)\r\n    {\r\n      const dialogRef = this.dialog.open(DialogContentComponent, {\r\n        panelClass: 'o-change-portal',\r\n        width: '300px',\r\n        data: { TenantUID: this.model.ParentTenant.TenantUID }\r\n      });\r\n    }\r\n  }\r\n\r\n  redirectToPosLogin(): void\r\n  {\r\n    this.extendedAuthenticationService.extendedAuthenticationLogOut(true).subscribe();\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.genericEventSubscription?.unsubscribe();\r\n  }\r\n\r\n}\r\n","<nb-sidebar-header *ngIf=\"model?.ShowParent\">\r\n  <ng-container>\r\n    <a *ngIf=\"showPortalChangeButton\" class=\"a-sidebar-button w-100\"\r\n      (click)=\"(model?.IsParentAccessible) ? changePortalDialog() : false\">\r\n      <tei-avatar [size]=\"36\" [src]=\"model?.Current?.ImageUrl\" [round]=\"false\" [cornerRadius]=\"4\" class=\"menu-icon\">\r\n      </tei-avatar>\r\n      <span class=\"a-sidebar-text menu-title\">\r\n        <span class=\"a-text-primary\"> {{model?.Current?.Name}}</span>\r\n        <span class=\"a-text-secondary\" *ngIf=\"model?.IsParentAccessible\">Change</span>\r\n      </span>\r\n    </a>\r\n    <a *ngIf=\"!showPortalChangeButton\" class=\"a-sidebar-button a-pos-menu w-100\" (click)=\"redirectToPosLogin()\">\r\n      <mat-icon class=\"menu-icon\" *ngIf=\"PosMenu?.icon\">{{PosMenu?.icon.icon}}</mat-icon>\r\n      <span class=\"a-sidebar-text menu-title\">\r\n        <span class=\"a-text-primary\"> {{PosMenu?.title}}</span>\r\n        <span class=\"a-text-secondary\">Change</span>\r\n      </span>\r\n    </a>\r\n  </ng-container>\r\n</nb-sidebar-header>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Store, select } from '@ngrx/store';\r\nimport\r\n  {\r\n    IThemeState,\r\n    ITopMenuState,\r\n    InternalApplicationModel,\r\n    ResponsiveService,\r\n    SidebarSelected,\r\n    initialTopMenuState,\r\n    selectSidebar,\r\n    selectTopMenu\r\n  } from '@tei/core';\r\nimport { NbMenuBag, NbMenuItem, NbMenuService, NbSidebarService } from '@tei/nebular-theme';\r\nimport { selectPOSSuccessfulAuthentication } from '@tei/pos-shared';\r\nimport { Subscription, firstValueFrom, of } from 'rxjs';\r\nimport { distinctUntilChanged, pairwise, startWith, switchMap } from 'rxjs/operators';\r\nimport { ShellSidebarMenuItem } from '../../@intermediate/models/get-sidebar-header.model';\r\nimport { MENU_ITEMS } from '../../@intermediate/pages-menu';\r\nimport { SidebarHeaderService } from '../../@services/sidebar-header.service';\r\nimport { StartupRoutingService } from '../../@services/startup-routing.service';\r\n@Component({\r\n  selector: 'sidebar-container',\r\n  styleUrls: ['./sidebar.component.scss'],\r\n  templateUrl: './sidebar.component.html',\r\n})\r\nexport class SideBarComponent implements OnInit, OnDestroy\r\n{\r\n  subscription = new Subscription();\r\n  menu = MENU_ITEMS;\r\n  footerSideMenus: NbMenuItem[] = [];\r\n  sideMenus: NbMenuItem[] = [];\r\n  isSmallScreen = false;\r\n  sideBarSubscribed = false;\r\n  constructor(private store: Store<IThemeState>,\r\n    private sidebarService: SidebarHeaderService,\r\n    private nbSidebarService: NbSidebarService,\r\n    private responsiveService: ResponsiveService,\r\n    private router: Router,\r\n    private menuService: NbMenuService,\r\n    private startupRoutingService: StartupRoutingService)\r\n  {\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.clearMenu();\r\n\r\n    this.subscribeToTopMenuState();\r\n\r\n    this.subscribeToSidebarMenuClick();\r\n\r\n    this.subscribeToResponsiveMediaBreakpoint();\r\n\r\n  }\r\n\r\n  private subscribeToTopMenuState(): void\r\n  {\r\n    this.subscription.add(this.store.pipe\r\n      (\r\n        select(selectTopMenu),\r\n        startWith(initialTopMenuState),\r\n        pairwise(),\r\n        switchMap(async ([previous, current]) =>\r\n        {\r\n          if (!current.Identifier)\r\n          {\r\n            this.clearMenu();\r\n          }\r\n          const sideState = await firstValueFrom(this.store.pipe(select(selectSidebar)));\r\n          let topMenuChanged = true;\r\n          if (previous.Identifier === current.Identifier && previous.RefID === current.RefID && sideState.Identifier === current.Identifier)\r\n          {\r\n            topMenuChanged = false;\r\n          }\r\n\r\n          if (this.startupRoutingService.browserRefresh && sideState.Identifier && sideState.Identifier === current.Identifier)\r\n          {\r\n            topMenuChanged = false;\r\n          }\r\n\r\n          await this.dispatchToSidebarNewState(current, topMenuChanged);\r\n          return of(current);\r\n        })\r\n      )\r\n      .subscribe());\r\n\r\n  }\r\n\r\n  private async dispatchToSidebarNewState(current: ITopMenuState, topMenuChanged: boolean): Promise<void>\r\n  {\r\n    if (topMenuChanged)\r\n    {\r\n      const POSSuccessfulAuthentication = await firstValueFrom(this.store.pipe(select(selectPOSSuccessfulAuthentication)));\r\n      this.dispatchSidebarAction(new SidebarSelected({ Title: '', Identifier: current.Identifier, RefID: current.RefID ?? '', IsAuthenticated: POSSuccessfulAuthentication.isAuthenticated }));\r\n    }\r\n    if (!this.sideBarSubscribed)\r\n    {\r\n      this.sideBarSubscribed = true;\r\n      this.subscribeToSidebarState();\r\n    }\r\n  }\r\n\r\n  private subscribeToSidebarState(): void\r\n  {\r\n    this.subscription.add(this.store.pipe\r\n      (\r\n        select(selectSidebar),\r\n        distinctUntilChanged((previous, current) => previous.Identifier === current.Identifier && previous.IsAuthenticated === current.IsAuthenticated),\r\n        switchMap(async (res) =>\r\n        {\r\n          if (res.Identifier)\r\n          {\r\n            this.setSidebarMenu(res.Identifier, res.RefID ?? '');\r\n          } else\r\n          {\r\n            this.clearMenu();\r\n          }\r\n          return of(res);\r\n        })\r\n      )\r\n      .subscribe());\r\n  }\r\n\r\n  private subscribeToSidebarMenuClick(): void\r\n  {\r\n    this.subscription.add(this.menuService.onItemClick()\r\n      .subscribe(async (menuItem: NbMenuBag) =>\r\n      {\r\n        await this.handleOnItemClick(menuItem);\r\n      }));\r\n  }\r\n\r\n  private async handleOnItemClick(menuItem: NbMenuBag)\r\n  {\r\n    if (this.hasInternalMenu(menuItem))\r\n    {\r\n      const appIdentifier = menuItem.item.data.internalApplication?.internalApplicationIdentifier;\r\n      const refId = menuItem.item.data.internalApplication?.refId ?? '';\r\n      const POSSuccessfulAuthentication = await firstValueFrom(this.store.pipe(select(selectPOSSuccessfulAuthentication)));\r\n      this.dispatchSidebarAction(new SidebarSelected({ Title: '', Identifier: appIdentifier, RefID: refId, IsAuthenticated: POSSuccessfulAuthentication.isAuthenticated }));\r\n    }\r\n\r\n    if (this.isSmallScreen)\r\n    {\r\n      this.nbSidebarService.collapse('menu-sidebar');\r\n    }\r\n  }\r\n\r\n  private dispatchSidebarAction(SidebarAction: SidebarSelected): void\r\n  {\r\n    this.store.dispatch(SidebarAction);\r\n  }\r\n\r\n  private subscribeToResponsiveMediaBreakpoint(): void\r\n  {\r\n    this.subscription.add(this.responsiveService.mediaBreakpoint\r\n      .subscribe(screenSize =>\r\n      {\r\n        this.isSmallScreen = screenSize === 'xs' || screenSize === 'md';\r\n      }));\r\n  }\r\n\r\n  private setSidebarMenu(appIdentifier: string, refID: string): void\r\n  {\r\n    this.clearMenu();\r\n    this.subscription.add(this.sidebarService.GetSidebar({\r\n      ApplicationIdentifier: appIdentifier,\r\n      RefID: refID ?? '',\r\n    }).subscribe\r\n      (\r\n        (result) =>\r\n        {\r\n          this.resetSideBarMenu(result.SidebarMenu, refID ?? '');\r\n        }\r\n      ));\r\n  }\r\n\r\n  resetSideBarMenu(items: ShellSidebarMenuItem[], refId: string): void\r\n  {\r\n    this.clearMenu();\r\n    this.sideMenus = this.generateSideMenus(items, refId ?? '');\r\n    this.footerSideMenus = this.generateFooterSideMenus(items, refId ?? '');\r\n\r\n    this.menuService.addItems(this.sideMenus, 'menu');\r\n    this.checkLocationWithMenuStatus();\r\n  }\r\n\r\n  generateSideMenus(items: ShellSidebarMenuItem[], refId: string): NbMenuItem[]\r\n  {\r\n    const sideMenus: NbMenuItem[] = [];\r\n    if (items.length == 0)\r\n    {\r\n      return sideMenus;\r\n    }\r\n\r\n    for (let index = 0; index < items?.length; index++)\r\n    {\r\n      const m = items[index];\r\n\r\n      const menu = this.generateMenuItem(index === 0, m, refId ?? '');\r\n\r\n      if (m.position != 2)\r\n      {\r\n        sideMenus.push(menu);\r\n      }\r\n    }\r\n\r\n    return sideMenus;\r\n  }\r\n\r\n  generateFooterSideMenus(items: ShellSidebarMenuItem[], refId: string): NbMenuItem[]\r\n  {\r\n    const footerSideMenus: NbMenuItem[] = [];\r\n\r\n    if (items.length == 0)\r\n    {\r\n      return footerSideMenus;\r\n    }\r\n\r\n    for (let index = 0; index < items?.length; index++)\r\n    {\r\n      const m = items[index];\r\n\r\n      const menu = this.generateMenuItem(index === 0, m, refId ?? '');\r\n\r\n      if (m.position == 2)\r\n      {\r\n        footerSideMenus.push(menu);\r\n      }\r\n    }\r\n\r\n    return footerSideMenus;\r\n  }\r\n\r\n  private generateMenuItem(isHome: boolean, m: ShellSidebarMenuItem, refId: string): NbMenuItem\r\n  {\r\n    return {\r\n      home: isHome,\r\n      title: m.title,\r\n      selected: this.isActiveParent(m),\r\n      expanded: this.isActiveParent(m),\r\n      icon: m.icon,\r\n      link: m.link,\r\n      children: this.getChildMenu(m.children),\r\n      pathMatch: 'full',\r\n      data: {\r\n        internalApplication: m.internalApplicationIdentifier != null ? {\r\n          internalApplicationIdentifier: m.internalApplicationIdentifier,\r\n          internalApplicationBackTitle: m.internalApplicationBackTitle,\r\n          headerLabel: m.headerLabel,\r\n          refId: refId ?? '',\r\n        } as InternalApplicationModel : null\r\n      }\r\n    } as NbMenuItem;\r\n  }\r\n\r\n  isActiveParent(m: ShellSidebarMenuItem): boolean\r\n  {\r\n    return (window.location.pathname.startsWith(m.link)\r\n      && window.location.pathname.split('/').length === m.link.split('/').length)\r\n      || this.isActiveChild(m);\r\n  }\r\n\r\n  isActiveChild(m: ShellSidebarMenuItem): boolean\r\n  {\r\n    if (m.children?.length)\r\n    {\r\n      return m.children.some(a => this.isActive(a.link));\r\n    }\r\n\r\n    return window.location.pathname.startsWith(m.link);\r\n  }\r\n\r\n  isActive(link: string): boolean\r\n  {\r\n    return window.location.pathname.startsWith(link);\r\n  }\r\n\r\n  private getChildMenu(children: NbMenuItem[]): NbMenuItem[]\r\n  {\r\n    if (!children || children?.length == 0)\r\n    {\r\n      return null;\r\n    }\r\n\r\n    return children.map(item =>\r\n    {\r\n      return {\r\n        title: item.title,\r\n        selected: this.isActive(item.link),\r\n        icon: item.icon,\r\n        link: item.link,\r\n        pathMatch: 'full',\r\n      };\r\n    });\r\n  }\r\n\r\n  clearMenu(): void\r\n  {\r\n    this.menu.length = 0;\r\n  }\r\n\r\n  private hasInternalMenu(menuItem: NbMenuBag): Boolean\r\n  {\r\n    return !!(menuItem && menuItem.item && menuItem.item.data && menuItem.item.data.internalApplication);\r\n  }\r\n\r\n  private checkLocationWithMenuStatus(): void\r\n  {\r\n    const selectedMenuItem = [...this.sideMenus, ...this.footerSideMenus].find(p => p.selected);\r\n    if (!selectedMenuItem)\r\n    {\r\n      return;\r\n    }\r\n\r\n    if (selectedMenuItem.data?.internalApplication)\r\n    {\r\n      this.handleOnItemClick({ tag: null, item: selectedMenuItem });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n}\r\n","<tei-sidebar-header></tei-sidebar-header>\r\n\r\n<div class=\"nb-menu-container\">\r\n  <nb-menu tag=\"menu\" [items]=\"menu\"></nb-menu>\r\n</div>\r\n\r\n<nb-sidebar-footer>\r\n  <tei-sidebar-footer [items]=\"footerSideMenus\"></tei-sidebar-footer>\r\n</nb-sidebar-footer>\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-switcher',\r\n  styleUrls: ['./switcher.component.scss'],\r\n  template: `\r\n    <label class=\"switch-label\" [class.vertical]=\"vertical\">\r\n      <span class=\"first\" [class.active]=\"vertical || isFirstValue()\">\r\n        {{vertical ? currentValueLabel() : firstValueLabel}}\r\n      </span>\r\n\r\n      <div class=\"switch\">\r\n        <input type=\"checkbox\" [checked]=\"isSecondValue()\" (change)=\"changeValue()\">\r\n        <span class=\"slider\"></span>\r\n      </div>\r\n\r\n      <span *ngIf=\"!vertical\"\r\n            class=\"second\"\r\n            [class.active]=\"isSecondValue()\">\r\n          {{secondValueLabel}}\r\n      </span>\r\n    </label>\r\n  `,\r\n})\r\nexport class SwitcherComponent {\r\n  @Input() firstValue: any;\r\n  @Input() secondValue: any;\r\n\r\n  @Input() firstValueLabel: string;\r\n  @Input() secondValueLabel: string;\r\n\r\n  @Input() vertical: boolean;\r\n\r\n  @Input() value: any;\r\n  @Output() valueChange = new EventEmitter<any>();\r\n\r\n  isFirstValue() {\r\n    return this.value === this.firstValue;\r\n  }\r\n\r\n  isSecondValue() {\r\n    return this.value === this.secondValue;\r\n  }\r\n\r\n  currentValueLabel() {\r\n    return this.isFirstValue()\r\n      ? this.firstValueLabel\r\n      : this.secondValueLabel;\r\n  }\r\n\r\n  changeValue() {\r\n    this.value = this.isFirstValue()\r\n      ? this.secondValue\r\n      : this.firstValue;\r\n\r\n    this.valueChange.emit(this.value);\r\n  }\r\n}\r\n","import { Component, HostBinding, Inject, Input, OnChanges, OnDestroy, OnInit, SimpleChanges, ViewChild } from '@angular/core';\r\nimport { MatLegacyMenu as MatMenu } from '@angular/material/legacy-menu';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { IAuthService } from '@tei/abstraction';\r\nimport\r\n{\r\n  AppIdentifierService,\r\n  AppSessionModel,\r\n  DesktopNavigationType,\r\n  DeviceType,\r\n  ICustomNavigationState,\r\n  IThemeState,\r\n  ITopMenuState,\r\n  ResponsiveService,\r\n  TopMenuSelected\r\n} from '@tei/core';\r\nimport { ContextMenuType } from '@tei/pos-shared';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { RoutingManagementService } from '../../../@core/services/routing-management.service';\r\nimport { MenuItem } from '../../@intermediate/models/get-header.model';\r\n\r\n@Component({\r\n  selector: 'shell-top-menu',\r\n  templateUrl: './top-menu.component.html',\r\n  styleUrls: ['./top-menu.component.scss']\r\n})\r\nexport class TopMenuComponent implements OnInit, OnChanges, OnDestroy\r\n{\r\n  private destroy$ = new Subject();\r\n\r\n  @Input() menu: MenuItem[] = [];\r\n  @Input() topMenuState: ITopMenuState;\r\n  @Input() CustomNavigationState: ICustomNavigationState;\r\n  @ViewChild('smallScreenMenu') smallScreenMenu: MatMenu;\r\n  @HostBinding('class.small-screen') isSmallScreen: boolean = false;\r\n\r\n  deviceType = DeviceType;\r\n  desktopNavigationType = DesktopNavigationType;\r\n  isSmallScreenAndMenus: boolean = false;\r\n  isExtendedAccessTokenValid = false;\r\n\r\n  headerLabel = null;\r\n  headerSubLabel = null;\r\n\r\n  contextMenuType = ContextMenuType;\r\n\r\n  posSiteActiveUrl = null;\r\n\r\n  constructor(public router: Router,\r\n    public route: ActivatedRoute,\r\n    private responsiveService: ResponsiveService,\r\n    private routingManagementService: RoutingManagementService,\r\n    private appIdentifierService: AppIdentifierService,\r\n    @Inject('IAuthService') private authService: IAuthService,\r\n    private store: Store<IThemeState>)\r\n  {\r\n    this.appIdentifierService.appIdentifierValue\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe((value) =>\r\n      {\r\n        const currentAppSession = this.appIdentifierService.getAppSession();\r\n\r\n        this.headerLabel = currentAppSession?.headerLabel || null;\r\n        this.headerSubLabel = null;\r\n\r\n        this.authService.getToken()\r\n          .pipe(takeUntil(this.destroy$))\r\n          .subscribe((token) =>\r\n          {\r\n            const extended_access_token = token?.getPayload()?.extended_access_token;\r\n\r\n            this.isExtendedAccessTokenValid = !!extended_access_token;\r\n            if (extended_access_token && currentAppSession?.extendedAuthenticationData)\r\n            {\r\n              this.headerSubLabel = JSON.parse(currentAppSession?.extendedAuthenticationData)?.TerminalDescription;\r\n              this.headerLabel = currentAppSession?.description || null;\r\n            }\r\n          });\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.detectMobileScreen();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges)\r\n  {\r\n    if (changes['menu'])\r\n    {\r\n      this.detectMobileScreen();\r\n    }\r\n  }\r\n\r\n  menuClick(item: MenuItem): void\r\n  {\r\n    this.dispatchTopMenuAction(new TopMenuSelected({ Title: item.Name, Identifier: item.ActualIdentifier ?? item.Identifier, RefID: \"\", AllowBanners: item.AllowBanners, CustomDesktopNavigationType: item.CustomDesktopNavigationType, EnableCustomNavigation: item.EnableCustomNavigation }));\r\n\r\n    if (item.Url)\r\n    {\r\n      this.router.navigate([item.Url]);\r\n    }\r\n  }\r\n\r\n  onSiteQuickSearchItemClick(item: MenuItem): void\r\n  {\r\n    const siteItem = { ...item };\r\n    siteItem.Url = `pos${ siteItem.Url }/${ siteItem.ApplicationRefID }`;\r\n    this.posSiteActiveUrl = `${ siteItem.Url }/login`;\r\n    this.changeRouteToModule(siteItem, true, true);\r\n\r\n    this.dispatchTopMenuAction(new TopMenuSelected({ Title: item.Name, Identifier: item.ActualIdentifier ?? item.Identifier, RefID: item.ApplicationRefID, AllowBanners: item.AllowBanners, CustomDesktopNavigationType: item.CustomDesktopNavigationType, EnableCustomNavigation: item.EnableCustomNavigation }));\r\n  }\r\n\r\n  changeRouteToModule(menuItem: MenuItem, showLogoutPopup: boolean, urlAppRefIDRequired: boolean)\r\n  {\r\n    const appSession = {\r\n      baseAddress: menuItem.Url,\r\n      appIdentifier: menuItem.Identifier,\r\n      applicationRefID: menuItem.ApplicationRefID,\r\n      description: menuItem.Description,\r\n      showLogoutPopup: showLogoutPopup,\r\n      urlAppRefIDRequired: urlAppRefIDRequired\r\n    } as AppSessionModel;\r\n\r\n    this.routingManagementService.onHeaderMenuClick(appSession);\r\n  }\r\n\r\n  private detectMobileScreen()\r\n  {\r\n    this.responsiveService.mediaBreakpoint\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(screenSize =>\r\n      {\r\n        this.isSmallScreen = screenSize == 'xs';\r\n\r\n        if (this.topMenuState?.EnableCustomNavigation)\r\n        {\r\n          this.isSmallScreenAndMenus = this.menu?.length > 1 && (this.topMenuState?.CustomDesktopNavigationType === this.desktopNavigationType.TopMenu) || (this.CustomNavigationState?.DeviceType === this.deviceType.Mobile);\r\n        } else\r\n        {\r\n          this.isSmallScreenAndMenus = (this.isSmallScreen\r\n            && (this.menu?.length > 1 ||\r\n              (this.menu?.length === 1 && (this.menu[0].Children !== null && this.menu[0].Children.length !== 0))));\r\n        }\r\n      });\r\n  }\r\n\r\n  private dispatchTopMenuAction(TopMenuAction: TopMenuSelected)\r\n  {\r\n    this.store.dispatch(TopMenuAction);\r\n  }\r\n\r\n  isMenuActive(): Boolean\r\n  {\r\n    return this.router.isActive(this.posSiteActiveUrl, true);\r\n  }\r\n\r\n  ngOnDestroy()\r\n  {\r\n    this.destroy$.next(null);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n\r\n","<div class=\"a-navigation-top\" *ngIf=\"!isSmallScreenAndMenus\">\r\n  <ng-container *ngTemplateOutlet=\"menuContent;\"></ng-container>\r\n</div>\r\n\r\n<div *ngIf=\"!isExtendedAccessTokenValid && menu?.length \" class=\"d-flex w-100 justify-content-end\">\r\n  <div *ngIf=\"isSmallScreenAndMenus\">\r\n    <button mat-button class=\"d-flex flex-end a-appsmenu-button\" [matMenuTriggerFor]=\"smallScreenMenu\">\r\n      <span class=\"pr-1\">{{ 'SHELL.TOP_MENU.APP' | teiTextTranslate }}</span>\r\n      <mat-icon>apps</mat-icon>\r\n    </button>\r\n    <mat-menu class=\"a-appsmenu-container\" #smallScreenMenu=\"matMenu\" [overlapTrigger]=\"false\">\r\n      <ng-container *ngTemplateOutlet=\"menuContent;\"></ng-container>\r\n    </mat-menu>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #menuContent>\r\n  <div *ngIf=\"isSmallScreenAndMenus\" class=\"a-text-secondary a-text-small pl-2 mb-2\">\r\n    {{ 'SHELL.TOP_MENU.SWITCH_TO' | teiTextTranslate }}\r\n  </div>\r\n\r\n  <ng-container *ngIf=\"headerLabel && !isSmallScreen\">\r\n    <div class=\"d-flex flex-column\">\r\n      <a [class]=\"isSmallScreen ? 'a-text-primary pl-2 header-mobile-title' : 'a-text-primary pl-2'\">\r\n        {{headerLabel}}\r\n      </a>\r\n      <a *ngIf=\"headerSubLabel\"\r\n        [class]=\"isSmallScreen ? 'a-text-secondary pl-2 header-mobile-subtitle' : 'a-text-secondary pl-2'\">\r\n        {{headerSubLabel}}\r\n      </a>\r\n    </div>\r\n  </ng-container>\r\n\r\n  <ng-container *ngIf=\"!headerLabel\">\r\n    <ng-container *ngFor=\" let item of menu\">\r\n\r\n      <button mat-button [class]=\"'text-left'\" [class.mat-menu-item]=\"isSmallScreenAndMenus\"\r\n        *ngIf=\"item.Children.length===0 && item.Url\" [routerLink]=\"[item.Url]\"\r\n        [ngClass]=\"{'a-navigation-active': router.url.substring(1).startsWith(item.Identifier)}\"\r\n        (click)=\"item.Url && menuClick(item)\">{{item.Name}}\r\n      </button>\r\n\r\n      <ng-container class=\"a-navigation-top\" *ngIf=\"item.Children.length!==0\">\r\n        <ng-container\r\n          *ngTemplateOutlet=\"item.ContextMenuType === contextMenuType.default ? hasChild : pos; context: { item: item }\">\r\n        </ng-container>\r\n      </ng-container>\r\n    </ng-container>\r\n  </ng-container>\r\n</ng-template>\r\n\r\n<ng-template #hasChild let-item=\"item\">\r\n  <button mat-button [matMenuTriggerFor]=\"menu\" [class.mat-menu-item]=\"isSmallScreenAndMenus\"\r\n    [ngClass]=\"{'a-navigation-active': router.url.substring(1).startsWith(item.Identifier)}\">{{item.Name}}</button>\r\n  <mat-menu #menu=\"matMenu\">\r\n    <ng-container *ngFor=\"let innerItem of item.Children\">\r\n      <button mat-menu-item (click)=\"menuClick(innerItem)\">{{innerItem.Name}}\r\n      </button>\r\n    </ng-container>\r\n  </mat-menu>\r\n</ng-template>\r\n\r\n<ng-template #pos let-item=\"item\">\r\n  <tei-site-quick-search [siteMenuList]=\"item.Children\" (onSiteItemClickEvent)=\"onSiteQuickSearchItemClick($event)\">\r\n    <button mat-button [class]=\"'text-left'\" [class.mat-menu-item]=\"isSmallScreenAndMenus\"\r\n      [class.mat-menu-item]=\"isSmallScreenAndMenus\"\r\n      [ngClass]=\"{'a-navigation-active': router.url.substring(1).startsWith(item.Identifier)}\">{{item.Name}}</button>\r\n  </tei-site-quick-search>\r\n</ng-template>","export * from './menu-free/menu-free.layout';\r\nexport * from './one-column-without-sidebar-with-header/one-column-without-sidebar-with-header.layout';\r\nexport * from './one-column-without-sidebar/one-column-without-sidebar.layout';\r\nexport * from './one-column/one-column.layout';\r\nexport * from './pages-staging/pages-staging.layout';\r\nexport * from './three-columns/three-columns.layout';\r\nexport * from './two-columns/two-columns.layout';\r\n\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-menu-free-layout',\r\n  templateUrl: './menu-free.layout.html',\r\n  styleUrls: ['./menu-free.layout.scss'],\r\n})\r\nexport class MenuFreeLayoutComponent\r\n{\r\n\r\n}\r\n","<nb-layout class=\"tei-material-theme\" windowMode>\r\n\r\n  <nb-layout-column>\r\n    <ng-content select=\"router-outlet\"></ng-content>\r\n  </nb-layout-column>\r\n\r\n</nb-layout>","import { AfterViewInit, Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { select, Store } from '@ngrx/store';\r\nimport { DesktopNavigationType, DeviceType, ICustomNavigationState, initialCustomNavigationState, IThemeState, ITopMenuState, NbLayoutWithScrollService, ResponsiveService, selectCustomNavigation } from '@tei/core';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'ngx-one-column-custom-sidebar-with-header-layout',\r\n  templateUrl: './one-column-custom-sidebar-with-header.layout.html',\r\n  styleUrls: ['./one-column-custom-sidebar-with-header.layout.scss'],\r\n})\r\nexport class OneColumnCustomSidebarWithHeaderLayoutComponent implements AfterViewInit, OnDestroy, OnInit\r\n{\r\n  private destroy$ = new Subject();\r\n  subscription = new Subscription();\r\n  isScrollable: boolean = true;\r\n  isSmallScreen = false;\r\n  customNavigationState: ICustomNavigationState = initialCustomNavigationState;\r\n  deviceType = DeviceType;\r\n  desktopNavigationType = DesktopNavigationType;\r\n  @Input() topMenuState: ITopMenuState;\r\n  @Input() isAuthenticated: boolean;\r\n  constructor(\r\n    private responsiveService: ResponsiveService,\r\n    private nbLayoutWithScrollService: NbLayoutWithScrollService,\r\n    private store: Store<IThemeState>,)\r\n  { }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.nbLayoutWithScrollService.isScrollable$.subscribe(res =>\r\n    {\r\n      this.isScrollable = res;\r\n    });\r\n\r\n    this.subscription.add(\r\n      this.store.pipe\r\n        (\r\n          select(selectCustomNavigation),\r\n        )\r\n        .subscribe((customNavigationState: ICustomNavigationState) =>\r\n        {\r\n          if (customNavigationState.DeviceType > 0)\r\n          {\r\n            this.customNavigationState = customNavigationState;\r\n          }\r\n        })\r\n    );\r\n  }\r\n\r\n  ngAfterViewInit(): void\r\n  {\r\n    this.setContainerByInnerHeight();\r\n    this.handleResizeScreen();\r\n  }\r\n\r\n  private handleResizeScreen(): void\r\n  {\r\n    this.responsiveService.mediaBreakpoint.pipe(takeUntil(this.destroy$)).subscribe(screenSize =>\r\n    {\r\n      this.isSmallScreen = screenSize === 'xs' || screenSize === 'md';\r\n    });\r\n  }\r\n\r\n  setContainerByInnerHeight(): void\r\n  {\r\n    const windowInnerHeight = window.innerHeight;\r\n\r\n    const scrollableContainer = document.querySelector<HTMLElement>('.scrollable-container')!;\r\n    if (scrollableContainer)\r\n    {\r\n      scrollableContainer.style['height'] = `${ windowInnerHeight }px`;\r\n    }\r\n\r\n    const layout = document.querySelector<HTMLElement>('.layout')!;\r\n    if (layout)\r\n    {\r\n      layout.style['min-height'] = `${ windowInnerHeight }px`;\r\n    }\r\n\r\n    const layoutContainer = document.querySelector<HTMLElement>('.layout-container')!;\r\n    if (layoutContainer)\r\n    {\r\n      layoutContainer.style['min-height'] = `${ windowInnerHeight }px`;\r\n    }\r\n\r\n    const mainContainer = document.querySelector<HTMLElement>('.main-container')!;\r\n    if (mainContainer)\r\n    {\r\n      mainContainer.style['height'] = `${ windowInnerHeight - 56 }px`;\r\n    }\r\n\r\n    const containerShellCentered = document.querySelector<HTMLElement>('.container-shell-centered')!;\r\n    if (containerShellCentered)\r\n    {\r\n      containerShellCentered.style['height'] = `${ windowInnerHeight - 56 }px`;\r\n    }\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.destroy$.next(null);\r\n    this.destroy$.complete();\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","<nb-layout id=\"nb-layout-selector\" class=\"tei-material-theme\" windowMode [withScroll]=\"isScrollable\">\r\n  <nb-layout-header fixed>\r\n    <ngx-header [customNavigationState]=\"customNavigationState\" [showMenuIcon]=\"false\"></ngx-header>\r\n  </nb-layout-header>\r\n\r\n\r\n  <nb-layout-column>\r\n\r\n    <tei-shell-toolbar class=\"toolbar\">\r\n    </tei-shell-toolbar>\r\n    <div class=\"m-custom-nav-desktop d-flex o-large-screen h-100 overflow-hidden\"\r\n      *ngIf=\"customNavigationState?.DeviceType === deviceType.Desktop\">\r\n      <tei-cms-custom-nav-container [isAuthenticated]=\"isAuthenticated\" class=\"position-absolute o-custom-nav-container\"\r\n        *ngIf=\"topMenuState?.CustomDesktopNavigationType === desktopNavigationType.SideMenu\"\r\n        [customNavigationState]=\"customNavigationState\" [topMenuState]=\"topMenuState\"></tei-cms-custom-nav-container>\r\n      <div class=\"w-100\"\r\n        [ngClass]=\"{'p-custom-sidebar-content': topMenuState?.CustomDesktopNavigationType === desktopNavigationType.SideMenu}\">\r\n        <ng-container>\r\n          <tei-cms-banner-container *ngIf=\"topMenuState?.AllowBanners\"></tei-cms-banner-container>\r\n        </ng-container>\r\n        <ng-content select=\"router-outlet\"></ng-content>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"m-custom-nav-mobile d-flex flex-column justify-content-between h-100 o-small-screen overflow-hidden\"\r\n      *ngIf=\"customNavigationState?.DeviceType === deviceType.Mobile || customNavigationState?.DeviceType === deviceType.Tablet\">\r\n      <div class=\"h-100 p-custom-bottom-bar-content\">\r\n        <ng-container>\r\n          <tei-cms-banner-container *ngIf=\"topMenuState?.AllowBanners\"></tei-cms-banner-container>\r\n        </ng-container>\r\n        <router-outlet></router-outlet>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </nb-layout-column>\r\n\r\n  <nb-layout-footer fixed>\r\n    <ngx-footer></ngx-footer>\r\n  </nb-layout-footer>\r\n</nb-layout>\r\n\r\n<ng-container *ngIf=\"customNavigationState?.DeviceType===deviceType.Mobile ||\r\n      customNavigationState?.DeviceType===deviceType.Tablet\">\r\n  <tei-cms-custom-nav-container [isAuthenticated]=\"isAuthenticated\" [customNavigationState]=\"customNavigationState\"\r\n    [topMenuState]=\"topMenuState\"></tei-cms-custom-nav-container>\r\n</ng-container>","import { AfterViewChecked, Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { NbLayoutWithScrollService, ResponsiveService } from '@tei/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'ngx-one-column-without-sidebar-with-header-layout',\r\n  templateUrl: './one-column-without-sidebar-with-header.layout.html',\r\n  styleUrls: ['./one-column-without-sidebar-with-header.layout.scss'],\r\n})\r\nexport class OneColumnWithoutSidebarWithHeaderLayoutComponent implements AfterViewChecked, OnDestroy, OnInit\r\n{\r\n  private destroy$ = new Subject();\r\n\r\n  @Input() hasSidebar = false;\r\n  isScrollable: boolean = true;\r\n  isSmallScreen = false;\r\n\r\n  constructor(\r\n    private responsiveService: ResponsiveService,\r\n    private nbLayoutWithScrollService: NbLayoutWithScrollService)\r\n  { }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.nbLayoutWithScrollService.isScrollable$.subscribe(res =>\r\n    {\r\n      this.isScrollable = res;\r\n    });\r\n  }\r\n\r\n  ngAfterViewChecked(): void\r\n  {\r\n    this.setContainerByInnerHeight();\r\n    this.handleResizeScreen();\r\n  }\r\n\r\n  private handleResizeScreen()\r\n  {\r\n    this.responsiveService.mediaBreakpoint.pipe(takeUntil(this.destroy$)).subscribe(screenSize =>\r\n    {\r\n      this.isSmallScreen = screenSize === 'xs' || screenSize === 'md' || screenSize === 'lg';\r\n    });\r\n  }\r\n\r\n  setContainerByInnerHeight(): void\r\n  {\r\n    const windowInnerHeight = window.innerHeight;\r\n\r\n    const scrollableContainer = document.querySelector<HTMLElement>('.scrollable-container')!;\r\n    if (scrollableContainer)\r\n    {\r\n      scrollableContainer.style['height'] = `${ windowInnerHeight }px`;\r\n    }\r\n\r\n    const layout = document.querySelector<HTMLElement>('.layout')!;\r\n    if (layout)\r\n    {\r\n      layout.style['min-height'] = `${ windowInnerHeight }px`;\r\n    }\r\n\r\n    const layoutContainer = document.querySelector<HTMLElement>('.layout-container')!;\r\n    if (layoutContainer)\r\n    {\r\n      layoutContainer.style['min-height'] = `${ windowInnerHeight }px`;\r\n    }\r\n\r\n    const mainContainer = document.querySelector<HTMLElement>('.main-container')!;\r\n    if (mainContainer)\r\n    {\r\n      mainContainer.style['height'] = `${ windowInnerHeight - 56 }px`;\r\n    }\r\n\r\n    const containerShellCentered = document.querySelector<HTMLElement>('.container-shell-centered')!;\r\n    if (containerShellCentered)\r\n    {\r\n      containerShellCentered.style['height'] = `${ windowInnerHeight - 56 }px`;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.destroy$.next(null);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<nb-layout class=\"tei-material-theme\" windowMode [withScroll]=\"isScrollable\">\r\n  <nb-layout-header fixed>\r\n    <ngx-header [showMenuIcon]=\"false\"></ngx-header>\r\n  </nb-layout-header>\r\n\r\n\r\n  <nb-layout-column>\r\n    <ng-content select=\"router-outlet\"></ng-content>\r\n  </nb-layout-column>\r\n\r\n  <nb-layout-footer fixed>\r\n    <ngx-footer></ngx-footer>\r\n  </nb-layout-footer>\r\n</nb-layout>\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-one-column-without-sidebar-layout',\r\n  templateUrl: './one-column-without-sidebar.layout.html',\r\n  styleUrls: ['./one-column-without-sidebar.layout.scss'],\r\n})\r\nexport class OneColumnWithoutSidebarLayoutComponent\r\n{\r\n  @Input() headerTitle: string;\r\n}\r\n","<nb-layout class=\"tei-material-theme\" windowMode [withScroll]=\"false\">\r\n  <nb-layout-header fixed>\r\n    <ngx-light-header [headerTitle]=\"headerTitle\"></ngx-light-header>\r\n  </nb-layout-header>\r\n\r\n\r\n  <nb-layout-column>\r\n    <ng-content select=\"router-outlet\"></ng-content>\r\n  </nb-layout-column>\r\n\r\n  <nb-layout-footer fixed>\r\n    <ngx-footer></ngx-footer>\r\n  </nb-layout-footer>\r\n</nb-layout>\r\n","import { AfterViewChecked, Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport\r\n{\r\n  ITopMenuState,\r\n  NbLayoutWithScrollService,\r\n  ResponsiveService\r\n} from '@tei/core';\r\nimport { NbMenuBag, NbMenuService, NbSidebarComponent, NbSidebarService } from '@tei/nebular-theme';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'ngx-one-column-layout',\r\n  templateUrl: './one-column.layout.html',\r\n  styleUrls: ['./one-column.layout.scss'],\r\n})\r\nexport class OneColumnLayoutComponent implements AfterViewChecked, OnDestroy, OnInit\r\n{\r\n  @Input() topMenuState: ITopMenuState;\r\n  private destroy$ = new Subject();\r\n\r\n  @ViewChild('sideBar') sideNav: NbSidebarComponent;\r\n  isScrollable: boolean = true;\r\n  appIdentifier: string;\r\n  isSmallScreen = false;\r\n  subscriptions: Subscription = new Subscription();\r\n\r\n  constructor(\r\n    private responsiveService: ResponsiveService,\r\n    private sidebarService: NbSidebarService,\r\n    private menuService: NbMenuService,\r\n    private nbLayoutWithScrollService: NbLayoutWithScrollService)\r\n  { }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.nbLayoutWithScrollService.isScrollable$.subscribe(res =>\r\n    {\r\n      this.isScrollable = res;\r\n    });\r\n  }\r\n\r\n  ngAfterViewChecked(): void\r\n  {\r\n    this.setContainerByInnerHeight();\r\n    this.handleResizeScreen();\r\n    this.handleMenuService();\r\n  }\r\n\r\n  private handleMenuService()\r\n  {\r\n    this.menuService.onSubmenuToggle()\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe((menuItem: NbMenuBag) =>\r\n      {\r\n        if (this.sideNav?.state !== 'expanded')\r\n        {\r\n          menuItem.item.expanded = true;\r\n        }\r\n      });\r\n  }\r\n\r\n  private handleResizeScreen()\r\n  {\r\n    this.responsiveService.mediaBreakpoint.pipe(takeUntil(this.destroy$)).subscribe(screenSize =>\r\n    {\r\n      this.isSmallScreen = screenSize === 'xs' || screenSize === 'sm' || screenSize === 'md' || screenSize === 'lg';\r\n    });\r\n  }\r\n\r\n\r\n\r\n  closeSideBarOnClickOutSide()\r\n  {\r\n    if (this.isSmallScreen && this.sideNav.state !== 'collapsed')\r\n    {\r\n      this.sidebarService.collapse('menu-sidebar');\r\n    }\r\n  }\r\n\r\n  setContainerByInnerHeight(): void\r\n  {\r\n    const windowInnerHeight = window.innerHeight;\r\n\r\n    const scrollableContainer = document.querySelector<HTMLElement>('.scrollable-container')!;\r\n    if (scrollableContainer)\r\n    {\r\n      scrollableContainer.style['height'] = `${ windowInnerHeight }px`;\r\n    }\r\n\r\n    const layout = document.querySelector<HTMLElement>('.layout')!;\r\n    if (layout)\r\n    {\r\n      layout.style['min-height'] = `${ windowInnerHeight }px`;\r\n    }\r\n\r\n    const layoutContainer = document.querySelector<HTMLElement>('.layout-container')!;\r\n    if (layoutContainer)\r\n    {\r\n      layoutContainer.style['min-height'] = `${ windowInnerHeight }px`;\r\n    }\r\n\r\n    const mainContainer = document.querySelector<HTMLElement>('.main-container')!;\r\n    if (mainContainer)\r\n    {\r\n      mainContainer.style['height'] = `${ windowInnerHeight - 56 }px`;\r\n    }\r\n\r\n    const containerShellCentered = document.querySelector<HTMLElement>('.container-shell-centered')!;\r\n    if (containerShellCentered)\r\n    {\r\n      containerShellCentered.style['height'] = `${ windowInnerHeight - 56 }px`;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.destroy$.next(null);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<nb-layout class=\"tei-material-theme\" [withScroll]=\"isScrollable\">\r\n  <nb-layout-header fixed>\r\n    <ngx-header></ngx-header>\r\n  </nb-layout-header>\r\n\r\n\r\n  <nb-sidebar #sideBar fixed=\"false\" class=\"menu-sidebar\" tag=\"menu-sidebar\" state=\"compacted\" responsive\r\n    [collapsedBreakpoints]=\"['xs', 'is', 'sm', 'md', 'lg']\">\r\n\r\n    <sidebar-container>\r\n    </sidebar-container>\r\n\r\n  </nb-sidebar>\r\n\r\n  <nb-layout-column (click)=\"closeSideBarOnClickOutSide()\" class=\"overflow-hidden\">\r\n    <tei-shell-toolbar *ngIf=\"topMenuState?.Identifier === 'web'\" class=\"toolbar\">\r\n    </tei-shell-toolbar>\r\n    <tei-cms-banner-container *ngIf=\"topMenuState?.AllowBanners\"></tei-cms-banner-container>\r\n    <ng-content select=\"router-outlet\"></ng-content>\r\n  </nb-layout-column>\r\n\r\n  <nb-layout-footer fixed>\r\n    <ngx-footer></ngx-footer>\r\n  </nb-layout-footer>\r\n</nb-layout>","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\nimport { select, Store } from '@ngrx/store';\r\nimport { AppIdentifierService, ApplicationIdentifier, DesktopNavigationType, initialTopMenuState, IThemeState, LayoutActionChanged, PagesStagingLayoutType, ResponsiveService, selectLayout, setLayout } from '@tei/core';\r\nimport { initialPOSSuccessfulAuthenticationState, selectPOSSuccessfulAuthentication } from '@tei/pos-shared';\r\nimport { firstValueFrom, pairwise, startWith, Subscription, switchMap } from 'rxjs';\r\nimport { HeaderStoreService } from '../../@services/header-store.service';\r\nimport { LoadHeaderService } from '../../@services/load-header.service';\r\n\r\n@Component({\r\n  selector: 'ngx-pages-staging-layout',\r\n  templateUrl: './pages-staging.layout.html',\r\n  styleUrls: ['./pages-staging.layout.scss'],\r\n})\r\nexport class PagesStagingLayoutComponent implements OnInit\r\n{\r\n  subscription = new Subscription();\r\n  menuFree: any;\r\n  PagesStagingLayoutType = PagesStagingLayoutType;\r\n  @Input() headerTitle: string;\r\n  isLoaded: boolean;\r\n  layoutType = PagesStagingLayoutType.Default;\r\n  storeSubscription: Subscription;\r\n  appsWithCustomSidebar = [\r\n    ApplicationIdentifier.FoodAndBeverage,\r\n    ApplicationIdentifier.FoodAndBeverageAdmin,\r\n    ApplicationIdentifier.Retail,\r\n    ApplicationIdentifier.RetailAdmin,\r\n    ApplicationIdentifier.PosRetailEOD,\r\n    ApplicationIdentifier.EOD,\r\n    ApplicationIdentifier.PosFoodAndBeverageEOD,\r\n    ApplicationIdentifier.TeeSheet\r\n  ];\r\n\r\n  get desktopNavigationType()\r\n  {\r\n    return DesktopNavigationType;\r\n  }\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    public responsiveService: ResponsiveService,\r\n    private store: Store<IThemeState>,\r\n    private appIdentifierService: AppIdentifierService,\r\n    protected cd: ChangeDetectorRef,\r\n    public loadHeaderService: LoadHeaderService,\r\n    private headerStoreService: HeaderStoreService,\r\n    private router: Router)\r\n  {\r\n\r\n  }\r\n\r\n  async ngOnInit(): Promise<void>\r\n  {\r\n    const extendedAccessToken = await this.loadHeaderService.getExtendedToken();\r\n    await this.getLayoutFromStore();\r\n    this.setLayoutAccordingToRouteUrl();\r\n    this.subscribeToNavigation();\r\n    this.dialogListenerForMobileScreen();\r\n\r\n    this.subscription.add(this.headerStoreService.handleIsAuthentication());\r\n\r\n    this.handlePOSSuccessfulAuthentication();\r\n\r\n    await this.loadHeaderService.loadHeader(false, false);\r\n\r\n    this.updateTopMenuState(extendedAccessToken);\r\n  }\r\n\r\n  private handlePOSSuccessfulAuthentication()\r\n  {\r\n    this.subscription.add(this.store.pipe(\r\n      select(selectPOSSuccessfulAuthentication),\r\n      startWith(initialPOSSuccessfulAuthenticationState),\r\n      pairwise(),\r\n      switchMap(async ([previous, current]) =>\r\n      {\r\n        if (previous.isAuthenticated === current.isAuthenticated)\r\n        {\r\n          return;\r\n        }\r\n\r\n        if (!current.isAuthenticated)\r\n        {\r\n          this.headerStoreService.getHeaderFromApi(true).subscribe(() =>\r\n          {\r\n            this.loadHeaderService.handleUnauthenticatedRoute(this.loadHeaderService.getHeaderMenus(), current.isAuthenticated);\r\n          });\r\n        } else\r\n        {\r\n          this.loadHeaderService.fetchCurrentUserFromApi().then();\r\n        }\r\n      })\r\n    ).subscribe());\r\n  }\r\n\r\n  private updateTopMenuState(extendedAccessToken: string)\r\n  {\r\n    this.subscription.add(this.loadHeaderService.updateTopMenuState().subscribe((state) =>\r\n    {\r\n      if (state === null)\r\n      {\r\n        this.loadHeaderService.topMenuState = initialTopMenuState;\r\n      }\r\n      else\r\n      {\r\n        this.loadHeaderService.topMenuState = state;\r\n      }\r\n\r\n      if (this.loadHeaderService.hasHeaderMenus())\r\n      {\r\n        if (!this.isLoaded)\r\n        {\r\n          this.loadHeaderService.dispatchTopMenuUpdate(this.loadHeaderService.topMenuState);\r\n        }\r\n        this.loadHeaderService.changeRouteToModule(this.loadHeaderService.getHeaderMenus(), extendedAccessToken).then();\r\n\r\n        this.isLoaded = true;\r\n      }\r\n      if (!this.showInfo())\r\n      {\r\n        this.router.navigate(['forbidden']);\r\n      } else\r\n      {\r\n        this.isLoaded = true;\r\n      }\r\n\r\n    }));\r\n  }\r\n\r\n  async getLayoutFromStore(): Promise<void>\r\n  {\r\n    this.layoutType = setLayout((await firstValueFrom(this.store.select(selectLayout))).LayoutType);\r\n  }\r\n\r\n  dialogListenerForMobileScreen(): void\r\n  {\r\n    const screenSize = this.responsiveService.mediaBreakpoint.getValue();\r\n    const isMobile = screenSize === 'xs';\r\n\r\n    if (isMobile)\r\n    {\r\n      const windowInnerHeight = window.innerHeight;\r\n\r\n      this.subscription.add(this.dialog.afterOpened.subscribe((dialogRef) =>\r\n      {\r\n        this.subscription.add(dialogRef.afterOpened().subscribe(() =>\r\n        {\r\n          const dialogContainerForSmallDevices = document.querySelector<HTMLElement>('.o-dialog-sm-fullscreen .o-dialog-container')!;\r\n          if (dialogContainerForSmallDevices)\r\n          {\r\n            dialogContainerForSmallDevices.style['height'] = `${ windowInnerHeight }px`;\r\n          }\r\n        }));\r\n      }));\r\n    }\r\n    const isTablet = screenSize === 'sm';\r\n\r\n    if (isTablet)\r\n    {\r\n      this.subscription.add(this.dialog.afterOpened.subscribe((dialogRef) =>\r\n      {\r\n        this.subscription.add(dialogRef.afterOpened().subscribe(() =>\r\n        {\r\n          const dialogContainerForMediumDevices = document.querySelector<HTMLElement>('.o-dialog-md-fullscreen .o-dialog-container')!;\r\n          if (dialogContainerForMediumDevices)\r\n          {\r\n            dialogContainerForMediumDevices.style['height'] = `${ window.innerHeight }px`;\r\n            dialogContainerForMediumDevices.style['min-height'] = `${ window.innerHeight }px`;\r\n          }\r\n        }));\r\n      }));\r\n    }\r\n  }\r\n\r\n  private subscribeToNavigation()\r\n  {\r\n    this.subscription.add(this.router.events\r\n      .subscribe((event) =>\r\n      {\r\n        if (event instanceof NavigationEnd)\r\n        {\r\n          this.setLayoutAccordingToRouteUrl();\r\n        }\r\n      }));\r\n  }\r\n\r\n  private subscribeToLayoutState()\r\n  {\r\n    this.storeSubscription = this.store.select(selectLayout).subscribe(response =>\r\n    {\r\n      this.layoutType = setLayout(response.LayoutType);\r\n    });\r\n    this.subscription.add(this.storeSubscription);\r\n  }\r\n\r\n  setLayoutAccordingToRouteUrl(): void\r\n  {\r\n    if (this.appsWithCustomSidebar.includes(this.appIdentifierService.currentAppIdentifier))\r\n    {\r\n      this.layoutType = setLayout(PagesStagingLayoutType.SideBarFreeWithHeader);\r\n    }\r\n    else if (this.appIdentifierService.currentAppIdentifier === ApplicationIdentifier.PaymentProcess)\r\n    {\r\n      this.layoutType = setLayout(PagesStagingLayoutType.SideBarFree);\r\n    }\r\n    else if (this.layoutType != PagesStagingLayoutType.MenuFree)\r\n    {\r\n      this.layoutType = setLayout(PagesStagingLayoutType.Default);\r\n    }\r\n    if (this.storeSubscription)\r\n    {\r\n      this.subscription.remove(this.storeSubscription);\r\n    }\r\n    this.store.dispatch(new LayoutActionChanged({ LayoutType: this.layoutType }));\r\n    this.subscribeToLayoutState();\r\n  }\r\n\r\n  showInfo(): boolean\r\n  {\r\n    return this.loadHeaderService.hasHeaderMenus() || this.router.url.includes(\"/payment-engine/quick-payment\") || this.isMenuFree();\r\n  }\r\n\r\n  isMenuFree(): boolean\r\n  {\r\n    return this.layoutType === PagesStagingLayoutType.MenuFree;\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","<ng-container *ngIf=\"showInfo()\">\r\n  <ng-container\r\n    *ngIf=\"(loadHeaderService.topMenuState && !loadHeaderService.topMenuState?.EnableCustomNavigation)||isMenuFree()\">\r\n    <ng-container *ngIf=\"isLoaded\">\r\n      <ng-container *ngIf=\"layoutType === PagesStagingLayoutType.Default; else noDefault\">\r\n        <ngx-one-column-layout [topMenuState]=\"loadHeaderService.topMenuState\">\r\n          <ng-content type=\"nb-menu\" select=\"nb-menu\"></ng-content>\r\n          <router-outlet></router-outlet>\r\n        </ngx-one-column-layout>\r\n      </ng-container>\r\n    </ng-container>\r\n\r\n    <ng-template #noDefault>\r\n\r\n      <ng-container [ngSwitch]=\"layoutType\">\r\n\r\n        <ng-container *ngSwitchCase=\"PagesStagingLayoutType.SideBarFree\">\r\n\r\n          <ngx-one-column-without-sidebar-layout [headerTitle]=\"headerTitle\">\r\n            <ng-content type=\"nb-menu\" select=\"nb-menu\"></ng-content>\r\n            <router-outlet></router-outlet>\r\n          </ngx-one-column-without-sidebar-layout>\r\n\r\n        </ng-container>\r\n\r\n        <ng-container *ngSwitchCase=\"PagesStagingLayoutType.SideBarFreeWithHeader\">\r\n\r\n          <ngx-one-column-without-sidebar-with-header-layout>\r\n            <ng-content type=\"nb-menu\" select=\"nb-menu\"></ng-content>\r\n            <router-outlet></router-outlet>\r\n          </ngx-one-column-without-sidebar-with-header-layout>\r\n\r\n        </ng-container>\r\n\r\n        <ng-container *ngSwitchCase=\"PagesStagingLayoutType.MenuFree\">\r\n          <ngx-menu-free-layout>\r\n            <router-outlet></router-outlet>\r\n          </ngx-menu-free-layout>\r\n        </ng-container>\r\n\r\n      </ng-container>\r\n    </ng-template>\r\n  </ng-container>\r\n\r\n  <ng-container\r\n    *ngIf=\"loadHeaderService.topMenuState && loadHeaderService.topMenuState?.EnableCustomNavigation&&!isMenuFree()\">\r\n    <ngx-one-column-custom-sidebar-with-header-layout [topMenuState]=\"loadHeaderService.topMenuState\"\r\n      [isAuthenticated]=\"loadHeaderService.isAuthenticated\">\r\n      <ng-content type=\"nb-menu\" select=\"nb-menu\"></ng-content>\r\n      <router-outlet></router-outlet>\r\n    </ngx-one-column-custom-sidebar-with-header-layout>\r\n  </ng-container>\r\n\r\n</ng-container>","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-three-columns-layout',\r\n  styleUrls: ['./three-columns.layout.scss'],\r\n  template: `\r\n    <nb-layout windowMode>\r\n      <nb-layout-header fixed>\r\n        <ngx-header></ngx-header>\r\n      </nb-layout-header>\r\n\r\n      <nb-sidebar class=\"menu-sidebar\" tag=\"menu-sidebar\" responsive start>\r\n        <ng-content select=\"nb-menu\"></ng-content>\r\n      </nb-sidebar>\r\n\r\n      <nb-layout-column class=\"small\">\r\n      </nb-layout-column>\r\n\r\n      <nb-layout-column>\r\n        <ng-content select=\"router-outlet\"></ng-content>\r\n      </nb-layout-column>\r\n\r\n      <nb-layout-column class=\"small\">\r\n      </nb-layout-column>\r\n\r\n      <nb-layout-footer fixed>\r\n        <ngx-footer></ngx-footer>\r\n      </nb-layout-footer>\r\n    </nb-layout>\r\n  `,\r\n})\r\nexport class ThreeColumnsLayoutComponent {}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-two-columns-layout',\r\n  styleUrls: ['./two-columns.layout.scss'],\r\n  template: `\r\n    <nb-layout windowMode>\r\n      <nb-layout-header fixed>\r\n        <ngx-header></ngx-header>\r\n      </nb-layout-header>\r\n\r\n      <nb-sidebar class=\"menu-sidebar\" tag=\"menu-sidebar\" responsive start>\r\n        <ng-content select=\"nb-menu\"></ng-content>\r\n      </nb-sidebar>\r\n\r\n      <nb-layout-column class=\"small\">\r\n      </nb-layout-column>\r\n\r\n      <nb-layout-column>\r\n        <ng-content select=\"router-outlet\"></ng-content>\r\n      </nb-layout-column>\r\n\r\n      <nb-layout-footer fixed>\r\n        <ngx-footer></ngx-footer>\r\n      </nb-layout-footer>\r\n\r\n    </nb-layout>\r\n  `,\r\n})\r\nexport class TwoColumnsLayoutComponent {}\r\n","export const CustomMaterialIcons = {\r\n  'language': '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24px\" height=\"24px\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"/></svg>',\r\n  'lock_open': '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24px\" height=\"24px\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z\"/></svg>',\r\n  'home': '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24px\" height=\"24px\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\r\n  'local_offer': '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24px\" height=\"24px\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z\"/></svg>',\r\n  'golf_course': '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24px\" height=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><circle cx=\"19.5\" cy=\"19.5\" r=\"1.5\"/><path d=\"M17 5.92L9 2v18H7v-1.73c-1.79.35-3 .99-3 1.73 0 1.1 2.69 2 6 2s6-.9 6-2c0-.99-2.16-1.81-5-1.97V8.98l6-3.06z\"/></svg>',\r\n  'receipt': '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24px\" height=\"24px\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z\"/></svg>',\r\n  'logout': '<svg xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24px\" height=\"24px\" style=\"-ms-transform: rotate(180deg); -webkit-transform: rotate(180deg); transform: rotate(180deg);\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z\"/></svg>',\r\n  'settings': '<svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><g><path d=\"M0,0h24v24H0V0z\" fill=\"none\"/><path d=\"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\"/></g></svg>',\r\n  'print': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"/></svg>',\r\n  'add_circle': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z\"/></svg>',\r\n  'admin_panel_settings': '<svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"27px\" viewBox=\"0 0 24 24\" width=\"27px\" fill=\"currentColor\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><g><path d=\"M17,11c0.34,0,0.67,0.04,1,0.09V6.27L10.5,3L3,6.27v4.91c0,4.54,3.2,8.79,7.5,9.82c0.55-0.13,1.08-0.32,1.6-0.55 C11.41,19.47,11,18.28,11,17C11,13.69,13.69,11,17,11z\"/><path d=\"M17,13c-2.21,0-4,1.79-4,4c0,2.21,1.79,4,4,4s4-1.79,4-4C21,14.79,19.21,13,17,13z M17,14.38c0.62,0,1.12,0.51,1.12,1.12 s-0.51,1.12-1.12,1.12s-1.12-0.51-1.12-1.12S16.38,14.38,17,14.38z M17,19.75c-0.93,0-1.74-0.46-2.24-1.17 c0.05-0.72,1.51-1.08,2.24-1.08s2.19,0.36,2.24,1.08C18.74,19.29,17.93,19.75,17,19.75z\"/></g></g></svg>',\r\n  'arrow_circle_left': '<svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><path d=\"M2,12c0,5.52,4.48,10,10,10s10-4.48,10-10c0-5.52-4.48-10-10-10C6.48,2,2,6.48,2,12z M12,11l4,0v2l-4,0l0,3l-4-4l4-4L12,11 z\"/></g></svg>',\r\n  'event_available': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M16.53 11.06L15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17l5.94-5.94zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z\"/></svg>',\r\n  'send': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"/></svg>',\r\n  'local_mall': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M19 6h-2c0-2.76-2.24-5-5-5S7 3.24 7 6H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-7-3c1.66 0 3 1.34 3 3H9c0-1.66 1.34-3 3-3zm0 10c-2.76 0-5-2.24-5-5h2c0 1.66 1.34 3 3 3s3-1.34 3-3h2c0 2.76-2.24 5-5 5z\"/></svg>',\r\n  'account_circle': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\"/></svg>',\r\n  'people': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z\"/></svg>',\r\n  'person': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/></svg>',\r\n  'today': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\"/></svg>',\r\n  'account_balance': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><g xmlns=\"http://www.w3.org/2000/svg\"><rect height=\"7\" width=\"3\" x=\"4\" y=\"10\"/><rect height=\"7\" width=\"3\" x=\"10.5\" y=\"10\"/><rect height=\"3\" width=\"20\" x=\"2\" y=\"19\"/><rect height=\"7\" width=\"3\" x=\"17\" y=\"10\"/><polygon points=\"12,1 2,6 2,8 22,8 22,6\"/></g></svg>',\r\n  'credit_card': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z\"/></svg>',\r\n  'location_on': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/></svg>',\r\n  'arrow_back': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/></svg>',\r\n  'edit_notifications': '<svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><rect fill=\"none\" height=\"24\" width=\"24\"/><g><path d=\"M17.58,6.25l1.77,1.77L14.37,13H12.6v-1.77L17.58,6.25z M20.85,5.81l-1.06-1.06c-0.2-0.2-0.51-0.2-0.71,0l-0.85,0.85 l1.77,1.77l0.85-0.85C21.05,6.32,21.05,6,20.85,5.81z M18,12.2V17h2v2H4v-2h2v-7c0-2.79,1.91-5.14,4.5-5.8V3.5 C10.5,2.67,11.17,2,12,2s1.5,0.67,1.5,1.5v0.7c0.82,0.21,1.57,0.59,2.21,1.09L10.6,10.4V15h4.6L18,12.2z M10,20h4c0,1.1-0.9,2-2,2 S10,21.1,10,20z\"/></g></svg>',\r\n  'article': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z\"/></svg>',\r\n  'looks_one': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14h-2V9h-2V7h4v10z\"/></svg>',\r\n  'looks_two': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 8c0 1.11-.9 2-2 2h-2v2h4v2H9v-4c0-1.11.9-2 2-2h2V9H9V7h4c1.1 0 2 .89 2 2v2z\"/></svg>',\r\n  'history': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"/></svg>',\r\n  'verified_user': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z\"/></svg>',\r\n  'translate': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z\"/></svg>',\r\n  'campaign': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M18 11v2h4v-2h-4zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61zM20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4zM4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9H4zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34z\"/></svg>',\r\n  'users': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z\"/></svg>',\r\n  'do_not_disturb': '<svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><g><g><path d=\"M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.42,0-8-3.58-8-8 c0-1.85,0.63-3.55,1.69-4.9L16.9,18.31C15.55,19.37,13.85,20,12,20z M18.31,16.9L7.1,5.69C8.45,4.63,10.15,4,12,4 c4.42,0,8,3.58,8,8C20,13.85,19.37,15.55,18.31,16.9z\"/></g></g></g></svg>',\r\n  'do_not_disturb_on': '<svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><g><path d=\"M7,11v2h10v-2H7z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8 s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z\"/></g></g></svg>',\r\n  'minimize': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M6 19h12v2H6z\"/></svg>',\r\n  'remove': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M19 13H5v-2h14v2z\"/></svg>',\r\n  'restore': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\"/></svg>',\r\n  'punch_clock': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/>  <path d=\"M19 6h-1V1H6v5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM8 3h8v3H8V3zm4 16c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z\"/><path d=\"M12.5 11.5h-1v2.71l1.64 1.64.71-.71-1.35-1.35z\"></path></svg>',\r\n  'tei_icon_table': '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" version=\"1.1\" fill=\"currentColor\"> <path d=\"M 23.996094 7.792969 C 23.988281 7.667969 23.9375 7.550781 23.851562 7.460938 L 23.851562 7.457031 L 20.195312 3.804688 C 20.097656 3.707031 19.964844 3.652344 19.828125 3.652344 L 4.113281 3.652344 C 3.972656 3.652344 3.835938 3.707031 3.738281 3.808594 L 0.148438 7.460938 C 0.109375 7.503906 0.0742188 7.554688 0.0507812 7.609375 C 0.0429688 7.625 0.0390625 7.640625 0.0351562 7.65625 C 0.0195312 7.699219 0.0078125 7.746094 0.0078125 7.792969 C 0.0078125 7.804688 0 7.8125 0 7.824219 L 0 9.390625 C 0 9.398438 0.00390625 9.40625 0.00390625 9.410156 C 0.00390625 9.472656 0.0195312 9.535156 0.0390625 9.59375 C 0.0390625 9.59375 0.0429688 9.597656 0.046875 9.601562 C 0.0703125 9.65625 0.101562 9.703125 0.140625 9.742188 C 0.15625 9.757812 0.167969 9.769531 0.179688 9.777344 C 0.214844 9.808594 0.25 9.832031 0.289062 9.851562 C 0.304688 9.863281 0.324219 9.867188 0.339844 9.875 C 0.398438 9.898438 0.457031 9.910156 0.519531 9.914062 L 2.085938 9.914062 L 2.085938 19.828125 C 2.085938 20.113281 2.320312 20.347656 2.609375 20.347656 L 3.128906 20.347656 C 3.417969 20.347656 3.652344 20.113281 3.652344 19.828125 L 3.652344 9.914062 L 5.214844 9.914062 L 5.214844 15.652344 C 5.214844 15.941406 5.449219 16.175781 5.738281 16.175781 L 6.261719 16.175781 C 6.546875 16.175781 6.78125 15.941406 6.78125 15.652344 L 6.78125 9.914062 L 17.21875 9.914062 L 17.21875 15.652344 C 17.21875 15.941406 17.453125 16.175781 17.738281 16.175781 L 18.261719 16.175781 C 18.550781 16.175781 18.78125 15.941406 18.78125 15.652344 L 18.78125 9.914062 L 20.347656 9.914062 L 20.347656 19.828125 C 20.347656 20.113281 20.582031 20.347656 20.871094 20.347656 L 21.390625 20.347656 C 21.679688 20.347656 21.914062 20.113281 21.914062 19.828125 L 21.914062 9.914062 L 23.480469 9.914062 C 23.542969 9.910156 23.601562 9.898438 23.660156 9.875 C 23.679688 9.867188 23.695312 9.859375 23.710938 9.851562 C 23.75 9.832031 23.785156 9.808594 23.820312 9.777344 C 23.832031 9.769531 23.847656 9.753906 23.859375 9.742188 C 23.898438 9.703125 23.929688 9.65625 23.953125 9.605469 C 23.953125 9.601562 23.957031 9.597656 23.960938 9.59375 C 23.984375 9.535156 23.996094 9.472656 23.996094 9.410156 C 23.996094 9.402344 24 9.398438 24 9.390625 L 24 7.824219 C 24 7.8125 23.996094 7.804688 23.996094 7.792969 Z M 23.996094 7.792969 \"/></svg>',\r\n  'restaurant_menu': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z\"/></svg>',\r\n  'storefront': '<svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><g/><g><path d=\"M21.9,8.89l-1.05-4.37c-0.22-0.9-1-1.52-1.91-1.52H5.05C4.15,3,3.36,3.63,3.15,4.52L2.1,8.89 c-0.24,1.02-0.02,2.06,0.62,2.88C2.8,11.88,2.91,11.96,3,12.06V19c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2v-6.94 c0.09-0.09,0.2-0.18,0.28-0.28C21.92,10.96,22.15,9.91,21.9,8.89z M18.91,4.99l1.05,4.37c0.1,0.42,0.01,0.84-0.25,1.17 C19.57,10.71,19.27,11,18.77,11c-0.61,0-1.14-0.49-1.21-1.14L16.98,5L18.91,4.99z M13,5h1.96l0.54,4.52 c0.05,0.39-0.07,0.78-0.33,1.07C14.95,10.85,14.63,11,14.22,11C13.55,11,13,10.41,13,9.69V5z M8.49,9.52L9.04,5H11v4.69 C11,10.41,10.45,11,9.71,11c-0.34,0-0.65-0.15-0.89-0.41C8.57,10.3,8.45,9.91,8.49,9.52z M4.04,9.36L5.05,5h1.97L6.44,9.86 C6.36,10.51,5.84,11,5.23,11c-0.49,0-0.8-0.29-0.93-0.47C4.03,10.21,3.94,9.78,4.04,9.36z M5,19v-6.03C5.08,12.98,5.15,13,5.23,13 c0.87,0,1.66-0.36,2.24-0.95c0.6,0.6,1.4,0.95,2.31,0.95c0.87,0,1.65-0.36,2.23-0.93c0.59,0.57,1.39,0.93,2.29,0.93 c0.84,0,1.64-0.35,2.24-0.95c0.58,0.59,1.37,0.95,2.24,0.95c0.08,0,0.15-0.02,0.23-0.03V19H5z\"/></g></g></svg>',\r\n  'shopping_bag': '<svg xmlns=\"http://www.w3.org/2000/svg\" enable-background=\"new 0 0 24 24\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/><path d=\"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-8 4c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2zm2-6c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm4 6c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2z\"/></g></svg>',\r\n  'auto_gratuity': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\" width=\"24px\" fill=\"currentColor\"><path d=\"M240-40v-329L110-580l185-300h370l185 300-130 211v329l-240-80-240 80Zm100-760L204-580l136 220h280l136-220-136-220H340Zm98 383L296-558l57-57 85 85 169-170 57 56-226 227Z\"/></svg>',\r\n  'explore': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\" fill=\"currentColor\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z\"/></svg>',\r\n  'analytics': '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\" width=\"24px\" fill=\"currentColor\"><path d=\"M280-280h80v-200h-80v200Zm320 0h80v-400h-80v400Zm-160 0h80v-120h-80v120Zm0-200h80v-80h-80v80ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Z\"/></svg>'\r\n};\r\n","import { NbJSThemeOptions } from '@tei/nebular-theme';\r\n\r\nconst palette = {\r\n  primary: '#e91d63',\r\n  success: '#60af20',\r\n  info: '#0495ee',\r\n  warning: '#ff9f05',\r\n  danger: '#b00020',\r\n};\r\n\r\nexport const baseTheme: NbJSThemeOptions = {\r\n  name: 'material-dark',\r\n  base: 'dark',\r\n  variables: {\r\n    fontMain: 'Roboto, sans-serif',\r\n    fontSecondary: 'Roboto, sans-serif',\r\n\r\n    bg: '#383838',\r\n    bg2: '#292929',\r\n    bg3: '#1f1f1f',\r\n    bg4: '#141414',\r\n\r\n    border: '#383838',\r\n    border2: '#292929',\r\n    border3: '#1f1f1f',\r\n    border4: '#141414',\r\n    border5: '#141414',\r\n\r\n    fg: '#808080',\r\n    fgHeading: '#ffffff',\r\n    fgText: '#ffffff',\r\n    fgHighlight: palette.primary,\r\n    layoutBg: '#1f1f1f',\r\n    separator: '#1f1f1f',\r\n\r\n    primary: palette.primary,\r\n    success: palette.success,\r\n    info: palette.info,\r\n    warning: palette.warning,\r\n    danger: palette.danger,\r\n\r\n    primaryLight: '#f24681',\r\n    successLight: '#8fcf50',\r\n    infoLight: '#40bbf4',\r\n    warningLight: '#ffbe43',\r\n    dangerLight: '#f44336',\r\n  },\r\n};\r\n\r\nconst baseThemeVariables = baseTheme.variables;\r\n\r\nexport const MATERIAL_DARK_THEME = {\r\n  name: 'material-dark',\r\n  base: 'default',\r\n  variables: {\r\n    temperature: {\r\n      arcFill: [\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n      ],\r\n      arcEmpty: baseThemeVariables.bg2,\r\n      thumbBg: baseThemeVariables.bg2,\r\n      thumbBorder: baseThemeVariables.primary,\r\n    },\r\n\r\n    solar: {\r\n      gradientLeft: baseThemeVariables.primary,\r\n      gradientRight: baseThemeVariables.primary,\r\n      shadowColor: 'rgba(0, 0, 0, 0)',\r\n      secondSeriesFill: baseThemeVariables.bg2,\r\n      radius: ['80%', '90%'],\r\n    },\r\n\r\n    traffic: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      lineBg: baseThemeVariables.border4,\r\n      lineShadowBlur: '1',\r\n      itemColor: baseThemeVariables.border4,\r\n      itemBorderColor: baseThemeVariables.border4,\r\n      itemEmphasisBorderColor: baseThemeVariables.primary,\r\n      shadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n      shadowLineShadow: 'rgba(0, 0, 0, 0)',\r\n      gradFrom: baseThemeVariables.bg2,\r\n      gradTo: baseThemeVariables.bg2,\r\n    },\r\n\r\n    electricity: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: baseThemeVariables.fgText,\r\n      tooltipLineWidth: '0',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n\r\n      axisLineColor: baseThemeVariables.border3,\r\n      xAxisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'solid',\r\n      lineWidth: '4',\r\n      lineGradFrom: baseThemeVariables.primary,\r\n      lineGradTo: baseThemeVariables.primary,\r\n      lineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      areaGradFrom: baseThemeVariables.bg2,\r\n      areaGradTo: baseThemeVariables.bg2,\r\n      shadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    bubbleMap: {\r\n      titleColor: baseThemeVariables.fgText,\r\n      areaColor: baseThemeVariables.bg4,\r\n      areaHoverColor: baseThemeVariables.fgHighlight,\r\n      areaBorderColor: baseThemeVariables.border5,\r\n    },\r\n\r\n    profitBarAnimationEchart: {\r\n      textColor: baseThemeVariables.fgText,\r\n\r\n      firstAnimationBarColor: baseThemeVariables.primary,\r\n      secondAnimationBarColor: baseThemeVariables.success,\r\n\r\n      splitLineStyleOpacity: '1',\r\n      splitLineStyleWidth: '1',\r\n      splitLineStyleColor: baseThemeVariables.separator,\r\n\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '16',\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipBorderWidth: '1',\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n    },\r\n\r\n    trafficBarEchart: {\r\n      gradientFrom: baseThemeVariables.warningLight,\r\n      gradientTo: baseThemeVariables.warning,\r\n      shadow: baseThemeVariables.warningLight,\r\n      shadowBlur: '0',\r\n\r\n      axisTextColor: baseThemeVariables.fgText,\r\n      axisFontSize: '12',\r\n\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n    },\r\n\r\n    countryOrders: {\r\n      countryBorderColor: baseThemeVariables.border4,\r\n      countryFillColor: baseThemeVariables.bg3,\r\n      countryBorderWidth: '1',\r\n      hoveredCountryBorderColor: baseThemeVariables.primary,\r\n      hoveredCountryFillColor: baseThemeVariables.primaryLight,\r\n      hoveredCountryBorderWidth: '1',\r\n\r\n      chartAxisLineColor: baseThemeVariables.border4,\r\n      chartAxisTextColor: baseThemeVariables.fg,\r\n      chartAxisFontSize: '16',\r\n      chartGradientTo: baseThemeVariables.primary,\r\n      chartGradientFrom: baseThemeVariables.primaryLight,\r\n      chartAxisSplitLine: baseThemeVariables.separator,\r\n      chartShadowLineColor: baseThemeVariables.primaryLight,\r\n\r\n      chartLineBottomShadowColor: baseThemeVariables.primary,\r\n\r\n      chartInnerLineColor: baseThemeVariables.bg2,\r\n    },\r\n\r\n    echarts: {\r\n      bg: baseThemeVariables.bg,\r\n      textColor: baseThemeVariables.fgText,\r\n      axisLineColor: baseThemeVariables.fgText,\r\n      splitLineColor: baseThemeVariables.separator,\r\n      itemHoverShadowColor: 'rgba(0, 0, 0, 0.5)',\r\n      tooltipBackgroundColor: baseThemeVariables.primary,\r\n      areaOpacity: '0.7',\r\n    },\r\n\r\n    chartjs: {\r\n      axisLineColor: baseThemeVariables.separator,\r\n      textColor: baseThemeVariables.fgText,\r\n    },\r\n\r\n    orders: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: 'rgba(0, 0, 0, 0)',\r\n      tooltipLineWidth: '0',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '20',\r\n\r\n      axisLineColor: baseThemeVariables.border4,\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'solid',\r\n      lineWidth: '4',\r\n\r\n      // first line\r\n      firstAreaGradFrom: baseThemeVariables.bg3,\r\n      firstAreaGradTo: baseThemeVariables.bg3,\r\n      firstShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n\r\n      // second line\r\n      secondLineGradFrom: baseThemeVariables.primary,\r\n      secondLineGradTo: baseThemeVariables.primary,\r\n\r\n      secondAreaGradFrom: 'rgba(51, 102, 255, 0.2)',\r\n      secondAreaGradTo: 'rgba(51, 102, 255, 0)',\r\n      secondShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n\r\n      // third line\r\n      thirdLineGradFrom: baseThemeVariables.success,\r\n      thirdLineGradTo: baseThemeVariables.successLight,\r\n\r\n      thirdAreaGradFrom: 'rgba(0, 214, 143, 0.2)',\r\n      thirdAreaGradTo: 'rgba(0, 214, 143, 0)',\r\n      thirdShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    profit: {\r\n      bg: baseThemeVariables.bg,\r\n      textColor: baseThemeVariables.fgText,\r\n      axisLineColor: baseThemeVariables.border4,\r\n      splitLineColor: baseThemeVariables.separator,\r\n      areaOpacity: '1',\r\n\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n\r\n      // first bar\r\n      firstLineGradFrom: baseThemeVariables.bg3,\r\n      firstLineGradTo: baseThemeVariables.bg3,\r\n      firstLineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      // second bar\r\n      secondLineGradFrom: baseThemeVariables.primary,\r\n      secondLineGradTo: baseThemeVariables.primary,\r\n      secondLineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      // third bar\r\n      thirdLineGradFrom: baseThemeVariables.success,\r\n      thirdLineGradTo: baseThemeVariables.successLight,\r\n      thirdLineShadow: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    orderProfitLegend: {\r\n      firstItem: baseThemeVariables.success,\r\n      secondItem: baseThemeVariables.primary,\r\n      thirdItem: baseThemeVariables.bg3,\r\n    },\r\n\r\n    visitors: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: 'rgba(0, 0, 0, 0)',\r\n      tooltipLineWidth: '1',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '20',\r\n\r\n      axisLineColor: baseThemeVariables.border4,\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'dotted',\r\n      lineWidth: '6',\r\n      lineGradFrom: '#ffffff',\r\n      lineGradTo: '#ffffff',\r\n      lineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      areaGradFrom: baseThemeVariables.primary,\r\n      areaGradTo: baseThemeVariables.primaryLight,\r\n\r\n      innerLineStyle: 'solid',\r\n      innerLineWidth: '1',\r\n\r\n      innerAreaGradFrom: baseThemeVariables.success,\r\n      innerAreaGradTo: baseThemeVariables.success,\r\n    },\r\n\r\n    visitorsLegend: {\r\n      firstIcon: baseThemeVariables.success,\r\n      secondIcon: baseThemeVariables.primary,\r\n    },\r\n\r\n    visitorsPie: {\r\n      firstPieGradientLeft: baseThemeVariables.success,\r\n      firstPieGradientRight: baseThemeVariables.success,\r\n      firstPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n      firstPieRadius: ['70%', '90%'],\r\n\r\n      secondPieGradientLeft: baseThemeVariables.warning,\r\n      secondPieGradientRight: baseThemeVariables.warningLight,\r\n      secondPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n      secondPieRadius: ['60%', '97%'],\r\n      shadowOffsetX: '0',\r\n      shadowOffsetY: '0',\r\n    },\r\n\r\n    visitorsPieLegend: {\r\n      firstSection: baseThemeVariables.warning,\r\n      secondSection: baseThemeVariables.success,\r\n    },\r\n\r\n    earningPie: {\r\n      radius: ['65%', '100%'],\r\n      center: ['50%', '50%'],\r\n\r\n      fontSize: '22',\r\n\r\n      firstPieGradientLeft: baseThemeVariables.success,\r\n      firstPieGradientRight: baseThemeVariables.success,\r\n      firstPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n\r\n      secondPieGradientLeft: baseThemeVariables.primary,\r\n      secondPieGradientRight: baseThemeVariables.primary,\r\n      secondPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n\r\n      thirdPieGradientLeft: baseThemeVariables.warning,\r\n      thirdPieGradientRight: baseThemeVariables.warning,\r\n      thirdPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    earningLine: {\r\n      gradFrom: baseThemeVariables.primary,\r\n      gradTo: baseThemeVariables.primary,\r\n\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '16',\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipBorderWidth: '1',\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n    },\r\n  },\r\n} as NbJSThemeOptions;\r\n","import { NbJSThemeOptions } from '@tei/nebular-theme';\r\n\r\nconst palette = {\r\n  primary: '#6200ee',\r\n  success: '#60af20',\r\n  info: '#0495ee',\r\n  warning: '#ff9f05',\r\n  danger: '#b00020',\r\n};\r\n\r\nexport const baseTheme: NbJSThemeOptions = {\r\n  name: 'material-light',\r\n  base: 'default',\r\n  variables: {\r\n    fontMain: 'Roboto, sans-serif',\r\n    fontSecondary: 'Roboto, sans-serif',\r\n\r\n    bg: '#ffffff',\r\n    bg2: '#f5f5f5',\r\n    bg3: '#ebebeb',\r\n    bg4: '#e0e0e0',\r\n\r\n    border: '#ffffff',\r\n    border2: '#f5f5f5',\r\n    border3: '#ebebeb',\r\n    border4: '#e0e0e0',\r\n    border5: '#b3b3b3',\r\n\r\n    fg: '#838383',\r\n    fgHeading: '#1a2138',\r\n    fgText: '#1a2138',\r\n    fgHighlight: palette.primary,\r\n    layoutBg: '#ebebeb',\r\n    separator: '#ebebeb',\r\n\r\n    primary: palette.primary,\r\n    success: palette.success,\r\n    info: palette.info,\r\n    warning: palette.warning,\r\n    danger: palette.danger,\r\n\r\n    primaryLight: '#903df4',\r\n    successLight: '#8fcf50',\r\n    infoLight: '#40bbf4',\r\n    warningLight: '#ffbe43',\r\n    dangerLight: '#cf3341',\r\n  },\r\n};\r\n\r\nconst baseThemeVariables = baseTheme.variables;\r\n\r\nexport const MATERIAL_LIGHT_THEME = {\r\n  name: 'material-light',\r\n  base: 'default',\r\n  variables: {\r\n    temperature: {\r\n      arcFill: [\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n      ],\r\n      arcEmpty: baseThemeVariables.bg2,\r\n      thumbBg: baseThemeVariables.bg2,\r\n      thumbBorder: baseThemeVariables.primary,\r\n    },\r\n\r\n    solar: {\r\n      gradientLeft: baseThemeVariables.primary,\r\n      gradientRight: baseThemeVariables.primary,\r\n      shadowColor: 'rgba(0, 0, 0, 0)',\r\n      secondSeriesFill: baseThemeVariables.bg2,\r\n      radius: ['80%', '90%'],\r\n    },\r\n\r\n    traffic: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      lineBg: baseThemeVariables.border4,\r\n      lineShadowBlur: '1',\r\n      itemColor: baseThemeVariables.border4,\r\n      itemBorderColor: baseThemeVariables.border4,\r\n      itemEmphasisBorderColor: baseThemeVariables.primary,\r\n      shadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n      shadowLineShadow: 'rgba(0, 0, 0, 0)',\r\n      gradFrom: baseThemeVariables.bg2,\r\n      gradTo: baseThemeVariables.bg2,\r\n    },\r\n\r\n    electricity: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: baseThemeVariables.fgText,\r\n      tooltipLineWidth: '0',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n\r\n      axisLineColor: baseThemeVariables.border3,\r\n      xAxisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'solid',\r\n      lineWidth: '4',\r\n      lineGradFrom: baseThemeVariables.primary,\r\n      lineGradTo: baseThemeVariables.primary,\r\n      lineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      areaGradFrom: baseThemeVariables.bg2,\r\n      areaGradTo: baseThemeVariables.bg2,\r\n      shadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    bubbleMap: {\r\n      titleColor: baseThemeVariables.fgText,\r\n      areaColor: baseThemeVariables.bg4,\r\n      areaHoverColor: baseThemeVariables.fgHighlight,\r\n      areaBorderColor: baseThemeVariables.border5,\r\n    },\r\n\r\n    profitBarAnimationEchart: {\r\n      textColor: baseThemeVariables.fgText,\r\n\r\n      firstAnimationBarColor: baseThemeVariables.primary,\r\n      secondAnimationBarColor: baseThemeVariables.success,\r\n\r\n      splitLineStyleOpacity: '1',\r\n      splitLineStyleWidth: '1',\r\n      splitLineStyleColor: baseThemeVariables.separator,\r\n\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '16',\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipBorderWidth: '1',\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n    },\r\n\r\n    trafficBarEchart: {\r\n      gradientFrom: baseThemeVariables.warningLight,\r\n      gradientTo: baseThemeVariables.warning,\r\n      shadow: baseThemeVariables.warningLight,\r\n      shadowBlur: '0',\r\n\r\n      axisTextColor: baseThemeVariables.fgText,\r\n      axisFontSize: '12',\r\n\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n    },\r\n\r\n    countryOrders: {\r\n      countryBorderColor: baseThemeVariables.border4,\r\n      countryFillColor: baseThemeVariables.bg3,\r\n      countryBorderWidth: '1',\r\n      hoveredCountryBorderColor: baseThemeVariables.primary,\r\n      hoveredCountryFillColor: baseThemeVariables.primaryLight,\r\n      hoveredCountryBorderWidth: '1',\r\n\r\n      chartAxisLineColor: baseThemeVariables.border4,\r\n      chartAxisTextColor: baseThemeVariables.fg,\r\n      chartAxisFontSize: '16',\r\n      chartGradientTo: baseThemeVariables.primary,\r\n      chartGradientFrom: baseThemeVariables.primaryLight,\r\n      chartAxisSplitLine: baseThemeVariables.separator,\r\n      chartShadowLineColor: baseThemeVariables.primaryLight,\r\n\r\n      chartLineBottomShadowColor: baseThemeVariables.primary,\r\n\r\n      chartInnerLineColor: baseThemeVariables.bg2,\r\n    },\r\n\r\n    echarts: {\r\n      bg: baseThemeVariables.bg,\r\n      textColor: baseThemeVariables.fgText,\r\n      axisLineColor: baseThemeVariables.fgText,\r\n      splitLineColor: baseThemeVariables.separator,\r\n      itemHoverShadowColor: 'rgba(0, 0, 0, 0.5)',\r\n      tooltipBackgroundColor: baseThemeVariables.primary,\r\n      areaOpacity: '0.7',\r\n    },\r\n\r\n    chartjs: {\r\n      axisLineColor: baseThemeVariables.separator,\r\n      textColor: baseThemeVariables.fgText,\r\n    },\r\n\r\n    orders: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: 'rgba(0, 0, 0, 0)',\r\n      tooltipLineWidth: '0',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '20',\r\n\r\n      axisLineColor: baseThemeVariables.border4,\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'solid',\r\n      lineWidth: '4',\r\n\r\n      // first line\r\n      firstAreaGradFrom: baseThemeVariables.bg3,\r\n      firstAreaGradTo: baseThemeVariables.bg3,\r\n      firstShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n\r\n      // second line\r\n      secondLineGradFrom: baseThemeVariables.primary,\r\n      secondLineGradTo: baseThemeVariables.primary,\r\n\r\n      secondAreaGradFrom: 'rgba(51, 102, 255, 0.2)',\r\n      secondAreaGradTo: 'rgba(51, 102, 255, 0)',\r\n      secondShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n\r\n      // third line\r\n      thirdLineGradFrom: baseThemeVariables.success,\r\n      thirdLineGradTo: baseThemeVariables.successLight,\r\n\r\n      thirdAreaGradFrom: 'rgba(0, 214, 143, 0.2)',\r\n      thirdAreaGradTo: 'rgba(0, 214, 143, 0)',\r\n      thirdShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    profit: {\r\n      bg: baseThemeVariables.bg,\r\n      textColor: baseThemeVariables.fgText,\r\n      axisLineColor: baseThemeVariables.border4,\r\n      splitLineColor: baseThemeVariables.separator,\r\n      areaOpacity: '1',\r\n\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n\r\n      // first bar\r\n      firstLineGradFrom: baseThemeVariables.bg3,\r\n      firstLineGradTo: baseThemeVariables.bg3,\r\n      firstLineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      // second bar\r\n      secondLineGradFrom: baseThemeVariables.primary,\r\n      secondLineGradTo: baseThemeVariables.primary,\r\n      secondLineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      // third bar\r\n      thirdLineGradFrom: baseThemeVariables.success,\r\n      thirdLineGradTo: baseThemeVariables.successLight,\r\n      thirdLineShadow: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    orderProfitLegend: {\r\n      firstItem: baseThemeVariables.success,\r\n      secondItem: baseThemeVariables.primary,\r\n      thirdItem: baseThemeVariables.bg3,\r\n    },\r\n\r\n    visitors: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: 'rgba(0, 0, 0, 0)',\r\n      tooltipLineWidth: '1',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '20',\r\n\r\n      axisLineColor: baseThemeVariables.border4,\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'dotted',\r\n      lineWidth: '6',\r\n      lineGradFrom: '#ffffff',\r\n      lineGradTo: '#ffffff',\r\n      lineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      areaGradFrom: baseThemeVariables.primary,\r\n      areaGradTo: baseThemeVariables.primaryLight,\r\n\r\n      innerLineStyle: 'solid',\r\n      innerLineWidth: '1',\r\n\r\n      innerAreaGradFrom: baseThemeVariables.success,\r\n      innerAreaGradTo: baseThemeVariables.success,\r\n    },\r\n\r\n    visitorsLegend: {\r\n      firstIcon: baseThemeVariables.success,\r\n      secondIcon: baseThemeVariables.primary,\r\n    },\r\n\r\n    visitorsPie: {\r\n      firstPieGradientLeft: baseThemeVariables.success,\r\n      firstPieGradientRight: baseThemeVariables.success,\r\n      firstPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n      firstPieRadius: ['70%', '90%'],\r\n\r\n      secondPieGradientLeft: baseThemeVariables.warning,\r\n      secondPieGradientRight: baseThemeVariables.warningLight,\r\n      secondPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n      secondPieRadius: ['60%', '97%'],\r\n      shadowOffsetX: '0',\r\n      shadowOffsetY: '0',\r\n    },\r\n\r\n    visitorsPieLegend: {\r\n      firstSection: baseThemeVariables.warning,\r\n      secondSection: baseThemeVariables.success,\r\n    },\r\n\r\n    earningPie: {\r\n      radius: ['65%', '100%'],\r\n      center: ['50%', '50%'],\r\n\r\n      fontSize: '22',\r\n\r\n      firstPieGradientLeft: baseThemeVariables.success,\r\n      firstPieGradientRight: baseThemeVariables.success,\r\n      firstPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n\r\n      secondPieGradientLeft: baseThemeVariables.primary,\r\n      secondPieGradientRight: baseThemeVariables.primary,\r\n      secondPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n\r\n      thirdPieGradientLeft: baseThemeVariables.warning,\r\n      thirdPieGradientRight: baseThemeVariables.warning,\r\n      thirdPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    earningLine: {\r\n      gradFrom: baseThemeVariables.primary,\r\n      gradTo: baseThemeVariables.primary,\r\n\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '16',\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipBorderWidth: '1',\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n    },\r\n  },\r\n} as NbJSThemeOptions;\r\n","import { NbJSThemeOptions, DARK_THEME as baseTheme } from '@tei/nebular-theme';\r\n\r\nconst baseThemeVariables = baseTheme.variables;\r\n\r\nexport const DARK_THEME = {\r\n  name: 'dark',\r\n  base: 'dark',\r\n  variables: {\r\n    temperature: {\r\n      arcFill: [\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n      ],\r\n      arcEmpty: baseThemeVariables.bg2,\r\n      thumbBg: baseThemeVariables.bg2,\r\n      thumbBorder: baseThemeVariables.primary,\r\n    },\r\n\r\n    solar: {\r\n      gradientLeft: baseThemeVariables.primary,\r\n      gradientRight: baseThemeVariables.primary,\r\n      shadowColor: 'rgba(0, 0, 0, 0)',\r\n      secondSeriesFill: baseThemeVariables.bg2,\r\n      radius: ['80%', '90%'],\r\n    },\r\n\r\n    traffic: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      lineBg: baseThemeVariables.border4,\r\n      lineShadowBlur: '1',\r\n      itemColor: baseThemeVariables.border4,\r\n      itemBorderColor: baseThemeVariables.border4,\r\n      itemEmphasisBorderColor: baseThemeVariables.primary,\r\n      shadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n      shadowLineShadow: 'rgba(0, 0, 0, 0)',\r\n      gradFrom: baseThemeVariables.bg2,\r\n      gradTo: baseThemeVariables.bg2,\r\n    },\r\n\r\n    electricity: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: baseThemeVariables.fgText,\r\n      tooltipLineWidth: '0',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n\r\n      axisLineColor: baseThemeVariables.border3,\r\n      xAxisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'solid',\r\n      lineWidth: '4',\r\n      lineGradFrom: baseThemeVariables.primary,\r\n      lineGradTo: baseThemeVariables.primary,\r\n      lineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      areaGradFrom: baseThemeVariables.bg2,\r\n      areaGradTo: baseThemeVariables.bg2,\r\n      shadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    bubbleMap: {\r\n      titleColor: baseThemeVariables.fgText,\r\n      areaColor: baseThemeVariables.bg4,\r\n      areaHoverColor: baseThemeVariables.fgHighlight,\r\n      areaBorderColor: baseThemeVariables.border5,\r\n    },\r\n\r\n    profitBarAnimationEchart: {\r\n      textColor: baseThemeVariables.fgText,\r\n\r\n      firstAnimationBarColor: baseThemeVariables.primary,\r\n      secondAnimationBarColor: baseThemeVariables.success,\r\n\r\n      splitLineStyleOpacity: '1',\r\n      splitLineStyleWidth: '1',\r\n      splitLineStyleColor: baseThemeVariables.separator,\r\n\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '16',\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipBorderWidth: '1',\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n    },\r\n\r\n    trafficBarEchart: {\r\n      gradientFrom: baseThemeVariables.warningLight,\r\n      gradientTo: baseThemeVariables.warning,\r\n      shadow: baseThemeVariables.warningLight,\r\n      shadowBlur: '0',\r\n\r\n      axisTextColor: baseThemeVariables.fgText,\r\n      axisFontSize: '12',\r\n\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n    },\r\n\r\n    countryOrders: {\r\n      countryBorderColor: baseThemeVariables.border4,\r\n      countryFillColor: baseThemeVariables.bg3,\r\n      countryBorderWidth: '1',\r\n      hoveredCountryBorderColor: baseThemeVariables.primary,\r\n      hoveredCountryFillColor: baseThemeVariables.primaryLight,\r\n      hoveredCountryBorderWidth: '1',\r\n\r\n      chartAxisLineColor: baseThemeVariables.border4,\r\n      chartAxisTextColor: baseThemeVariables.fg,\r\n      chartAxisFontSize: '16',\r\n      chartGradientTo: baseThemeVariables.primary,\r\n      chartGradientFrom: baseThemeVariables.primaryLight,\r\n      chartAxisSplitLine: baseThemeVariables.separator,\r\n      chartShadowLineColor: baseThemeVariables.primaryLight,\r\n\r\n      chartLineBottomShadowColor: baseThemeVariables.primary,\r\n\r\n      chartInnerLineColor: baseThemeVariables.bg2,\r\n    },\r\n\r\n    echarts: {\r\n      bg: baseThemeVariables.bg,\r\n      textColor: baseThemeVariables.fgText,\r\n      axisLineColor: baseThemeVariables.fgText,\r\n      splitLineColor: baseThemeVariables.separator,\r\n      itemHoverShadowColor: 'rgba(0, 0, 0, 0.5)',\r\n      tooltipBackgroundColor: baseThemeVariables.primary,\r\n      areaOpacity: '0.7',\r\n    },\r\n\r\n    chartjs: {\r\n      axisLineColor: baseThemeVariables.separator,\r\n      textColor: baseThemeVariables.fgText,\r\n    },\r\n\r\n    orders: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: 'rgba(0, 0, 0, 0)',\r\n      tooltipLineWidth: '0',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '20',\r\n\r\n      axisLineColor: baseThemeVariables.border4,\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'solid',\r\n      lineWidth: '4',\r\n\r\n      // first line\r\n      firstAreaGradFrom: baseThemeVariables.bg3,\r\n      firstAreaGradTo: baseThemeVariables.bg3,\r\n      firstShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n\r\n      // second line\r\n      secondLineGradFrom: baseThemeVariables.primary,\r\n      secondLineGradTo: baseThemeVariables.primary,\r\n\r\n      secondAreaGradFrom: 'rgba(51, 102, 255, 0.2)',\r\n      secondAreaGradTo: 'rgba(51, 102, 255, 0)',\r\n      secondShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n\r\n      // third line\r\n      thirdLineGradFrom: baseThemeVariables.success,\r\n      thirdLineGradTo: baseThemeVariables.successLight,\r\n\r\n      thirdAreaGradFrom: 'rgba(0, 214, 143, 0.2)',\r\n      thirdAreaGradTo: 'rgba(0, 214, 143, 0)',\r\n      thirdShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    profit: {\r\n      bg: baseThemeVariables.bg,\r\n      textColor: baseThemeVariables.fgText,\r\n      axisLineColor: baseThemeVariables.border4,\r\n      splitLineColor: baseThemeVariables.separator,\r\n      areaOpacity: '1',\r\n\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n\r\n      // first bar\r\n      firstLineGradFrom: baseThemeVariables.bg3,\r\n      firstLineGradTo: baseThemeVariables.bg3,\r\n      firstLineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      // second bar\r\n      secondLineGradFrom: baseThemeVariables.primary,\r\n      secondLineGradTo: baseThemeVariables.primary,\r\n      secondLineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      // third bar\r\n      thirdLineGradFrom: baseThemeVariables.success,\r\n      thirdLineGradTo: baseThemeVariables.successLight,\r\n      thirdLineShadow: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    orderProfitLegend: {\r\n      firstItem: baseThemeVariables.success,\r\n      secondItem: baseThemeVariables.primary,\r\n      thirdItem: baseThemeVariables.bg3,\r\n    },\r\n\r\n    visitors: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: 'rgba(0, 0, 0, 0)',\r\n      tooltipLineWidth: '0',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '20',\r\n\r\n      axisLineColor: baseThemeVariables.border4,\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'dotted',\r\n      lineWidth: '6',\r\n      lineGradFrom: '#ffffff',\r\n      lineGradTo: '#ffffff',\r\n      lineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      areaGradFrom: baseThemeVariables.primary,\r\n      areaGradTo: baseThemeVariables.primaryLight,\r\n\r\n      innerLineStyle: 'solid',\r\n      innerLineWidth: '1',\r\n\r\n      innerAreaGradFrom: baseThemeVariables.success,\r\n      innerAreaGradTo: baseThemeVariables.success,\r\n    },\r\n\r\n    visitorsLegend: {\r\n      firstIcon: baseThemeVariables.success,\r\n      secondIcon: baseThemeVariables.primary,\r\n    },\r\n\r\n    visitorsPie: {\r\n      firstPieGradientLeft: baseThemeVariables.success,\r\n      firstPieGradientRight: baseThemeVariables.success,\r\n      firstPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n      firstPieRadius: ['70%', '90%'],\r\n\r\n      secondPieGradientLeft: baseThemeVariables.warning,\r\n      secondPieGradientRight: baseThemeVariables.warningLight,\r\n      secondPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n      secondPieRadius: ['60%', '97%'],\r\n      shadowOffsetX: '0',\r\n      shadowOffsetY: '0',\r\n    },\r\n\r\n    visitorsPieLegend: {\r\n      firstSection: baseThemeVariables.warning,\r\n      secondSection: baseThemeVariables.success,\r\n    },\r\n\r\n    earningPie: {\r\n      radius: ['65%', '100%'],\r\n      center: ['50%', '50%'],\r\n\r\n      fontSize: '22',\r\n\r\n      firstPieGradientLeft: baseThemeVariables.success,\r\n      firstPieGradientRight: baseThemeVariables.success,\r\n      firstPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n\r\n      secondPieGradientLeft: baseThemeVariables.primary,\r\n      secondPieGradientRight: baseThemeVariables.primary,\r\n      secondPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n\r\n      thirdPieGradientLeft: baseThemeVariables.warning,\r\n      thirdPieGradientRight: baseThemeVariables.warning,\r\n      thirdPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    earningLine: {\r\n      gradFrom: baseThemeVariables.primary,\r\n      gradTo: baseThemeVariables.primary,\r\n\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '16',\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipBorderWidth: '1',\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n    },\r\n  },\r\n} as NbJSThemeOptions;\r\n","import { DEFAULT_THEME as baseTheme, NbJSThemeOptions } from '@tei/nebular-theme';\r\n\r\nconst baseThemeVariables = baseTheme.variables;\r\n\r\nexport const DEFAULT_THEME = {\r\n  name: 'default',\r\n  base: 'default',\r\n  variables: {\r\n    temperature: {\r\n      arcFill: [\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n        baseThemeVariables.primary,\r\n      ],\r\n      arcEmpty: baseThemeVariables.bg2,\r\n      thumbBg: baseThemeVariables.bg2,\r\n      thumbBorder: baseThemeVariables.primary,\r\n    },\r\n\r\n    solar: {\r\n      gradientLeft: baseThemeVariables.primary,\r\n      gradientRight: baseThemeVariables.primary,\r\n      shadowColor: 'rgba(0, 0, 0, 0)',\r\n      secondSeriesFill: baseThemeVariables.bg2,\r\n      radius: ['80%', '90%'],\r\n    },\r\n\r\n    traffic: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      lineBg: baseThemeVariables.border4,\r\n      lineShadowBlur: '1',\r\n      itemColor: baseThemeVariables.border4,\r\n      itemBorderColor: baseThemeVariables.border4,\r\n      itemEmphasisBorderColor: baseThemeVariables.primary,\r\n      shadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n      shadowLineShadow: 'rgba(0, 0, 0, 0)',\r\n      gradFrom: baseThemeVariables.bg2,\r\n      gradTo: baseThemeVariables.bg2,\r\n    },\r\n\r\n    electricity: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: baseThemeVariables.fgText,\r\n      tooltipLineWidth: '0',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n\r\n      axisLineColor: baseThemeVariables.border3,\r\n      xAxisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'solid',\r\n      lineWidth: '4',\r\n      lineGradFrom: baseThemeVariables.primary,\r\n      lineGradTo: baseThemeVariables.primary,\r\n      lineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      areaGradFrom: baseThemeVariables.bg2,\r\n      areaGradTo: baseThemeVariables.bg2,\r\n      shadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    bubbleMap: {\r\n      titleColor: baseThemeVariables.fgText,\r\n      areaColor: baseThemeVariables.bg4,\r\n      areaHoverColor: baseThemeVariables.fgHighlight,\r\n      areaBorderColor: baseThemeVariables.border5,\r\n    },\r\n\r\n    profitBarAnimationEchart: {\r\n      textColor: baseThemeVariables.fgText,\r\n\r\n      firstAnimationBarColor: baseThemeVariables.primary,\r\n      secondAnimationBarColor: baseThemeVariables.success,\r\n\r\n      splitLineStyleOpacity: '1',\r\n      splitLineStyleWidth: '1',\r\n      splitLineStyleColor: baseThemeVariables.separator,\r\n\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '16',\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipBorderWidth: '1',\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n    },\r\n\r\n    trafficBarEchart: {\r\n      gradientFrom: baseThemeVariables.warningLight,\r\n      gradientTo: baseThemeVariables.warning,\r\n      shadow: baseThemeVariables.warningLight,\r\n      shadowBlur: '0',\r\n\r\n      axisTextColor: baseThemeVariables.fgText,\r\n      axisFontSize: '12',\r\n\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n    },\r\n\r\n    countryOrders: {\r\n      countryBorderColor: baseThemeVariables.border4,\r\n      countryFillColor: baseThemeVariables.bg3,\r\n      countryBorderWidth: '1',\r\n      hoveredCountryBorderColor: baseThemeVariables.primary,\r\n      hoveredCountryFillColor: baseThemeVariables.primaryLight,\r\n      hoveredCountryBorderWidth: '1',\r\n\r\n      chartAxisLineColor: baseThemeVariables.border4,\r\n      chartAxisTextColor: baseThemeVariables.fg,\r\n      chartAxisFontSize: '16',\r\n      chartGradientTo: baseThemeVariables.primary,\r\n      chartGradientFrom: baseThemeVariables.primaryLight,\r\n      chartAxisSplitLine: baseThemeVariables.separator,\r\n      chartShadowLineColor: baseThemeVariables.primaryLight,\r\n\r\n      chartLineBottomShadowColor: baseThemeVariables.primary,\r\n\r\n      chartInnerLineColor: baseThemeVariables.bg2,\r\n    },\r\n\r\n    echarts: {\r\n      bg: baseThemeVariables.bg,\r\n      textColor: baseThemeVariables.fgText,\r\n      axisLineColor: baseThemeVariables.fgText,\r\n      splitLineColor: baseThemeVariables.separator,\r\n      itemHoverShadowColor: 'rgba(0, 0, 0, 0.5)',\r\n      tooltipBackgroundColor: baseThemeVariables.primary,\r\n      areaOpacity: '0.7',\r\n    },\r\n\r\n    chartjs: {\r\n      axisLineColor: baseThemeVariables.separator,\r\n      textColor: baseThemeVariables.fgText,\r\n    },\r\n\r\n    orders: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: 'rgba(0, 0, 0, 0)',\r\n      tooltipLineWidth: '0',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '20',\r\n\r\n      axisLineColor: baseThemeVariables.border4,\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'solid',\r\n      lineWidth: '4',\r\n\r\n      // first line\r\n      firstAreaGradFrom: baseThemeVariables.bg3,\r\n      firstAreaGradTo: baseThemeVariables.bg3,\r\n      firstShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n\r\n      // second line\r\n      secondLineGradFrom: baseThemeVariables.primary,\r\n      secondLineGradTo: baseThemeVariables.primary,\r\n\r\n      secondAreaGradFrom: 'rgba(51, 102, 255, 0.2)',\r\n      secondAreaGradTo: 'rgba(51, 102, 255, 0)',\r\n      secondShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n\r\n      // third line\r\n      thirdLineGradFrom: baseThemeVariables.success,\r\n      thirdLineGradTo: baseThemeVariables.successLight,\r\n\r\n      thirdAreaGradFrom: 'rgba(0, 214, 143, 0.2)',\r\n      thirdAreaGradTo: 'rgba(0, 214, 143, 0)',\r\n      thirdShadowLineDarkBg: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    profit: {\r\n      bg: baseThemeVariables.bg,\r\n      textColor: baseThemeVariables.fgText,\r\n      axisLineColor: baseThemeVariables.border4,\r\n      splitLineColor: baseThemeVariables.separator,\r\n      areaOpacity: '1',\r\n\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n\r\n      // first bar\r\n      firstLineGradFrom: baseThemeVariables.bg3,\r\n      firstLineGradTo: baseThemeVariables.bg3,\r\n      firstLineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      // second bar\r\n      secondLineGradFrom: baseThemeVariables.primary,\r\n      secondLineGradTo: baseThemeVariables.primary,\r\n      secondLineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      // third bar\r\n      thirdLineGradFrom: baseThemeVariables.success,\r\n      thirdLineGradTo: baseThemeVariables.successLight,\r\n      thirdLineShadow: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    orderProfitLegend: {\r\n      firstItem: baseThemeVariables.success,\r\n      secondItem: baseThemeVariables.primary,\r\n      thirdItem: baseThemeVariables.bg3,\r\n    },\r\n\r\n    visitors: {\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipLineColor: 'rgba(0, 0, 0, 0)',\r\n      tooltipLineWidth: '1',\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 8px 24px;',\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '20',\r\n\r\n      axisLineColor: baseThemeVariables.border4,\r\n      axisFontSize: '16',\r\n      axisTextColor: baseThemeVariables.fg,\r\n      yAxisSplitLine: baseThemeVariables.separator,\r\n\r\n      itemBorderColor: baseThemeVariables.primary,\r\n      lineStyle: 'dotted',\r\n      lineWidth: '6',\r\n      lineGradFrom: '#ffffff',\r\n      lineGradTo: '#ffffff',\r\n      lineShadow: 'rgba(0, 0, 0, 0)',\r\n\r\n      areaGradFrom: baseThemeVariables.primary,\r\n      areaGradTo: baseThemeVariables.primaryLight,\r\n\r\n      innerLineStyle: 'solid',\r\n      innerLineWidth: '1',\r\n\r\n      innerAreaGradFrom: baseThemeVariables.success,\r\n      innerAreaGradTo: baseThemeVariables.success,\r\n    },\r\n\r\n    visitorsLegend: {\r\n      firstIcon: baseThemeVariables.success,\r\n      secondIcon: baseThemeVariables.primary,\r\n    },\r\n\r\n    visitorsPie: {\r\n      firstPieGradientLeft: baseThemeVariables.success,\r\n      firstPieGradientRight: baseThemeVariables.success,\r\n      firstPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n      firstPieRadius: ['70%', '90%'],\r\n\r\n      secondPieGradientLeft: baseThemeVariables.warning,\r\n      secondPieGradientRight: baseThemeVariables.warningLight,\r\n      secondPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n      secondPieRadius: ['60%', '97%'],\r\n      shadowOffsetX: '0',\r\n      shadowOffsetY: '0',\r\n    },\r\n\r\n    visitorsPieLegend: {\r\n      firstSection: baseThemeVariables.warning,\r\n      secondSection: baseThemeVariables.success,\r\n    },\r\n\r\n    earningPie: {\r\n      radius: ['65%', '100%'],\r\n      center: ['50%', '50%'],\r\n\r\n      fontSize: '22',\r\n\r\n      firstPieGradientLeft: baseThemeVariables.success,\r\n      firstPieGradientRight: baseThemeVariables.success,\r\n      firstPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n\r\n      secondPieGradientLeft: baseThemeVariables.primary,\r\n      secondPieGradientRight: baseThemeVariables.primary,\r\n      secondPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n\r\n      thirdPieGradientLeft: baseThemeVariables.warning,\r\n      thirdPieGradientRight: baseThemeVariables.warning,\r\n      thirdPieShadowColor: 'rgba(0, 0, 0, 0)',\r\n    },\r\n\r\n    earningLine: {\r\n      gradFrom: baseThemeVariables.primary,\r\n      gradTo: baseThemeVariables.primary,\r\n\r\n      tooltipTextColor: baseThemeVariables.fgText,\r\n      tooltipFontWeight: 'normal',\r\n      tooltipFontSize: '16',\r\n      tooltipBg: baseThemeVariables.bg,\r\n      tooltipBorderColor: baseThemeVariables.border2,\r\n      tooltipBorderWidth: '1',\r\n      tooltipExtraCss: 'border-radius: 10px; padding: 4px 16px;',\r\n    },\r\n  },\r\n} as NbJSThemeOptions;\r\n","import { OverlayContainer } from '@angular/cdk/overlay';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyDialogModule as MatDialogModule } from '@angular/material/legacy-dialog';\r\nimport { MatLegacyMenuModule as MatMenuModule } from '@angular/material/legacy-menu';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CMSBannerContainerModule } from '@tei/marketing-cms';\r\nimport { NbEvaIconsModule } from '@tei/nebular-eva-icons';\r\nimport { NbSecurityModule } from '@tei/nebular-security';\r\nimport\r\n{\r\n  NbActionsModule, NbButtonModule, NbContextMenuModule, NbIconModule, NbLayoutModule, NbMenuModule,\r\n  NbSearchModule, NbSelectModule, NbSidebarModule, NbThemeModule, NbUserModule\r\n} from '@tei/nebular-theme';\r\n\r\nimport { LogoutPosConfirmDialogModule, SiteQuickSearchModule } from '@tei/pos-shared';\r\nimport { LocateTenantService } from '../@core/services/locate-tenant.service';\r\nimport { TenantRedirectService } from '../@core/services/tenant-redirect.service';\r\nimport { ToolbarModule } from '../components/toolbar/toolbar.module';\r\nimport { HeaderService } from './@services/header.service';\r\nimport { SidebarHeaderService } from './@services/sidebar-header.service';\r\nimport { StartupRoutingService } from './@services/startup-routing.service';\r\nimport\r\n{\r\n  FooterComponent, HeaderComponent, LayoutDirectionSwitcherComponent, SearchInputComponent, SwitcherComponent\r\n} from './components';\r\nimport { CmsCustomNavContainerModule } from '@tei/marketing-cms';\r\n\r\nimport { DialogContentComponent } from './components/dialog-content/dialog-content.component';\r\nimport { AdminPanelSettingModule } from './components/header/admin-panel-setting/admin-panel-setting.module';\r\nimport { LightHeaderComponent } from './components/header/light-header/light-header.component';\r\nimport { ProfileSettingsModule } from './components/header/profile-settings/profile-settings.module';\r\nimport { UnauthorizedUserMenuModule } from './components/header/unauthorized-user-menu/unauthorized-user-menu.module';\r\nimport { SideBarFooterComponent } from './components/sidebar-footer/sidebar-footer.component';\r\nimport { SideBarHeaderComponent } from './components/sidebar-header/sidebar-header.component';\r\nimport { SideBarComponent } from './components/sidebar/sidebar.component';\r\nimport { TopMenuComponent } from './components/top-menu/top-menu.component';\r\nimport\r\n{\r\n  MenuFreeLayoutComponent, OneColumnLayoutComponent, OneColumnWithoutSidebarLayoutComponent, OneColumnWithoutSidebarWithHeaderLayoutComponent, PagesStagingLayoutComponent,\r\n  ThreeColumnsLayoutComponent, TwoColumnsLayoutComponent\r\n} from './layouts';\r\nimport { OneColumnCustomSidebarWithHeaderLayoutComponent } from './layouts/one-column-custom-sidebar-with-header/one-column-custom-sidebar-with-header.layout';\r\n\r\nimport { MATERIAL_DARK_THEME } from './styles/material/theme.material-dark';\r\nimport { MATERIAL_LIGHT_THEME } from './styles/material/theme.material-light';\r\nimport { DARK_THEME } from './styles/theme.dark';\r\nimport { DEFAULT_THEME } from './styles/theme.default';\r\n\r\nconst BASE_MODULES = [CommonModule, RouterModule];\r\nconst NB_MODULES = [NbLayoutModule, NbMenuModule, NbUserModule, NbActionsModule, NbSearchModule, NbSidebarModule, NbContextMenuModule, NbSecurityModule,\r\n  NbButtonModule, NbSelectModule, NbIconModule, NbEvaIconsModule];\r\nconst COMPONENTS = [SwitcherComponent, LayoutDirectionSwitcherComponent, HeaderComponent, LightHeaderComponent, FooterComponent, SearchInputComponent,\r\n  PagesStagingLayoutComponent, MenuFreeLayoutComponent, OneColumnLayoutComponent, ThreeColumnsLayoutComponent, TwoColumnsLayoutComponent, OneColumnWithoutSidebarLayoutComponent,\r\n  OneColumnWithoutSidebarWithHeaderLayoutComponent, OneColumnCustomSidebarWithHeaderLayoutComponent];\r\nconst MATERIAL = [MatMenuModule, MatButtonModule, MatRippleModule, MatIconModule, MatDialogModule, MatDividerModule];\r\nconst TEI_POS_SHARED_MODULES = [SiteQuickSearchModule, LogoutPosConfirmDialogModule];\r\nconst SHELL_MODULES = [ProfileSettingsModule, AdminPanelSettingModule, UnauthorizedUserMenuModule, ToolbarModule, CMSBannerContainerModule, CmsCustomNavContainerModule];\r\nconst SHELL_COMPONENTS = [TopMenuComponent, SideBarComponent, SideBarFooterComponent, SideBarHeaderComponent, DialogContentComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL, ...NB_MODULES, ...SHELL_MODULES, TEI_POS_SHARED_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL, ...SHELL_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS, ...SHELL_COMPONENTS]\r\n})\r\nexport class ThemeModule\r\n{\r\n  static forRoot(): ModuleWithProviders<ThemeModule>\r\n  {\r\n    return {\r\n      ngModule: ThemeModule,\r\n      providers: [...NbThemeModule.forRoot({ name: 'material-dark', }, [DEFAULT_THEME, DARK_THEME, MATERIAL_LIGHT_THEME, MATERIAL_DARK_THEME],).providers,\r\n        OverlayContainer,\r\n      { provide: 'IHeaderService', useClass: HeaderService },\r\n      { provide: 'ISidebarHeaderService', useClass: SidebarHeaderService },\r\n      { provide: 'ITenantRedirectService', useClass: TenantRedirectService },\r\n      { provide: 'ILocateTenantService', useClass: LocateTenantService },\r\n        StartupRoutingService\r\n      ],\r\n    };\r\n  }\r\n}\r\n","import { registerLocaleData } from '@angular/common';\r\nimport { HttpBackend } from '@angular/common/http';\r\nimport localeEn from '@angular/common/locales/en';\r\nimport localeEn_ca from '@angular/common/locales/en-CA';\r\nimport localeFr from '@angular/common/locales/fr';\r\nimport localeFr_ca from '@angular/common/locales/fr-CA';\r\nimport { APP_INITIALIZER, FactoryProvider } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TeiTranslationService } from '@tei/core-translate';\r\nimport { MultiTranslateHttpLoader } from 'ngx-translate-multi-http-loader';\r\ndeclare const BUILD_VERSION: string;\r\nconst en_ca = 'en-ca';\r\nconst fr_ca = 'fr-ca';\r\nconst en = 'en';\r\nconst fr = 'fr';\r\n\r\nexport function appTranslateFactory(translate: TranslateService)\r\n{\r\n  return (): Promise<void> =>\r\n  {\r\n    translate.setDefaultLang(en);\r\n    translate.use(en);\r\n    return new Promise<void>((resolve) =>\r\n    {\r\n      translate.onLangChange.subscribe(() =>\r\n      {\r\n        resolve();\r\n      });\r\n    });\r\n  };\r\n}\r\n\r\nregisterLocaleData(localeEn_ca, en_ca);\r\nregisterLocaleData(localeEn, en);\r\n\r\nregisterLocaleData(localeFr_ca, fr_ca);\r\nregisterLocaleData(localeFr, fr);\r\n\r\nexport function HttpLoaderFactory(httpBackend: HttpBackend): MultiTranslateHttpLoader\r\n{\r\n  return new MultiTranslateHttpLoader(httpBackend, [window.location.origin + `/localization/`]);\r\n}\r\n\r\nexport const translateFactory: FactoryProvider = {\r\n  provide: APP_INITIALIZER,\r\n  useFactory: appTranslateFactory,\r\n  deps: [TranslateService, TeiTranslationService],\r\n  multi: true\r\n};\r\n","export class GetFinalizeAuthenticationRequest\r\n{\r\n  public Referer: string;\r\n  public RedirectUrl: string;\r\n}\r\n\r\nexport class GetFinalizeAuthenticationResponse\r\n{\r\n  public CompleteRegistration: boolean;\r\n  public RedirectUrl: string;\r\n  public ShowAutoLogoutDialog: boolean;\r\n  public TenantName: string;\r\n  public MessagingEnabled: boolean;\r\n}\r\n","import { GetHandleRedirectionResponse } from \"./get-handle-redirection.model\";\r\n\r\nexport class GetHandleImpersonationRequest\r\n{\r\n  public ImpersonatedUserUID: string;\r\n}\r\n\r\nexport class GetHandleImpersonationResponse extends GetHandleRedirectionResponse\r\n{\r\n\r\n}\r\n","export class GetHandleRedirectionRequest\r\n{\r\n  public ExternalAccessToken: string;\r\n  public AppSecretProof: string;\r\n}\r\n\r\nexport class GetHandleRedirectionResponse\r\n{\r\n  public access_token: string;\r\n  public refresh_token: string;\r\n  public token_type: string;\r\n  public UserName: string;\r\n  public Email: string;\r\n  public IssuedAt: string;\r\n  public expires_in: string;\r\n  public expires_at: string;\r\n  public app_identifier: string;\r\n  public callback_uri: string;\r\n}\r\n","export class GetLandingRequest\r\n{\r\n\r\n}\r\n\r\nexport class GetLandingResponse\r\n{\r\n  public UnderConstruction: boolean;\r\n  public AllowPublic: boolean;\r\n  public AllowMember: boolean;\r\n  public AllowStaff: boolean;\r\n}\r\n","export class GetUserCompleteRegistrationRequest\r\n{\r\n  FieldsStatus: number;\r\n}\r\n\r\nexport class GetUserCompleteRegistrationResponse\r\n{\r\n    public FieldGroups: FieldGroup[];\r\n    public RoleIdentifier: string;\r\n}\r\n\r\nexport class FieldGroup\r\n{\r\n  public FieldGroupID: number;\r\n  public FieldGroupAnswerID: number;\r\n  public Name: string;\r\n}","export class PostFinalizeAuthenticationRequest\r\n{\r\n  public MessagingSessionID: string;\r\n}\r\n\r\nexport class PostFinalizeAuthenticationResponse\r\n{\r\n\r\n}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Inject, Injectable } from \"@angular/core\";\r\nimport { IAPIBaseUrlProvider } from \"@tei/core\";\r\nimport { Observable } from \"rxjs\";\r\nimport { PostActivateRequest } from \"../@intermediate/models/post-activate.model\";\r\nimport { PostGrantActivationRequest } from \"../@intermediate/models/post-grant-activation.model\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ActivationService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Auth';\r\n  }\r\n\r\n  //TODO add request responses\r\n  public Activate(request: PostActivateRequest): Observable<any>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/Activate';\r\n    return this.http.post<any>(apiUrl, request);\r\n  }\r\n\r\n  public GrantActivation(request: PostGrantActivationRequest): Observable<any>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/GrantActivation';\r\n    return this.http.post<any>(apiUrl, request);\r\n  }\r\n\r\n  public ChangePassword(request: any): Observable<any>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/ChangePassword';\r\n    return this.http.post<any>(apiUrl, request);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ICompleteProfileService } from '../@intermediate/complete-profile.interface';\r\nimport { GetCompleteRegistrationRequest, GetCompleteRegistrationResponse } from '../@intermediate/models/get-complete-profile.model';\r\nimport { PutCompleteRegistrationRequest, PutCompleteRegistrationResponse } from '../@intermediate/models/put-complete-profile.model';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CompleteProfileService implements ICompleteProfileService\r\n{\r\n  private readonly serviceUrl: string;\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/CompleteRegistration';\r\n  }\r\n\r\n  public Get(request: GetCompleteRegistrationRequest): Observable<GetCompleteRegistrationResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.get<GetCompleteRegistrationResponse>(apiUrl);\r\n  }\r\n\r\n  public Put(request: PutCompleteRegistrationRequest): Observable<PutCompleteRegistrationResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.put<PutCompleteRegistrationResponse>(apiUrl, request);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable, Inject } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { IFinalizeAuthenticationService } from '../@intermediate/finalize-authentication.interface';\r\nimport\r\n{\r\n  GetFinalizeAuthenticationRequest,\r\n  GetFinalizeAuthenticationResponse\r\n} from '../@intermediate/models/get-finalize-authentication.model';\r\nimport { PostFinalizeAuthenticationRequest, PostFinalizeAuthenticationResponse } from '../@intermediate/models/post-finalize-authentication.model';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FinalizeAuthenticationService implements IFinalizeAuthenticationService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/FinalizeAuthentication';\r\n  }\r\n\r\n  public Get(request: GetFinalizeAuthenticationRequest): Observable<GetFinalizeAuthenticationResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.get<GetFinalizeAuthenticationResponse>(apiUrl, { params: request as any });\r\n  }\r\n\r\n  public Post(request: PostFinalizeAuthenticationRequest): Observable<PostFinalizeAuthenticationResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.post<PostFinalizeAuthenticationResponse>(apiUrl, request);\r\n  };\r\n}\r\n","import { HttpErrorResponse } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { NbAuthService } from \"@tei/nebular-auth\";\r\nimport { AppIdentifierService, AppSessionModel, IThemeState, ITopMenuState, LayoutActionChanged, PagesStagingLayoutType, setLayout } from \"@tei/core\";\r\nimport { StartupRoutingService } from \"../../@theme/@services/startup-routing.service\";\r\nimport { Store } from \"@ngrx/store\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HandleRedirectionHelperService\r\n{\r\n  public static readonly REDIRECTION_OBJECT_KEY = 'REDIRECTION_OBJECT';\r\n\r\n  constructor(\r\n    protected service: NbAuthService,\r\n    protected router: Router,\r\n    private route: ActivatedRoute,\r\n    private store: Store<IThemeState>,\r\n    private startupRoutingService: StartupRoutingService,\r\n    private appIdentifierService: AppIdentifierService)\r\n  {\r\n\r\n  }\r\n\r\n  public checkAndUpdatePath(): RedirectionObject\r\n  {\r\n    const path = this.route.snapshot.queryParams['redirect_path'];\r\n    const application = this.route.snapshot.queryParams['application'];\r\n    const layout = this.route.snapshot.queryParams['layout'];\r\n\r\n    if (path)\r\n    {\r\n      const redirectionObject: RedirectionObject = { path: path, application: application, layout: setLayout(layout) };\r\n      localStorage.setItem(HandleRedirectionHelperService.REDIRECTION_OBJECT_KEY, JSON.stringify(redirectionObject));\r\n    }\r\n\r\n    return this.getPathFromStorage();\r\n  }\r\n\r\n  private getPathFromStorage(): RedirectionObject\r\n  {\r\n    const redirectionObject = localStorage.getItem(HandleRedirectionHelperService.REDIRECTION_OBJECT_KEY);\r\n\r\n    if (redirectionObject)\r\n    {\r\n      return JSON.parse(redirectionObject);\r\n    }\r\n    else\r\n    {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public async handleRedirection(): Promise<string>\r\n  {\r\n    const redirectionObject = this.getPathFromStorage();\r\n\r\n    if (redirectionObject)\r\n    {\r\n      try\r\n      {\r\n        this.dispatchLayoutChange(redirectionObject.layout);\r\n        this.router.navigateByUrl(redirectionObject.path).then(async () =>\r\n        {\r\n          localStorage.removeItem(HandleRedirectionHelperService.REDIRECTION_OBJECT_KEY);\r\n\r\n          if (redirectionObject.application)\r\n          {\r\n            const session = new AppSessionModel();\r\n            session.appIdentifier = redirectionObject.application;\r\n            session.applicationRefID = undefined;\r\n\r\n            this.appIdentifierService.setAppSession(session);\r\n            this.startupRoutingService.dispatchState({ Identifier: session.appIdentifier, RefID: session.applicationRefID } as ITopMenuState);\r\n          }\r\n        });\r\n      }\r\n      catch (error)\r\n      {\r\n        if (error instanceof HttpErrorResponse || error?.error?.Title)\r\n        {\r\n          return (error?.error?.Title);\r\n        }\r\n        else\r\n        {\r\n          return 'Unexpected Error.';\r\n        }\r\n      }\r\n    }\r\n    return '';\r\n  }\r\n\r\n  private dispatchLayoutChange(layout: string): void\r\n  {\r\n    setTimeout(() =>\r\n    {\r\n      this.store.dispatch(new LayoutActionChanged({ LayoutType: layout ?? PagesStagingLayoutType.Default }));\r\n    });\r\n  }\r\n}\r\n\r\nclass RedirectionObject\r\n{\r\n  path: string;\r\n  application: string;\r\n  layout: PagesStagingLayoutType;\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\nimport { Observable } from 'rxjs';\r\nimport { IHandleRedirectionService } from '../@intermediate/handle-redirection.interface';\r\nimport { GetHandleAuxiliaryRedirectionRequest, GetHandleAuxiliaryRedirectionResponse } from '../@intermediate/models/get-handle-auxiliary-redirection.model';\r\nimport { GetHandleClientRedirectionRequest, GetHandleClientRedirectionResponse } from '../@intermediate/models/get-handle-client-redirection.model';\r\nimport { GetHandleImpersonationRequest, GetHandleImpersonationResponse } from '../@intermediate/models/get-handle-impersonation.model';\r\nimport\r\n{\r\n  GetHandleRedirectionRequest,\r\n  GetHandleRedirectionResponse\r\n} from '../@intermediate/models/get-handle-redirection.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HandleRedirectionService implements IHandleRedirectionService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/HandleRedirection';\r\n  }\r\n\r\n  public Get(request: GetHandleRedirectionRequest): Observable<GetHandleRedirectionResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.get<GetHandleRedirectionResponse>(apiUrl, { params: request as any });\r\n  }\r\n\r\n  public GetClientRedirection(request: GetHandleClientRedirectionRequest): Observable<GetHandleClientRedirectionResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/Client';\r\n    return this.http.get<GetHandleClientRedirectionResponse>(apiUrl, { params: request as any });\r\n  }\r\n\r\n  public GetAuxiliaryRedirection(request: GetHandleAuxiliaryRedirectionRequest): Observable<GetHandleAuxiliaryRedirectionResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/Auxiliary';\r\n    return this.http.get<GetHandleAuxiliaryRedirectionResponse>(apiUrl, { params: request as any });\r\n  }\r\n\r\n  public GetImpersonation(request: GetHandleImpersonationRequest): Observable<GetHandleImpersonationResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/Impersonation';\r\n    return this.http.get<GetHandleImpersonationResponse>(apiUrl, { params: request as any });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ILandingService } from '../@intermediate/landing.interface';\r\nimport\r\n{\r\n  GetLandingRequest,\r\n  GetLandingResponse\r\n} from '../@intermediate/models/get-landing.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LandingService implements ILandingService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Landing';\r\n  }\r\n\r\n  public Get(request: GetLandingRequest): Observable<GetLandingResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.get<GetLandingResponse>(apiUrl, { params: request as any });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\nimport { Observable } from 'rxjs';\r\nimport { OAuthGrantAccessRequest, OAuthGrantAccessResponse } from '../@intermediate/models/o-auth.model';\r\nimport { IOAuthService } from '../@intermediate/o-auth.interface';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OAuthService implements IOAuthService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/OAuth';\r\n  }\r\n\r\n  GrantAccess(request: OAuthGrantAccessRequest): Observable<OAuthGrantAccessResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/GrantAccess';\r\n    return this.http.post<OAuthGrantAccessResponse>(apiUrl, request, { withCredentials: true });\r\n  }\r\n\r\n  OauthSignout(): Observable<unknown>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/Signout';\r\n    return this.http.get(apiUrl, { withCredentials: true });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { IUserCompleteProfileService } from '../@intermediate/user-complete-profile.interface';\r\nimport { GetUserCompleteRegistrationRequest, GetUserCompleteRegistrationResponse } from '../@intermediate/models/get-user-complete-profile.model';\r\nimport { PostUserCompleteRegistrationRequest, PostUserCompleteRegistrationResponse } from '../@intermediate/models/post-user-complete-profile.model';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\n\r\n\r\n@Injectable()\r\nexport class UserCompleteProfileService implements IUserCompleteProfileService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, protected http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/MyAccount/MyProfileFieldInfo';\r\n  }\r\n\r\n  public Get(request: GetUserCompleteRegistrationRequest): Observable<GetUserCompleteRegistrationResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.get<GetUserCompleteRegistrationResponse>(apiUrl, { params: request as any });\r\n  }\r\n\r\n  public Post(request: PostUserCompleteRegistrationRequest): Observable<PostUserCompleteRegistrationResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.post<PostUserCompleteRegistrationResponse>(apiUrl, request);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from '../@core/authentication/@services/auth.gaurd';\r\nimport { AuthComponent } from './auth.component';\r\nimport { ChangePasswordComponent } from './components/change-password/change-password.component';\r\nimport { CompleteProfileComponent } from './components/complete-profile/complete-profile.component';\r\nimport { FinalizeAuthenticationComponent } from './components/finalize-authentication/finalize-authentication.component';\r\nimport { GrantActivationComponent } from './components/grant-activation/grant-activation.component';\r\nimport { HandleRedirectionComponent } from './components/handle-redirection/handle-redirection.component';\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { LogoutComponent } from './components/logout/logout.component';\r\nimport { RegisterComponent } from './components/register/register.component';\r\nimport { RequestActivationComponent } from './components/request-activation/request-activation.component';\r\nimport { RequestPasswordComponent } from './components/request-password/request-password.component';\r\nimport { ResetPasswordComponent } from './components/reset-password/reset-password.component';\r\nimport { PasswordLessLoginComponent } from './components/password-less-login/password-less-login.component';\r\nimport { ErrorComponent } from './components/error/error.component';\r\nimport { RegisterResolver } from './components/register/register.resolver';\r\nimport { UserCompleteProfileComponent } from './components/user-complete-profile/user-complete-profile.component';\r\nimport { ProfileCompleteGuard } from '../@core/authentication/@services/check-profile-status.guard';\r\nimport { ForbiddenComponent } from '../pages/miscellaneous/forbidden/forbidden.component';\r\nimport { NotApplicableActionComponent } from '../pages/miscellaneous/NotApplicableAction/not-applicable-action.component';\r\nimport { NotFoundComponent } from '../pages/miscellaneous/not-found/not-found.component';\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: AuthComponent,\r\n  children: [\r\n    {\r\n      path: 'landing',\r\n      redirectTo: 'login',\r\n    },\r\n    {\r\n      path: 'login',\r\n      component: LoginComponent,\r\n    }\r\n    ,\r\n    {\r\n      path: 'login/:username',\r\n      component: LoginComponent,\r\n    },\r\n    {\r\n      path: 'public-login',\r\n      redirectTo: 'login',\r\n    },\r\n    {\r\n      path: 'public-login/:username',\r\n      redirectTo: 'login/:username',\r\n    },\r\n    {\r\n      path: 'member-login',\r\n      redirectTo: 'login',\r\n    },\r\n    {\r\n      path: 'member-login/:username',\r\n      redirectTo: 'login/:username',\r\n    },\r\n    {\r\n      path: 'staff-login',\r\n      redirectTo: 'login',\r\n    },\r\n    {\r\n      path: 'staff-login/:username',\r\n      redirectTo: 'login/:username',\r\n    },\r\n    {\r\n      path: '',\r\n      redirectTo: 'login',\r\n      pathMatch: 'full',\r\n    },\r\n    {\r\n      path: 'register',\r\n      component: RegisterComponent,\r\n      data: { needAllowRegistrationCheck: true },\r\n      resolve: {\r\n        tenant_settings: RegisterResolver\r\n      }\r\n    },\r\n    {\r\n      path: 'finalize-authentication',\r\n      canActivate: [AuthGuard],\r\n      component: FinalizeAuthenticationComponent,\r\n    },\r\n    {\r\n      path: 'handle-redirection',\r\n      component: HandleRedirectionComponent,\r\n    },\r\n    {\r\n      path: 'logout',\r\n      component: LogoutComponent,\r\n    },\r\n    {\r\n      path: 'request-password',\r\n      component: RequestPasswordComponent,\r\n    },\r\n    {\r\n      path: 'request-password/:username',\r\n      component: RequestPasswordComponent,\r\n    },\r\n    {\r\n      path: 'public-request-password',\r\n      redirectTo: 'request-password',\r\n    },\r\n    {\r\n      path: 'member-request-password',\r\n      redirectTo: 'request-password',\r\n    },\r\n    {\r\n      path: 'staff-request-password',\r\n      redirectTo: 'request-password',\r\n    },\r\n    {\r\n      path: 'reset-password',\r\n      redirectTo: 'reset-password/'\r\n    },\r\n    {\r\n      path: 'reset-password/:username',\r\n      component: ResetPasswordComponent,\r\n      data: { Title: 'Create New Password' }\r\n    },\r\n    {\r\n      path: 'public-reset-password',\r\n      redirectTo: 'reset-password/'\r\n    },\r\n    {\r\n      path: 'public-reset-password/:username',\r\n      redirectTo: 'reset-password/:username',\r\n      data: { Title: 'Create New Password' }\r\n    },\r\n    {\r\n      path: 'member-reset-password',\r\n      redirectTo: 'reset-password/'\r\n    },\r\n    {\r\n      path: 'member-reset-password/:username',\r\n      redirectTo: 'reset-password/:username',\r\n      data: { Title: 'Create New Password' }\r\n    },\r\n    {\r\n      path: 'staff-reset-password',\r\n      redirectTo: 'reset-password/'\r\n    },\r\n    {\r\n      path: 'staff-reset-password/:username',\r\n      redirectTo: 'reset-password/:username',\r\n      data: { Title: 'Create New Password' }\r\n    },\r\n    {\r\n      path: 'request-activate',\r\n      component: RequestActivationComponent,\r\n      pathMatch: 'full'\r\n    },\r\n    {\r\n      path: 'request-activate/:username',\r\n      component: RequestActivationComponent,\r\n    },\r\n    {\r\n      path: 'member-request-activate',\r\n      redirectTo: \"request-activate\"\r\n    },\r\n    {\r\n      path: 'staff-request-activate',\r\n      redirectTo: \"request-activate\"\r\n    },\r\n    {\r\n      path: 'grant-activation/:username',\r\n      component: GrantActivationComponent,\r\n    },\r\n    {\r\n      path: 'member-grant-activation/:username',\r\n      redirectTo: 'grant-activation/:username'\r\n    },\r\n    {\r\n      path: 'staff-grant-activation/:username',\r\n      redirectTo: 'grant-activation/:username'\r\n    },\r\n    {\r\n      path: 'change-password',\r\n      component: ChangePasswordComponent,\r\n    },\r\n    {\r\n      path: 'success',\r\n      redirectTo: '/portal-groups'\r\n    },\r\n    {\r\n      path: 'complete-registration',\r\n      component: CompleteProfileComponent,\r\n      data: { needAllowRegistrationCheck: false },\r\n      resolve: {\r\n        tenant_settings: RegisterResolver\r\n      }\r\n    },\r\n    {\r\n      path: 'complete-profile',\r\n      component: UserCompleteProfileComponent,\r\n      canActivate: [ProfileCompleteGuard]\r\n    },\r\n    {\r\n      path: 'password-less-login',\r\n      component: PasswordLessLoginComponent,\r\n      pathMatch: 'full'\r\n    },\r\n    {\r\n      path: 'password-less-login/:username',\r\n      component: PasswordLessLoginComponent,\r\n    },\r\n    {\r\n      path: 'error',\r\n      component: ErrorComponent\r\n    },\r\n    {\r\n      path: 'forbidden',\r\n      component: ForbiddenComponent,\r\n    },\r\n    {\r\n      path: 'not-found',\r\n      component: NotFoundComponent,\r\n    },\r\n    {\r\n      path: 'not-applicable-action',\r\n      component: NotApplicableActionComponent,\r\n    }\r\n\r\n  ],\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AuthRoutingModule\r\n{\r\n}\r\n","import { Location } from '@angular/common';\r\nimport { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NbAuthComponent, NbAuthService } from '@tei/nebular-auth';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { AuthenticationSettings } from '../@core/authentication/@intermediate/models/get-authentication-settings.model';\r\nimport { WebWorkerService } from '../@services/web-worker.service';\r\nimport { ConfigService } from '@tei/core';\r\n\r\n@Component({\r\n  selector: 'tei-shell-auth',\r\n  templateUrl: './auth.component.html',\r\n  styleUrls: ['./auth.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class AuthComponent extends NbAuthComponent implements OnInit\r\n{\r\n  hide: boolean = true;\r\n  settings: AuthenticationSettings;\r\n  isExternalLogin: boolean = false;\r\n\r\n  constructor(\r\n    protected authService: NbAuthService,\r\n    protected location: Location,\r\n    private route: ActivatedRoute,\r\n    private webWorkerService: WebWorkerService,\r\n    private configService: ConfigService,\r\n    private router: Router)\r\n  {\r\n    super(authService, location);\r\n    this.webWorkerService.updateClient();\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    if (this.ExceptUrls())\r\n    {\r\n      this.authService.isAuthenticatedOrRefresh().subscribe(async authenticated =>\r\n      {\r\n        const queryParams = this.route.snapshot.queryParams;\r\n        const username = queryParams.username;\r\n        if (authenticated)\r\n        {\r\n          if (username)\r\n          {\r\n            const token = await firstValueFrom(this.authService.getToken());\r\n            if (token.getPayload()?.UserName !== username)\r\n            {\r\n              this.authService.logout('gateway').subscribe(() =>\r\n              {\r\n                this.router.navigate(['/auth/password-less-login/'], { queryParams });\r\n              });\r\n              return;\r\n            }\r\n\r\n          }\r\n          if (!(this.configService?.defaultConfig?.ignoreExternalLoginRedirection ?? false))\r\n          {\r\n            this.isExternalLogin = (decodeURIComponent(this.route.snapshot.params['externalLogin'] ?? '') === 'true') || (decodeURIComponent(this.route.snapshot.queryParamMap.get('externalLogin') ?? '') === 'true');\r\n          }\r\n\r\n          if (!this.isExternalLogin)\r\n          {\r\n            this.router.navigate(['auth/finalize-authentication']);\r\n          }\r\n        } else if (username)\r\n        {\r\n          this.router.navigate(['/auth/password-less-login/'], { queryParams });\r\n        }\r\n        else\r\n        {\r\n          this.hide = false;\r\n        }\r\n      });\r\n    }\r\n    else\r\n    {\r\n      this.hide = false;\r\n    }\r\n  }\r\n\r\n  private ExceptUrls()\r\n  {\r\n    return !this.router.url.includes('/auth/logout')\r\n      && !this.router.url.includes('/auth/finalize-authentication')\r\n      && !this.router.url.includes('/auth/handle-redirection')\r\n      && !this.router.url.includes('/auth/forbidden')\r\n      && !this.router.url.includes('/auth/error')\r\n      && !this.router.url.includes('/auth/not-found')\r\n      && !this.router.url.includes('/auth/not-applicable-action')\r\n      && !this.router.url.includes('/auth/complete-profile');\r\n  }\r\n\r\n  get isCompleteProfilePage(): boolean\r\n  {\r\n    return this.router.url.includes('/auth/complete-profile');\r\n  }\r\n}\r\n","<ng-container>\r\n  <nb-layout class=\"tei-material-theme window-mode with-scroll\">\r\n    <nb-layout-column class=\"d-flex align-items-center\">\r\n      <div [class.w-100]=\"isCompleteProfilePage\" [class.m-auto]=\"!isCompleteProfilePage\">\r\n        <router-outlet></router-outlet>\r\n      </div>\r\n    </nb-layout-column>\r\n  </nb-layout>\r\n</ng-container>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAuthModule } from '@tei/nebular-auth';\r\nimport { NbCardModule, NbIconModule, NbLayoutModule } from '@tei/nebular-theme';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { AuthRoutingModule } from './auth-routing.module';\r\nimport { AuthComponent } from './auth.component';\r\nimport { ChangePasswordModule } from './components/change-password/change-password.module';\r\nimport { CompleteProfileModule } from './components/complete-profile/complete-profile.module';\r\nimport { ErrorComponent } from './components/error/error.component';\r\nimport { FinalizeAuthenticationModule } from './components/finalize-authentication/finalize-authentication.module';\r\nimport { GrantActivationModule } from './components/grant-activation/grant-activation.module';\r\nimport { HandleRedirectionModule } from './components/handle-redirection/handle-authentication.module';\r\nimport { LandingModule } from './components/landing/landing.module';\r\nimport { LoginModule } from './components/login/login.module';\r\nimport { LogoutModule } from './components/logout/logout.module';\r\nimport { PasswordLessLoginModule } from './components/password-less-login/password-less-login.module';\r\nimport { RegisterModule } from './components/register/register.module';\r\nimport { RequestActivationModule } from './components/request-activation/request-activation.module';\r\nimport { RequestPasswordModule } from './components/request-password/request-password.module';\r\nimport { ResetPasswordModule } from './components/reset-password/reset-password.module';\r\nimport { UserCompleteProfileModule } from './components/user-complete-profile/user-complete-profile.module';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst NB_MODULES = [NbLayoutModule, NbCardModule, NbIconModule, NbAuthModule];\r\nconst MATERIAL_MODULES = [];\r\nconst TP_MODULES = [];\r\nconst TEI_MATERIAL_MODULES = [MatDialogModule];\r\nconst CAPTCHA_MODULES = [];\r\nconst MODULES = [\r\n  LandingModule,\r\n  LoginModule,\r\n  PasswordLessLoginModule,\r\n  LogoutModule,\r\n  RegisterModule,\r\n  FinalizeAuthenticationModule,\r\n  CompleteProfileModule,\r\n  UserCompleteProfileModule,\r\n  HandleRedirectionModule,\r\n  RequestPasswordModule,\r\n  ResetPasswordModule,\r\n  RequestActivationModule,\r\n  TranslateModule,\r\n  GrantActivationModule,\r\n  ChangePasswordModule\r\n];\r\n\r\nconst COMPONENTS = [AuthComponent, ErrorComponent];\r\n\r\n@NgModule({\r\n  imports: [AuthRoutingModule, ...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_MATERIAL_MODULES, ...TP_MODULES, ...MODULES, ...CAPTCHA_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_MATERIAL_MODULES, ...TP_MODULES, ...MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS]\r\n})\r\nexport class AuthModule\r\n{\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'ngx-change-password',\r\n  templateUrl: './change-password.component.html',\r\n  styleUrls: ['./change-password.component.scss']\r\n})\r\nexport class ChangePasswordComponent implements OnInit\r\n{\r\n\r\n  changePasswordForm = new UntypedFormGroup({\r\n    userName: new UntypedFormControl('', []),\r\n    password: new UntypedFormControl('', []),\r\n    passwordConfirm: new UntypedFormControl('', []),\r\n  });\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void\r\n  {\r\n  }\r\n\r\n  changePassword()\r\n  {\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"container-shell\">\r\n  <mat-card class=\"o-card o-card-auth\">\r\n    <div class=\"mt-3\">\r\n      <div class=\"a-text-h1 text-center\">{{'SHELL.AUTH_PAGES.CHANGE_PASSWORD.CHNAGE_PASSWORD' | teiTextTranslate}}\r\n      </div>\r\n    </div>\r\n\r\n    <form class=\"mt-4\" [formGroup]=\"changePasswordForm\" (ngSubmit)=\"changePassword()\">\r\n\r\n      <mat-form-field class=\"a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.CHANGE_PASSWORD.NEW_PASSWORD' | teiTextTranslate}}</mat-label>\r\n        <input autocomplete=\"false\" formControlName=\"password\" autofocus matInput>\r\n        <!-- <mat-error>\r\n        </mat-error> -->\r\n      </mat-form-field>\r\n      <mat-form-field class=\"a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.CHANGE_PASSWORD.CONFIRM_NEW_PASSWORD' | teiTextTranslate}}</mat-label>\r\n        <input autocomplete=\"false\" formControlName=\"password\" formControlName=\"passwordConfirm\" autofocus matInput>\r\n        <!-- <mat-error>\r\n        </mat-error> -->\r\n      </mat-form-field>\r\n\r\n      <div class=\"mt-3\">\r\n        <button mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\"\r\n          [disabled]=\"!changePasswordForm.valid\">{{'SHELL.AUTH_PAGES.CHANGE_PASSWORD.ACTIVATE' |\r\n          teiTextTranslate}}</button>\r\n      </div>\r\n    </form>\r\n  </mat-card>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAlertModule, NbButtonModule, NbCheckboxModule, NbIconModule, NbInputModule } from '@tei/nebular-theme';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { ChangePasswordComponent } from './change-password.component';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, ReactiveFormsModule, RouterModule];\r\nconst NB_MODULES = [NbInputModule, NbIconModule, NbCheckboxModule, NbAlertModule, NbButtonModule];\r\nconst MATERIAL_MODULES = [MatCardModule, MatButtonModule, MatFormFieldModule, MatInputModule, MatIconModule];\r\nconst TP_MODULES = [];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\n\r\nconst COMPONENTS = [ChangePasswordComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_CORE_MODULES, ...TP_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS],\r\n})\r\nexport class ChangePasswordModule { }\r\n","import { Component, Inject, OnDestroy, OnInit, SkipSelf } from '@angular/core';\r\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { ErrorStateMatcher } from '@angular/material/core';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ManageLoadingService, ModelDrivenFormGroupControlValueAccessor, ngFormGroupControlValueAccessorProviders } from '@tei/core';\r\nimport { UploadProfilePictureComponent } from '@tei/material';\r\nimport { base64ToFile } from 'ngx-image-cropper';\r\nimport { Subscription } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { AuthenticationSettings } from '../../../@core/authentication/@intermediate/models/get-authentication-settings.model';\r\nimport { AuthenticationSettingsProvider } from '../../../@core/authentication/@services/authentication-settings.provider';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\nimport { DeleteUserProfilePictureRequest } from '../../../@theme/@intermediate/models/delete-user-profile-picture.model';\r\nimport { PostUserProfilePictureResponse } from '../../../@theme/@intermediate/models/post-user-profile-picture.model';\r\nimport { IUserProfilePictureService } from '../../../@theme/@intermediate/user-profile-picture.interface';\r\nimport { ICompleteProfileService } from '../../@intermediate/complete-profile.interface';\r\nimport { GetCompleteRegistrationResponse } from '../../@intermediate/models/get-complete-profile.model';\r\nimport { PutCompleteRegistrationRequest } from '../../@intermediate/models/put-complete-profile.model';\r\n\r\n@Component({\r\n  selector: 'shell-complete-profile',\r\n  templateUrl: './complete-profile.component.html',\r\n  styleUrls: ['./complete-profile.component.scss'],\r\n  providers: [ngFormGroupControlValueAccessorProviders(CompleteProfileComponent)]\r\n})\r\nexport class CompleteProfileComponent extends ModelDrivenFormGroupControlValueAccessor implements OnInit, OnDestroy\r\n{\r\n  form: UntypedFormGroup;\r\n  profilePictureUrl: string = '';\r\n  settings: AuthenticationSettings;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n  logo_url: string;\r\n  uploadProfilePictureDialogRef: any;\r\n  subAuthenticationSetting: Subscription;\r\n  selectedCountry: Partial<{ iso2: string; dialCode: string; }>;\r\n  preferredCallingCodes: string[] = [];\r\n  constructor(private dialog: MatDialog, private authenticationSettingsProvider: AuthenticationSettingsProvider, private route: ActivatedRoute,\r\n    private formBuilder: UntypedFormBuilder, @SkipSelf() protected _errorStateMatcher: ErrorStateMatcher,\r\n    @Inject('IUserProfilePictureService') private profilePictureService: IUserProfilePictureService,\r\n    @Inject('ICompleteProfileService') private completeProfileService: ICompleteProfileService,\r\n    private router: Router,\r\n    private translate: TranslateService,\r\n    public manageLoadingService: ManageLoadingService,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private themeService: NbThemeService)\r\n  {\r\n    super(_errorStateMatcher);\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.form = this.formBuilder.group({\r\n      Email: ['', Validators.required],\r\n      FirstName: ['', Validators.required],\r\n      LastName: ['', Validators.required],\r\n      Phone: ['']\r\n    });\r\n\r\n    this.tenant_settings = this.route.snapshot.data.tenant_settings;\r\n\r\n    if (this.tenant_settings.PreferredCallingCode)\r\n    {\r\n      this.preferredCallingCodes = this.tenant_settings.PreferredCallingCode.toLowerCase().split(',');\r\n    }\r\n\r\n    this.getRegistrationCompletedData();\r\n\r\n    this.subAuthenticationSetting = this.authenticationSettingsProvider.GetSettings().subscribe(settings =>\r\n    {\r\n      this.settings = settings?.authenticationSettings;\r\n\r\n      this.globalSettingsProvider\r\n        .GetGlobalTenantSettings()\r\n        .subscribe(response =>\r\n        {\r\n          this.logo_url = this.globalSettingsProvider.getHeaderLogo(this.tenant_settings, this.themeService.currentTheme);\r\n\r\n          this.themeService.onThemeChange()\r\n            .subscribe((theme_response) =>\r\n            {\r\n              if (theme_response.name !== theme_response.previous)\r\n              {\r\n                this.logo_url = this.globalSettingsProvider.getHeaderLogo(this.tenant_settings, theme_response.name);\r\n              }\r\n            });\r\n        });\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.subAuthenticationSetting.unsubscribe();\r\n  }\r\n\r\n  getRegistrationCompletedData(): void\r\n  {\r\n    const request = {};\r\n    this.manageLoadingService.startLoading();\r\n    this.completeProfileService.Get(request)\r\n      .pipe(finalize(() => this.manageLoadingService.finishLoading())).subscribe({\r\n        next: (res: GetCompleteRegistrationResponse) =>\r\n        {\r\n          this.form.patchValue({ Email: res.Email, FirstName: res.FirstName, LastName: res.LastName, Phone: res?.Phone.Phone });\r\n        }\r\n      });\r\n  }\r\n\r\n  getErrorMessage(fieldName: string, errorLabel: string)\r\n  {\r\n    if (this.form?.get(fieldName).hasError('required'))\r\n    {\r\n      return `${ errorLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.COMPLETE_PROFILE.IS_REQUIRED') }`;\r\n    }\r\n    if (this.form?.get(fieldName).hasError('pattern'))\r\n    {\r\n      return `${ errorLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.COMPLETE_PROFILE.IS_NOT_VALID') }`;\r\n    }\r\n  }\r\n\r\n  get formControls()\r\n  {\r\n    return this.form.controls;\r\n  }\r\n\r\n  submit(): void\r\n  {\r\n    if (this.form.invalid)\r\n    {\r\n      return;\r\n    }\r\n    const data: PutCompleteRegistrationRequest = {\r\n      FirstName: this.formControls?.FirstName?.value,\r\n      LastName: this.formControls?.LastName?.value,\r\n      Phone: this.formControls?.Phone?.value\r\n    };\r\n    this.manageLoadingService.startLoading();\r\n    this.completeProfileService.Put(data).pipe(finalize(() => this.manageLoadingService.finishLoading())).subscribe({\r\n      next: () =>\r\n      {\r\n        this.router.navigate(['auth/finalize-authentication']);\r\n      }\r\n    });\r\n  }\r\n\r\n  changeProfileImage(): void\r\n  {\r\n    this.uploadProfilePictureDialogRef = this.dialog.open(UploadProfilePictureComponent, {\r\n      maxWidth: '80vw',\r\n      width: '390px',\r\n      panelClass: 'o-dialog-user-profile-picture',\r\n      data: {\r\n        ProfilePictureUrl: this.profilePictureUrl,\r\n        onChangePicture: (result) => this.changeUserProfilePicture(result),\r\n        onDeletePicture: () => this.deleteUserProfilePicture()\r\n      }\r\n    });\r\n  }\r\n\r\n  changeUserProfilePicture(result)\r\n  {\r\n    this.manageLoadingService.startLoading();\r\n    const formData = new FormData();\r\n    const file = base64ToFile(result.croppedImage);\r\n    formData.append(\"Image\", file, result.imgName);\r\n    this.profilePictureService.Post(formData).pipe(finalize(() => this.manageLoadingService.finishLoading()))\r\n      .subscribe({\r\n        next: (response: PostUserProfilePictureResponse) =>\r\n        {\r\n          this.uploadProfilePictureDialogRef.componentInstance.profilePictureUrl = response?.ProfilePictureUrl;\r\n          this.profilePictureUrl = response?.ProfilePictureUrl;\r\n        }\r\n      });\r\n  }\r\n\r\n  deleteUserProfilePicture(): void\r\n  {\r\n    this.manageLoadingService.startLoading();\r\n    const request = new DeleteUserProfilePictureRequest();\r\n    this.profilePictureService.Delete(request).pipe(finalize(() => this.manageLoadingService.finishLoading()))\r\n      .subscribe({\r\n        next: () =>\r\n        {\r\n          this.profilePictureUrl = '';\r\n          this.uploadProfilePictureDialogRef.componentInstance.profilePictureUrl = '';\r\n        }\r\n      });\r\n  }\r\n\r\n  phoneCountryChange(event): void\r\n  {\r\n    this.selectedCountry = event;\r\n  }\r\n\r\n}\r\n","<div class=\"container-shell complete-profile\">\r\n  <mat-card class=\"o-card o-card-auth px-4\">\r\n    <div class=\"text-center logo-container\">\r\n      <img [src]=\"logo_url\" class=\"a-logo a-logo-landing w-100\" />\r\n    </div>\r\n    <div class=\"mt-5\">\r\n      <div class=\"a-text-h1 head-text text-center\">{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.COMPLETE_YOUR_PROFILE' |\r\n        teiTextTranslate}}</div>\r\n    </div>\r\n    <div class=\"a-text-default text-center my-3\">{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.INFORMATION_RPOCEED' |\r\n      teiTextTranslate}}</div>\r\n    <div class=\"mt-4\" [formGroup]=\"form\">\r\n      <div>\r\n        <mat-form-field class=\"mb-2 a-input w-100\" appearance=\"outline\">\r\n          <mat-label>{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.EMAIL' | teiTextTranslate}}</mat-label>\r\n          <input autocomplete=\"false\" formControlName=\"Email\" placeholder=\"Email\" matInput>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"mb-2 a-input w-100\" appearance=\"outline\">\r\n          <mat-label>{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.FIRST_NAME' | teiTextTranslate}}</mat-label>\r\n          <input autocomplete=\"false\" formControlName=\"FirstName\"\r\n            placeholder=\"{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.FIRST_NAME' | teiTextTranslate}}\" autofocus matInput>\r\n          <mat-error>\r\n            {{getErrorMessage('FirstName', 'SHELL.AUTH_PAGES.COMPLETE_PROFILE.FIRST_NAME' |\r\n            teiTextTranslate)}}\r\n          </mat-error>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"mb-2 a-input w-100\" appearance=\"outline\">\r\n          <mat-label>{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.LAST_NAME' | teiTextTranslate}}</mat-label>\r\n          <input autocomplete=\"false\" formControlName=\"LastName\"\r\n            placeholder=\"{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.LAST_NAME' | teiTextTranslate}}\" matInput>\r\n          <mat-error>\r\n            {{getErrorMessage('LastName', 'SHELL.AUTH_PAGES.COMPLETE_PROFILE.LAST_NAME' |\r\n            teiTextTranslate)}}\r\n          </mat-error>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"mb-2 a-input w-100\" appearance=\"outline\" floatLabel=\"always\">\r\n          <mat-label>{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.PHONE' | teiTextTranslate}}</mat-label>\r\n            <tei-phone-input\r\n              (countryChanged)=\"phoneCountryChange($event)\"\r\n              [selectedCountry]=\"this.tenant_settings.DefaultCallingCode\"\r\n              [preferredCountries]=\"preferredCallingCodes\"\r\n              [enablePlaceholder]=\"true\"\r\n              describedBy=\"phoneInput\"\r\n              name=\"phone\"\r\n              formControlName=\"Phone\" #phone>\r\n            </tei-phone-input>\r\n          <mat-error>\r\n            {{getErrorMessage('Phone', 'SHELL.AUTH_PAGES.COMPLETE_PROFILE.PHONE' | teiTextTranslate)}}\r\n          </mat-error>\r\n          <mat-error *ngIf=\"form.controls['Phone']?.errors?.validatePhoneNumber\">\r\n            {{ 'SHELL.AUTH_PAGES.COMPLETE_PROFILE.PHONE_ERROR' | teiTextTranslate }}\r\n          </mat-error>\r\n          <mat-hint>e.g. {{phone.selectedCountry.placeHolder}}</mat-hint>\r\n        </mat-form-field>\r\n        <div *ngIf=\"false\" class=\"border-bottom d-flex justify-content-between align-items-center pb-1\">\r\n          <div class=\"d-flex justify-content-center align-items-start flex-column\">\r\n            <span class=\"a-text-secondary\">{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.PHOTO' |\r\n              teiTextTranslate}}</span>\r\n            <span class=\"a-text-secondary\">{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.PERSONALIZE_ACCOUNT' |\r\n              teiTextTranslate}}</span>\r\n          </div>\r\n          <div (click)=\"$event.stopPropagation()\" class=\"m-avatar-container d-flex flex-row align-items-center\">\r\n            <div class=\"profile-photo-container mr-1\" (click)=\"changeProfileImage()\">\r\n              <tei-avatar *ngIf=\"profilePictureUrl\" [src]=\"profilePictureUrl\" [round]=\"true\" [initialsSize]=\"'2'\"\r\n                [size]=\"'52'\">\r\n              </tei-avatar>\r\n              <button *ngIf=\"!profilePictureUrl\" mat-icon-button class=\"\">\r\n                <mat-icon class=\"profile-photo-placeholder\">add_a_photo</mat-icon>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"mt-3\">\r\n        <button (click)=\"submit()\" mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\"\r\n          [disabled]=\"form?.invalid\">{{'SHELL.AUTH_PAGES.COMPLETE_PROFILE.SUBMIT' | teiTextTranslate}}</button>\r\n      </div>\r\n    </div>\r\n  </mat-card>\r\n</div>\r\n<tei-loading [show]=\"manageLoadingService.isLoading$ | async\"></tei-loading>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatLegacyCheckboxModule as MatCheckboxModule } from '@angular/material/legacy-checkbox';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { AvatarModule, LoadingModule, PhoneInputModule, UploadProfilePictureModule } from '@tei/material';\r\nimport { UserProfilePictureService } from '../../../@theme/@services/user-profile-picture.service';\r\nimport { CompleteProfileService } from '../../@services/complete-profile.service';\r\nimport { CompleteProfileComponent } from './complete-profile.component';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst MATERIAL_MODULES = [MatCardModule, ReactiveFormsModule, MatButtonModule, MatFormFieldModule, MatInputModule, MatCheckboxModule, MatIconModule, MatCardModule];\r\nconst TP_MODULES = [];\r\nconst TEI_MATERIAL_MODULES = [AvatarModule, UploadProfilePictureModule, LoadingModule, PhoneInputModule];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\n\r\nconst COMPONENTS = [CompleteProfileComponent];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ...COMPONENTS,\r\n  ],\r\n  imports: [\r\n    ...BASE_MODULES,\r\n    ...MATERIAL_MODULES,\r\n    ...TP_MODULES,\r\n    ...TEI_CORE_MODULES,\r\n    ...TEI_MATERIAL_MODULES\r\n  ],\r\n  exports: [\r\n    ...BASE_MODULES,\r\n    ...MATERIAL_MODULES,\r\n    ...TEI_CORE_MODULES,\r\n    ...TEI_MATERIAL_MODULES\r\n  ],\r\n  providers: [\r\n    { provide: 'ICompleteProfileService', useClass: CompleteProfileService },\r\n    { provide: 'IUserProfilePictureService', useClass: UserProfilePictureService }\r\n  ]\r\n})\r\nexport class CompleteProfileModule { }\r\n","import { Location } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'ngx-error',\r\n  styleUrls: ['./error.component.scss'],\r\n  templateUrl: './error.component.html',\r\n})\r\nexport class ErrorComponent\r\n{\r\n\r\n  private title = '';\r\n  private description = '';\r\n  private backUrl = '';\r\n\r\n  constructor(private sanitizer: DomSanitizer,\r\n    private router: Router,\r\n    private location: Location,\r\n    private route: ActivatedRoute)\r\n  {\r\n    const params = this.route.snapshot.queryParams;\r\n    const state = this.router.getCurrentNavigation()?.extras?.state;\r\n    if (params?.title)\r\n    {\r\n      this.title = params?.title ?? '';\r\n    } else if (state?.title)\r\n    {\r\n      this.title = state?.title ?? '';\r\n    }\r\n\r\n    if (params?.description)\r\n    {\r\n      this.description = params?.description ?? '';\r\n    } else if (state?.description)\r\n    {\r\n      this.description = state?.description ?? '';\r\n    }\r\n\r\n    if (params?.backUrl)\r\n    {\r\n      this.backUrl = params?.backUrl ?? '';\r\n    } else if (state?.backUrl)\r\n    {\r\n      this.backUrl = state?.backUrl ?? '';\r\n    }\r\n  }\r\n\r\n  backButtonClicked(): void\r\n  {\r\n    if (this.backUrl)\r\n    {\r\n      if (/^\\d+$/.test(this.backUrl))      \r\n      {\r\n        this.location.historyGo(Number(this.backUrl));\r\n        return;\r\n      }\r\n      this.router.navigateByUrl(this.backUrl);\r\n    }\r\n    else { this.location.back(); }\r\n  }\r\n\r\n  getDescription(): SafeHtml\r\n  {\r\n    return this.sanitizer.bypassSecurityTrustHtml(this.description);\r\n  }\r\n\r\n  getTitle(): SafeHtml\r\n  {\r\n    return this.sanitizer.bypassSecurityTrustHtml(this.title);\r\n  }\r\n\r\n}\r\n","<div class=\"container-shell d-flex justify-content-around o-error w-100 h-100\">\r\n  <div class=\"d-flex justify-content-center align-items-center w-100 h-100\">\r\n    <mat-card class=\"o-card d-flex flex-column p-auto m-auto o-card-error\">\r\n\r\n      <div class=\"a-text-primary text-truncate\" [innerHTML]=\"getTitle()\">\r\n\r\n      </div>\r\n\r\n      <div class=\"a-text-secondary mt-2 text-wrap mb-2\" [innerHTML]=\"getDescription()\">\r\n\r\n      </div>\r\n\r\n      <button mat-flat-button color=\"primary\" class=\"mt-auto\" (click)=\"backButtonClicked()\">\r\n        <mat-icon>keyboard_backspace</mat-icon>\r\n        {{ 'SHELL.PAGE_NOT_FOUND.BACK_TO_PREVIOUS_PAGE' | teiTextTranslate }}\r\n      </button>\r\n    </mat-card>\r\n  </div>\r\n</div>","import { HttpErrorResponse } from '@angular/common/http';\r\nimport { ChangeDetectionStrategy, Component, Inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NB_AUTH_OPTIONS, NbAuthResult, NbAuthService, NbAuthToken, getDeepFromObject } from '@tei/nebular-auth';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { MessageBindingModel, SignalrMessagingClientService } from '@tei/core-signalr';\r\nimport { CardDialogComponent, ConfirmationDialogComponent } from '@tei/material';\r\nimport { Subscription } from 'rxjs';\r\nimport { RefererLocalStorage } from '../../../@core/services/referer-local-storage.service';\r\nimport { StartupRoutingService } from '../../../@theme/@services/startup-routing.service';\r\nimport { IFinalizeAuthenticationService } from '../../@intermediate/finalize-authentication.interface';\r\nimport\r\n{\r\n  GetFinalizeAuthenticationRequest,\r\n  GetFinalizeAuthenticationResponse\r\n} from '../../@intermediate/models/get-finalize-authentication.model';\r\nimport { PostFinalizeAuthenticationRequest } from '../../@intermediate/models/post-finalize-authentication.model';\r\n\r\n@Component({\r\n  selector: 'tei-shell-finalize-authentication',\r\n  templateUrl: './finalize-authentication.component.html',\r\n  styleUrls: ['./finalize-authentication.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FinalizeAuthenticationComponent implements OnInit, OnDestroy\r\n{\r\n  model: GetFinalizeAuthenticationResponse;\r\n  message: MessageBindingModel = new MessageBindingModel();\r\n  subscription: Subscription;\r\n  returnURL: any;\r\n\r\n  constructor(\r\n    @Inject('IFinalizeAuthenticationService') private service: IFinalizeAuthenticationService,\r\n    private signalrMessagingClientService: SignalrMessagingClientService,\r\n    private startupRoutingService: StartupRoutingService,\r\n    private router: Router,\r\n    public dialog: MatDialog,\r\n    private refererStorage: RefererLocalStorage,\r\n    private authService: NbAuthService,\r\n    private translate: TranslateService,\r\n    private route: ActivatedRoute,\r\n    @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n  )\r\n  {\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    const request = new GetFinalizeAuthenticationRequest();\r\n    const refererStorageData = this.refererStorage.get();\r\n\r\n    if (refererStorageData)\r\n    {\r\n      if (refererStorageData.Referer)\r\n        request.Referer = refererStorageData.Referer;\r\n\r\n      if (refererStorageData.RedirectUrl)\r\n        request.RedirectUrl = this.refererStorage?.get()?.RedirectUrl;\r\n    }\r\n\r\n    this.load(request);\r\n\r\n  }\r\n\r\n  private load(request: GetFinalizeAuthenticationRequest): void\r\n  {\r\n    if (!this.model)\r\n    {\r\n      this.model = new GetFinalizeAuthenticationResponse();\r\n    }\r\n\r\n    this.service.Get(request).subscribe(\r\n      {\r\n        next: (response: GetFinalizeAuthenticationResponse) =>\r\n        {\r\n          this.model = response;\r\n\r\n          if (this.model.MessagingEnabled)\r\n          {\r\n            if (this.model.ShowAutoLogoutDialog)\r\n            {\r\n              this.openAutoLogoutDialog();\r\n            }\r\n            else\r\n            {\r\n              this.finalize();\r\n            }\r\n          }\r\n          else\r\n          {\r\n            this.finalize();\r\n          }\r\n        },\r\n        error: error =>\r\n        {\r\n          if (error instanceof HttpErrorResponse || error.error)\r\n          {\r\n            this.handleError(error);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  openAutoLogoutDialog(): void\r\n  {\r\n    const dialogContent = {\r\n      title: 'SHELL.AUTH_PAGES.FINALIZE_AUTHENTICATION.HEADER',\r\n      content: this.translate.instant('SHELL.AUTH_PAGES.FINALIZE_AUTHENTICATION.DESCRIPTION', { TenantName: this.model.TenantName }),\r\n      submitButtonLabel: 'SHELL.AUTH_PAGES.FINALIZE_AUTHENTICATION.LOGOUT',\r\n      cancelButtonLabel: 'SHELL.AUTH_PAGES.FINALIZE_AUTHENTICATION.CANCEL',\r\n      submitButtonColor: 'warn'\r\n    };\r\n\r\n    const dialogRef = this.dialog.open(CardDialogComponent, {\r\n      panelClass: 'o-confirm-dialog',\r\n      data: {\r\n        component: ConfirmationDialogComponent,\r\n        dialogData: dialogContent\r\n      },\r\n      width: '350px',\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) =>\r\n    {\r\n      if (result)\r\n      {\r\n        this.finalize();\r\n      }\r\n      else\r\n      {\r\n        this.authService.logout('gateway').subscribe({\r\n          next: (logoutResult: NbAuthResult) =>\r\n          {\r\n            this.router.navigate([logoutResult?.getRedirect()]);\r\n          }, error: error =>\r\n          {\r\n            if (error instanceof HttpErrorResponse)\r\n            {\r\n              this.handleError(error);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n\r\n  private finalize(): void\r\n  {\r\n    this.post();\r\n\r\n    this.returnURL = this.route.snapshot.queryParams['returnURL'] ?? '';\r\n\r\n    if (!this.model?.CompleteRegistration)\r\n    {\r\n      this.redirectToCompleteRegistration();\r\n      return;\r\n    }\r\n\r\n    if (this.model?.RedirectUrl)\r\n    {\r\n      let redirectUrl = this.model?.RedirectUrl;\r\n\r\n      this.authenticatedRedirectTo(redirectUrl);\r\n    }\r\n    else\r\n    {\r\n      this.redirectToReference();\r\n    }\r\n  }\r\n\r\n  private redirectToCompleteRegistration(): void\r\n  {\r\n    this.router.navigate(['auth/complete-registration']);\r\n  }\r\n\r\n  private authenticatedRedirectTo(redirectUrl: string): void\r\n  {\r\n    this.authService.getToken().subscribe({\r\n      next: (token: NbAuthToken) =>\r\n      {\r\n        const token_payload = token.getPayload();\r\n\r\n        if (token_payload.refresh_token)\r\n        {\r\n          redirectUrl += `&refresh_token=${ token_payload?.refresh_token }`;\r\n        }\r\n\r\n        window.location.href = redirectUrl;\r\n      }, error: error =>\r\n      {\r\n        if (error instanceof HttpErrorResponse)\r\n        {\r\n          this.handleError(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private redirectToReference(): void\r\n  {\r\n    if (this.returnURL)\r\n    {\r\n      const url = decodeURI(this.returnURL);\r\n      this.router.navigateByUrl(url);\r\n    }\r\n    else\r\n    {\r\n      this.startupRoutingService.redirectToDefaultPage(true).then();\r\n    }\r\n    //this.startupRoutingService.redirectAfterFinalize();\r\n  }\r\n\r\n  private post(): void\r\n  {\r\n    let request = new PostFinalizeAuthenticationRequest();\r\n    request.MessagingSessionID = this.signalrMessagingClientService.sessionID;\r\n\r\n    this.service.Post(request).subscribe({\r\n      next: () => { },\r\n      error: (error) =>\r\n      {\r\n        if (error instanceof HttpErrorResponse)\r\n        {\r\n          this.handleError(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  handleError(error: HttpErrorResponse): void\r\n  {\r\n    const strategy = getDeepFromObject(this.options, 'forms.logout.strategy', null);\r\n    this.authService.logout(strategy).subscribe((result: NbAuthResult) =>\r\n    {\r\n      this.router.navigateByUrl('auth/error', {\r\n        state: {\r\n          title: this.translate.instant('SHELL.APP.Error_Message'),\r\n          description: error?.error?.Title ?? '',\r\n          backUrl: 'auth/login'\r\n        }\r\n      });\r\n    });\r\n\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n}\r\n","<div>Redirecting, please wait...</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAuthModule } from '@tei/nebular-auth';\r\nimport { FinalizeAuthenticationService } from '../../@services/finalize-authentication.service';\r\nimport { FinalizeAuthenticationComponent } from './finalize-authentication.component';\r\n\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst NB_MODULES = [NbAuthModule];\r\nconst MATERIAL_MODULES = [];\r\nconst TP_MODULES = [];\r\nconst TEI_MATERIAL_MODULES = [];\r\n\r\nconst COMPONENTS = [FinalizeAuthenticationComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_MATERIAL_MODULES, ...TP_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_MATERIAL_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS],\r\n  providers: [{ provide: 'IFinalizeAuthenticationService', useClass: FinalizeAuthenticationService }],\r\n})\r\nexport class FinalizeAuthenticationModule { }\r\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ConfigService, RecaptchaService } from '@tei/core';\r\nimport { SnackBarService } from '@tei/material';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\nimport { PostGrantActivationRequest } from '../../@intermediate/models/post-grant-activation.model';\r\nimport { ActivationService } from '../../@services/activation.service';\r\n\r\n@Component({\r\n  selector: 'ngx-grant-activation',\r\n  templateUrl: './grant-activation.component.html',\r\n  styleUrls: ['./grant-activation.component.scss']\r\n})\r\nexport class GrantActivationComponent implements OnInit\r\n{\r\n  tokenV2 = '';\r\n  loadCaptchaV2 = false;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n  returnURL: string;\r\n  isExternalLogin: boolean = false;\r\n\r\n  activationForm = new UntypedFormGroup({\r\n    activationCode: new UntypedFormControl('', [Validators.required]),\r\n    captchaToken: new UntypedFormControl(''),\r\n  });\r\n\r\n  submitted = false;\r\n  errors = [];\r\n\r\n  userName: string;\r\n  get captchaTheme() { return this.themeService.currentTheme.includes('dark') ? 'dark' : 'light'; }\r\n\r\n  constructor(\r\n    private ActivationService: ActivationService,\r\n    private activatedRoute: ActivatedRoute,\r\n    protected cd: ChangeDetectorRef,\r\n    private router: Router,\r\n    private translate: TranslateService,\r\n    private snackBarService: SnackBarService,\r\n    private themeService: NbThemeService,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private recaptchaService: RecaptchaService,\r\n    private configService: ConfigService,\r\n  )\r\n  { }\r\n\r\n  async ngOnInit(): Promise<void>\r\n  {\r\n    this.tenant_settings = await firstValueFrom(this.globalSettingsProvider.GetGlobalTenantSettings());\r\n\r\n    await this.recaptchaService.loadRecaptchaScript();\r\n    await this.validateCaptchaToken();\r\n\r\n    this.userName = decodeURIComponent(this.activatedRoute.snapshot.params['username'] ?? '');\r\n    if (!this.userName)\r\n    {\r\n      this.userName = decodeURIComponent(this.activatedRoute.snapshot.queryParamMap['username'] ?? '');\r\n    }\r\n\r\n    const originIsExternalLogin = (decodeURIComponent(this.activatedRoute.snapshot.params['externalLogin'] ?? '') === 'true')\r\n      || (decodeURIComponent(this.activatedRoute.snapshot.queryParamMap.get('externalLogin') ?? '') === 'true');\r\n\r\n    this.isExternalLogin = originIsExternalLogin && !(this.configService?.defaultConfig?.ignoreExternalLoginRedirection ?? false);\r\n\r\n    if (!originIsExternalLogin || this.isExternalLogin)\r\n    {\r\n      this.returnURL = this.activatedRoute.snapshot.queryParams['returnURL'] ?? '';\r\n    }\r\n\r\n    if (!this.userName)\r\n    {\r\n      if (this.returnURL)\r\n      {\r\n        this.router.navigate([this.returnURL]);\r\n      } else\r\n      {\r\n        this.router.navigate(['/Auth/login']);\r\n      }\r\n    }\r\n  }\r\n\r\n  async validateCaptchaToken(): Promise<void>\r\n  {\r\n    try\r\n    {\r\n      if (this.recaptchaService.isReady())\r\n      {\r\n        let captchaToken = this.tokenV2;\r\n\r\n        if (!this.loadCaptchaV2)\r\n        {\r\n          captchaToken = this.activationForm.get('captchaToken').value;\r\n          if (!captchaToken)\r\n          {\r\n            this.submitted = true;\r\n            captchaToken = await this.recaptchaService.executeV3('GrantActivationAction', 'v2-login', this.configService?.turnstileConfigs?.appearance?.auth);\r\n            this.submitted = false;\r\n          }\r\n        }\r\n\r\n        if (!captchaToken)\r\n        {\r\n          this.submitted = false;\r\n          this.errors = ['error. reCaptcha verification error.'];\r\n          return;\r\n        }\r\n        this.activationForm.get('captchaToken').setValue(captchaToken);\r\n      } else if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n      {\r\n        this.submitted = false;\r\n        this.errors = ['error. reCaptcha verification error.'];\r\n        return;\r\n      }\r\n\r\n    } catch (e)\r\n    {\r\n      this.submitted = false;\r\n      console.error(e);\r\n      this.errors = ['error. reCaptcha verification error.'];\r\n      return;\r\n    }\r\n  }\r\n  async grantActivation(): Promise<void>\r\n  {\r\n    this.errors = [];\r\n    this.submitted = true;\r\n    await this.validateCaptchaToken();\r\n\r\n    if (!this.activationForm.value.activationCode)\r\n    {\r\n      this.snackBarService.showError(this.translate.instant('SHELL.AUTH_PAGES.LOGIN.CONFIRMATION_CODE_REQUIRED'), '', null, 'left', 'bottom', 20, 'wifi_off');\r\n      return;\r\n    }\r\n\r\n    const request = {\r\n      UserName: this.userName,\r\n      Token: this.activationForm.value.activationCode,\r\n    } as PostGrantActivationRequest;\r\n\r\n    if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n    {\r\n      request.AdditionalParameters = { CaptchaToken: this.activationForm.value.captchaToken, CaptchaStrategy: this.loadCaptchaV2 ? 'V2' : 'V3' };\r\n    }\r\n\r\n    this.ActivationService.GrantActivation(request).subscribe({\r\n      next: (response) =>\r\n      {\r\n        this.loadCaptchaV2 = false;\r\n        // this.recaptchaService?.reset();\r\n\r\n        const resetPasswordRoute = `/auth/reset-password/${ this.userName }`;\r\n        let resetPath = `${ resetPasswordRoute }?token=${ encodeURIComponent(response.ResetPasswordToken) }`;\r\n\r\n        if (this.returnURL)\r\n        {\r\n          resetPath += `&returnURL=${ encodeURIComponent(this.returnURL) }&externalLogin=${ this.isExternalLogin }`;\r\n        }\r\n        this.router.navigateByUrl(resetPath);\r\n      }, error: error =>\r\n      {\r\n        this.submitted = false;\r\n        let msg = [this.translate.instant('SHELL.AUTH_PAGES.LOGIN.TRY_AGAIN')];\r\n        if (error?.error?.Title) { msg = [error?.error.Title]; }\r\n        else if (error?.Title) { msg = [error?.Title]; }\r\n        else if (error?.error instanceof String || typeof error?.error === 'string') { msg = [error.error as string]; }\r\n        else if (Object.keys(error?.error)?.length > 0)\r\n        {\r\n          msg = Object.values(error.error);\r\n        }\r\n\r\n        this.activationForm.get('captchaToken').setValue(null);\r\n        if (msg.some(a => a.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken)))\r\n        {\r\n          if (this.loadCaptchaV2)\r\n          {\r\n            this.recaptchaService.reset('v2-login');\r\n          }\r\n          else\r\n          {\r\n            setTimeout(() =>\r\n            {\r\n              this.recaptchaService.renderV2('v2-login', this.resolved.bind(this));\r\n              this.loadCaptchaV2 = true;\r\n              this.cd.detectChanges();\r\n            }, 1000);\r\n          }\r\n          return;\r\n        }\r\n\r\n        this.errors = msg;\r\n        this.cd.detectChanges();\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  public resolved(captchaResponse: string): void\r\n  {\r\n    this.tokenV2 = captchaResponse;\r\n  }\r\n}\r\n","<div class=\"container-shell\">\r\n  <mat-card class=\"o-card o-card-auth\">\r\n\r\n    <div style=\"margin: -12px -12px 0px -12px;\">\r\n      <a mat-button class=\"a-button\" [routerLink]=\"'/auth/request-activate/'+userName\">\r\n        <span class=\"align-middle\" style=\"line-height: 24px;\">\r\n          <mat-icon class=\"align-middle\">arrow_back</mat-icon>\r\n          <span>{{'SHELL.AUTH_PAGES.SEND_ACTIVATION.BACK' | teiTextTranslate}}</span>\r\n        </span>\r\n      </a>\r\n    </div>\r\n    <div class=\"mt-4\">\r\n      <div class=\"a-text-h1 text-center\">{{'SHELL.AUTH_PAGES.SEND_ACTIVATION.ACTIVATE_ACCOUNT' | teiTextTranslate}}\r\n      </div>\r\n      <div class=\"a-text-default text-center my-3\">{{'SHELL.AUTH_PAGES.GRANT_ACTIVATION.CONFIRMATION_CODE' |\r\n        teiTextTranslate}}\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"a-text-default text-center my-3\">\r\n      {{'SHELL.AUTH_PAGES.GRANT_ACTIVATION.PLEASE_ENTER_THE_CODE_SENT_TO_YOUT_EMAIL' | teiTextTranslate}}\r\n    </div>\r\n    <form class=\"mt-3\" [formGroup]=\"activationForm\" (ngSubmit)=\"grantActivation()\" autocomplete=\"off\">\r\n\r\n      <mat-form-field class=\"a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.GRANT_ACTIVATION.CONFIRMATION_CODE' | teiTextTranslate}}</mat-label>\r\n        <input formControlName=\"activationCode\" matInput>\r\n        <mat-error>\r\n        </mat-error>\r\n      </mat-form-field>\r\n      <div class=\"my-3\" *ngIf=\"errors && errors?.length && !submitted\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"warn\">error</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.GRANT_ACTIVATION.FAILED' | teiTextTranslate}}\r\n            </div>\r\n            <div *ngFor=\"let error of errors\" class=\"a-text-secondary\">{{ error }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"px-auto my-2 mx-auto d-flex d-flex justify-content-center\">\r\n        <div id=\"v2-login\"></div>\r\n      </div>\r\n\r\n      <div class=\"mt-3\">\r\n        <button mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\"\r\n          [disabled]=\"submitted || !activationForm.valid\">{{'SHELL.AUTH_PAGES.GRANT_ACTIVATION.CONFIRM' |\r\n          teiTextTranslate}}</button>\r\n      </div>\r\n    </form>\r\n  </mat-card>\r\n</div>","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAlertModule, NbButtonModule, NbCheckboxModule, NbIconModule, NbInputModule } from '@tei/nebular-theme';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { GrantActivationComponent } from './grant-activation.component';\r\n\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, ReactiveFormsModule, RouterModule];\r\nconst NB_MODULES = [NbInputModule, NbIconModule, NbCheckboxModule, NbAlertModule, NbButtonModule];\r\nconst MATERIAL_MODULES = [MatCardModule, MatButtonModule, ReactiveFormsModule, MatFormFieldModule, MatInputModule, MatIconModule];\r\nconst TP_MODULES = [];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\nconst CAPTCHA_MODULES = [];\r\n\r\nconst COMPONENTS = [GrantActivationComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_CORE_MODULES, ...TP_MODULES, ...CAPTCHA_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS],\r\n})\r\nexport class GrantActivationModule { }\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAuthModule } from '@tei/nebular-auth';\r\nimport { HandleRedirectionService } from '../../@services/handle-redirection.service';\r\nimport { HandleRedirectionComponent } from './handle-redirection.component';\r\n\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst NB_MODULES = [NbAuthModule];\r\nconst MATERIAL_MODULES = [];\r\nconst TP_MODULES = [];\r\nconst TEI_MATERIAL_MODULES = [];\r\n\r\nconst COMPONENTS = [HandleRedirectionComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_MATERIAL_MODULES, ...TP_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_MATERIAL_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS],\r\n  providers: [{ provide: 'IHandleRedirectionService', useClass: HandleRedirectionService }],\r\n})\r\nexport class HandleRedirectionModule { }\r\n","import { HttpErrorResponse } from '@angular/common/http';\r\nimport { ChangeDetectionStrategy, Component, Inject, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IAuthService } from '@tei/abstraction';\r\nimport { AppIdentifierService, AppSessionModel, IThemeState, ITopMenuState, LayoutActionChanged, PagesStagingLayoutType, setLayout } from '@tei/core';\r\nimport { of } from 'rxjs';\r\nimport { catchError, filter, switchMap, tap } from 'rxjs/operators';\r\nimport { StartupRoutingService } from '../../../@theme/@services/startup-routing.service';\r\nimport { IHandleRedirectionService } from '../../@intermediate/handle-redirection.interface';\r\nimport { GetHandleAuxiliaryRedirectionRequest } from '../../@intermediate/models/get-handle-auxiliary-redirection.model';\r\nimport { GetHandleClientRedirectionRequest } from '../../@intermediate/models/get-handle-client-redirection.model';\r\nimport\r\n{\r\n  GetHandleImpersonationRequest, GetHandleImpersonationResponse\r\n} from '../../@intermediate/models/get-handle-impersonation.model';\r\nimport\r\n{\r\n  GetHandleRedirectionRequest\r\n} from '../../@intermediate/models/get-handle-redirection.model';\r\nimport { NB_AUTH_OPTIONS, NbAuthResult, getDeepFromObject } from '@tei/nebular-auth';\r\n\r\n@Component({\r\n  selector: 'tei-shell-handle-redirection',\r\n  templateUrl: './handle-redirection.component.html',\r\n  styleUrls: ['./handle-redirection.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HandleRedirectionComponent implements OnInit\r\n{\r\n  private access_token: string;\r\n  private client_access_token: string;\r\n  private aux_access_token: string;\r\n  private appsecret_proof: string;\r\n  private refresh_token: string;\r\n  private path: string;\r\n  private refresh: string;\r\n  private layout: PagesStagingLayoutType;\r\n  private impersonatedUserUID: string;\r\n  private application = '';\r\n  private applicationRefID = '';\r\n  PagesStagingLayoutType = PagesStagingLayoutType;\r\n\r\n  constructor(\r\n    @Inject('IHandleRedirectionService') private service: IHandleRedirectionService,\r\n    private appIdentifierService: AppIdentifierService,\r\n    @Inject('IAuthService') private authService: IAuthService,\r\n    @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n    private router: Router,\r\n    private store: Store<IThemeState>,\r\n    private route: ActivatedRoute,\r\n    private startupRoutingService: StartupRoutingService,\r\n    private translate: TranslateService,)\r\n  {\r\n    this.route.queryParams.subscribe(params =>\r\n    {\r\n      if (params['access_token'])\r\n      {\r\n        this.access_token = params['access_token'];\r\n      }\r\n      else if (params['client_access_token'])\r\n      {\r\n        this.client_access_token = params['client_access_token'];\r\n      }\r\n      else if (params['aux_access_token'])\r\n      {\r\n        this.aux_access_token = params['aux_access_token'];\r\n      }\r\n\r\n      if (params['appsecret_proof'])\r\n      {\r\n        this.appsecret_proof = params['appsecret_proof'];\r\n      }\r\n\r\n      if (params['refresh_token'])\r\n      {\r\n        this.refresh_token = params['refresh_token'];\r\n      }\r\n\r\n      if (params['impersonatedUserUID'])\r\n      {\r\n        this.impersonatedUserUID = params['impersonatedUserUID'];\r\n      }\r\n\r\n      if (params['path'])\r\n      {\r\n        this.path = params['path'];\r\n      }\r\n\r\n      if (params['refresh'])\r\n      {\r\n        this.refresh = params['refresh'];\r\n      }\r\n\r\n      if (params['layout'])\r\n      {\r\n        this.layout = setLayout(params['layout']);\r\n      }\r\n\r\n      if (params['application'])\r\n      {\r\n        this.application = params['application'];\r\n      }\r\n\r\n      if (params['applicationRefID'])\r\n      {\r\n        this.applicationRefID = params['applicationRefID'];\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.dispatchLayoutChange(this.layout);\r\n\r\n    if (this.impersonatedUserUID && this.impersonatedUserUID != '')\r\n    {\r\n      const request = new GetHandleImpersonationRequest();\r\n      request.ImpersonatedUserUID = this.impersonatedUserUID;\r\n\r\n      this.loadImpersonation(request);\r\n    }\r\n    else if (this.access_token && this.access_token !== '')\r\n    {\r\n      const request = new GetHandleRedirectionRequest();\r\n      request.ExternalAccessToken = this.access_token;\r\n\r\n      if (this.appsecret_proof)\r\n      {\r\n        request.AppSecretProof = this.appsecret_proof;\r\n      }\r\n\r\n      this.load(request);\r\n    }\r\n    else if (this.client_access_token && this.client_access_token !== '')\r\n    {\r\n      const request: GetHandleClientRedirectionRequest =\r\n      {\r\n        AccessToken: this.client_access_token\r\n      };\r\n\r\n      this.loadClientRedirection(request);\r\n    }\r\n    else if (this.aux_access_token && this.aux_access_token !== '')\r\n    {\r\n      const request: GetHandleAuxiliaryRedirectionRequest =\r\n      {\r\n        AccessToken: this.aux_access_token\r\n      };\r\n\r\n      this.loadAuxiliaryRedirection(request);\r\n    }\r\n  }\r\n\r\n  private dispatchLayoutChange(layout: string): void\r\n  {\r\n    setTimeout(() =>\r\n    {\r\n      this.store.dispatch(new LayoutActionChanged({ LayoutType: layout ?? PagesStagingLayoutType.Default }));\r\n    });\r\n  }\r\n\r\n  private load(request: GetHandleRedirectionRequest): void\r\n  {\r\n    this.service.Get(request).subscribe({\r\n      next: (response) =>\r\n      {\r\n        let data: any;\r\n\r\n        if (!response.access_token && this.access_token)\r\n        {\r\n          data =\r\n          {\r\n            reauthentication_access_token: this.access_token,\r\n            refresh_token: this.refresh_token,\r\n            appsecret_proof: null\r\n          };\r\n        }\r\n        else\r\n        {\r\n          data = response;\r\n        }\r\n\r\n        if (this.appsecret_proof)\r\n        {\r\n          data.appsecret_proof = this.appsecret_proof;\r\n        }\r\n\r\n        this.reauthenticate(data, this.path, this.application, this.applicationRefID, this.refresh);\r\n      }, error: error =>\r\n      {\r\n        if (error instanceof HttpErrorResponse || error.error)\r\n        {\r\n          this.handleError(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  handleError(error: HttpErrorResponse): void\r\n  {\r\n    const strategy = getDeepFromObject(this.options, 'forms.logout.strategy', null);\r\n    this.authService.logout(strategy).subscribe((result: NbAuthResult) =>\r\n    {\r\n      this.router.navigateByUrl('auth/error', {\r\n        state: {\r\n          title: this.translate.instant('SHELL.APP.Error_Message'),\r\n          description: error?.error?.Title ?? '',\r\n          backUrl: 'auth/login'\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private loadClientRedirection(request: GetHandleClientRedirectionRequest): void\r\n  {\r\n    this.service.GetClientRedirection(request).subscribe({\r\n      next: (response) =>\r\n      {\r\n        if (response.DefaultApplication && response.DefaultApplication !== '' && response.DefaultPath && response.DefaultPath !== '')\r\n        {\r\n          this.application = response.DefaultApplication;\r\n          this.path = response.DefaultPath;\r\n        }\r\n\r\n        this.reauthenticate(response, this.path, this.application, this.applicationRefID, this.refresh);\r\n      }, error: error =>\r\n      {\r\n        if (error instanceof HttpErrorResponse || error.error)\r\n        {\r\n          this.handleError(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadAuxiliaryRedirection(request: GetHandleAuxiliaryRedirectionRequest): void\r\n  {\r\n    this.service.GetAuxiliaryRedirection(request).subscribe({\r\n      next: (response) =>\r\n      {\r\n        if (response.Application && response.Application !== '' && response.Path && response.Path !== '')\r\n        {\r\n          this.application = response.Application;\r\n          this.path = response.Path;\r\n        }\r\n\r\n        this.reauthenticate(response, this.path, this.application, this.applicationRefID, this.refresh);\r\n      }, error: error =>\r\n      {\r\n        if (error instanceof HttpErrorResponse || error.error)\r\n        {\r\n          this.handleError(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private reauthenticate(data: any, path: string, application: string, applicationRefID: string, refresh: string)\r\n  {\r\n    this.authService.reauthenticate('gateway', data).subscribe({\r\n      next: (result) =>\r\n      {\r\n        if (result.isSuccess)\r\n        {\r\n\r\n          let redirect_path;\r\n\r\n          if (path)\r\n          {\r\n            redirect_path = this.path;\r\n          }\r\n          else\r\n          {\r\n            redirect_path = result.getRedirect();\r\n          }\r\n\r\n          if (refresh === 'true')\r\n          {\r\n            window.location.href = redirect_path;\r\n          }\r\n          else\r\n          {\r\n            this.router.navigateByUrl(redirect_path).then(async () =>\r\n            {\r\n              if (this.layout !== PagesStagingLayoutType.MenuFree && !this.application)\r\n              {\r\n                await this.startupRoutingService.redirectToDefaultPage(true);\r\n              }\r\n\r\n              if (application)\r\n              {\r\n                const session = new AppSessionModel();\r\n                session.appIdentifier = this.application;\r\n                session.applicationRefID = this.applicationRefID;\r\n\r\n                this.appIdentifierService.setAppSession(session);\r\n                this.startupRoutingService.dispatchState({ Identifier: application, RefID: applicationRefID } as ITopMenuState);\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }, error: error =>\r\n      {\r\n        if (error instanceof HttpErrorResponse || error.error)\r\n        {\r\n          this.handleError(error);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  private loadImpersonation(request: GetHandleImpersonationRequest): void\r\n  {\r\n    let impersonationResponse: GetHandleImpersonationResponse;\r\n\r\n    this.service.GetImpersonation(request).pipe(\r\n      tap(response =>\r\n      {\r\n        impersonationResponse = response;\r\n      }),      \r\n      switchMap(() => this.authService.logout('gateway')),\r\n      switchMap(() =>\r\n      {\r\n        return this.authService.reauthenticate('gateway', impersonationResponse);\r\n      }),\r\n      filter(result => result.isSuccess() === true),\r\n      tap(() =>\r\n      {\r\n        this.startupRoutingService.redirectToDefaultPage(true).then();\r\n      }), catchError((error: HttpErrorResponse) =>\r\n      {\r\n        this.handleError(error);\r\n        return of();\r\n      })\r\n    ).subscribe();\r\n  }\r\n}\r\n","<div>Redirecting, please wait...</div>\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { switchMap, tap } from 'rxjs/operators';\r\nimport { RefererLocalStorage } from '../../../@core/services/referer-local-storage.service';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\nimport { ILandingService } from '../../@intermediate/landing.interface';\r\nimport { GetLandingRequest, GetLandingResponse } from '../../@intermediate/models/get-landing.model';\r\n\r\n@Component({\r\n  selector: 'tei-shell-landing',\r\n  templateUrl: './landing.component.html',\r\n  styleUrls: ['./landing.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class LandingComponent implements OnInit\r\n{\r\n  model: GetLandingResponse;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n  logo_url: string;\r\n\r\n  constructor(@Inject('ILandingService') private landingService: ILandingService,\r\n    protected cd: ChangeDetectorRef,\r\n    protected router: Router,\r\n    private route: ActivatedRoute,\r\n    private refererStorage: RefererLocalStorage,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private themeService: NbThemeService)\r\n  {\r\n    this.route.queryParams.subscribe(params =>\r\n    {\r\n      if (params['referer'])\r\n      {\r\n        this.refererStorage.set(params['referer'], params['redirect_url']);\r\n      }\r\n      else\r\n      {\r\n        this.refererStorage.clear();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    const request = new GetLandingRequest();\r\n    this.load(request);\r\n  }\r\n\r\n  private load(request: GetLandingRequest)\r\n  {\r\n    if (!this.model)\r\n    {\r\n      this.model = new GetLandingResponse();\r\n    }\r\n    this.landingService\r\n      .Get(request)\r\n      .pipe(\r\n        switchMap((response) =>\r\n        {\r\n          this.model = response;\r\n\r\n          if (this.isInStandaloneMode())\r\n          {\r\n            if (this.model.AllowStaff)\r\n            {\r\n              this.router.navigate(['auth/staff-login']);\r\n            }\r\n          }\r\n          else\r\n          {\r\n            if (this.model.AllowPublic && !this.model.AllowMember)\r\n            {\r\n              this.router.navigate(['auth/public-login']);\r\n            }\r\n            else if (!this.model.AllowPublic && this.model.AllowMember)\r\n            {\r\n              this.router.navigate(['auth/member-login']);\r\n            }\r\n            else if (!this.model.AllowPublic && !this.model.AllowMember && this.model.AllowStaff)\r\n            {\r\n              this.router.navigate(['auth/staff-login']);\r\n            }\r\n          }\r\n\r\n          return this.globalSettingsProvider\r\n            .GetGlobalTenantSettings();\r\n        }),\r\n        tap((tenant_settings) =>\r\n        {\r\n          this.tenant_settings = tenant_settings;\r\n          this.logo_url = this.globalSettingsProvider.getLogo(this.tenant_settings, this.themeService.currentTheme);\r\n\r\n          this.themeService.onThemeChange()\r\n            .subscribe((theme_response) =>\r\n            {\r\n              if (theme_response.name !== theme_response.previous)\r\n              {\r\n                this.logo_url = this.globalSettingsProvider.getLogo(this.tenant_settings, theme_response.name);\r\n              }\r\n            });\r\n\r\n          this.cd.markForCheck();\r\n        })\r\n      ).subscribe();\r\n  }\r\n\r\n  isInStandaloneMode(): boolean\r\n  {\r\n    // For iOS\r\n    if (('standalone' in window.navigator) && (window.navigator['standalone']))\r\n    {\r\n      alert(\"This is application for IOS device\");\r\n      return true;\r\n    }\r\n\r\n    // For Android\r\n    if (window.matchMedia('(display-mode: standalone)').matches) return true;\r\n\r\n    // If neither is true, it's not installed\r\n    return false;\r\n  }\r\n}\r\n","<div class=\"container-shell\">\r\n  <mat-card class=\"w-100 o-card o-card-auth\">\r\n    <div class=\"text-center\" *ngIf=\"logo_url\">\r\n      <img [src]=\"logo_url\" class=\"a-logo a-logo-landing w-100\" style=\"\" />\r\n    </div>\r\n    <nb-alert *ngIf=\"model?.UnderConstruction\" outline=\"danger\" role=\"alert\">\r\n      <div class=\"a-text-primary\">The portal is under construction</div>\r\n    </nb-alert>\r\n    <div *ngIf=\"!model?.UnderConstruction\">\r\n      <div class=\"my-5\">\r\n        <div class=\"a-text-h1 text-center\">Welcome</div>\r\n        <div class=\"my-3\">\r\n          <div class=\"a-text-default text-center\">Select your account type...</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row mt-5\">\r\n        <div class=\"col-6\" *ngIf=\"model?.AllowPublic\">\r\n          <a mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\" routerLink=\"../public-login\">Public</a>\r\n        </div>\r\n        <br />\r\n        <div class=\"col-6\" *ngIf=\"model?.AllowMember\">\r\n          <a mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\" routerLink=\"../member-login\">Member</a>\r\n        </div>\r\n        <br />\r\n      </div>\r\n      <!-- <div class=\"d-none\" *ngIf=\"model?.AllowStaff\">\r\n        <a mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\" routerLink=\"../staff-login\">Staff</a>\r\n      </div> -->\r\n    </div>\r\n  </mat-card>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAuthModule } from '@tei/nebular-auth';\r\nimport { NbAlertModule, NbButtonModule, NbCheckboxModule, NbIconModule, NbInputModule } from '@tei/nebular-theme';\r\nimport { LandingService } from '../../@services/landing.service';\r\nimport { LandingComponent } from './landing.component';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst NB_MODULES = [NbAuthModule, NbAlertModule, NbInputModule, NbCheckboxModule, NbButtonModule, NbIconModule];\r\nconst MATERIAL_MODULES = [MatCardModule, MatButtonModule];\r\nconst TP_MODULES = [];\r\nconst TEI_MATERIAL_MODULES = [];\r\n\r\nconst COMPONENTS = [LandingComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_MATERIAL_MODULES, ...TP_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_MATERIAL_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS],\r\n  providers: [{ provide: 'ILandingService', useClass: LandingService }],\r\n})\r\nexport class LandingModule { }\r\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, HostListener, Inject, OnInit, Renderer2, ViewChild } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, ValidatorFn, Validators } from '@angular/forms';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ConfigService, IThemeState, LayoutActionChanged, PagesStagingLayoutType, RecaptchaService, ResponsiveService, SidebarSelected, TopMenuSelected } from '@tei/core';\r\nimport { CardDialogComponent, ConfirmationDialogComponent } from '@tei/material';\r\nimport { NB_AUTH_OPTIONS, NbAuthResult, NbAuthService, NbLoginComponent } from '@tei/nebular-auth';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { POSAuthenticated } from '@tei/pos-shared';\r\nimport { switchMap, tap } from 'rxjs/operators';\r\nimport { AuthenticationSettings, LoginPageEnum, LoginPageSetting, UserNameTypeEnum } from '../../../@core/authentication/@intermediate/models/get-authentication-settings.model';\r\nimport { AuthenticationSettingsProvider } from '../../../@core/authentication/@services/authentication-settings.provider';\r\nimport { UnauthorizedUserService } from '../../../@core/authentication/@services/unauthorized.user.service';\r\nimport { RedirectionLocalStorage } from '../../../@core/services/redirection-local-storage.service';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\nimport { HeaderStoreService } from '../../../@theme/@services/header-store.service';\r\nimport { OAuthGrantAccessRequest } from '../../@intermediate/models/o-auth.model';\r\nimport { IOAuthService } from '../../@intermediate/o-auth.interface';\r\nimport { HandleRedirectionHelperService } from '../../@services/handle-redirection-helper.service';\r\n\r\n@Component({\r\n  selector: 'shell-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.Default,\r\n})\r\nexport class LoginComponent extends NbLoginComponent implements AfterViewInit, OnInit\r\n{\r\n  @ViewChild('passwordInput') passwordInput: ElementRef;\r\n  @ViewChild('usernameInput') usernameInput: ElementRef;\r\n  @HostListener('window:popstate', ['$event'])\r\n  onBrowserBackBtnClose(event: Event)\r\n  {\r\n    this.redirectionStorage.clear();\r\n\r\n    if (this.router.url.includes('tee-times'))\r\n    {\r\n      setTimeout(() =>\r\n      {\r\n        this.router.navigate(['/web/tee-times']);\r\n      }, 200);\r\n    }\r\n  }\r\n  shortenedHtml: SafeHtml | null = null;\r\n  loginSettings: LoginPageSetting;\r\n  tokenV2 = '';\r\n  loadCaptchaV2 = false;\r\n  routeUsername = '';\r\n  hidePassword = true;\r\n  activeTab = LoginPageEnum.UserName;\r\n  LoginPageEnum = LoginPageEnum;\r\n  userNameType = UserNameTypeEnum;\r\n  settings: AuthenticationSettings;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n  logo_url: string;\r\n  loginForm: UntypedFormGroup;\r\n  requestPasswordUrl: string;\r\n  requestActivateUrl: string;\r\n  returnURL: string;\r\n  isExternalLogin = false;\r\n  isMobile = false;\r\n\r\n  get userValue() { return this.loginForm?.value ?? {} as any; }\r\n  get captchaTheme() { return this.themeService.currentTheme.includes('dark') ? 'dark' : 'light'; }\r\n\r\n  constructor(protected service: NbAuthService,\r\n    @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n    protected changeDetector: ChangeDetectorRef,\r\n    protected router: Router,\r\n    private dialog: MatDialog,\r\n    private sanitizer: DomSanitizer,\r\n    private route: ActivatedRoute,\r\n    private unauthorizedUserService: UnauthorizedUserService,\r\n    private redirectionStorage: RedirectionLocalStorage,\r\n    private authenticationSettingsProvider: AuthenticationSettingsProvider,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private themeService: NbThemeService,\r\n    private elRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    private store: Store<IThemeState>,\r\n    private translate: TranslateService,\r\n    private responsiveService: ResponsiveService,\r\n    private recaptchaService: RecaptchaService,\r\n    private configService: ConfigService,\r\n    private handleRedirectionHelperService: HandleRedirectionHelperService,\r\n    private headerStoreService: HeaderStoreService,\r\n    @Inject('IOAuthService') private oAuthService: IOAuthService\r\n  )\r\n  {\r\n    super(service, options, changeDetector, router);\r\n  }\r\n\r\n  ngAfterViewInit(): void\r\n  {\r\n    this.handleGetSettingApi();\r\n    setTimeout(() =>\r\n    {\r\n      const readMoreEl = this.elRef.nativeElement.querySelector('#read-more-link');\r\n      if (readMoreEl)\r\n      {\r\n        this.renderer.listen(readMoreEl, 'click', () =>\r\n        {\r\n          this.openReadMoreDialog();\r\n        });\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.initData();\r\n    this.createLoginForm();\r\n    this.logOutExternalUser();\r\n    this.getMobileSize();\r\n  }\r\n\r\n  getMobileSize(): void\r\n  {\r\n    const screenSize = this.responsiveService.mediaBreakpoint.getValue();\r\n    this.isMobile = screenSize === 'xs';\r\n  };\r\n\r\n  logOutExternalUser()\r\n  {\r\n    this.service.getToken().subscribe(token =>\r\n    {\r\n      if (this.isExternalLogin && token)\r\n      {\r\n        this.service.logout(this.strategy).subscribe();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  private initData(): void\r\n  {\r\n    this.headerStoreService.clearStore();\r\n    this.requestPasswordUrl = '/auth/request-password';\r\n    this.requestActivateUrl = '/auth/request-activate/';\r\n    this.handleParameters();\r\n    this.store.dispatch(new LayoutActionChanged({ LayoutType: PagesStagingLayoutType.Default }));\r\n    this.dispatchInitialSidebarAction();\r\n\r\n  }\r\n\r\n  private handleParameters(): void\r\n  {\r\n    this.routeUsername = decodeURIComponent(this.route.snapshot.params['username'] ?? '');\r\n    if (!this.routeUsername)\r\n    {\r\n      this.routeUsername = decodeURIComponent(this.route.snapshot.queryParamMap.get('username') ?? '');\r\n    }\r\n\r\n    const originIsExternalLogin = (decodeURIComponent(this.route.snapshot.params['externalLogin'] ?? '') === 'true')\r\n      || (decodeURIComponent(this.route.snapshot.queryParamMap.get('externalLogin') ?? '') === 'true');\r\n\r\n    this.isExternalLogin = originIsExternalLogin && !(this.configService?.defaultConfig?.ignoreExternalLoginRedirection ?? false);\r\n\r\n    if (!originIsExternalLogin || this.isExternalLogin)\r\n    {\r\n      this.returnURL = decodeURIComponent(this.route.snapshot.params['redirect_path'] ?? '');\r\n      if (!this.returnURL)\r\n      {\r\n        this.returnURL = decodeURIComponent(this.route.snapshot.queryParamMap.get('redirect_path') ?? '');\r\n      }\r\n\r\n      if (!this.returnURL || this.returnURL == '')\r\n      {\r\n        this.returnURL = decodeURIComponent(this.route.snapshot.params['returnUrl'] ?? '');\r\n\r\n        if (!this.returnURL || this.returnURL == '')\r\n        {\r\n          this.returnURL = decodeURIComponent(this.route.snapshot.queryParamMap.get('returnUrl') ?? '');\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  private handleGetSettingApi(): void\r\n  {\r\n    this.authenticationSettingsProvider\r\n      .GetSettings()\r\n      .pipe(\r\n        switchMap((settings) =>\r\n        {\r\n          this.settings = settings.authenticationSettings;\r\n          this.loginSettings = settings.loginPageSettings;\r\n          this.createReadMore();\r\n          return this.globalSettingsProvider.GetGlobalTenantSettings();\r\n        }),\r\n        tap((tenant_settings) =>\r\n        {\r\n          this.tenant_settings = tenant_settings;\r\n          this.logo_url = this.globalSettingsProvider.getLogo(this.tenant_settings, this.themeService.currentTheme);\r\n          this.updateUsernameValidation();\r\n          this.changeDetector.detectChanges();\r\n          if (this.routeUsername)\r\n          {\r\n            this.loginForm.get(\"username\").setValue(this.routeUsername ?? '');\r\n            this.gotoPassword();\r\n          }\r\n\r\n          this.updateLogo();\r\n        })\r\n      ).subscribe(async () =>\r\n      {\r\n        await this.recaptchaService.loadRecaptchaScript();\r\n        this.tryLogin(null, false);\r\n\r\n        this.changeDetector.detectChanges();\r\n      });\r\n  }\r\n\r\n\r\n  createReadMore(): void\r\n  {\r\n    const html = this.loginSettings?.LoginMessage || '';\r\n\r\n    const maxLength = 400;\r\n    if (html.length > maxLength)\r\n    {\r\n      const slicedHtml = html.slice(0, maxLength);\r\n      const readMoreLink = `<a id=\"read-more-link\" class=\"read-more-btn a-text-link pointer\"\">${ this.translate.instant('SHELL.AUTH_PAGES.READ_MORE') }</a>`;\r\n      const result = slicedHtml + '...' + readMoreLink;\r\n      this.shortenedHtml = this.sanitizer.bypassSecurityTrustHtml(result);\r\n    } else\r\n    {\r\n      this.shortenedHtml = this.sanitizer.bypassSecurityTrustHtml(html);\r\n    }\r\n  }\r\n\r\n  private updateUsernameValidation(): void\r\n  {\r\n    setTimeout(() =>\r\n    {\r\n      const usernameFormProperty = this.loginForm.get('username');\r\n      if (this.routeUsername)\r\n      {\r\n        usernameFormProperty?.setValue(this.routeUsername ?? '');\r\n      }\r\n      usernameFormProperty.clearValidators();\r\n      usernameFormProperty.addValidators([this.usernameValidate('username'), Validators.required]);\r\n      this.changeDetector.detectChanges();\r\n      this.usernameInput.nativeElement.focus();\r\n    }, 0);\r\n  }\r\n\r\n  private createLoginForm(): void\r\n  {\r\n    this.loginForm = new UntypedFormGroup({\r\n      username: new UntypedFormControl(this.routeUsername ?? '', [Validators.required,\r\n      Validators.maxLength(50)]),\r\n      app_identifier: new UntypedFormControl(this.route.snapshot.queryParams['app-identifier'], []),\r\n      captchaToken: new UntypedFormControl('', []),\r\n      password: new UntypedFormControl('', [Validators.required,\r\n      Validators.minLength(this.getConfigValue('forms.validation.password.minLength') || 6),\r\n      Validators.maxLength(this.getConfigValue('forms.validation.password.maxLength') || 50)\r\n      ])\r\n    });\r\n    this.loginForm.get('username').addValidators(this.usernameValidate('username'));\r\n  }\r\n\r\n  usernameValidate(controlName: string): ValidatorFn\r\n  {\r\n    return () =>\r\n    {\r\n      const control = this.loginForm.controls[controlName];\r\n\r\n      if (control.value?.toLowerCase() === 'host') { return null; }\r\n      if (this.settings?.UserNameType === UserNameTypeEnum.AlphaNumeric && control.value) { return null; }\r\n      if (this.settings?.UserNameType === UserNameTypeEnum.Numeric && control.value && !isNaN(control.value)) { return null; }\r\n      if (control?.value?.match('.+@.+\\..+'))\r\n      {\r\n        return null;\r\n      }\r\n      control.setErrors({ 'pattern': true });\r\n      return { 'pattern': true };\r\n    };\r\n  }\r\n\r\n  private updateLogo(): void\r\n  {\r\n    this.themeService.onThemeChange()\r\n      .subscribe((theme_response) =>\r\n      {\r\n        if (theme_response.name !== theme_response.previous)\r\n        {\r\n          this.logo_url = this.globalSettingsProvider.getLogo(this.tenant_settings, theme_response.name);\r\n          this.changeDetector.detectChanges();\r\n        }\r\n      });\r\n  }\r\n\r\n  getErrorMessage(fieldName: string, fieldLabel = this.settings?.UserNameLabel): string\r\n  {\r\n    if (this.loginForm?.get(fieldName).hasError('required'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_REQUIRED') }`;\r\n    }\r\n\r\n    if (this.loginForm?.get(fieldName).hasError('pattern'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_NOT_VALID') }`;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  redirectToHome(): void\r\n  {\r\n    this.unauthorizedUserService.getAnonymousRoutes().subscribe(result =>\r\n    {\r\n      if (result?.AllowAnonymous && result?.Routes?.length > 0)\r\n      {\r\n        this.router.navigate(['']);\r\n      }\r\n    });\r\n  }\r\n\r\n  async tryLogin($event: Event, doLogin = true): Promise<void>\r\n  {\r\n    if ($event)\r\n    {\r\n      $event.preventDefault();\r\n      $event.stopPropagation();\r\n    }\r\n\r\n    try\r\n    {\r\n      if (this.recaptchaService.isReady())\r\n      {\r\n        let captchaToken = this.tokenV2;\r\n\r\n        if (!this.loadCaptchaV2)\r\n        {\r\n          captchaToken = this.loginForm.get('captchaToken').value;\r\n          if (!captchaToken)\r\n          {\r\n            this.submitted = true;\r\n            captchaToken = await this.recaptchaService.executeV3('LoginAction', 'v2-login', this.configService?.turnstileConfigs?.appearance?.auth);\r\n          }\r\n        }\r\n\r\n        if (!captchaToken || captchaToken === '')\r\n        {\r\n          this.submitted = false;\r\n          this.errors = ['error. reCaptcha verification error.'];\r\n          return;\r\n        }\r\n\r\n        this.loginForm.get('captchaToken').setValue(captchaToken);\r\n        this.loginForm.updateValueAndValidity();\r\n        this.loginForm.markAllAsTouched();\r\n        this.cd.detectChanges();\r\n      } else if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n      {\r\n        this.submitted = false;\r\n        this.errors = ['error. reCaptcha verification error.'];\r\n        return;\r\n      }\r\n    } catch (e)\r\n    {\r\n      this.submitted = false;\r\n      console.error(e);\r\n      this.errors = ['error. reCaptcha verification error.'];\r\n      return;\r\n    }\r\n\r\n    if (!this.loginForm.valid)\r\n    {\r\n      if (this.loginForm.get('username')?.invalid)\r\n      {\r\n        this.gotoUserName();\r\n      }\r\n      else if (this.loginForm.get('password')?.invalid && doLogin)\r\n      {\r\n        this.gotoPassword();\r\n      }\r\n      this.submitted = false;\r\n      return;\r\n    }\r\n    if (doLogin)\r\n    {\r\n      this.login().then();\r\n    } else\r\n    {\r\n      this.loginForm.markAllAsTouched();\r\n      this.submitted = false;\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n\r\n  async login(): Promise<void>\r\n  {\r\n    this.errors = [];\r\n    this.messages = [];\r\n    this.submitted = true;\r\n\r\n    if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n    {\r\n      this.userValue['additionalParameters'] = { CaptchaToken: this.userValue.captchaToken, CaptchaStrategy: this.loadCaptchaV2 ? 'V2' : 'V3' };\r\n    }\r\n\r\n    if (this.isExternalLogin)\r\n    {\r\n      this.userValue['additionalParameters'] = {\r\n        ...this.userValue['additionalParameters'], 'ExternalLogin': 'true'\r\n      };\r\n    }\r\n\r\n    this.service.authenticate(this.strategy, this.userValue).subscribe(async (result: NbAuthResult) =>\r\n    {\r\n      if (result.isSuccess())\r\n      {\r\n        this.messages = result.getMessages();\r\n        if (this.isExternalLogin && this.returnURL)\r\n        {\r\n          this.oAuthService.GrantAccess({} as OAuthGrantAccessRequest).subscribe(() =>\r\n          {\r\n\r\n            window.location.href = this.returnURL + '&is_granted=true';\r\n          });\r\n\r\n          return;\r\n        }\r\n      }\r\n      else\r\n      {\r\n        this.tokenV2 = null;\r\n        this.loginForm.get('captchaToken').setValue(null);\r\n        this.submitted = false;\r\n        this.errors = result.getErrors();\r\n        const serverError = result.getResponse()?.error;\r\n\r\n        if (this.errors.some(a => a.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken))\r\n          || serverError.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken))\r\n        {\r\n          if (this.loadCaptchaV2)\r\n          {\r\n            this.recaptchaService.reset('v2-login');\r\n          }\r\n          else\r\n          {\r\n            setTimeout(() =>\r\n            {\r\n              this.recaptchaService.renderV2('v2-login', this.resolved.bind(this));\r\n              this.loadCaptchaV2 = true;\r\n              this.cd.detectChanges();\r\n            }, 1000);\r\n          }\r\n          return;\r\n        }\r\n\r\n        if (serverError instanceof String || typeof serverError === 'string') { this.errors = [serverError as string]; }\r\n        else if (serverError)\r\n        {\r\n          this.errors = [];\r\n          this.errors.push(serverError);\r\n        }\r\n      }\r\n\r\n      if (this.returnURL && this.handleRedirectionHelperService.checkAndUpdatePath())\r\n      {\r\n        const response = await this.handleRedirectionHelperService.handleRedirection();\r\n\r\n        if (!response && response !== '')\r\n        {\r\n          this.errors = [];\r\n          this.errors.push(response);\r\n        }\r\n        return;\r\n      }\r\n\r\n      const body = result.getResponse().body;\r\n      const app_identifier = body?.app_identifier;\r\n      const callback_uri = body?.callback_uri;\r\n\r\n      if (app_identifier && callback_uri)\r\n      {\r\n        setTimeout(() =>\r\n        {\r\n          window.location.href = callback_uri + '?access_token=' + body.access_token;\r\n        }, this.redirectDelay);\r\n      }\r\n      else\r\n      {\r\n        let redirect = result.getRedirect();\r\n\r\n        if (this.returnURL)\r\n        {\r\n          redirect += \"?returnURL=\" + this.returnURL;\r\n        }\r\n\r\n        if (redirect)\r\n        {\r\n          setTimeout(() =>\r\n          {\r\n            this.router.navigateByUrl(redirect);\r\n          }, this.redirectDelay);\r\n        }\r\n      }\r\n\r\n      this.changeDetector.detectChanges();\r\n    });\r\n  }\r\n\r\n  gotoPassword(event?: Event): void\r\n  {\r\n    event?.preventDefault();\r\n    event?.stopPropagation();\r\n    this.loginForm.updateValueAndValidity();\r\n    if (this.loginForm.get('username').valid || this.userValue.username === 'host')\r\n    {\r\n      this.activeTab = LoginPageEnum.Password;\r\n      setTimeout(() =>\r\n      {\r\n        this.passwordInput.nativeElement.focus();\r\n        this.changeDetector.detectChanges();\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  gotoUserName(event?: Event): void\r\n  {\r\n    event?.preventDefault();\r\n    event?.stopPropagation();\r\n    this.activeTab = LoginPageEnum.UserName;\r\n    setTimeout(() =>\r\n    {\r\n      this.usernameInput.nativeElement.focus();\r\n      this.changeDetector.detectChanges();\r\n    }, 100);\r\n  }\r\n\r\n  private dispatchInitialSidebarAction(): void\r\n  {\r\n    this.store.dispatch(new TopMenuSelected({ Identifier: '', Title: '' }));\r\n    this.store.dispatch(new SidebarSelected({ Identifier: '', Title: '', RefID: '', IsAuthenticated: false }));\r\n    this.store.dispatch(new POSAuthenticated({\r\n      isAuthenticated: false,\r\n      identifier: '',\r\n      refID: ''\r\n    }));\r\n  }\r\n\r\n  public resolved(captchaResponse: string): void\r\n  {\r\n    this.tokenV2 = captchaResponse;\r\n  }\r\n\r\n  openReadMoreDialog(): void\r\n  {\r\n    this.dialog.open(CardDialogComponent, {\r\n      panelClass: ['o-confirm-dialog', 'o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen', 'o-read-more-dialog-content'],\r\n      data: {\r\n        component: ConfirmationDialogComponent,\r\n        dialogData: {\r\n          title: 'SHELL.AUTH_PAGES.DETAILS',\r\n          htmlContent: this.loginSettings?.LoginMessage,\r\n          closeButtonLabel: 'SHELL.APP.CLOSE',\r\n          closeButtonClass: \"mat-stroked-button\"\r\n        }\r\n      },\r\n      width: '350px',\r\n    });\r\n  }\r\n}\r\n","<div class=\"container-shell single-login-dialog position-relative\">\r\n  <mat-card class=\"o-card o-card-auth d-flex align-middle\">\r\n    <div class=\"w-100  my-auto\" [class.a-login-mobile-height]=\"isMobile\" [class.h-auto]=\"!isMobile\">\r\n      <a mat-button class=\"a-button mt-n3 ml-n3 justify-contents-between login-back-btn\" (click)=\" gotoUserName($event)\"\r\n        *ngIf=\"activeTab === LoginPageEnum.Password\">\r\n        <mat-icon class=\"align-middle\">arrow_back</mat-icon>\r\n        <span class=\"align-middle ml-2\">{{'SHELL.AUTH_PAGES.REGISTER.BACK' | teiTextTranslate}}</span>\r\n      </a>\r\n      <div class=\"text-center logo-container pointer\" [class.a-logo-container-mobile]=\"isMobile &&activeTab === LoginPageEnum.Password \" (click)=\"redirectToHome()\">\r\n        <img [src]=\"logo_url\" class=\"a-logo a-logo-landing w-100\" />\r\n      </div>\r\n      <div class=\"my-3\">\r\n        <div class=\"a-text-h1 text-center\">{{'SHELL.AUTH_PAGES.LOGIN.LOGIN' | teiTextTranslate}}</div>\r\n      </div>\r\n      <div class=\"my-4 pr-3 pl-3\">\r\n        <span *ngIf=\"shortenedHtml\" class=\"d-block\" [innerHTML]=\"shortenedHtml\">\r\n        </span>\r\n      </div>\r\n      <form class=\"mt-4\" [formGroup]=\"loginForm\" aria-labelledby=\"title\">\r\n        <mat-horizontal-stepper #stepperDebit class=\"credit-card-terminal-stepper w-100\" [selectedIndex]=\"activeTab\">\r\n          <!-- Integrated/NoneIntegrated -->\r\n          <mat-step>\r\n            <div class=\"d-flex align-middle justify-contents-center w-100 h-100\">\r\n              <mat-form-field class=\"mb-3 mx-auto a-input w-login a-email-login\" appearance=\"outline\">\r\n                <mat-label>{{settings?.UserNameLabel}} </mat-label>\r\n                <input autocomplete=\"off\" #usernameInput formControlName=\"username\" [(ngModel)]=\"user.username\"\r\n                  placeholder=\"{{settings?.UserNamePlaceHolder}}\" autofocus matInput\r\n                  [type]=\"settings?.UserNameType === userNameType.Email ? 'email' : 'text'\" />\r\n                <mat-error>\r\n                  {{getErrorMessage('username')}}\r\n                </mat-error>\r\n              </mat-form-field>\r\n            </div>\r\n          </mat-step>\r\n          <!-- ManualEntry -->\r\n          <mat-step>\r\n            <div class=\"d-flex flex-column\">\r\n              <div class=\"my-2 mx-auto a-text-primary\">\r\n                {{userValue.username}}\r\n              </div>\r\n              <div class=\"d-flex flex-column align-middle justify-contents-center w-100 h-100\">\r\n                <mat-form-field class=\"a-input w-login mx-auto a-password-login\" appearance=\"outline\">\r\n                  <mat-label>{{'SHELL.AUTH_PAGES.LOGIN.PASSWORD' | teiTextTranslate}}</mat-label>\r\n                  <input autocomplete=\"off\" #passwordInput [type]=\"hidePassword ? 'password' : 'text'\"\r\n                    formControlName=\"password\" required formControlName=\"password\" [(ngModel)]=\"user.password\"\r\n                    placeholder=\"{{'SHELL.AUTH_PAGES.LOGIN.PASSWORD' | teiTextTranslate}}\" autofocus matInput>\r\n                  <mat-error>\r\n                    {{getErrorMessage('password', 'Password')}}\r\n                  </mat-error>\r\n\r\n                  <mat-icon matSuffix class=\"pointer\" (click)=\"hidePassword = !hidePassword\">{{hidePassword ?\r\n                    'visibility_off' :\r\n                    'visibility'}}</mat-icon>\r\n                </mat-form-field>\r\n                <div class=\"d-flex w-100\">\r\n                  <div class=\"d-flex mx-auto w-login\">\r\n                    <mat-checkbox class=\"a-checkbox mr-auto ml-0\" color=\"primary\" *ngIf=\"rememberMe\">\r\n                      {{'SHELL.AUTH_PAGES.LOGIN.REMEMBER_ME' | teiTextTranslate}}</mat-checkbox>\r\n                    <a style=\"text-decoration: none;\"\r\n                      class=\"text-right a-login-forget-password a-text-link ml-auto mr-0\"\r\n                      [routerLink]=\"'/auth/request-password/'+userValue?.username??''\">{{'SHELL.AUTH_PAGES.LOGIN.FORGOT_PASSWORD'\r\n                      | teiTextTranslate}}\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </mat-step>\r\n        </mat-horizontal-stepper>\r\n\r\n        <div class=\"px-auto my-2 mx-auto d-flex d-flex justify-content-center\"\r\n          [ngClass]=\"{'d-none': activeTab !== LoginPageEnum.Password || !loadCaptchaV2}\">\r\n          <div id=\"v2-login\" class=\"w-100 px-3\"></div>\r\n        </div>\r\n\r\n        <div class=\" d-flex align-middle justify-contents-center w-100\">\r\n          <button mat-raised-button color=\"primary\" class=\"mx-auto a-button-lg w-login\"\r\n            *ngIf=\"activeTab === LoginPageEnum.UserName\" (click)=\"gotoPassword($event)\"\r\n            [disabled]=\"submitted\">{{'SHELL.AUTH_PAGES.LOGIN.NEXT' |\r\n            teiTextTranslate}}</button>\r\n        </div>\r\n        <ng-container *ngIf=\"activeTab === LoginPageEnum.Password\">\r\n\r\n          <div class=\"mt-3 d-flex align-middle justify-contents-center w-100\">\r\n            <button mat-raised-button color=\"primary\" class=\"mx-auto w-login a-button-lg\" (click)=\"tryLogin($event)\"\r\n              [disabled]=\"submitted||this.loginForm.get('password')?.invalid\">{{'SHELL.AUTH_PAGES.LOGIN.LOGIN' |\r\n              teiTextTranslate}}</button>\r\n          </div>\r\n\r\n          <div class=\"my-3 mx-auto w-login\" *ngIf=\"showMessages.error && errors?.length && !submitted\">\r\n            <div class=\"d-flex\">\r\n              <div class=\"align-self-center\">\r\n                <mat-icon class=\"align-middle\" color=\"warn\">error</mat-icon>\r\n              </div>\r\n              <div class=\"pl-2\">\r\n                <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.LOGIN.FAILED' | teiTextTranslate}}</div>\r\n                <div *ngFor=\"let error of errors\" class=\"a-text-secondary\">{{ error }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"my-3 mx-auto w-login\" *ngIf=\"showMessages.success && messages?.length && !submitted\">\r\n            <div class=\"d-flex\">\r\n              <div class=\"align-self-center\">\r\n                <mat-icon class=\"align-middle\" color=\"accent\">check_circle</mat-icon>\r\n              </div>\r\n              <div class=\"pl-2\">\r\n                <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.LOGIN.SUCCESS' | teiTextTranslate}}</div>\r\n                <div *ngFor=\"let message of messages\" class=\"a-text-secondary\">{{ message }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </form>\r\n      <div class=\"mx-auto mt-2 a-text-default text-center d-flex flex-column w-login \"\r\n        *ngIf=\"activeTab===LoginPageEnum.UserName \">\r\n        <div class=\"mt-4\" *ngIf=\"settings?.AllowActivation||settings?.AllowRegistration\">\r\n          {{'SHELL.AUTH_PAGES.LOGIN.FIRST_LOGIN' | teiTextTranslate}}\r\n        </div>\r\n        <div class=\"d-flex justify-contents-between\">\r\n          <div aria-label=\"Register\" *ngIf=\"settings?.AllowRegistration\" [ngClass]=\"{\r\n               'justify-content-end order-2': settings?.AllowActivation && loginSettings.LinkToDisplayFirst=='MemberRegistration',\r\n               'justify-content-start' : settings?.AllowActivation && loginSettings.LinkToDisplayFirst == 'PublicRegistration' ,\r\n               'justify-content-center' : !settings?.AllowActivation\r\n              }\" class=\"flex-grow-1 d-flex mt-2 mb-3\">\r\n            <a class=\"a-text-link\" *ngIf=\"returnURL\" [routerLink]=\"['/auth/register']\"\r\n              [queryParams]=\"{ redirect_path: returnURL}\">{{loginSettings.PublicRegistrationLabel}}</a>\r\n            <a class=\"a-text-link\" *ngIf=\"!returnURL\"\r\n              [routerLink]=\"['/auth/register']\">{{loginSettings.PublicRegistrationLabel }}</a>\r\n          </div>\r\n          <div aria-label=\"Activate\" *ngIf=\"settings?.AllowActivation\" [ngClass]=\"{\r\n              'justify-content-start order-1' : settings?.AllowRegistration && loginSettings.LinkToDisplayFirst == 'MemberRegistration',\r\n              'justify-content-end' : settings?.AllowRegistration && loginSettings.LinkToDisplayFirst == 'PublicRegistration' ,\r\n              'justify-content-center' : !settings?.AllowRegistration\r\n                        }\" class=\"flex-grow-1 d-flex a-text-default mt-2 mb-3\">\r\n            <a class=\"a-text-link \" [queryParams]=\"{ returnURL: returnURL, externalLogin: isExternalLogin }\"\r\n              [routerLink]=\"'/auth/request-activate/'+routeUsername??''\">{{loginSettings.MemberActivationLabel }}</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </mat-card>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatLegacyCheckboxModule as MatCheckboxModule } from '@angular/material/legacy-checkbox';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { MatStepperModule } from '@angular/material/stepper';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { NbAuthModule } from '@tei/nebular-auth';\r\nimport { NbAlertModule, NbButtonModule, NbCheckboxModule, NbIconModule, NbInputModule } from '@tei/nebular-theme';\r\nimport { OAuthService } from '../../@services/o-auth.service';\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst NB_MODULES = [NbAuthModule, NbAlertModule, NbInputModule, NbCheckboxModule, NbButtonModule, NbIconModule];\r\nconst MATERIAL_MODULES = [MatCardModule, ReactiveFormsModule, MatStepperModule,\r\n  MatButtonModule, MatFormFieldModule, MatInputModule, MatCheckboxModule, MatIconModule];\r\nconst TP_MODULES = [];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\nconst CAPTCHA_MODULES = [];\r\n\r\nconst COMPONENTS = [LoginComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_CORE_MODULES, ...TP_MODULES, ...CAPTCHA_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS],\r\n  providers: [\r\n    { provide: 'IOAuthService', useClass: OAuthService },\r\n  ]\r\n})\r\nexport class LoginModule { }\r\n\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS, NbAuthResult, NbAuthService } from '@tei/nebular-auth';\r\nimport { map } from 'rxjs/operators';\r\nimport { OAuthService } from '../../@services/o-auth.service';\r\n\r\n@Component({\r\n  selector: 'nb-logout',\r\n  styleUrls: ['./logout.component.scss'],\r\n  templateUrl: './logout.component.html',\r\n})\r\nexport class LogoutComponent implements OnInit\r\n{\r\n  redirectDelay: number = 0;\r\n  strategy: string = '';\r\n\r\n  constructor(protected service: NbAuthService, private oAuthService: OAuthService,\r\n    @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n    protected router: Router)\r\n  {\r\n    this.redirectDelay = this.getConfigValue('forms.logout.redirectDelay');\r\n    this.strategy = this.getConfigValue('forms.logout.strategy');\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.logout(this.strategy);\r\n  }\r\n\r\n\r\n  logout(strategy: string): void\r\n  {\r\n    this.service.getToken().pipe(map((a) => { return a.getPayload(); })).pipe(map((token) =>\r\n    {\r\n\r\n      this.service.logout(strategy).subscribe((logoutResult) =>\r\n      {\r\n        const result: NbAuthResult = logoutResult;\r\n\r\n        //set default lang after logout, depends on clublink request for anonymous user //Steve changes commented\r\n        // const profileSettings = this.storageService.Get('profile-settings') || {};\r\n        // profileSettings['language'] = appDefault.DEFAULT_LANGUAGE;\r\n        // this.storageService.Set('profile-settings', profileSettings);\r\n        // this.translateService.use(appDefault.DEFAULT_LANGUAGE);\r\n\r\n\r\n        this.oAuthService.OauthSignout().subscribe({\r\n          next: () =>\r\n          {\r\n          },\r\n          error: (err: any) =>\r\n          {\r\n            // Handle any unexpected errors\r\n            console.error('Unexpected signout error:', err);\r\n          },\r\n          complete: () =>\r\n          {\r\n            // Optional: Handle completion logic\r\n            const urlParams = new URLSearchParams(window.location.search);\r\n            const returnPath = urlParams.get('redirect_uri');\r\n            const redirect = returnPath || result.getRedirect();\r\n            \r\n            if (redirect)\r\n            {\r\n              setTimeout(() =>\r\n              {\r\n                if (redirect.startsWith('http://') || redirect.startsWith('https://'))\r\n                {\r\n                  window.location.href = redirect;\r\n                }\r\n                else\r\n                {\r\n                  this.navigateToLoginPage(redirect);\r\n                }\r\n              }, this.redirectDelay + 750);\r\n            }\r\n\r\n          }\r\n        });\r\n\r\n       \r\n      });\r\n\r\n     \r\n    })).subscribe();\r\n  }\r\n\r\n  getConfigValue(key: string): any\r\n  {\r\n    return getDeepFromObject(this.options, key, null);\r\n  }\r\n\r\n  navigateToLoginPage(redirect: string)\r\n  {\r\n    this.router.navigate(['auth/login']);\r\n    // switch (authenticationType)\r\n    // {\r\n    //   case AuthenticationType.Public:\r\n    //     break;\r\n    //   case AuthenticationType.Member:\r\n    //     this.router.navigate(['auth/member-login']);\r\n    //     break;\r\n    //   case AuthenticationType.Staff:\r\n    //     this.router.navigate(['auth/staff-login']);\r\n    //     break;\r\n\r\n    //   default:\r\n    //     return this.router.navigateByUrl(redirect);\r\n    // }\r\n  }\r\n}\r\n","<div>Logging out, please wait...</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { LogoutComponent } from './logout.component';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst NB_MODULES = [];\r\nconst MATERIAL_MODULES = [];\r\nconst TP_MODULES = [TranslateModule];\r\nconst TEI_CORE_MODULES = [];\r\n\r\nconst COMPONENTS = [LogoutComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_CORE_MODULES, ...TP_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS]\r\n})\r\nexport class LogoutModule { }\r\n","import { ChangeDetectorRef, Component, ElementRef, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { finalize, switchMap, tap } from 'rxjs/operators';\r\n\r\nimport { ConfigService, IThemeState, LayoutActionChanged, ManageLoadingService, PagesStagingLayoutType, RecaptchaService, SidebarSelected, TopMenuSelected } from '@tei/core';\r\nimport { NB_AUTH_OPTIONS, NbAuthResult, NbAuthService, NbLoginComponent } from '@tei/nebular-auth';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { POSAuthenticated } from '@tei/pos-shared';\r\nimport { AuthenticationSettings, LoginPageEnum, UserNameTypeEnum } from '../../../@core/authentication/@intermediate/models/get-authentication-settings.model';\r\nimport { AuthenticationSettingsProvider } from '../../../@core/authentication/@services/authentication-settings.provider';\r\nimport { UnauthorizedUserService } from '../../../@core/authentication/@services/unauthorized.user.service';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\nimport { PostActivateRequest } from '../../@intermediate/models/post-activate.model';\r\nimport { ActivationService } from '../../@services/activation.service';\r\nimport { HandleRedirectionHelperService } from '../../@services/handle-redirection-helper.service';\r\n\r\n\r\n@Component({\r\n  selector: 'ngx-password-less-login-activation',\r\n  templateUrl: './password-less-login.component.html',\r\n  styleUrls: ['./password-less-login.component.scss']\r\n})\r\nexport class PasswordLessLoginComponent extends NbLoginComponent implements OnInit\r\n{\r\n  @ViewChild('passwordInput') passwordInput: ElementRef;\r\n  @ViewChild('usernameInput') usernameInput: ElementRef;\r\n\r\n  tokenV2 = '';\r\n  loadCaptchaV2 = false;\r\n  routeUsername = '';\r\n  hidePassword = true;\r\n  activeTab = LoginPageEnum.UserName;\r\n  LoginPageEnum = LoginPageEnum;\r\n  userNameType = UserNameTypeEnum;\r\n  settings: AuthenticationSettings;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n  logo_url: string;\r\n  loginForm: UntypedFormGroup;\r\n  requestPasswordUrl: string;\r\n  requestActivateUrl: string;\r\n  get userValue() { return this.loginForm?.value ?? {} as any; }\r\n  get captchaTheme() { return this.themeService.currentTheme.includes('dark') ? 'dark' : 'light'; }\r\n\r\n  constructor(protected service: NbAuthService,\r\n    private ActivationService: ActivationService,\r\n    @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n    protected changeDetector: ChangeDetectorRef,\r\n    protected router: Router,\r\n    private route: ActivatedRoute,\r\n    private unauthorizedUserService: UnauthorizedUserService,\r\n    private authenticationSettingsProvider: AuthenticationSettingsProvider,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private themeService: NbThemeService,\r\n    private store: Store<IThemeState>,\r\n    private translate: TranslateService,\r\n    public manageLoadingService: ManageLoadingService,\r\n    private recaptchaService: RecaptchaService,\r\n    private configService: ConfigService,\r\n    private handleRedirectionHelperService: HandleRedirectionHelperService\r\n  )\r\n  {\r\n    super(service, options, changeDetector, router);\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.initData();\r\n    this.createLoginForm();\r\n    this.handleGetSettingApi();\r\n  }\r\n\r\n  private handleGetSettingApi(): void\r\n  {\r\n    this.authenticationSettingsProvider\r\n      .GetSettings()\r\n      .pipe(\r\n        switchMap((settings) =>\r\n        {\r\n          this.settings = settings?.authenticationSettings;\r\n          return this.globalSettingsProvider\r\n            .GetGlobalTenantSettings();\r\n        }),\r\n        tap((tenant_settings) =>\r\n        {\r\n          this.tenant_settings = tenant_settings;\r\n          this.logo_url = this.globalSettingsProvider.getLogo(this.tenant_settings, this.themeService.currentTheme);\r\n\r\n          this.createLoginForm();\r\n          if (!this.settings.PasswordLessLogin)\r\n          {\r\n            this.router.navigate(['/auth/login', this.routeUsername]);\r\n            return;\r\n          }\r\n          else if (this.routeUsername)\r\n          {\r\n            this.loginForm.get(\"username\").setValue(this.routeUsername);\r\n            this.requestActivation();\r\n          }\r\n          this.updateLogo();\r\n        })\r\n      ).subscribe(async () =>\r\n      {\r\n        await this.recaptchaService.loadRecaptchaScript();\r\n        await this.validateCaptchaToken('ActivationAction');\r\n\r\n        this.changeDetector.detectChanges();\r\n      });\r\n  }\r\n\r\n  private initData(): void\r\n  {\r\n    this.requestPasswordUrl = 'auth/request-password';\r\n    this.requestActivateUrl = 'auth/request-activate';\r\n    this.routeUsername = decodeURIComponent(this.route.snapshot.params['username'] ?? '');\r\n    if (!this.routeUsername)\r\n    {\r\n      this.routeUsername = decodeURIComponent(this.route.snapshot.queryParams['username'] ?? '');\r\n    }\r\n    if (!this.routeUsername)\r\n    {\r\n      this.routeUsername = decodeURIComponent(this.route.snapshot.queryParamMap['username'] ?? '');\r\n    }\r\n    this.store.dispatch(new LayoutActionChanged({ LayoutType: PagesStagingLayoutType.Default }));\r\n    this.dispatchInitialSidebarAction();\r\n  }\r\n\r\n  private createLoginForm(): void\r\n  {\r\n    this.loginForm = new UntypedFormGroup({\r\n      captchaToken: new UntypedFormControl('', []),\r\n      username: new UntypedFormControl(this.routeUsername, [Validators.required,\r\n      (this.settings?.UserNameType === this.userNameType?.Email) ? Validators.pattern('.+@.+\\..+') : Validators.maxLength(50)]),\r\n      app_identifier: new UntypedFormControl(this.route.snapshot.queryParams['app-identifier'], []),\r\n      password: new UntypedFormControl('', [Validators.required,\r\n      Validators.minLength(this.getConfigValue('forms.validation.password.minLength') || 6),\r\n      Validators.maxLength(this.getConfigValue('forms.validation.password.maxLength') || 50)\r\n      ])\r\n    });\r\n  }\r\n\r\n  private updateLogo(): void\r\n  {\r\n    this.themeService.onThemeChange()\r\n      .subscribe((theme_response) =>\r\n      {\r\n        if (theme_response.name !== theme_response.previous)\r\n        {\r\n          this.logo_url = this.globalSettingsProvider.getLogo(this.tenant_settings, theme_response.name);\r\n        }\r\n      });\r\n  }\r\n\r\n  getErrorMessage(fieldName: string, fieldLabel = this.settings?.UserNameLabel): string\r\n  {\r\n    if (this.loginForm?.get(fieldName).hasError('required'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_REQUIRED') }`;\r\n    }\r\n\r\n    if (this.loginForm?.get(fieldName).hasError('pattern'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_NOT_VALID') }`;;\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  redirectToHome(): void\r\n  {\r\n    this.unauthorizedUserService.getAnonymousRoutes().subscribe(result =>\r\n    {\r\n      if (result?.AllowAnonymous && result?.Routes?.length > 0)\r\n      {\r\n        this.router.navigate(['']);\r\n      }\r\n    });\r\n  }\r\n\r\n  async validateCaptchaToken(action: string): Promise<void>\r\n  {\r\n    try\r\n    {\r\n      if (this.recaptchaService.isReady())\r\n      {\r\n        let captchaToken = this.tokenV2;\r\n\r\n        if (!this.loadCaptchaV2)\r\n        {\r\n          captchaToken = this.loginForm.get('captchaToken').value;\r\n          if (!captchaToken)\r\n          {\r\n            this.submitted = true;\r\n            captchaToken = await this.recaptchaService.executeV3(action, 'v2-login', this.configService?.turnstileConfigs?.appearance?.auth);\r\n            this.submitted = false;\r\n          }\r\n        }\r\n\r\n        if (!captchaToken || captchaToken === '')\r\n        {\r\n          this.submitted = false;\r\n          this.errors = ['error. reCaptcha verification error.'];\r\n          return;\r\n        }\r\n\r\n        this.loginForm.get('captchaToken').setValue(captchaToken);\r\n        this.loginForm.updateValueAndValidity();\r\n        this.loginForm.markAllAsTouched();\r\n        this.cd.detectChanges();\r\n      } else if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n      {\r\n        this.submitted = false;\r\n\r\n        this.errors = ['error. reCaptcha verification error.'];\r\n        return;\r\n      }\r\n    } catch (e)\r\n    {\r\n      this.submitted = false;\r\n      console.error(e);\r\n      this.errors = ['error. reCaptcha verification error.'];\r\n      return;\r\n    }\r\n  }\r\n\r\n  async login(): Promise<void>\r\n  {\r\n    if (!this.loginForm.valid) { return; }\r\n\r\n    await this.validateCaptchaToken('PasswordLessLoginAction');\r\n\r\n    this.errors = [];\r\n    this.submitted = true;\r\n    this.manageLoadingService.startLoading();\r\n    const request: any = {\r\n      UserName: this.userValue.username,\r\n      Token: this.loginForm.value.password,\r\n\r\n    };\r\n\r\n    if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n    {\r\n      request.AdditionalParameters = { CaptchaToken: this.userValue.captchaToken, CaptchaStrategy: this.loadCaptchaV2 ? 'V2' : 'V3' };\r\n    }\r\n\r\n    this.service.authenticate('password-less', request)\r\n      .pipe(finalize(() => this.manageLoadingService.finishLoading()))\r\n      .subscribe(async (result: NbAuthResult) =>\r\n      {\r\n        if (result.isSuccess())\r\n        {\r\n          this.messages = result.getMessages();\r\n        }\r\n        else\r\n        {\r\n          this.submitted = false;\r\n          this.errors = result.getErrors();\r\n          const serverError = result.getResponse()?.error;\r\n          \r\n          this.loginForm.get('captchaToken').setValue(null);\r\n          \r\n          if (this.errors.some(a => a.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken))\r\n            || serverError.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken))\r\n          {\r\n            if (this.loadCaptchaV2)\r\n            {\r\n              this.recaptchaService.reset('v2-login');\r\n            }\r\n            else\r\n            {\r\n              setTimeout(() =>\r\n              {\r\n                this.recaptchaService.renderV2('v2-login', this.resolved.bind(this));\r\n                this.loadCaptchaV2 = true;\r\n                this.cd.detectChanges();\r\n              }, 1000);\r\n            }\r\n            return;\r\n          }\r\n\r\n          if (serverError instanceof String || typeof serverError === 'string') { this.errors = [serverError as string]; }\r\n          else if (serverError)\r\n          {\r\n            this.errors = [];\r\n            this.errors.push(serverError?.title ?? '');\r\n            if (Object.values(serverError?.errors).length > 0)\r\n            {\r\n              this.errors = Object.values(serverError.errors);\r\n            } else if (serverError?.error instanceof String || typeof serverError?.error === 'string') { this.errors = [serverError.error as string]; }\r\n          }\r\n          this.changeDetector.detectChanges();\r\n\r\n          return;\r\n        }\r\n\r\n        if (this.handleRedirectionHelperService.checkAndUpdatePath())\r\n        {\r\n          const response = await this.handleRedirectionHelperService.handleRedirection();\r\n\r\n          if (!response && response !== '')\r\n          {\r\n            this.errors = [];\r\n            this.errors.push(response);\r\n          }\r\n          return;\r\n        }\r\n\r\n        const body = result.getResponse().body;\r\n        const app_identifier = body?.app_identifier;\r\n        const callback_uri = body?.callback_uri;\r\n\r\n        if (app_identifier && callback_uri)\r\n        {\r\n          setTimeout(() =>\r\n          {\r\n            window.location.href = callback_uri + '?access_token=' + body.access_token;\r\n          }, this.redirectDelay);\r\n        }\r\n        else\r\n        {\r\n          const redirect = result.getRedirect();\r\n\r\n          if (redirect)\r\n          {\r\n            setTimeout(() =>\r\n            {\r\n              this.router.navigateByUrl(redirect);\r\n            }, this.redirectDelay);\r\n          }\r\n        }\r\n\r\n        this.changeDetector.detectChanges();\r\n      });\r\n  }\r\n\r\n  async requestActivation(): Promise<void>\r\n  {\r\n    await this.validateCaptchaToken('ActivationAction');\r\n    this.errors = [];\r\n    this.messages = [];\r\n    this.submitted = true;\r\n    this.changeDetector.detectChanges();\r\n    this.manageLoadingService.startLoading();\r\n    const request = {\r\n      UserName: this.userValue.username,\r\n      AdditionalParameters: { IsPasswordLess: 'true' }\r\n    } as PostActivateRequest;\r\n\r\n    if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n    {\r\n      request.AdditionalParameters = { IsPasswordLess: 'true', CaptchaToken: this.userValue.captchaToken, CaptchaStrategy: this.loadCaptchaV2 ? 'V2' : 'V3' };\r\n    }\r\n\r\n    this.ActivationService.Activate(request).pipe(finalize(() => this.manageLoadingService.finishLoading()))\r\n      .subscribe({\r\n        next: () =>\r\n        {\r\n          this.messages = [this.translate.instant('SHELL.AUTH_PAGES.SEND_ACTIVATION.SEND_CODE_MESSAGE')];\r\n          this.submitted = false;\r\n          this.loadCaptchaV2 = false;\r\n          \r\n          this.loginForm.get('captchaToken').setValue(null);\r\n          this.validateCaptchaToken('PasswordLessLoginAction').then();\r\n\r\n          this.changeDetector.detectChanges();\r\n\r\n          setTimeout(() =>\r\n          {\r\n            this.gotoPassword();\r\n          }, 2000);\r\n\r\n        },\r\n        error: error =>\r\n        {\r\n          this.submitted = false;\r\n          let msg = [this.translate.instant('SHELL.AUTH_PAGES.LOGIN.TRY_AGAIN')];\r\n          if (error?.error?.Title) { msg = [error?.error.Title]; }\r\n          else if (error?.Title) { msg = [error?.Title]; }\r\n          else if (error?.error instanceof String || typeof error?.error === 'string') { msg = [error.error as string]; }\r\n          else if (Object.keys(error?.error)?.length > 0)\r\n          {\r\n            msg = Object.values(error.error);\r\n          }\r\n\r\n          this.loginForm.get('captchaToken').setValue(null);\r\n          this.loadCaptchaV2 = false;\r\n          if (msg.some(a => a.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken)))\r\n          {\r\n            this.loadCaptchaV2 = true;\r\n            setTimeout(() =>\r\n            {\r\n              this.recaptchaService.renderV2('v2-login', this.resolved.bind(this));\r\n              this.changeDetector.detectChanges();\r\n            }, 1000);\r\n            return;\r\n          }\r\n\r\n          this.errors = msg;\r\n          this.changeDetector.detectChanges();\r\n        }\r\n\r\n      });\r\n  }\r\n\r\n  gotoPassword(event?: Event)\r\n  {\r\n    event?.preventDefault();\r\n    event?.stopPropagation();\r\n    if (this.loginForm.get('username').valid)\r\n    {\r\n      this.activeTab = LoginPageEnum.Password;\r\n      setTimeout(() =>\r\n      {\r\n        this.passwordInput.nativeElement.focus();\r\n        this.messages = [];\r\n        this.errors = [];\r\n        this.changeDetector.detectChanges();\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  gotoUserName(event?: Event)\r\n  {\r\n    event?.preventDefault();\r\n    event?.stopPropagation();\r\n    this.activeTab = LoginPageEnum.UserName;\r\n    setTimeout(() =>\r\n    {\r\n      this.usernameInput.nativeElement.focus();\r\n      this.messages = [];\r\n      this.errors = [];\r\n      this.changeDetector.detectChanges();\r\n    }, 100);\r\n  }\r\n\r\n  private dispatchInitialSidebarAction(): void\r\n  {\r\n    this.store.dispatch(new TopMenuSelected({ Identifier: '', Title: '' }));\r\n    this.store.dispatch(new SidebarSelected({ Identifier: '', Title: '', RefID: '', IsAuthenticated: false }));\r\n    this.store.dispatch(new POSAuthenticated({\r\n      isAuthenticated: false,\r\n      identifier: '',\r\n      refID: ''\r\n    }));\r\n  }\r\n\r\n  public resolved(captchaResponse: string): void\r\n  {\r\n    this.tokenV2 = captchaResponse;\r\n  }\r\n}\r\n","<div class=\"container-shell single-login-dialog\">\r\n  <mat-card class=\"o-card o-card-auth\">\r\n    <a mat-button class=\"a-button mt-n3 ml-n3 justify-contents-between\" (click)=\" gotoUserName($event)\"\r\n      *ngIf=\"activeTab === LoginPageEnum.Password\">\r\n      <mat-icon class=\"align-middle\">arrow_back</mat-icon>\r\n      <span class=\"align-middle ml-2\">{{'SHELL.AUTH_PAGES.REGISTER.BACK' | teiTextTranslate}}</span>\r\n    </a>\r\n    <div class=\"text-center logo-container\" (click)=\"redirectToHome()\">\r\n      <img [src]=\"logo_url\" class=\"a-logo a-logo-landing w-100\" />\r\n    </div>\r\n    <div class=\"my-3 d-flex flex-column\">\r\n      <div class=\"a-text-h1 text-center\">{{'SHELL.AUTH_PAGES.LOGIN.SECURE_SIGN_IN' |\r\n        teiTextTranslate}}</div>\r\n      <div *ngIf=\"activeTab === LoginPageEnum.Password\" class=\" a-text-secondary mt-3 text-center\">\r\n        {{'SHELL.AUTH_PAGES.LOGIN.SECURE_SIGN_IN_DESCRIPTION' |\r\n        teiTextTranslate}}</div>\r\n    </div>\r\n\r\n    <form class=\"mt-4\" [formGroup]=\"loginForm\" aria-labelledby=\"title\">\r\n      <mat-horizontal-stepper #stepperDebit class=\"credit-card-terminal-stepper w-100\" [selectedIndex]=\"activeTab\">\r\n        <!-- Integrated/NoneIntegrated -->\r\n        <mat-step>\r\n          <mat-form-field class=\"mb-3 a-input w-100\" appearance=\"outline\">\r\n            <mat-label>{{settings?.UserNameLabel}} </mat-label>\r\n            <input autocomplete=\"false\" #usernameInput formControlName=\"username\"\r\n              placeholder=\"{{settings?.UserNamePlaceHolder}}\" autofocus matInput\r\n              [type]=\"settings?.UserNameType === userNameType.Email ? 'email' : 'text'\" />\r\n            <mat-error>\r\n              {{getErrorMessage('username')}}\r\n            </mat-error>\r\n          </mat-form-field>\r\n        </mat-step>\r\n        <!-- ManualEntry -->\r\n        <mat-step>\r\n          <div class=\"d-flex flex-column\">\r\n            <div class=\"my-2 mx-auto a-text-primary\">\r\n              {{userValue.username}}\r\n            </div>\r\n            <mat-form-field class=\"a-input w-100\" appearance=\"outline\">\r\n              <mat-label>{{'SHELL.AUTH_PAGES.LOGIN.CONFIRMATION_CODE' | teiTextTranslate}}</mat-label>\r\n              <input autocomplete=\"false\" #passwordInput [type]=\"hidePassword ? 'password' : 'text'\"\r\n                formControlName=\"password\" required formControlName=\"password\"\r\n                placeholder=\"{{'SHELL.AUTH_PAGES.LOGIN.CONFIRMATION_CODE' | teiTextTranslate}}\" autofocus matInput>\r\n              <mat-error>\r\n                {{getErrorMessage('password', 'SHELL.AUTH_PAGES.LOGIN.CONFIRMATION_CODE' | teiTextTranslate)}}\r\n              </mat-error>\r\n\r\n              <mat-icon matSuffix class=\"pointer\" (click)=\"hidePassword = !hidePassword\">{{hidePassword ?\r\n                'visibility_off' :\r\n                'visibility'}}</mat-icon>\r\n            </mat-form-field>\r\n          </div>\r\n        </mat-step>\r\n      </mat-horizontal-stepper>\r\n\r\n      <div class=\"px-auto my-2 mx-auto d-flex d-flex justify-content-center\">\r\n        <div id=\"v2-login\"></div>\r\n      </div>\r\n\r\n      <div class=\"mt-1\">\r\n        <button mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\" *ngIf=\"activeTab === LoginPageEnum.UserName\"\r\n          (click)=\"requestActivation()\" [disabled]=\"submitted\">{{'SHELL.AUTH_PAGES.LOGIN.NEXT' |\r\n          teiTextTranslate}}</button>\r\n      </div>\r\n\r\n      <ng-container *ngIf=\"activeTab === LoginPageEnum.Password\">\r\n        <div class=\"mt-3\">\r\n          <button mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\" (click)=\"login()\"\r\n            [disabled]=\"submitted||!userValue.password\">{{'SHELL.AUTH_PAGES.LOGIN.CONFIRM' | teiTextTranslate}}</button>\r\n          <button mat-button class=\"w-100 a-button-lg mt-2\" (click)=\"requestActivation()\"\r\n            [disabled]=\"submitted\">{{'SHELL.AUTH_PAGES.LOGIN.RESEND' | teiTextTranslate}}</button>\r\n        </div>\r\n      </ng-container>\r\n\r\n      <div class=\"my-3\" *ngIf=\"errors?.length && !submitted\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"warn\">error</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.LOGIN.FAILED' | teiTextTranslate}}</div>\r\n            <div *ngFor=\"let error of errors\" class=\"a-text-secondary\">{{ error }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"my-3\" *ngIf=\"messages?.length && !submitted\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"accent\">check_circle</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.LOGIN.SUCCESS' | teiTextTranslate}}</div>\r\n            <div *ngFor=\"let message of messages\" class=\"a-text-secondary\">{{ message }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </mat-card>\r\n</div>\r\n\r\n<tei-loading [show]=\"manageLoadingService.isLoading$ | async\"></tei-loading>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAlertModule, NbButtonModule, NbCheckboxModule, NbIconModule, NbInputModule } from '@tei/nebular-theme';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { MatStepperModule } from '@angular/material/stepper';\r\nimport { MatLegacyCheckboxModule as MatCheckboxModule } from '@angular/material/legacy-checkbox';\r\nimport { PasswordLessLoginComponent } from './password-less-login.component';\r\nimport { LoadingModule } from '@tei/material';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, ReactiveFormsModule, RouterModule];\r\nconst NB_MODULES = [NbInputModule, NbIconModule, NbCheckboxModule, NbAlertModule, NbButtonModule];\r\nconst MATERIAL_MODULES = [MatCardModule, MatButtonModule, ReactiveFormsModule, MatFormFieldModule, MatInputModule, MatIconModule, MatStepperModule, MatCheckboxModule, LoadingModule];\r\nconst TP_MODULES = [];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\nconst CAPTCHA_MODULES = [];\r\n\r\nconst COMPONENTS = [PasswordLessLoginComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_CORE_MODULES, ...TP_MODULES, ...CAPTCHA_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS],\r\n})\r\nexport class PasswordLessLoginModule { }\r\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Inject, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, ValidatorFn, Validators } from '@angular/forms';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ConfigService, RecaptchaService, ResponsiveService } from '@tei/core';\r\nimport { CardDialogComponent, ConfirmationDialogComponent } from '@tei/material';\r\nimport { NB_AUTH_OPTIONS, NbAuthResult, NbAuthService, NbRegisterComponent } from '@tei/nebular-auth';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { firstValueFrom, Subscription } from 'rxjs';\r\nimport { AuthenticationSettings, LoginPageSetting } from '../../../@core/authentication/@intermediate/models/get-authentication-settings.model';\r\nimport\r\n{\r\n  AuthenticationSettingsProvider\r\n} from '../../../@core/authentication/@services/authentication-settings.provider';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\nimport { HandleRedirectionHelperService } from '../../@services/handle-redirection-helper.service';\r\n\r\n@Component({\r\n  selector: 'tei-shell-register',\r\n  styleUrls: ['./register.component.scss'],\r\n  templateUrl: './register.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class RegisterComponent extends NbRegisterComponent implements OnInit, OnDestroy, AfterViewInit\r\n{\r\n\r\n  tokenV2 = '';\r\n  loadCaptchaV2 = false;\r\n  settings: AuthenticationSettings;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n  logo_url: string;\r\n  returnURL: string;\r\n  preferredCallingCodes: string[] = [];\r\n  selectedCountry: Partial<{ iso2: string; dialCode: string; }>;\r\n  registrationSettings: LoginPageSetting;\r\n  registerForm: UntypedFormGroup;\r\n  isMobile = false;\r\n  subscription = new Subscription();\r\n  shortenedHtml: SafeHtml | null = null;\r\n\r\n  get captchaTheme() { return this.themeService.currentTheme.includes('dark') ? 'dark' : 'light'; };\r\n  get userValue() { return this.registerForm?.value ?? {} as any; }\r\n\r\n  constructor(protected service: NbAuthService,\r\n    @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n    private dialog: MatDialog,\r\n    protected cd: ChangeDetectorRef,\r\n    protected router: Router,\r\n    protected route: ActivatedRoute,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private authenticationSettingsProvider: AuthenticationSettingsProvider,\r\n    private themeService: NbThemeService,\r\n    private handleRedirectionHelperService: HandleRedirectionHelperService,\r\n    private recaptchaService: RecaptchaService,\r\n    private configService: ConfigService,\r\n    private translate: TranslateService,\r\n    private sanitizer: DomSanitizer,\r\n    private elRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    private responsiveService: ResponsiveService)\r\n  {\r\n    super(service, options, cd, router);\r\n  }\r\n\r\n  ngOnInit()\r\n  {\r\n    this.createForm();\r\n    this.getTenantSettings();\r\n    this.getSettings();\r\n    this.loadLogo();\r\n    this.getScreenSize();\r\n  }\r\n\r\n  async getTenantSettings(): Promise<void>\r\n  {\r\n    this.tenant_settings = await firstValueFrom(this.globalSettingsProvider.GetGlobalTenantSettings());\r\n\r\n    if (this.tenant_settings.PreferredCallingCode)\r\n    {\r\n      this.preferredCallingCodes = this.tenant_settings.PreferredCallingCode.toLowerCase().split(',');\r\n    }\r\n\r\n    await this.recaptchaService.loadRecaptchaScript();\r\n    await this.validateCaptchaToken();\r\n  }\r\n\r\n  getSettings(): void\r\n  {\r\n    this.authenticationSettingsProvider.GetSettings().subscribe(settings =>\r\n    {\r\n      this.registrationSettings = settings.loginPageSettings;\r\n      this.shortenedHtml = this.sanitizer.bypassSecurityTrustHtml(this.registrationSettings.PublicRegistrationMessage);\r\n      this.createReadMore();\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n\r\n  createReadMore(): void\r\n  {\r\n    const html = this.registrationSettings?.PublicRegistrationMessage || '';\r\n    const maxLength = 400;\r\n    if (html.length > maxLength)\r\n    {\r\n      const slicedHtml = html.slice(0, maxLength);\r\n      const readMoreLink = `<a id=\"read-more-link\" class=\"read-more-btn a-text-link pointer\"\">${ this.translate.instant('SHELL.AUTH_PAGES.READ_MORE') }</a>`;\r\n      const result = slicedHtml + '...' + readMoreLink;\r\n      this.shortenedHtml = this.sanitizer.bypassSecurityTrustHtml(result);\r\n    } else\r\n    {\r\n      this.shortenedHtml = this.sanitizer.bypassSecurityTrustHtml(html);\r\n    }\r\n  }\r\n\r\n\r\n  private loadLogo(): void\r\n  {\r\n    this.logo_url = this.globalSettingsProvider.getLogo(this.tenant_settings, this.themeService.currentTheme);\r\n\r\n    this.themeService.onThemeChange()\r\n      .subscribe((theme_response) =>\r\n      {\r\n        if (theme_response.name !== theme_response.previous)\r\n        {\r\n          this.logo_url = this.globalSettingsProvider.getLogo(this.tenant_settings, theme_response.name);\r\n          this.cd.markForCheck();\r\n        }\r\n      });\r\n  }\r\n\r\n  createForm(): void\r\n  {\r\n    this.registerForm = new UntypedFormGroup({\r\n      firstName: new UntypedFormControl('', [Validators.required,\r\n      Validators.minLength(this.getConfigValue('forms.validation.firstName.minLength') || 0),\r\n      Validators.maxLength(this.getConfigValue('forms.validation.firstName.maxLength') || 50)\r\n      ]),\r\n      lastName: new UntypedFormControl('', [Validators.required,\r\n      Validators.minLength(this.getConfigValue('forms.validation.lastName.minLength') || 0),\r\n      Validators.maxLength(this.getConfigValue('forms.validation.lastName.maxLength') || 50)\r\n      ]),\r\n      password: new UntypedFormControl('', [Validators.required,\r\n      Validators.minLength(this.getConfigValue('forms.validation.password.minLength') || 6),\r\n      Validators.maxLength(this.getConfigValue('forms.validation.password.maxLength') || 50)\r\n      ]),\r\n      phone: new UntypedFormControl('', [Validators.required]),\r\n      username: new UntypedFormControl('', [Validators.pattern('^[a-z0-9_-]{3,16}$')]),\r\n      email: new UntypedFormControl('', [Validators.required, Validators.pattern('.+@.+..+')]),\r\n      confirmPassword: new UntypedFormControl('', [Validators.required]),\r\n      captchaToken: new UntypedFormControl('', []),\r\n    });\r\n\r\n    this.registerForm.controls.password.addValidators(this.MustMatchPassword('password', 'confirmPassword'));\r\n    this.registerForm.controls.confirmPassword.addValidators(this.MustMatchPassword('confirmPassword', 'password'));\r\n\r\n    this.registerForm.markAllAsTouched();\r\n  }\r\n\r\n  MustMatchPassword(controlName: string, matchingControlName: string): ValidatorFn\r\n  {\r\n    return () =>\r\n    {\r\n      const control = this.registerForm.controls[controlName];\r\n      const matchingControl = this.registerForm.controls[matchingControlName];\r\n\r\n      if (matchingControl.errors && !matchingControl.errors.mustMatch)\r\n      {\r\n        // return if another validator has already found an error on the matchingControl\r\n        return null;\r\n      }\r\n\r\n      // set error on matchingControl if validation fails\r\n      if (control.value !== matchingControl.value)\r\n      {\r\n        matchingControl.setErrors({ mustMatch: true });\r\n        return { mustMatch: true };\r\n      } else\r\n      {\r\n        matchingControl.setErrors(null);\r\n      }\r\n      return null;\r\n    };\r\n  }\r\n\r\n  getErrorMessage(fieldName: string, fieldLabel: string): string\r\n  {\r\n    if (this.registerForm?.get(fieldName).hasError('required'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_REQUIRED') }`;\r\n    }\r\n    if (this.registerForm?.get(fieldName).hasError('maxlength') ||\r\n      this.registerForm?.get(fieldName).hasError('minlength'))\r\n    {\r\n      return `Password should contains\r\n            from ${ this.getConfigValue('forms.validation.password.minLength') || 6 }\r\n            to ${ this.getConfigValue('forms.validation.password.maxLength') || 50 }\r\n            characters`;\r\n    }\r\n    if (this.registerForm?.get(fieldName).hasError('mustMatch'))\r\n    {\r\n      return this.translate.instant('SHELL.AUTH_PAGES.LOGIN.PASSWORD_NOT_MATCHED');\r\n    }\r\n    if (this.registerForm?.get(fieldName).hasError('pattern'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_NOT_VALID') }`;\r\n    }\r\n\r\n  }\r\n\r\n  async validateCaptchaToken(): Promise<void>\r\n  {\r\n    try\r\n    {\r\n\r\n      if (this.recaptchaService.isReady())\r\n      {\r\n        let captchaToken = this.tokenV2;\r\n\r\n        if (!this.loadCaptchaV2)\r\n        {\r\n          captchaToken = this.registerForm.get('captchaToken').value;\r\n          if (!captchaToken)\r\n          {\r\n            this.submitted = true;\r\n            captchaToken = await this.recaptchaService.executeV3('RegisterAction', 'v2-login', this.configService?.turnstileConfigs?.appearance?.auth);\r\n            this.submitted = false;\r\n          }\r\n        }\r\n\r\n        if (!captchaToken)\r\n        {\r\n          this.submitted = false;\r\n          this.errors = ['error. reCaptcha verification error.'];\r\n          return;\r\n        }\r\n\r\n        this.registerForm.get('captchaToken').setValue(captchaToken);\r\n      } else if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n      {\r\n        this.submitted = false;\r\n        this.errors = ['error. reCaptcha verification error.'];\r\n        return;\r\n      }\r\n\r\n    } catch (e)\r\n    {\r\n      this.submitted = false;\r\n      console.error(e);\r\n      this.errors = ['error. reCaptcha verification error.'];\r\n      return;\r\n    }\r\n  }\r\n\r\n  phoneCountryChange(event): void\r\n  {\r\n    this.selectedCountry = event;\r\n  }\r\n\r\n  async register(): Promise<void>\r\n  {\r\n    this.returnURL = this.route.snapshot.queryParams['redirect_path'] ?? '';\r\n\r\n    await this.validateCaptchaToken();\r\n\r\n    this.errors = this.messages = [];\r\n    this.submitted = true;\r\n    this.userValue.phone = this.registerForm.get(\"phone\")?.value?.replace(`+${ this.selectedCountry.dialCode }`, '');;\r\n\r\n    this.userValue['additionalParameters'] = {\r\n      PhoneCountryCode: this.selectedCountry.iso2\r\n    };\r\n\r\n    if (this.returnURL)\r\n    {\r\n      this.userValue['additionalParameters']['ReturnURL'] = this.returnURL;\r\n    }\r\n\r\n    if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n    {\r\n      this.userValue['additionalParameters'] = {\r\n        ...this.userValue['additionalParameters'],\r\n        CaptchaToken: this.userValue.captchaToken, CaptchaStrategy: this.loadCaptchaV2 ? 'V2' : 'V3'\r\n      };\r\n    }\r\n\r\n    this.service.register(this.strategy, this.userValue).subscribe(async (result: NbAuthResult) =>\r\n    {\r\n      if (result.isSuccess())\r\n      {\r\n        this.messages = result.getMessages();\r\n      } else\r\n      {\r\n        this.submitted = false;\r\n        const res = (result as any);\r\n        if (res.response?.error instanceof String || typeof res.response?.error === 'string')\r\n        {\r\n          this.errors = [res.response?.error as string];\r\n        }\r\n        else\r\n        {\r\n          this.errors = res.response?.error[\"\"];\r\n\r\n          if (this.errors && this.errors.length > 0 && this.errors[0].includes(\"is already taken\"))\r\n          {\r\n            this.errors[0] = this.errors[0].replace(\"Name\", \"\");\r\n          }\r\n\r\n          if (!this.errors)\r\n          {\r\n            this.errors = res.response?.error[\"errors\"].Password;\r\n          }\r\n\r\n          if (!this.errors)\r\n          {\r\n            this.errors = result.getErrors();\r\n          }\r\n        }\r\n      }\r\n\r\n      this.registerForm.get('captchaToken').setValue(null);\r\n\r\n      if (this.errors.some(a => a.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken)))\r\n      {\r\n        this.errors = [];\r\n        if (this.loadCaptchaV2)\r\n        {\r\n          this.recaptchaService.reset('v2-login');\r\n        }\r\n        else\r\n        {\r\n          setTimeout(() =>\r\n          {\r\n            this.recaptchaService.renderV2('v2-login', this.resolved.bind(this));\r\n            this.loadCaptchaV2 = true;\r\n            this.cd.detectChanges();\r\n          }, 1000);\r\n        }\r\n        return;\r\n      }\r\n\r\n      if (this.errors?.length)\r\n      {\r\n        this.cd.detectChanges();\r\n        return;\r\n      }\r\n\r\n      if (this.handleRedirectionHelperService.checkAndUpdatePath())\r\n      {\r\n        const response = await this.handleRedirectionHelperService.handleRedirection();\r\n\r\n        if (!response && response !== '')\r\n        {\r\n          this.errors = [];\r\n          this.errors.push(response);\r\n        }\r\n        return;\r\n      }\r\n\r\n      let redirect = result.getRedirect();\r\n\r\n      if (this.returnURL)\r\n      {\r\n        redirect += \"?returnURL=\" + this.returnURL;\r\n      }\r\n\r\n      if (redirect)\r\n      {\r\n        setTimeout(() =>\r\n        {\r\n          return this.router.navigateByUrl(redirect);\r\n        }, this.redirectDelay);\r\n      }\r\n      this.cd.detectChanges();\r\n    });\r\n  }\r\n\r\n  public resolved(captchaResponse: string): void\r\n  {\r\n    this.tokenV2 = captchaResponse;\r\n  }\r\n\r\n  getScreenSize(): void\r\n  {\r\n    this.subscription.add(this.responsiveService.mediaBreakpoint.subscribe(screenSize =>\r\n    {\r\n      this.isMobile = screenSize == 'xs' || screenSize == 'sm' || screenSize == 'md';\r\n    }));\r\n  }\r\n\r\n  ngAfterViewInit(): void\r\n  {\r\n    setTimeout(() =>\r\n    {\r\n      const readMoreEl = this.elRef.nativeElement.querySelector('#read-more-link');\r\n      if (readMoreEl)\r\n      {\r\n        this.renderer.listen(readMoreEl, 'click', () =>\r\n        {\r\n          this.openReadMoreDialog();\r\n        });\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  openReadMoreDialog(): void\r\n  {\r\n    this.dialog.open(CardDialogComponent, {\r\n      panelClass: ['o-confirm-dialog', 'o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen', 'o-read-more-dialog-content'],\r\n      data: {\r\n        component: ConfirmationDialogComponent,\r\n        dialogData: {\r\n          title: 'SHELL.AUTH_PAGES.DETAILS',\r\n          htmlContent: this.registrationSettings?.PublicRegistrationMessage,\r\n          closeButtonLabel: 'SHELL.APP.CLOSE',\r\n          closeButtonClass: \"mat-stroked-button\"\r\n        }\r\n      },\r\n      width: '350px',\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"container-shell\">\r\n  <mat-card class=\"o-card o-card-auth\" [ngClass]=\"{'o-card-auth-mobile': isMobile}\">\r\n    <div style=\"margin: -12px -12px 0px -12px;\">\r\n      <a mat-button class=\"a-button\" [routerLink]=\"['/auth/login']\">\r\n        <span class=\"align-middle\" style=\"line-height: 24px;\">\r\n          <mat-icon class=\"align-middle\">arrow_back</mat-icon>\r\n          <span>{{'SHELL.AUTH_PAGES.REGISTER.BACK' | teiTextTranslate}}</span>\r\n        </span>\r\n      </a>\r\n    </div>\r\n    <div class=\"text-center mt-2\">\r\n      <img [src]=\"logo_url\" class=\"a-logo a-logo-landing w-100\" style=\"\" />\r\n    </div>\r\n    <div class=\"mt-3\">\r\n      <div class=\"a-text-h1 text-center a-register-title\">{{'SHELL.AUTH_PAGES.REGISTER.REGISTER' | teiTextTranslate}}</div>\r\n    </div>\r\n    <div class=\"my-4\">\r\n        <span *ngIf=\"shortenedHtml\" class=\"d-block\" [innerHTML]=\"shortenedHtml\">\r\n        </span>\r\n    </div>\r\n    <form class=\"mt-4\" (ngSubmit)=\"register()\" [formGroup]=\"registerForm\" aria-labelledby=\"title\" autocomplete=\"off\">\r\n      <mat-form-field class=\"mb-2 a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.REGISTER.FIRST_NAME' | teiTextTranslate}}</mat-label>\r\n        <input autofocus formControlName=\"firstName\" matInput autocomplete=\"false\">\r\n        <mat-error>\r\n          {{getErrorMessage('firstName', 'First Name')}}\r\n        </mat-error>\r\n      </mat-form-field>\r\n      <mat-form-field class=\"mb-2 a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.REGISTER.LAST_NAME' | teiTextTranslate}}</mat-label>\r\n        <input autofocus formControlName=\"lastName\" matInput autocomplete=\"false\">\r\n        <mat-error>\r\n          {{getErrorMessage('lastName','Last Name')}}\r\n        </mat-error>\r\n      </mat-form-field>\r\n      <mat-form-field *ngIf=\"false\" class=\"mb-2 a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.REGISTER.USERNAME'| teiTextTranslate}}</mat-label>\r\n        <input autofocus formControlName=\"username\" matInput autocomplete=\"false\">\r\n        <mat-error>\r\n          {{getErrorMessage('username', 'SHELL.AUTH_PAGES.REGISTER.USERNAME'| teiTextTranslate )}}\r\n        </mat-error>\r\n      </mat-form-field>\r\n      <mat-form-field class=\"mb-2 a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.REGISTER.EMAIL_ADDRESS' | teiTextTranslate}}</mat-label>\r\n        <input autofocus formControlName=\"email\" matInput autocomplete=\"false\">\r\n        <mat-error>\r\n          {{getErrorMessage('email', 'Email')}}\r\n        </mat-error>\r\n      </mat-form-field>\r\n      <mat-form-field class=\"mb-2 a-input w-100\" appearance=\"outline\" floatLabel=\"always\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.REGISTER.PHONE' | teiTextTranslate}}</mat-label>\r\n        <tei-phone-input\r\n          (countryChanged)=\"phoneCountryChange($event)\"\r\n          [selectedCountry]=\"this.tenant_settings?.DefaultCallingCode\"\r\n          [preferredCountries]=\"preferredCallingCodes\"\r\n          [enablePlaceholder]=\"true\"\r\n          describedBy=\"phoneInput\"\r\n          name=\"phone\"\r\n          formControlName=\"phone\" #phone>\r\n        </tei-phone-input>\r\n        <mat-hint>e.g. {{phone.selectedCountry?.placeHolder}}</mat-hint>\r\n      </mat-form-field>\r\n      <mat-form-field class=\"mb-2 a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.REGISTER.PASSWORD' | teiTextTranslate}}</mat-label>\r\n        <input type=\"password\" autofocus formControlName=\"password\" matInput autocomplete=\"false\">\r\n        <mat-error>\r\n          {{getErrorMessage('password', 'Password')}}\r\n        </mat-error>\r\n      </mat-form-field>\r\n      <mat-form-field class=\"mb-2 a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.REGISTER.REPEAT_PASSWORD' | teiTextTranslate}}</mat-label>\r\n        <input autofocus type=\"password\" formControlName=\"confirmPassword\" matInput autocomplete=\"false\">\r\n        <mat-error>\r\n          {{getErrorMessage('confirmPassword', 'Confirm Password')}}\r\n        </mat-error>\r\n      </mat-form-field>\r\n\r\n      <div class=\"my-3\" *ngIf=\"showMessages.error && errors?.length && !submitted\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"warn\">error</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.REGISTER.FAILED' | teiTextTranslate}}</div>\r\n            <div *ngFor=\"let error of errors\" class=\"a-text-secondary\">{{ error }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"my-3\" *ngIf=\"showMessages.success && messages?.length && !submitted\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"accent\">check_circle</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.REGISTER.SUCCESS' | teiTextTranslate}}</div>\r\n            <div *ngFor=\"let message of messages\" class=\"a-text-secondary\">{{ message }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"px-auto my-2 mx-auto d-flex d-flex justify-content-center\">\r\n        <div id=\"v2-login\"></div>\r\n      </div>\r\n\r\n      <div class=\"mt-3\">\r\n        <button mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\"\r\n          [disabled]=\"submitted || registerForm.invalid\">{{'SHELL.AUTH_PAGES.REGISTER.REGISTER' |\r\n          teiTextTranslate}}</button>\r\n      </div>\r\n    </form>\r\n\r\n    <section *ngIf=\"socialLinks && socialLinks.length > 0 && settings?.AllowSocialLogin\" class=\"links\"\r\n      aria-label=\"Social sign in\">\r\n      or enter with:\r\n      <div class=\"socials\">\r\n        <ng-container *ngFor=\"let socialLink of socialLinks\">\r\n          <a *ngIf=\"socialLink.link\" [routerLink]=\"socialLink.link\" [attr.target]=\"socialLink.target\"\r\n            [attr.class]=\"socialLink.icon\" [class.with-icon]=\"socialLink.icon\">\r\n            <nb-icon *ngIf=\"socialLink.icon; else title\" [icon]=\"socialLink.icon\"></nb-icon>\r\n            <ng-template #title>{{ socialLink.title }}</ng-template>\r\n          </a>\r\n          <a *ngIf=\"socialLink.url\" [attr.href]=\"socialLink.url\" [attr.target]=\"socialLink.target\"\r\n            [attr.class]=\"socialLink.icon\" [class.with-icon]=\"socialLink.icon\">\r\n            <nb-icon *ngIf=\"socialLink.icon; else title\" [icon]=\"socialLink.icon\"></nb-icon>\r\n            <ng-template #title>{{ socialLink.title }}</ng-template>\r\n          </a>\r\n        </ng-container>\r\n      </div>\r\n    </section>\r\n  </mat-card>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatLegacyCheckboxModule as MatCheckboxModule } from '@angular/material/legacy-checkbox';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAlertModule, NbButtonModule, NbCheckboxModule, NbIconModule, NbInputModule } from '@tei/nebular-theme';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { RegisterComponent } from './register.component';\r\nimport { PhoneInputModule } from '@tei/material';\r\nimport { RegisterResolver } from './register.resolver';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst NB_MODULES = [NbInputModule, NbIconModule, NbCheckboxModule, NbAlertModule, NbButtonModule];\r\nconst MATERIAL_MODULES = [MatCardModule, MatButtonModule, ReactiveFormsModule, MatFormFieldModule, MatInputModule, MatCheckboxModule, MatIconModule];\r\nconst TP_MODULES = [];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\nconst TEI_MATERIAL_MODULES = [PhoneInputModule];\r\nconst CAPTCHA_MODULES = [];\r\nconst COMPONENTS = [RegisterComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_CORE_MODULES, ...TEI_MATERIAL_MODULES, ...TP_MODULES, ...CAPTCHA_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...TEI_MATERIAL_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS],\r\n  providers: [\r\n    RegisterResolver\r\n  ],\r\n})\r\nexport class RegisterModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve, Router, RouterStateSnapshot } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { catchError, switchMap } from 'rxjs/operators';\r\nimport { AuthenticationSettingsProvider } from '../../../@core/authentication/@services/authentication-settings.provider';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\nimport { HandleRedirectionHelperService } from '../../@services/handle-redirection-helper.service';\r\n\r\n\r\n@Injectable()\r\nexport class RegisterResolver implements Resolve<GetGlobalTenantSettingsResponse>\r\n{\r\n  constructor(\r\n    private authenticationSettingsProvider: AuthenticationSettingsProvider,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private handleRedirectionHelperService: HandleRedirectionHelperService,\r\n    private router: Router,\r\n  ) { }\r\n\r\n  resolve(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot,\r\n  ): Observable<GetGlobalTenantSettingsResponse> | Promise<GetGlobalTenantSettingsResponse> | GetGlobalTenantSettingsResponse\r\n  {\r\n    const needCheckAllowRegistrationCheck = route.data['needAllowRegistrationCheck'] as boolean;\r\n    return this.authenticationSettingsProvider\r\n      .GetSettings()\r\n      .pipe(\r\n        switchMap((settings) =>\r\n        {\r\n\r\n          if (needCheckAllowRegistrationCheck && !settings?.authenticationSettings?.AllowRegistration)\r\n          {\r\n            this.router.navigate(['auth/login']);\r\n          } else\r\n          {\r\n            this.handleRedirectionHelperService.checkAndUpdatePath();\r\n          }\r\n\r\n          return this.globalSettingsProvider\r\n            .GetGlobalTenantSettings();\r\n        }),\r\n        catchError(() =>\r\n        {\r\n          throw new Error();\r\n        }\r\n        )\r\n      );\r\n  }\r\n}\r\n","import { AfterViewInit, ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ConfigService, RecaptchaService } from '@tei/core';\r\nimport { CardDialogComponent, ConfirmationDialogComponent } from '@tei/material';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { Subscription } from 'rxjs/internal/Subscription';\r\nimport\r\n{\r\n  AuthenticationSettings,\r\n  LoginPageSetting,\r\n  UserNameTypeEnum\r\n} from '../../../@core/authentication/@intermediate/models/get-authentication-settings.model';\r\nimport { AuthenticationSettingsProvider } from '../../../@core/authentication/@services/authentication-settings.provider';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\nimport { ActivationService } from '../../@services/activation.service';\r\nimport { HandleRedirectionHelperService } from '../../@services/handle-redirection-helper.service';\r\nimport { PostActivateRequest } from './../../@intermediate/models/post-activate.model';\r\n@Component({\r\n  selector: 'ngx-request-activation',\r\n  templateUrl: './request-activation.component.html',\r\n  styleUrls: ['./request-activation.component.scss']\r\n})\r\nexport class RequestActivationComponent implements OnInit, OnDestroy, AfterViewInit\r\n{\r\n  tokenV2 = '';\r\n  loadCaptchaV2 = false;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n  subscription: Subscription;\r\n  errors = [];\r\n  messages = [];\r\n  settings: AuthenticationSettings;\r\n  requestActivationSettings: LoginPageSetting;\r\n  userNameType = UserNameTypeEnum;\r\n  submitted = false;\r\n  backUrl: string;\r\n  returnURL: string;\r\n  isExternalLogin: boolean = false;\r\n  shortenedHtml: SafeHtml | null = null;\r\n  activationForm = new UntypedFormGroup({\r\n    username: new UntypedFormControl('', [Validators.required]),\r\n  });\r\n  get captchaTheme() { return this.themeService.currentTheme.includes('dark') ? 'dark' : 'light'; }\r\n\r\n  constructor(\r\n    private ActivationService: ActivationService,\r\n    private authenticationSettingsProvider: AuthenticationSettingsProvider,\r\n    private sanitizer: DomSanitizer,\r\n    protected cd: ChangeDetectorRef,\r\n    private activatedRoute: ActivatedRoute,\r\n    private translate: TranslateService,\r\n    private recaptchaService: RecaptchaService,\r\n    private configService: ConfigService,\r\n    private handleRedirectionHelperService: HandleRedirectionHelperService,\r\n    private themeService: NbThemeService,\r\n    private dialog: MatDialog,\r\n    private elRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private router: Router)\r\n  {\r\n  }\r\n\r\n  async ngOnInit(): Promise<void>\r\n  {\r\n    this.handleParameters();\r\n    await this.GetSettings();\r\n    this.initiateBackUrl();\r\n  }\r\n\r\n  initiateBackUrl(): void\r\n  {\r\n    this.backUrl = '/auth/login';\r\n  }\r\n\r\n  async GetSettings(): Promise<void>\r\n  {\r\n    this.tenant_settings = await firstValueFrom(this.globalSettingsProvider.GetGlobalTenantSettings());\r\n\r\n    await this.recaptchaService.loadRecaptchaScript();\r\n\r\n    this.authenticationSettingsProvider.GetSettings().subscribe(settings =>\r\n    {\r\n      this.settings = settings?.authenticationSettings;\r\n      this.requestActivationSettings = settings?.loginPageSettings;\r\n      this.createReadMore();\r\n      this.cd.markForCheck();\r\n\r\n      let username = decodeURIComponent(this.activatedRoute.snapshot.params['username'] ?? '');\r\n      if (!username)\r\n      {\r\n        username = decodeURIComponent(this.activatedRoute.snapshot.queryParamMap['username'] ?? '');\r\n      }\r\n\r\n      this.activationForm = new UntypedFormGroup({\r\n        captchaToken: new UntypedFormControl('', []),\r\n        username: new UntypedFormControl(username, [Validators.required,\r\n        (this.settings?.UserNameType === this.userNameType?.Email) ? Validators.pattern('.+@.+\\..+') : Validators.maxLength(50)]),\r\n      });\r\n\r\n      this.validateCaptchaToken().then();\r\n\r\n      if (!settings?.authenticationSettings?.AllowActivation)\r\n      {\r\n        this.router.navigate(['/auth/login']).then();\r\n      } else\r\n      {\r\n        this.handleRedirectionHelperService.checkAndUpdatePath();\r\n      }\r\n    });\r\n  }\r\n\r\n  createReadMore(): void\r\n  {\r\n    const html = this.requestActivationSettings?.MemberActivationMessage || '';\r\n\r\n    const maxLength = 400;\r\n    if (html.length > maxLength)\r\n    {\r\n      const slicedHtml = html.slice(0, maxLength);\r\n      const readMoreLink = `<a id=\"read-more-link\" class=\"read-more-btn a-text-link pointer\"\">${ this.translate.instant('SHELL.AUTH_PAGES.READ_MORE') }</a>`;\r\n      const result = slicedHtml + '...' + readMoreLink;\r\n      this.shortenedHtml = this.sanitizer.bypassSecurityTrustHtml(result);\r\n    } else\r\n    {\r\n      this.shortenedHtml = this.sanitizer.bypassSecurityTrustHtml(html);\r\n    }\r\n  }\r\n\r\n  private handleParameters(): void\r\n  {\r\n    const originIsExternalLogin = (decodeURIComponent(this.activatedRoute.snapshot.params['externalLogin'] ?? '') === 'true')\r\n      || (decodeURIComponent(this.activatedRoute.snapshot.queryParamMap.get('externalLogin') ?? '') === 'true');\r\n\r\n    this.isExternalLogin = originIsExternalLogin && !(this.configService?.defaultConfig?.ignoreExternalLoginRedirection ?? false);\r\n\r\n    if (!originIsExternalLogin || this.isExternalLogin)\r\n    {\r\n      this.returnURL = this.activatedRoute.snapshot.queryParams['returnURL'] ?? '';\r\n    }\r\n\r\n  }\r\n\r\n  getErrorMessage(fieldName: string, fieldLabel: string): string\r\n  {\r\n    if (this.activationForm?.get(fieldName).hasError('required'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_REQUIRED') }`;\r\n    }\r\n\r\n    if (this.activationForm?.get(fieldName).hasError('pattern'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_NOT_VALID') }`;\r\n    }\r\n\r\n    return \"\";\r\n  }\r\n\r\n  async validateCaptchaToken(): Promise<void>\r\n  {\r\n    try\r\n    {\r\n      if (this.recaptchaService.isReady())\r\n      {\r\n        let captchaToken = this.tokenV2;\r\n\r\n        if (!this.loadCaptchaV2)\r\n        {\r\n          captchaToken = this.activationForm.get('captchaToken').value;\r\n          if (!captchaToken)\r\n          {\r\n            this.submitted = true;\r\n            captchaToken = await this.recaptchaService.executeV3('ActivationAction', 'v2-login', this.configService?.turnstileConfigs?.appearance?.auth);\r\n            this.submitted = false;\r\n          }\r\n        }\r\n\r\n        if (!captchaToken)\r\n        {\r\n          this.submitted = false;\r\n          this.errors = ['error. reCaptcha verification error.'];\r\n          return;\r\n        }\r\n\r\n        this.activationForm.get('captchaToken').setValue(captchaToken);\r\n      } else if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n      {\r\n        this.submitted = false;\r\n        this.errors = ['error. reCaptcha verification error.'];\r\n        return;\r\n      }\r\n    } catch (e)\r\n    {\r\n      this.submitted = false;\r\n      console.error(e);\r\n      this.errors = ['error. reCaptcha verification error.'];\r\n      return;\r\n    }\r\n  }\r\n\r\n  async requestActivation(): Promise<void>\r\n  {\r\n\r\n    await this.validateCaptchaToken();\r\n\r\n    this.errors = [];\r\n    this.messages = [];\r\n    this.submitted = true;\r\n    this.cd.detectChanges();\r\n\r\n    const request = {\r\n      UserName: this.activationForm.value.username,\r\n    } as PostActivateRequest;\r\n\r\n    if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n    {\r\n      request.AdditionalParameters = { CaptchaToken: this.activationForm.value.captchaToken, CaptchaStrategy: this.loadCaptchaV2 ? 'V2' : 'V3' };\r\n    }\r\n\r\n    this.ActivationService.Activate(request).subscribe({\r\n      next: () =>\r\n      {\r\n        this.messages.push(this.translate.instant('SHELL.AUTH_PAGES.SEND_ACTIVATION.SEND_CODE_MESSAGE'));\r\n        this.loadCaptchaV2 = false;\r\n\r\n        this.cd.detectChanges();\r\n        setTimeout(() =>\r\n        {\r\n          const grantActivationRoute = '/auth/grant-activation';\r\n          const queryParams = this.returnURL ? { returnURL: this.returnURL, externalLogin: this.isExternalLogin } : {};\r\n\r\n          return this.router.navigate([grantActivationRoute, this.activationForm.value.username], { queryParams });\r\n        }, 2000);\r\n\r\n      },\r\n      error: error =>\r\n      {\r\n        this.submitted = false;\r\n        let msg = [this.translate.instant('SHELL.AUTH_PAGES.LOGIN.TRY_AGAIN')];\r\n        if (error?.error?.Title) { msg = [error?.error.Title]; }\r\n        else if (error?.Title) { msg = [error?.Title]; }\r\n        else if (error?.error instanceof String || typeof error?.error === 'string') { msg = [error.error as string]; }\r\n        else if (Object.keys(error?.error)?.length > 0)\r\n        {\r\n          msg = Object.values(error.error);\r\n        }\r\n\r\n        this.activationForm.get('captchaToken').setValue(null);\r\n        this.loadCaptchaV2 = false;\r\n        if (msg.some(a => a.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken)))\r\n        {\r\n          this.errors = [];\r\n          this.loadCaptchaV2 = true;\r\n          setTimeout(() =>\r\n          {\r\n            this.recaptchaService.renderV2('v2-login', this.resolved.bind(this));\r\n            this.cd.detectChanges();\r\n          }, 1000);\r\n          return;\r\n        }\r\n\r\n        this.errors = msg;\r\n        this.cd.detectChanges();\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void\r\n  {\r\n    setTimeout(() =>\r\n    {\r\n      const readMoreEl = this.elRef.nativeElement.querySelector('#read-more-link');\r\n      if (readMoreEl)\r\n      {\r\n        this.renderer.listen(readMoreEl, 'click', () =>\r\n        {\r\n          this.openReadMoreDialog();\r\n        });\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  openReadMoreDialog(): void\r\n  {\r\n    this.dialog.open(CardDialogComponent, {\r\n      panelClass: ['o-confirm-dialog', 'o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen', 'o-read-more-dialog-content'],\r\n      data: {\r\n        component: ConfirmationDialogComponent,\r\n        dialogData: {\r\n          title: 'SHELL.AUTH_PAGES.DETAILS',\r\n          htmlContent: this.requestActivationSettings?.MemberActivationMessage,\r\n          closeButtonLabel: 'SHELL.APP.CLOSE',\r\n          closeButtonClass: \"mat-stroked-button\"\r\n        }\r\n      },\r\n      width: '350px',\r\n    });\r\n  }\r\n\r\n  public resolved(captchaResponse: string): void\r\n  {\r\n    this.tokenV2 = captchaResponse;\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"container-shell\">\r\n  <mat-card class=\"o-card o-card-auth\">\r\n    <div style=\"margin: -12px -12px 0px -12px;\">\r\n      <a mat-button class=\"a-button\" [routerLink]=\"[backUrl]\">\r\n        <span class=\"align-middle\" style=\"line-height: 24px;\">\r\n          <mat-icon class=\"align-middle\">arrow_back</mat-icon>\r\n          <span>{{'SHELL.AUTH_PAGES.SEND_ACTIVATION.BACK' | teiTextTranslate}}</span>\r\n        </span>\r\n      </a>\r\n    </div>\r\n    <div class=\"mt-4\">\r\n      <div class=\"a-text-h1 text-center a-activation-title\">{{'SHELL.AUTH_PAGES.SEND_ACTIVATION.ACTIVATE_ACCOUNT' | teiTextTranslate}}</div>\r\n      <div class=\"my-3\">\r\n        <span *ngIf=\"shortenedHtml\" class=\"d-block\" [innerHTML]=\"shortenedHtml\">\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <form class=\"mt-3\" [formGroup]=\"activationForm\" appearance=\"outline\" (ngSubmit)=\"requestActivation()\"\r\n      autocomplete=\"off\">\r\n      <div class=\"\">\r\n        <mat-form-field class=\"a-input w-100\" appearance=\"outline\">\r\n          <mat-label>{{settings?.UserNameLabel}}\r\n          </mat-label>\r\n          <input autocomplete=\"false\" formControlName=\"username\" placeholder=\"{{settings?.UserNameLabel}}\" autofocus\r\n            matInput>\r\n          <mat-error>\r\n            {{getErrorMessage('username', (settings?.UserNameType === userNameType.AlphaNumeric) ?\r\n            settings?.UserNameLabel\r\n            : 'Email')}}\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div class=\"my-3\" *ngIf=\"errors && errors?.length && !submitted\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"warn\">error</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.SEND_ACTIVATION.FAILED' | teiTextTranslate}}\r\n            </div>\r\n            <div *ngFor=\"let error of errors\" class=\"a-text-secondary\">{{ error }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"my-3\" *ngIf=\"messages && messages?.length && !submitted\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"accent\">check_circle</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.SEND_ACTIVATION.SUCCESS' | teiTextTranslate}}\r\n            </div>\r\n            <div *ngFor=\"let message of messages\" class=\"a-text-secondary\">{{ message }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"px-auto my-2 mx-auto d-flex d-flex justify-content-center\">\r\n        <div id=\"v2-login\"></div>\r\n      </div>\r\n      <div class=\"mt-3\">\r\n        <button mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\"\r\n          [disabled]=\"submitted || activationForm.invalid\">{{'SHELL.AUTH_PAGES.SEND_ACTIVATION.SEND_ACTIVATION' |\r\n          teiTextTranslate}}</button>\r\n      </div>\r\n    </form>\r\n  </mat-card>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatLegacyCheckboxModule as MatCheckboxModule } from '@angular/material/legacy-checkbox';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAlertModule, NbButtonModule, NbCheckboxModule, NbIconModule, NbInputModule } from '@tei/nebular-theme';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { RequestActivationComponent } from './request-activation.component';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, ReactiveFormsModule, RouterModule];\r\nconst NB_MODULES = [NbInputModule, NbIconModule, NbCheckboxModule, NbAlertModule, NbButtonModule];\r\nconst MATERIAL_MODULES = [MatCardModule, MatButtonModule, ReactiveFormsModule, MatFormFieldModule, MatInputModule, MatCheckboxModule, MatIconModule];\r\nconst TP_MODULES = [];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\nconst CAPTCHA_MODULES = [];\r\n\r\nconst COMPONENTS = [RequestActivationComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_CORE_MODULES, ...TP_MODULES, ...CAPTCHA_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS],\r\n})\r\nexport class RequestActivationModule { }\r\n","import { ChangeDetectorRef, Component, Inject } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ConfigService, RecaptchaService } from '@tei/core';\r\nimport { NB_AUTH_OPTIONS, NbAuthResult, NbAuthService, NbRequestPasswordComponent } from '@tei/nebular-auth';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { AuthenticationSettings, UserNameTypeEnum } from '../../../@core/authentication/@intermediate/models/get-authentication-settings.model';\r\nimport { AuthenticationSettingsProvider } from '../../../@core/authentication/@services/authentication-settings.provider';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\n\r\n@Component({\r\n  selector: 'ngx-request-password',\r\n  templateUrl: './request-password.component.html',\r\n  styleUrls: ['./request-password.component.scss']\r\n})\r\nexport class RequestPasswordComponent extends NbRequestPasswordComponent\r\n{\r\n  tokenV2 = '';\r\n  loadCaptchaV2 = false;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n  settings: AuthenticationSettings;\r\n  userNameType = UserNameTypeEnum;\r\n  forgotPasswordTitle = '';\r\n  requestPasswordUrl: string;\r\n  requestPasswordForm = new UntypedFormGroup({\r\n    username: new UntypedFormControl('', [Validators.required]),\r\n  });\r\n\r\n  get userValue()\r\n  {\r\n    return this.requestPasswordForm?.value ?? {} as any;\r\n  }\r\n\r\n  get captchaTheme() { return this.themeService.currentTheme.includes('dark') ? 'dark' : 'light'; }\r\n\r\n  constructor(protected service: NbAuthService,\r\n    @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n    protected cd: ChangeDetectorRef,\r\n    private route: ActivatedRoute,\r\n    private authenticationSettingsProvider: AuthenticationSettingsProvider,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private translate: TranslateService,\r\n    private recaptchaService: RecaptchaService,\r\n    private configService: ConfigService,\r\n    private themeService: NbThemeService,\r\n    protected router: Router,)\r\n  {\r\n    super(service, options, cd, router);\r\n\r\n    this.requestPasswordUrl = '/auth/login';\r\n  }\r\n\r\n  async ngOnInit(): Promise<void>\r\n  {\r\n    this.forgotPasswordTitle = this.translate.instant('SHELL.AUTH_PAGES.LOGIN.FORGOT_PASSWORD_TITLE', { UserNameLabel: this.translate.instant('SHELL.AUTH_PAGES.LOGIN.EMAIL_ADDRESS_OR_MEMBER_ID') });\r\n    this.tenant_settings = await firstValueFrom(this.globalSettingsProvider.GetGlobalTenantSettings());\r\n\r\n    await this.recaptchaService.loadRecaptchaScript();\r\n\r\n    this.authenticationSettingsProvider.GetSettings().subscribe(settings =>\r\n    {\r\n      this.settings = settings?.authenticationSettings;\r\n      this.forgotPasswordTitle = this.translate.instant('SHELL.AUTH_PAGES.LOGIN.FORGOT_PASSWORD_TITLE', { UserNameLabel: this.settings?.UserNameLabel });\r\n      this.cd.markForCheck();\r\n\r\n      let username = decodeURIComponent(this.route.snapshot.params['username'] ?? '');\r\n      if (!username)\r\n      {\r\n        username = decodeURIComponent(this.route.snapshot.queryParamMap['username'] ?? '');\r\n      }\r\n\r\n      this.requestPasswordForm = new UntypedFormGroup({\r\n        captchaToken: new UntypedFormControl('', []),\r\n        username: new UntypedFormControl(username, [Validators.required,\r\n        (this.settings?.UserNameType === this.userNameType?.Email) ? Validators.pattern('.+@.+\\..+') : Validators.maxLength(50)]),\r\n      });\r\n      this.validateCaptchaToken().then();\r\n    });\r\n  }\r\n\r\n  getErrorMessage(fieldName: string, fieldLabel: string)\r\n  {\r\n    if (this.requestPasswordForm?.get(fieldName).hasError('required'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_REQUIRED') }`;\r\n    }\r\n\r\n    if (this.requestPasswordForm?.get(fieldName).hasError('pattern'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_NOT_VALID') }`;\r\n    }\r\n  }\r\n\r\n  async validateCaptchaToken(): Promise<void>\r\n  {\r\n    try\r\n    {\r\n\r\n      if (this.recaptchaService.isReady())\r\n      {\r\n        let captchaToken = this.tokenV2;\r\n\r\n        if (!this.loadCaptchaV2)\r\n        {\r\n          captchaToken = this.requestPasswordForm.get('captchaToken').value;\r\n          if (!captchaToken)\r\n          {\r\n            this.submitted = true;\r\n            captchaToken = await this.recaptchaService.executeV3('ForgetPasswordAction', 'v2-login', this.configService?.turnstileConfigs?.appearance?.auth);\r\n            this.submitted = false;\r\n          }\r\n        }\r\n\r\n        if (!captchaToken)\r\n        {\r\n          this.submitted = false;\r\n          this.errors = ['error. reCaptcha verification error.'];\r\n          return;\r\n        }\r\n\r\n        this.requestPasswordForm.get('captchaToken').setValue(captchaToken);\r\n      } else if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n      {\r\n        this.submitted = false;\r\n        this.errors = ['error. reCaptcha verification error.'];\r\n        return;\r\n      }\r\n\r\n    } catch (e)\r\n    {\r\n      this.submitted = false;\r\n      console.error(e);\r\n      this.errors = ['error. reCaptcha verification error.'];\r\n      return;\r\n    }\r\n  }\r\n\r\n  async requestPass(): Promise<void>\r\n  {\r\n\r\n    await this.validateCaptchaToken();\r\n\r\n    this.errors = this.messages = [];\r\n    this.submitted = true;\r\n    const request = {\r\n      username: this.userValue.username,\r\n    } as any;\r\n\r\n    if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n    {\r\n      request['additionalParameters'] = { CaptchaToken: this.userValue.captchaToken, CaptchaStrategy: this.loadCaptchaV2 ? 'V2' : 'V3' };\r\n    }\r\n\r\n    this.service.requestPassword(this.strategy, request).subscribe((result: NbAuthResult) =>\r\n    {\r\n\r\n      if (result.isSuccess())\r\n      {\r\n        this.messages = result.getMessages();\r\n\r\n        setTimeout(() =>\r\n        {\r\n          return this.router.navigateByUrl(this.requestPasswordUrl);\r\n        }, this.redirectDelay);\r\n\r\n        this.cd.detectChanges();\r\n      }\r\n      else\r\n      {\r\n        this.requestPasswordForm.get('captchaToken').setValue(null);\r\n        this.submitted = false;\r\n\r\n        this.errors = result.getErrors();\r\n        this.errors = [...this.errors, result.getResponse().error];\r\n\r\n\r\n        if (this.errors.some(a => a.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken)))\r\n        {\r\n          this.errors = [];\r\n          if (this.loadCaptchaV2)\r\n          {\r\n            this.recaptchaService.reset('v2-login');\r\n          }\r\n          else\r\n          {\r\n            setTimeout(() =>\r\n            {\r\n              this.recaptchaService.renderV2('v2-login', this.resolved.bind(this));\r\n              this.loadCaptchaV2 = true;\r\n              this.cd.detectChanges();\r\n            }, 1000);\r\n          }\r\n          return;\r\n        }\r\n\r\n        this.cd.detectChanges();\r\n      }\r\n    });\r\n  }\r\n\r\n  public resolved(captchaResponse: string): void\r\n  {\r\n    this.tokenV2 = captchaResponse;\r\n  }\r\n\r\n}\r\n","<div class=\"container-shell\">\r\n  <mat-card class=\"o-card o-card-auth\">\r\n    <div style=\"margin: -12px -12px 0px -12px;\">\r\n      <a mat-button class=\"a-button\" [routerLink]=\"requestPasswordUrl\">\r\n        <span class=\"align-middle\" style=\"line-height: 24px;\">\r\n          <mat-icon class=\"align-middle\">arrow_back</mat-icon>\r\n          <span>{{'SHELL.AUTH_PAGES.REQUEST_PASSWORD.BACK' | teiTextTranslate}}</span>\r\n        </span>\r\n      </a>\r\n    </div>\r\n    <div class=\"mt-3\">\r\n      <div class=\"a-text-h1 text-center\">{{'SHELL.AUTH_PAGES.REQUEST_PASSWORD.FORGOT_PASSWORD' | teiTextTranslate}}\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"text-center a-text-default my-3\">{{forgotPasswordTitle}}\r\n    </div>\r\n\r\n\r\n    <form class=\"mt-4\" (ngSubmit)=\"requestPass()\" [formGroup]=\"requestPasswordForm\" aria-labelledby=\"title\"\r\n      autocomplete=\"off\">\r\n\r\n      <div class=\"\">\r\n        <mat-form-field class=\"a-input w-100\" appearance=\"outline\">\r\n          <mat-label>{{settings?.UserNameLabel}} </mat-label>\r\n          <input autocomplete=\"false\" formControlName=\"username\" placeholder=\"{{settings?.UserNameLabel}}\" autofocus\r\n            matInput>\r\n          <mat-error>\r\n            {{getErrorMessage('username', settings?.UserNameLabel)}}\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n      <div class=\"my-3\" *ngIf=\"showMessages.error && errors?.length && !submitted\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"warn\">error</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.REQUEST_PASSWORD.FAILED' | teiTextTranslate}}\r\n            </div>\r\n            <div *ngFor=\"let error of errors\" class=\"a-text-secondary\">{{ error }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"my-3\" *ngIf=\"showMessages.success && messages?.length && !submitted\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"accent\">check_circle</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.REQUEST_PASSWORD.SUCCESS' | teiTextTranslate}}\r\n            </div>\r\n            <div *ngFor=\"let message of messages\" class=\"a-text-secondary\">{{ message }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"px-auto my-2 mx-auto d-flex d-flex justify-content-center\">\r\n        <div id=\"v2-login\"></div>\r\n      </div>\r\n\r\n      <div class=\"mt-3\">\r\n        <button [disabled]=\"submitted || requestPasswordForm?.invalid\" mat-raised-button color=\"primary\"\r\n          class=\"w-100 a-button-lg\">{{'SHELL.AUTH_PAGES.REQUEST_PASSWORD.REQUEST_PASSWORD' | teiTextTranslate}}</button>\r\n      </div>\r\n    </form>\r\n\r\n    <div class=\"a-text-default text-center my-4\" *ngIf=\"settings?.AllowRegistration\">\r\n      <span class=\"\">{{'SHELL.AUTH_PAGES.SEND_ACTIVATION.NO_ACCOUNT' | teiTextTranslate}} </span><a\r\n        style=\"text-decoration: none;\" class=\"a-text-link\"\r\n        routerLink=\"/auth/register\">{{'SHELL.AUTH_PAGES.SEND_ACTIVATION.REGISTER' | teiTextTranslate}}</a>\r\n    </div>\r\n  </mat-card>\r\n</div>","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAuthModule } from '@tei/nebular-auth';\r\nimport { NbAlertModule, NbButtonModule, NbCheckboxModule, NbIconModule, NbInputModule } from '@tei/nebular-theme';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { RequestPasswordComponent } from './request-password.component';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst NB_MODULES = [NbAuthModule, NbAlertModule, NbInputModule, NbCheckboxModule, NbButtonModule, NbIconModule];\r\nconst MATERIAL_MODULES = [MatCardModule, ReactiveFormsModule, MatButtonModule, MatFormFieldModule, MatInputModule, MatIconModule];\r\nconst TP_MODULES = [];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\nconst CAPTCHA_MODULES = [];\r\n\r\nconst COMPONENTS = [RequestPasswordComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_CORE_MODULES, ...TP_MODULES,...CAPTCHA_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS]\r\n})\r\nexport class RequestPasswordModule { }\r\n","import { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\r\nimport { UntypedFormControl, UntypedFormGroup, ValidatorFn, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ConfigService, RecaptchaService } from '@tei/core';\r\nimport { NB_AUTH_OPTIONS, NbAuthService, NbResetPasswordComponent } from '@tei/nebular-auth';\r\nimport { NbAuthResult } from '@tei/nebular-auth/services/auth-result';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { firstValueFrom } from 'rxjs';\r\nimport { AuthenticationSettings, UserNameTypeEnum } from '../../../@core/authentication/@intermediate/models/get-authentication-settings.model';\r\nimport { AuthenticationSettingsProvider } from '../../../@core/authentication/@services/authentication-settings.provider';\r\nimport { GetGlobalTenantSettingsResponse } from '../../../@intermediate/models/app.model';\r\nimport { GlobalSettingsProvider } from '../../../@services/global-settings.provider';\r\n\r\n@Component({\r\n  selector: 'ngx-reset-password',\r\n  templateUrl: './reset-password.component.html',\r\n  styleUrls: ['./reset-password.component.scss']\r\n})\r\nexport class ResetPasswordComponent extends NbResetPasswordComponent implements OnInit\r\n{\r\n\r\n  tokenV2 = '';\r\n  loadCaptchaV2 = false;\r\n  tenant_settings: GetGlobalTenantSettingsResponse;\r\n\r\n  title: string;\r\n  userNameType = UserNameTypeEnum;\r\n  settings: AuthenticationSettings;\r\n  loginUrl: string;\r\n  disableUserName: boolean;\r\n  resetPasswordForm: UntypedFormGroup;\r\n  returnURL: string;\r\n  isExternalLogin: boolean = false;\r\n\r\n  get userValue()\r\n  {\r\n    return this.resetPasswordForm?.value ?? {} as any;\r\n  }\r\n  get captchaTheme() { return this.themeService.currentTheme.includes('dark') ? 'dark' : 'light'; }\r\n\r\n  constructor(protected service: NbAuthService,\r\n    @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n    protected cd: ChangeDetectorRef,\r\n    private route: ActivatedRoute,\r\n    private authenticationSettingsProvider: AuthenticationSettingsProvider,\r\n    protected router: Router,\r\n    private recaptchaService: RecaptchaService,\r\n    private configService: ConfigService,\r\n    private translate: TranslateService,\r\n    private themeService: NbThemeService,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n  )\r\n  {\r\n    super(service, options, cd, router);\r\n    this.createForm();\r\n  }\r\n\r\n  async ngOnInit(): Promise<void>\r\n  {\r\n    this.title = this.route.snapshot.data['Title'];\r\n    this.loginUrl = '/auth/login';\r\n\r\n    if (this.route.snapshot.params['username'] && this.route.snapshot.params['username'] !== '')\r\n    {\r\n      this.disableUserName = true;\r\n    }\r\n\r\n    this.tenant_settings = await firstValueFrom(this.globalSettingsProvider.GetGlobalTenantSettings());\r\n\r\n    await this.recaptchaService.loadRecaptchaScript();\r\n\r\n    this.authenticationSettingsProvider.GetSettings().subscribe(settings =>\r\n    {\r\n      this.settings = settings?.authenticationSettings;\r\n      this.createForm();\r\n      this.validateCaptchaToken().then(() => { this.cd.markForCheck(); });\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n\r\n  private createForm(): void\r\n  {\r\n    this.resetPasswordForm = new UntypedFormGroup({\r\n      captchaToken: new UntypedFormControl('', []),\r\n      username: new UntypedFormControl(this.route.snapshot.params['username'], [Validators.required]),\r\n      token: new UntypedFormControl(this.route.snapshot.queryParams['token'], [Validators.required]),\r\n      password: new UntypedFormControl(this.route.snapshot.queryParams['tokenValue'], [Validators.required, Validators.minLength(this.getConfigValue('forms.validation.password.minLength') || 6),\r\n      Validators.maxLength(this.getConfigValue('forms.validation.password.maxLength') || 50),]),\r\n      confirmPassword: new UntypedFormControl('', [Validators.required, Validators.minLength(this.getConfigValue('forms.validation.password.minLength') || 6),\r\n      Validators.maxLength(this.getConfigValue('forms.validation.password.maxLength') || 50),]),\r\n    });\r\n\r\n    this.resetPasswordForm.controls.password.addValidators(this.MustMatchPassword('password', 'confirmPassword'));\r\n    this.resetPasswordForm.controls.confirmPassword.addValidators(this.MustMatchPassword('confirmPassword', 'password'));\r\n\r\n    this.resetPasswordForm.markAllAsTouched();\r\n\r\n  }\r\n\r\n  getErrorMessage(fieldName: string, fieldLabel: string): string\r\n  {\r\n    if (this.resetPasswordForm?.get(fieldName).hasError('required'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_REQUIRED') }`;\r\n    }\r\n    if (this.resetPasswordForm?.get(fieldName).hasError('maxlength') || this.resetPasswordForm?.get(fieldName).hasError('minlength'))\r\n    {\r\n      return this.translate.instant('SHELL.AUTH_PAGES.LOGIN.LOGIN_PASSWORD_LENGTH', { minLength: this.getConfigValue('forms.validation.password.minLength'), maxLength: this.getConfigValue('forms.validation.password.maxLength') });\r\n    }\r\n    if (this.resetPasswordForm?.get(fieldName).hasError('mustMatch'))\r\n    {\r\n      return this.translate.instant('SHELL.AUTH_PAGES.LOGIN.PASSWORD_NOT_MATCHED');\r\n    }\r\n    if (this.resetPasswordForm?.get(fieldName).hasError('pattern'))\r\n    {\r\n      return `${ fieldLabel } ${ this.translate.instant('SHELL.AUTH_PAGES.LOGIN.IS_NOT_VALID') }`;\r\n    }\r\n  }\r\n\r\n  async validateCaptchaToken(): Promise<void>\r\n  {\r\n    try\r\n    {\r\n      if (this.recaptchaService.isReady())\r\n      {\r\n        let captchaToken = this.tokenV2;\r\n\r\n        if (!this.loadCaptchaV2)\r\n        {\r\n          captchaToken = this.resetPasswordForm.get('captchaToken').value;\r\n          if (!captchaToken)\r\n          {\r\n            this.submitted = true;\r\n            captchaToken = await this.recaptchaService.executeV3('ResetPasswordAction', 'v2-login', this.configService?.turnstileConfigs?.appearance?.auth);\r\n            this.submitted = false;\r\n          }\r\n        }\r\n\r\n        if (!captchaToken)\r\n        {\r\n          this.submitted = false;\r\n          this.errors = ['error. reCaptcha verification error.'];\r\n          return;\r\n        }\r\n        this.resetPasswordForm.get('captchaToken').setValue(captchaToken);\r\n      } else if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n      {\r\n        this.submitted = false;\r\n        this.errors = ['error. reCaptcha verification error.'];\r\n        return;\r\n      }\r\n\r\n    } catch (e)\r\n    {\r\n      this.submitted = false;\r\n      console.error(e);\r\n      this.errors = ['error. reCaptcha verification error.'];\r\n      return;\r\n    }\r\n  }\r\n\r\n  async resetPass(): Promise<void>\r\n  {\r\n    await this.validateCaptchaToken();\r\n\r\n    this.errors = this.messages = [];\r\n    this.submitted = true;\r\n\r\n    if (this.tenant_settings.GoogleRecaptchaIsActive || this.tenant_settings.CloudflareRecaptchaIsActive)\r\n    {\r\n      this.userValue['additionalParameters'] = { CaptchaToken: this.userValue.captchaToken, CaptchaStrategy: this.loadCaptchaV2 ? 'V2' : 'V3' };\r\n    }\r\n\r\n    this.service.resetPassword(this.strategy, this.userValue).subscribe((result: NbAuthResult) =>\r\n    {\r\n      if (result.isSuccess())\r\n      {\r\n        this.messages = result.getMessages();\r\n\r\n        const originIsExternalLogin = (decodeURIComponent(this.route.snapshot.params['externalLogin'] ?? '') === 'true')\r\n          || (decodeURIComponent(this.route.snapshot.queryParamMap.get('externalLogin') ?? '') === 'true');\r\n\r\n        this.isExternalLogin = originIsExternalLogin && !(this.configService?.defaultConfig?.ignoreExternalLoginRedirection ?? false);\r\n\r\n        if (!originIsExternalLogin || this.isExternalLogin)\r\n        {\r\n          this.returnURL = this.route.snapshot.queryParams['returnURL'] ?? '';\r\n        }\r\n\r\n        const queryParams = this.returnURL ? { returnUrl: this.returnURL, externalLogin: this.isExternalLogin } : {};\r\n\r\n        setTimeout(() =>\r\n        {\r\n          this.router.navigate([this.loginUrl, this.userValue.username], { queryParams });\r\n          this.submitted = false;\r\n        }, 2000);\r\n      }\r\n      else\r\n      {\r\n        this.resetPasswordForm.get('captchaToken').setValue(null);\r\n        this.errors = result.getErrors();\r\n        const serverError = result.getResponse()?.error;\r\n\r\n        if (this.errors.some(a => a.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken))\r\n          || serverError.includes(this.globalSettingsProvider.CaptchaV3_InvalidToken))\r\n        {\r\n          this.errors = [];\r\n\r\n          if (this.loadCaptchaV2)\r\n          {\r\n            this.recaptchaService.reset('v2-login');\r\n          }\r\n          else\r\n          {\r\n            setTimeout(() =>\r\n            {\r\n              this.recaptchaService.renderV2('v2-login', this.resolved.bind(this));\r\n              this.loadCaptchaV2 = true;\r\n              this.cd.detectChanges();\r\n            }, 1000);\r\n          }\r\n          this.submitted = false;\r\n\r\n          return;\r\n        }\r\n\r\n        if (serverError instanceof String || typeof serverError === 'string')\r\n        {\r\n          this.errors = [serverError as string];\r\n        }\r\n        else if (serverError)\r\n        {\r\n          this.errors = [];\r\n          this.errors.push(serverError);\r\n        } else\r\n        {\r\n          this.errors = result.getErrors();\r\n        }\r\n        this.submitted = false;\r\n      }\r\n\r\n      this.cd.detectChanges();\r\n    });\r\n  }\r\n\r\n  MustMatchPassword(controlName: string, matchingControlName: string): ValidatorFn\r\n  {\r\n    return () =>\r\n    {\r\n      const control = this.resetPasswordForm.controls[controlName];\r\n      const matchingControl = this.resetPasswordForm.controls[matchingControlName];\r\n\r\n      if (matchingControl.errors && !matchingControl.errors.mustMatch)\r\n      {\r\n        // return if another validator has already found an error on the matchingControl\r\n        return null;\r\n      }\r\n\r\n      // set error on matchingControl if validation fails\r\n      if (control.value !== matchingControl.value)\r\n      {\r\n        matchingControl.setErrors({ mustMatch: true });\r\n        return { mustMatch: true };\r\n      } else\r\n      {\r\n        matchingControl.setErrors(null);\r\n      }\r\n      return null;\r\n    };\r\n  }\r\n\r\n  public resolved(captchaResponse: string): void\r\n  {\r\n    this.tokenV2 = captchaResponse;\r\n  }\r\n}\r\n","<div class=\"container-shell\">\r\n  <mat-card class=\"o-card o-card-auth\">\r\n    <div class=\"mt-3\">\r\n      <div class=\"a-text-h1 text-center\">{{title}}</div>\r\n    </div>\r\n    <div class=\"a-text-default text-center my-3\">{{'SHELL.AUTH_PAGES.RESET_PASSWORD.PLEASE_SET_NEW_PASSWORD' |\r\n      teiTextTranslate}}\r\n    </div>\r\n\r\n    <form (ngSubmit)=\"resetPass()\" [formGroup]=\"resetPasswordForm\" aria-labelledby=\"title\" autocomplete=\"off\">\r\n      <mat-form-field class=\"a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{settings?.UserNameLabel}}</mat-label>\r\n        <input autocomplete=\"false\" formControlName=\"username\" placeholder=\"{{settings?.UserNameType === userNameType.AlphaNumeric ? settings?.UserNameLabel : 'SHELL.AUTH_PAGES.RESET_PASSWORD.EMAIL_ADDRESS' | teiTextTranslate}}\r\n          \" autofocus matInput>\r\n        <mat-error>\r\n          {{getErrorMessage('username', settings?.UserNameLabel)}}\r\n        </mat-error>\r\n      </mat-form-field>\r\n      <mat-form-field class=\"a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.RESET_PASSWORD.NEW_PASSWORD' | teiTextTranslate}}</mat-label>\r\n        <input autocomplete=\"false\" type=\"password\" formControlName=\"password\"\r\n          placeholder=\"{{'SHELL.AUTH_PAGES.RESET_PASSWORD.NEW_PASSWORD' | teiTextTranslate}}\" autofocus matInput>\r\n        <mat-error>\r\n          {{getErrorMessage('password', 'Password')}}\r\n        </mat-error>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"a-input w-100\" appearance=\"outline\">\r\n        <mat-label>{{'SHELL.AUTH_PAGES.RESET_PASSWORD.CONFIRM_NEW_PASSWORD' | teiTextTranslate}}</mat-label>\r\n        <input autocomplete=\"false\" type=\"password\" formControlName=\"confirmPassword\" placeholder=\"Confirm Password\"\r\n          autofocus matInput>\r\n        <mat-error>\r\n          <mat-error>\r\n            {{getErrorMessage('confirmPassword', 'Confirm Password')}}\r\n          </mat-error>\r\n        </mat-error>\r\n      </mat-form-field>\r\n\r\n      <div class=\"my-3\" *ngIf=\"showMessages.error && errors?.length && !submitted\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"warn\">error</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.RESET_PASSWORD.FAILED' | teiTextTranslate}}\r\n            </div>\r\n            <div *ngFor=\"let error of errors\" class=\"a-text-secondary\">{{ error }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"my-3\" *ngIf=\"messages?.length\">\r\n        <div class=\"d-flex\">\r\n          <div class=\"align-self-center\">\r\n            <mat-icon class=\"align-middle\" color=\"accent\">check_circle</mat-icon>\r\n          </div>\r\n          <div class=\"pl-2\">\r\n            <div class=\"a-text-primary alert-title\">{{'SHELL.AUTH_PAGES.RESET_PASSWORD.SUCCESS' | teiTextTranslate}}\r\n            </div>\r\n            <div *ngFor=\"let message of messages\" class=\"a-text-secondary\">{{ message }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"px-auto my-2 mx-auto d-flex d-flex justify-content-center\">\r\n        <div id=\"v2-login\"></div>\r\n      </div>\r\n      \r\n      <div class=\"mt-3\">\r\n        <button mat-raised-button color=\"primary\" class=\"w-100 a-button-lg\"\r\n          [disabled]=\"submitted || resetPasswordForm.invalid\" [class.btn-pulse]=\"submitted\">\r\n          {{title}}\r\n        </button>\r\n      </div>\r\n    </form>\r\n\r\n    <div class=\"d-flex justify-content-between a-text-default text-center my-4\" aria-label=\"Sign in or sign up\">\r\n      <div class=\"\"><a style=\"text-decoration: none;\" class=\"a-text-link\"\r\n          routerLink=\"/auth/login\">{{'SHELL.AUTH_PAGES.RESET_PASSWORD.BACK_TO_LOGIN'\r\n          |\r\n          teiTextTranslate}}</a></div>\r\n      <div class=\"\"><a style=\"text-decoration: none;\" class=\"a-text-link\"\r\n          routerLink=\"/auth/register\">{{'SHELL.AUTH_PAGES.RESET_PASSWORD.REGISTER' |\r\n          teiTextTranslate}}</a></div>\r\n    </div>\r\n\r\n  </mat-card>\r\n</div>","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbAuthModule } from '@tei/nebular-auth';\r\nimport { NbAlertModule, NbButtonModule, NbCheckboxModule, NbIconModule, NbInputModule } from '@tei/nebular-theme';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { ResetPasswordComponent } from './reset-password.component';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst NB_MODULES = [NbAuthModule, NbAlertModule, NbInputModule, NbCheckboxModule, NbButtonModule, NbIconModule];\r\nconst MATERIAL_MODULES = [MatCardModule, MatButtonModule, ReactiveFormsModule, MatFormFieldModule, MatInputModule, MatIconModule];\r\nconst TP_MODULES = [];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\nconst CAPTCHA_MODULES = [];\r\n\r\nconst COMPONENTS = [ResetPasswordComponent];\r\n\r\n@NgModule({\r\n  imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...NB_MODULES, ...TEI_CORE_MODULES, ...TP_MODULES,...CAPTCHA_MODULES],\r\n  exports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_CORE_MODULES, ...COMPONENTS],\r\n  declarations: [...COMPONENTS]\r\n})\r\nexport class ResetPasswordModule { }\r\n","import { AfterContentChecked, ChangeDetectorRef, Component, ElementRef, Inject, OnInit, QueryList, ViewChildren } from '@angular/core';\r\nimport { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MatLegacySnackBar as MatSnackBar } from '@angular/material/legacy-snack-bar';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ManageLoadingService } from '@tei/core';\r\nimport { GetUserCompleteRegistrationRequest, GetUserCompleteRegistrationResponse } from '../../@intermediate/models/get-user-complete-profile.model';\r\nimport { PostUserCompleteRegistrationRequest } from '../../@intermediate/models/post-user-complete-profile.model';\r\nimport { IUserCompleteProfileService } from '../../@intermediate/user-complete-profile.interface';\r\n\r\n@Component({\r\n  selector: 'shell-user-complete-profile',\r\n  templateUrl: './user-complete-profile.component.html',\r\n  styleUrls: ['./user-complete-profile.component.scss'],\r\n})\r\nexport class UserCompleteProfileComponent implements OnInit, AfterContentChecked\r\n{\r\n  model: GetUserCompleteRegistrationResponse;\r\n  showSaveButton = false;\r\n  loadedSections = 0;\r\n\r\n  fieldForm = new FormGroup({\r\n    MyProfileFieldInfos: new FormArray([], [Validators.required])\r\n  });\r\n\r\n  myProfileFieldInfoArray = this.fieldForm.get('MyProfileFieldInfos') as FormArray;\r\n\r\n  returnUrl: string = \"\";\r\n\r\n  @ViewChildren('sharedFields') fields: QueryList<ElementRef>;\r\n  request = new GetUserCompleteRegistrationRequest();\r\n\r\n  constructor(\r\n    @Inject('IUserCompleteProfileService') private UserCompleteProfileService: IUserCompleteProfileService,\r\n    private snackBar: MatSnackBar,\r\n    private translate: TranslateService,\r\n    public manageLoadingService: ManageLoadingService,\r\n    private cdr: ChangeDetectorRef,\r\n    private router: Router,\r\n    route: ActivatedRoute\r\n  )\r\n  {\r\n    this.returnUrl = route.snapshot?.queryParams?.returnURL;\r\n  }\r\n\r\n  ngOnInit()\r\n  {\r\n    this.load(this.request);\r\n  }\r\n\r\n  private load(request: GetUserCompleteRegistrationRequest)\r\n  {\r\n    if (!this.model)\r\n    {\r\n      this.model = new GetUserCompleteRegistrationResponse();\r\n    }\r\n    this.request.FieldsStatus = 0;\r\n    this.manageLoadingService.startLoading();\r\n    this.UserCompleteProfileService.Get(request).subscribe(response =>\r\n    {\r\n      this.model = response;\r\n      if (!this.model.FieldGroups.length)\r\n      {\r\n        this.router.navigateByUrl('/auth/finalize-authentication' + (this.returnUrl ? \"?returnURL=\" + this.returnUrl : \"\"));\r\n      } else\r\n      {\r\n        this.fillFormArray();\r\n      }\r\n      this.manageLoadingService.finishLoading();\r\n    }, error => { error; });\r\n\r\n  }\r\n\r\n  save(): void\r\n  {\r\n    const value: PostUserCompleteRegistrationRequest = { MyProfileFieldInfos: this.fields.map(field => field['getRawValue']()) };\r\n    this.UserCompleteProfileService.Post(value).subscribe(\r\n      response =>\r\n      {\r\n        this.openSnackBar(this.translate.instant('SHELL.AUTH_PAGES.USER_COMPLETE_PROFILE.SAVED'), \"\");\r\n        this.router.navigateByUrl('/auth/finalize-authentication' + (this.returnUrl ? \"?returnURL=\" + this.returnUrl : \"\"));\r\n      });\r\n  }\r\n\r\n  fillFormArray(): void\r\n  {\r\n    this.model.FieldGroups.forEach(group =>\r\n    {\r\n      this.myProfileFieldInfoArray.push(new FormControl());\r\n    });\r\n  }\r\n\r\n  getMyProfileFieldInfoArray(): FormArray\r\n  {\r\n    return this.fieldForm.get('MyProfileFieldInfos') as FormArray;\r\n  }\r\n\r\n\r\n  openSnackBar(message: string, action: string): void\r\n  {\r\n    this.snackBar.open(message, action, {\r\n      duration: 3 * 1000,\r\n    });\r\n  }\r\n\r\n  dataLoaded(result: boolean): void\r\n  {\r\n    if (!result)\r\n    {\r\n      return;\r\n    }\r\n    this.loadedSections++;\r\n    if (this.loadedSections === this.model.FieldGroups.length)\r\n    {\r\n      this.cdr.detectChanges();\r\n    }\r\n  }\r\n\r\n  get isSubFormsValid(): boolean\r\n  {\r\n    return (this.fields.map(m => m['isMasterFieldAnswersValid']) as boolean[]).every(Boolean);\r\n  }\r\n\r\n  ngAfterContentChecked(): void\r\n  {\r\n    this.showSaveButton = true;\r\n  }\r\n\r\n}\r\n","<div class=\"container-shell complete-profile\">\r\n  <form *ngIf=\"!(manageLoadingService.isLoading$ | async)\" [formGroup]=\"fieldForm\" (ngSubmit)=\"save()\">\r\n    <div class=\"row justify-content-center align-items-start\">\r\n      <div class=\"col-sm-12 col-md-9 col-lg-7\">\r\n        <ng-container>\r\n          <div *ngFor=\"let field of model.FieldGroups; index as i; first as isFirst\">\r\n            <div class=\"\">\r\n              <h3 class=\"mb-2\" *ngIf=\"isFirst\">{{ 'SHELL.AUTH_PAGES.USER_COMPLETE_PROFILE.TITLE' | teiTextTranslate }}</h3>\r\n              <div class=\"a-text-primary\">{{field.Name}}</div>\r\n            </div>\r\n            <div class=\"mb-3 mt-1\">\r\n              <tei-field-management-shared-field-group-lookup #sharedFields [fieldGroupID]=\"field.FieldGroupID\" scope=\"1\"\r\n                [roleID]=\"model.RoleIdentifier\" [fieldGroupAnswerID]=\"field.FieldGroupAnswerID\"\r\n                [formControl]=\"myProfileFieldInfoArray?.controls[i]\" (dataLoaded)=\"dataLoaded($event)\" [isCompleteProfilePage]=\"true\">\r\n              </tei-field-management-shared-field-group-lookup>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n        <div *ngIf=\"showSaveButton\" class=\"mb-3 mt-2 text-right\">\r\n          <button id=\"btn-save\" mat-raised-button mat-button-base mat-accent class=\"\" color=\"accent\" type=\"submit\"\r\n            [disabled]=\"fieldForm.invalid || !isSubFormsValid\">{{ 'SHELL.AUTH_PAGES.USER_COMPLETE_PROFILE.SAVE' | teiTextTranslate }}</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n<tei-loading [show]=\"manageLoadingService.isLoading$ | async\"></tei-loading>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatLegacyCheckboxModule as MatCheckboxModule } from '@angular/material/legacy-checkbox';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { LoadingModule } from '@tei/material';\r\nimport { FieldGroupLookupModule, FieldGroupLookupWrapperModule } from '@tei/common-field-management-shared';\r\nimport { UserCompleteProfileComponent } from './user-complete-profile.component';\r\nimport { UserCompleteProfileService } from '../../@services/user-complete-profile.service';\r\n\r\nconst BASE_MODULES = [CommonModule, FormsModule, RouterModule];\r\nconst MATERIAL_MODULES = [MatCardModule, ReactiveFormsModule, MatButtonModule, MatFormFieldModule, MatInputModule, MatCheckboxModule, MatIconModule, MatCardModule];\r\nconst TEI_MATERIAL_MODULES = [LoadingModule, FieldGroupLookupModule, FieldGroupLookupWrapperModule];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule];\r\n\r\nconst COMPONENTS = [UserCompleteProfileComponent];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ...COMPONENTS,\r\n  ],\r\n  imports: [\r\n    ...BASE_MODULES,\r\n    ...MATERIAL_MODULES,\r\n    ...TEI_CORE_MODULES,\r\n    ...TEI_MATERIAL_MODULES\r\n  ],\r\n  exports: [\r\n    ...COMPONENTS\r\n  ],\r\n  providers: [\r\n    { provide: 'IUserCompleteProfileService', useClass: UserCompleteProfileService },\r\n  ],\r\n  schemas: [NO_ERRORS_SCHEMA]\r\n})\r\nexport class UserCompleteProfileModule { }\r\n","import { Component, Inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { MAT_LEGACY_DIALOG_DATA as MAT_DIALOG_DATA, MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { ResponsiveService } from '@tei/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { ReadyReportDialogDataModel } from '../../../@intermediate/models/report-notification.model';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-ready-report-dialog',\r\n  templateUrl: './ready-report-dialog.component.html',\r\n  styleUrls: ['./ready-report-dialog.component.scss']\r\n})\r\nexport class ReadyReportDialogComponent implements OnInit, OnDestroy\r\n{\r\n  isMobile = false;\r\n  subscription = new Subscription();\r\n  dialogConfirmationData: ReadyReportDialogDataModel = {\r\n    title: 'MATERIAL.NOTES.DELETE_LABEL',\r\n    content: 'MATERIAL.NOTES.DELETE_CONFIRMATION_MESSAGE',\r\n    reportLink: '',\r\n    submitButtonLabel: 'MATERIAL.NOTES.DELETE_LABEL',\r\n    closeButtonLabel: 'MATERIAL.NOTES.CANCEL_LABEL',\r\n    submitButtonColor: 'warn',\r\n    closeButtonClass: \"mat-stroked-button\"\r\n  };\r\n\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    private router: Router,\r\n    private responsiveService: ResponsiveService,\r\n    @Inject(MAT_DIALOG_DATA) public data: ReadyReportDialogDataModel\r\n  ) { }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.dialogConfirmationData = this.data;\r\n    if (!this.dialogConfirmationData.closeButtonClass)\r\n    {\r\n      this.dialogConfirmationData.closeButtonClass = \"mat-raised-button\";\r\n    }\r\n    this.getScreenSize();\r\n  }\r\n\r\n  getScreenSize(): void\r\n  {\r\n    this.subscription.add(this.responsiveService.mediaBreakpoint.subscribe(screenSize =>\r\n    {\r\n      this.isMobile = screenSize == 'xs' || screenSize == 'sm';\r\n    }));\r\n  }\r\n\r\n  ViewReport(): void\r\n  {\r\n    window.open(this.dialogConfirmationData.reportLink, \"_blank\");\r\n  };\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n\r\n}\r\n","<div class=\"o-dialog-container\">\r\n  <div class=\"m-dialog-header\">\r\n    <div class=\"row align-items-center\">\r\n      <div class=\"col\">\r\n        <div class=\"a-text-h3\">{{dialogConfirmationData?.title | teiTextTranslate}}</div>\r\n      </div>\r\n      <div class=\"icon-close\">\r\n        <button mat-icon-button mat-dialog-close>\r\n          <mat-icon>close</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <mat-divider></mat-divider>\r\n\r\n  <div class=\"m-dialog-content\" *ngIf=\"dialogConfirmationData?.content\">\r\n    <div class=\"a-text-default mb-3\">{{dialogConfirmationData?.content}}</div>\r\n  </div>\r\n\r\n  <mat-divider></mat-divider>\r\n  <div class=\"m-dialog-actions m-custom-dialog-action\">\r\n    <button mat-dialog-close class=\"mr-1\" *ngIf=\"dialogConfirmationData?.closeButtonLabel\"\r\n      [ngClass]=\"dialogConfirmationData?.closeButtonClass\">{{dialogConfirmationData?.closeButtonLabel |\r\n      teiTextTranslate}}</button>\r\n    <button mat-raised-button mat-button-base mat-accent color=\"accent\" (click)=\"ViewReport()\"\r\n      *ngIf=\"dialogConfirmationData?.submitButtonLabel\" [ngClass]=\"dialogConfirmationData?.submitButtonClass\"\r\n      [color]=\"dialogConfirmationData?.submitButtonColor ? dialogConfirmationData?.submitButtonColor : 'warn'\">{{dialogConfirmationData.submitButtonLabel}}</button>\r\n  </div>\r\n</div>","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { TeiDateTranslateModule, TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { ReadyReportDialogComponent } from './ready-report-dialog.component';\r\nimport { MatLegacyDialogModule } from '@angular/material/legacy-dialog';\r\nimport { MatLegacyButtonModule } from '@angular/material/legacy-button';\r\n\r\nconst COMPONENTS = [ReadyReportDialogComponent];\r\nconst BASE_MODULES = [CommonModule];\r\nconst MATERIAL_MODULES = [MatIconModule, MatDividerModule, MatCardModule, MatLegacyDialogModule, MatLegacyButtonModule,];\r\nconst TEI_CORE_MODULES = [TeiDateTranslateModule, TeiTextTranslatePipeModule];\r\nconst TEI_MATERIAL_MODULES = [];\r\n@NgModule({\r\n  declarations: [\r\n    ...COMPONENTS,\r\n  ],\r\n  imports: [\r\n    ...BASE_MODULES,\r\n    ...MATERIAL_MODULES,\r\n    ...TEI_CORE_MODULES,\r\n    ...TEI_MATERIAL_MODULES,\r\n  ],\r\n  exports: [\r\n    ...COMPONENTS,\r\n  ]\r\n})\r\nexport class ReadyReportDialogModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'tei-shell-toolbar',\r\n  templateUrl: './toolbar.component.html',\r\n  styleUrls: ['./toolbar.component.scss'],\r\n})\r\nexport class ToolbarComponent\r\n{\r\n}\r\n","<tei-retail-eCommerce-shopping-cart></tei-retail-eCommerce-shopping-cart>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ShoppingCartModule } from '@tei/retail-ecommerce';\r\nimport { ToolbarComponent } from './toolbar.component';\r\n\r\nconst BASE_MODULES = [CommonModule, RouterModule];\r\nconst TEI_RETAIL_ECOMMERCE_MODULES = [ShoppingCartModule];\r\nconst COMPONENT = [ToolbarComponent];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ...COMPONENT\r\n  ],\r\n  imports: [\r\n    ...BASE_MODULES,\r\n    ...TEI_RETAIL_ECOMMERCE_MODULES,\r\n  ],\r\n  exports: [\r\n    ...BASE_MODULES,\r\n    ...TEI_RETAIL_ECOMMERCE_MODULES,\r\n    ...COMPONENT\r\n  ]\r\n})\r\nexport class ToolbarModule { }\r\n","export class GetDashboardRequest\r\n{\r\n  public Name: string;\r\n}\r\n\r\nexport class GetDashboardResponse\r\n{\r\n  public Message: string;\r\n}\r\n","export class GetTenantRequest\r\n{\r\n}\r\n\r\nexport class GetTenantResponse\r\n{\r\n  public IsParentAccessible: boolean;\r\n  public Current: Tenant;\r\n  public Parent: Tenant;\r\n  public SubTenants: Tenant[];\r\n}\r\n\r\nexport class Tenant\r\n{\r\n  public TenantUID: string;\r\n  public Identifier: string;\r\n  public TenantID: number;\r\n  public Name: string;\r\n  public ImageUrl: string;\r\n  public IsPlay: boolean;\r\n}\r\n\r\nexport class PortalAdditionalInfoRequest\r\n{\r\n  public TenantID: number;\r\n}\r\n\r\nexport class PortalAdditionalInfoResponse\r\n{\r\n  public ApplicationVersion: string;\r\n  public DatabaseVersion: string;\r\n  public DatabaseName: string;\r\n  public GatewayVersion: string;\r\n  public WebVersion: string;\r\n  public PortalID: string;\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\nimport { Observable } from 'rxjs';\r\nimport\r\n{\r\n  PostReturnCustomExceptionInfoRequest, PostReturnCustomExceptionInfoResponse\r\n} from '../@intermediate/models/return-custom-exception.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CustomExceptionService\r\n{\r\n  private readonly serviceUrl: string;\r\n  constructor(@Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient)\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl();\r\n  }\r\n\r\n  public Post(request: PostReturnCustomExceptionInfoRequest): Observable<PostReturnCustomExceptionInfoResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/CustomException';\r\n\r\n    return this.http.post<PostReturnCustomExceptionInfoResponse>(apiUrl, request);\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\nimport { Observable } from 'rxjs';\r\nimport { IDashboardService } from '../@intermediate/dashboard.interface';\r\nimport { GetDashboardRequest, GetDashboardResponse } from '../@intermediate/models/get-dashboard.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DashboardService implements IDashboardService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(\r\n    @Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient\r\n  )\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Dashboard';\r\n  }\r\n\r\n  public Get(request: GetDashboardRequest): Observable<GetDashboardResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '';\r\n    return this.http.get<GetDashboardResponse>(apiUrl, { params: request as any });\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { IAPIBaseUrlProvider } from '@tei/core';\r\nimport { Observable } from 'rxjs';\r\nimport { PortalAdditionalInfoRequest, PortalAdditionalInfoResponse } from '../@intermediate/models/get-tenant.model';\r\nimport { ITenantService } from '../@intermediate/tenant.interface';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TenantService implements ITenantService\r\n{\r\n  private readonly serviceUrl: string;\r\n\r\n  constructor(\r\n    @Inject('IAPIBaseUrlProvider') protected apiBaseUrlProvider: IAPIBaseUrlProvider, private http: HttpClient\r\n  )\r\n  {\r\n    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Tenants';\r\n  }\r\n\r\n  // public Get(request: GetTenantRequest): Observable<any>\r\n  // {\r\n  //   const apiUrl = this.serviceUrl + '';\r\n  //   return this.http.get<any>(apiUrl, { params: request as any });\r\n  // }\r\n\r\n  public GetPortalGroups(): Observable<any>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/PortalGroups';\r\n    return this.http.get<any>(apiUrl);\r\n  }\r\n\r\n  public GetPortals(): Observable<any>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/Portals';\r\n    return this.http.get<any>(apiUrl);\r\n  }\r\n\r\n  GetPortalAdditionalInfo(request: PortalAdditionalInfoRequest): Observable<PortalAdditionalInfoResponse>\r\n  {\r\n    const apiUrl = this.serviceUrl + '/PortalAdditionalInfo';\r\n    return this.http.get<PortalAdditionalInfoResponse>(apiUrl, { params: request as any });\r\n  }\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { IDashboardService } from '../@intermediate/dashboard.interface';\r\nimport { GetDashboardRequest, GetDashboardResponse } from '../@intermediate/models/get-dashboard.model';\r\n\r\n@Component({\r\n  selector: 'ngx-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n})\r\nexport class DashboardComponent implements OnInit\r\n{\r\n  model: GetDashboardResponse;\r\n\r\n  constructor(\r\n    @Inject('IDashboardService') private dashboardService: IDashboardService)\r\n  {\r\n\r\n  }\r\n\r\n  ngOnInit()\r\n  {\r\n    const request = new GetDashboardRequest();\r\n    request.Name = 'TEI';\r\n\r\n    this.load(request);\r\n  }\r\n\r\n  private load(request: GetDashboardRequest)\r\n  {\r\n    if (!this.model)\r\n    {\r\n      this.model = new GetDashboardResponse();\r\n    }\r\n\r\n    this.dashboardService.Get(request).subscribe(response =>\r\n    {\r\n      this.model = response;\r\n    });\r\n  }\r\n}\r\n","<div class=\"container-shell\">\r\n  <nb-card>\r\n    <nb-card-body>{{model.Message}}</nb-card-body>\r\n  </nb-card>\r\n</div>\r\n\r\n<tei-contact-lookup-shared-contact-groups></tei-contact-lookup-shared-contact-groups>","import { NgModule } from '@angular/core';\r\nimport { NbCardModule } from '@tei/nebular-theme';\r\nimport { ContactGroupsModule, ContactLookupSubmitEventService, ContactLookupValidationFailedEventService, ContactSelectionWrapperModule } from '@tei/common-contact-lookup-shared';\r\nimport { FieldGroupLookupModule } from '@tei/common-field-management-shared';\r\nimport { DashboardService } from '../@services/dashboard.service';\r\nimport { DashboardComponent } from './dashboard.component';\r\nimport { ThemeModule } from '../../@theme/theme.module';\r\n\r\nconst TEI_MATERIAL_MODULES = [ContactSelectionWrapperModule, ContactGroupsModule, FieldGroupLookupModule];\r\nconst PROVIDERS = [ContactLookupValidationFailedEventService, ContactLookupSubmitEventService];\r\n\r\n@NgModule({\r\n  imports: [\r\n    NbCardModule,\r\n    ThemeModule,\r\n    ...TEI_MATERIAL_MODULES\r\n  ],\r\n  declarations: [\r\n    DashboardComponent,\r\n  ],\r\n  providers: [{ provide: 'IDashboardService', useClass: DashboardService }, ...PROVIDERS],\r\n})\r\nexport class DashboardModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'shell-default-route-handler',\r\n  templateUrl: './default-route-handler.component.html',\r\n  styleUrls: ['./default-route-handler.component.scss'],\r\n})\r\nexport class DefaultRouteHandlerComponent\r\n{\r\n\r\n  constructor()\r\n  {\r\n  }\r\n\r\n}\r\n","<div class=\"container-shell\">\r\n</div>\r\n","import { Location } from '@angular/common';\r\nimport { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ResponsiveService } from '@tei/core';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { firstValueFrom, Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { LoadHeaderService } from '../../../@theme/@services/load-header.service';\r\nimport\r\n{\r\n  PostReturnCustomExceptionInfoRequest, PostReturnCustomExceptionInfoResponse\r\n} from '../../@intermediate/models/return-custom-exception.model';\r\nimport { CustomExceptionService } from '../../@services/custom-exception.service';\r\n\r\n@Component({\r\n  selector: 'ngx-not-applicable-action',\r\n  styleUrls: ['./not-applicable-action.component.scss'],\r\n  templateUrl: './not-applicable-action.component.html',\r\n})\r\nexport class NotApplicableActionComponent implements OnInit, OnDestroy\r\n{\r\n  private destroy$ = new Subject();\r\n  forbiddenImageURL: string;\r\n  errorTitle: string;\r\n  isSmallScreen = false;\r\n  divForbiddenMaxHeight: number;\r\n  customException: PostReturnCustomExceptionInfoResponse;\r\n  isLoading = false;\r\n  constructor(private themeService: NbThemeService,\r\n    private responsiveService: ResponsiveService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private location: Location,\r\n    protected cd: ChangeDetectorRef,\r\n    private loadHeaderService: LoadHeaderService,\r\n    private customExceptionService: CustomExceptionService)\r\n  {\r\n\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.initData();\r\n\r\n    this.handleScreenSize();\r\n\r\n    this.getCustomException().then();\r\n  }\r\n\r\n  private handleScreenSize()\r\n  {\r\n    this.responsiveService.mediaBreakpoint.pipe(takeUntil(this.destroy$)).subscribe(screenSize =>\r\n    {\r\n      this.isSmallScreen = screenSize === 'xs';\r\n      this.divForbiddenMaxHeight = window.innerHeight - 60;\r\n    });\r\n  }\r\n\r\n  private initData()\r\n  {\r\n    this.forbiddenImageURL = this.themeService.currentTheme == 'material-dark' ?\r\n      'assets/images/no-permission-page/dark-desktop.svg' :\r\n      'assets/images/no-permission-page/light-desktop.svg';\r\n\r\n\r\n    if (this.responsiveService.isMobile)\r\n    {\r\n      this.forbiddenImageURL = this.themeService.currentTheme == 'material-dark' ?\r\n        'assets/images/no-permission-page/no-permission-dark.svg' :\r\n        'assets/images/no-permission-page/no-permission-light.svg';\r\n    }\r\n\r\n\r\n    this.divForbiddenMaxHeight = window.innerHeight - 60;\r\n\r\n    const locationState = this.location.getState() as any;\r\n\r\n    const params = this.activatedRoute.snapshot.params;\r\n\r\n    this.errorTitle = params['title'];\r\n    if (!this.errorTitle && locationState.title)\r\n    {\r\n      this.errorTitle = locationState.title ?? '';\r\n    }\r\n  }\r\n\r\n  async getCustomException(): Promise<void>\r\n  {\r\n    this.isLoading = true;\r\n    const model: PostReturnCustomExceptionInfoRequest = {\r\n      ExceptionType: this.errorTitle,\r\n    };\r\n    try\r\n    {\r\n      this.customException = await firstValueFrom(this.customExceptionService.Post(model));\r\n    }\r\n    catch (error)\r\n    {\r\n      console.log(error);\r\n    } finally\r\n    {\r\n      this.isLoading = false;\r\n      this.cd.detectChanges();\r\n    }\r\n\r\n\r\n  }\r\n  async backButtonClicked()\r\n  {\r\n    if (this.customException.BackURL && this.customException.BackURL.length > 0)\r\n    {\r\n      this.router.navigate([this.customException.BackURL]).then();\r\n    }\r\n    else\r\n    {\r\n      if (!this.loadHeaderService.hasHeaderMenus())\r\n      {\r\n        await this.loadHeaderService.loadHeader(true, false);\r\n      }\r\n      else\r\n      {\r\n        const token = await this.loadHeaderService.getExtendedToken();\r\n        await this.loadHeaderService.updateStore(this.loadHeaderService.getHeaderMenus(), true, token);\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.destroy$.next(null);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"container-shell d-flex justify-content-around\" [ngClass]=\"isSmallScreen ? 'flex-column' : 'flex-row'\"\r\n  [style.height]=\"divForbiddenMaxHeight + 'px'\">\r\n  <div *ngIf=\"isSmallScreen\" class=\"d-flex justify-content-center align-items-center\"\r\n    [ngClass]=\"isSmallScreen ? 'pt-4' : ''\">\r\n    <img class=\"w-100\" [src]=\"forbiddenImageURL\">\r\n  </div>\r\n  <div class=\"d-flex justify-content-center align-items-center\" [ngClass]=\"isSmallScreen ? 'flex-grow-1' : ''\">\r\n    <div>\r\n      <h1 class=\"a-text-h1\" [innerHTML]=\"customException?.Title\"></h1>\r\n      <p class=\"a-text-default pt-3\" [innerHTML]=\"customException?.Description\"></p>\r\n      <button *ngIf=\"customException?.BackURL||customException?.StepBack!==0\" mat-flat-button color=\"primary\"\r\n        class=\"mt-3\" id=\"a-back-button\" (click)=\"backButtonClicked()\">\r\n        <mat-icon>keyboard_backspace</mat-icon>\r\n        {{ 'SHELL.PAGE_NOT_FOUND.BACK_TO_HOME_PAGE' | teiTextTranslate }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"!isSmallScreen\" class=\"d-flex justify-content-center align-items-center\">\r\n    <img class=\"w-100\" [src]=\"forbiddenImageURL\">\r\n  </div>\r\n</div>\r\n\r\n\r\n<tei-loading [show]=\"isLoading\"></tei-loading>","import { Component, Inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { ResponsiveService } from '@tei/core';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { LoadHeaderService } from '../../../@theme/@services/load-header.service';\r\nimport { Router } from '@angular/router';\r\nimport { getDeepFromObject, NB_AUTH_OPTIONS, NbAuthResult, NbAuthService } from '@tei/nebular-auth';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'ngx-forbidden',\r\n  styleUrls: ['./forbidden.component.scss'],\r\n  templateUrl: './forbidden.component.html',\r\n})\r\nexport class ForbiddenComponent implements OnInit, OnDestroy\r\n{\r\n  private destroy$ = new Subject();\r\n\r\n  forbiddenImageURL;\r\n  isSmallScreen = false;\r\n  divForbiddenMaxHeight;\r\n\r\n  constructor(private themeService: NbThemeService,\r\n    private router: Router,\r\n    protected authService: NbAuthService,\r\n    @Inject(NB_AUTH_OPTIONS) protected options = {},\r\n    private loadHeaderService: LoadHeaderService,\r\n    private dialog: MatDialog,\r\n    private responsiveService: ResponsiveService)\r\n  {\r\n    this.forbiddenImageURL = this.themeService.currentTheme == 'material-dark' ?\r\n      'assets/images/no-permission-page/no-permission-dark.svg' :\r\n      'assets/images/no-permission-page/no-permission-light.svg';\r\n\r\n    this.divForbiddenMaxHeight = window.innerHeight - 60;\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.responsiveService.mediaBreakpoint.pipe(takeUntil(this.destroy$)).subscribe(screenSize =>\r\n    {\r\n      this.isSmallScreen = screenSize === 'xs';\r\n      this.divForbiddenMaxHeight = window.innerHeight - 60;\r\n    });\r\n\r\n    this.dialog.closeAll();\r\n  }\r\n\r\n  redirectToLogout(): void\r\n  {\r\n    const strategy = getDeepFromObject(this.options, 'forms.logout.strategy', null);\r\n    this.authService.logout(strategy).subscribe((result: NbAuthResult) =>\r\n    {\r\n      this.router.navigateByUrl('auth/login');\r\n    });\r\n  }\r\n\r\n  async backButtonClicked()\r\n  {\r\n    if (!this.loadHeaderService.hasHeaderMenus())\r\n    {\r\n      await this.loadHeaderService.loadHeader(true, false);\r\n    }\r\n    else\r\n    {\r\n      const token = await this.loadHeaderService.getExtendedToken();\r\n      await this.loadHeaderService.updateStore(this.loadHeaderService.getHeaderMenus(), true, token);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.destroy$.next(null);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"container-shell d-flex justify-content-around\" [ngClass]=\"isSmallScreen ? 'flex-column' : 'flex-row'\"\r\n  [style.height]=\"divForbiddenMaxHeight + 'px'\">\r\n  <div *ngIf=\"isSmallScreen\" class=\"d-flex justify-content-center align-items-center\"\r\n    [ngClass]=\"isSmallScreen ? 'pt-4' : ''\">\r\n    <img class=\"w-100\" [src]=\"forbiddenImageURL\">\r\n  </div>\r\n  <div class=\"d-flex justify-content-center align-items-center\" [ngClass]=\"isSmallScreen ? 'flex-grow-1' : ''\">\r\n    <div>\r\n      <h1 class=\"a-text-h1\">\r\n        {{ 'SHELL.NO_PERMISSION.NO_PERMISSION' | teiTextTranslate }}\r\n      </h1>\r\n      <p class=\"a-text-default pt-3\">\r\n        {{ 'SHELL.NO_PERMISSION.YOU_DON_NOT_HAVE_PERMISSION' | teiTextTranslate }}\r\n      </p>\r\n      <div class=\"d-flex mt-1\">\r\n\r\n        <button mat-flat-button color=\"primary\" class=\"mr-1\" (click)=\"backButtonClicked()\">\r\n          <mat-icon>keyboard_backspace</mat-icon>\r\n          {{ 'SHELL.NO_PERMISSION.BACK_TO_PREVIOUS_PAGE' | teiTextTranslate }}\r\n        </button>\r\n\r\n        <button mat-flat-button color=\"primary\" *ngIf=\"false\" (click)=\"redirectToLogout()\">\r\n\r\n          {{ 'SHELL.NO_PERMISSION.LOG_OUT' | teiTextTranslate }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"!isSmallScreen\" class=\"d-flex justify-content-center align-items-center\">\r\n    <img class=\"w-100\" [src]=\"forbiddenImageURL\">\r\n  </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ForbiddenComponent } from './forbidden/forbidden.component';\r\nimport { MiscellaneousComponent } from './miscellaneous.component';\r\nimport { NotFoundComponent } from './not-found/not-found.component';\r\nimport { NotApplicableActionComponent } from './NotApplicableAction/not-applicable-action.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MiscellaneousComponent,\r\n    children: [\r\n      {\r\n        path: '404',\r\n        component: NotFoundComponent,\r\n      },\r\n      {\r\n        path: '403',\r\n        component: ForbiddenComponent,\r\n      },\r\n      {\r\n        path: 'not-applicable-action',\r\n        component: NotApplicableActionComponent,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MiscellaneousRoutingModule\r\n{\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-miscellaneous',\r\n  template: `\r\n    <router-outlet></router-outlet>\r\n  `,\r\n})\r\nexport class MiscellaneousComponent {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { LoadingModule } from '@tei/material';\r\nimport { NbButtonModule, NbCardModule } from '@tei/nebular-theme';\r\nimport { ThemeModule } from '../../@theme/theme.module';\r\nimport { ForbiddenComponent } from './forbidden/forbidden.component';\r\nimport { MiscellaneousRoutingModule } from './miscellaneous-routing.module';\r\nimport { MiscellaneousComponent } from './miscellaneous.component';\r\nimport { NotFoundComponent } from './not-found/not-found.component';\r\nimport { NotApplicableActionComponent } from './NotApplicableAction/not-applicable-action.component';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\n\r\nconst MATERIAL_MODULES = [MatButtonModule, MatCardModule, LoadingModule, MatDialogModule];\r\n@NgModule({\r\n  imports: [\r\n    ThemeModule,\r\n    NbCardModule,\r\n    NbButtonModule,\r\n    MiscellaneousRoutingModule,\r\n    ...MATERIAL_MODULES,\r\n  ],\r\n  declarations: [\r\n    MiscellaneousComponent,\r\n    NotFoundComponent,\r\n    ForbiddenComponent,\r\n    NotApplicableActionComponent\r\n  ],\r\n})\r\nexport class MiscellaneousModule { }\r\n","import { Location } from '@angular/common';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { NbThemeService } from '@tei/nebular-theme';\r\nimport { ResponsiveService } from '@tei/core';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'ngx-not-found',\r\n  styleUrls: ['./not-found.component.scss'],\r\n  templateUrl: './not-found.component.html',\r\n})\r\nexport class NotFoundComponent implements OnInit, OnDestroy\r\n{\r\n  private destroy$ = new Subject();\r\n\r\n  notFoundImageURL;\r\n  isSmallScreen = false;\r\n  divNotFoundMaxHeight;\r\n\r\n  constructor(private themeService: NbThemeService,\r\n    private location: Location,\r\n    private responsiveService: ResponsiveService)\r\n  {\r\n    this.notFoundImageURL = this.themeService.currentTheme == 'material-dark' ?\r\n      '../../../../assets/images/404-page/404-dark.svg' :\r\n      '../../../../assets/images/404-page/404-light.svg';\r\n\r\n    this.divNotFoundMaxHeight = window.innerHeight - 60;\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.responsiveService.mediaBreakpoint.pipe(takeUntil(this.destroy$)).subscribe(screenSize =>\r\n    {\r\n      this.isSmallScreen = screenSize === 'xs';\r\n      this.divNotFoundMaxHeight = window.innerHeight - 60;\r\n    });\r\n  }\r\n\r\n  backButtonClicked()\r\n  {\r\n    this.location.back();\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.destroy$.next(null);\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","<div class=\"container-shell d-flex justify-content-around\" [ngClass]=\"isSmallScreen ? 'flex-column' : 'flex-row'\"\r\n  [style.height]=\"divNotFoundMaxHeight + 'px'\">\r\n  <div *ngIf=\"isSmallScreen\" class=\"d-flex justify-content-center align-items-center\"\r\n    [ngClass]=\"isSmallScreen ? 'pt-4' : ''\">\r\n    <img class=\"w-100\" [src]=\"notFoundImageURL\">\r\n  </div>\r\n  <div class=\"d-flex justify-content-center align-items-center\" [ngClass]=\"isSmallScreen ? 'flex-grow-1' : ''\">\r\n    <div>\r\n      <h1 class=\"a-text-h1\">\r\n        {{ 'SHELL.PAGE_NOT_FOUND.PAGE_NOT_FOUND' | teiTextTranslate }}\r\n      </h1>\r\n      <p class=\"a-text-default pt-3\">\r\n        {{ 'SHELL.PAGE_NOT_FOUND.PAGE_DOES_NOT_EXIST' | teiTextTranslate }}\r\n      </p>\r\n      <button mat-flat-button color=\"primary\" (click)=\"backButtonClicked()\">\r\n        <mat-icon>keyboard_backspace</mat-icon>\r\n        {{ 'SHELL.PAGE_NOT_FOUND.BACK_TO_PREVIOUS_PAGE' | teiTextTranslate }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"!isSmallScreen\" class=\"d-flex justify-content-center align-items-center\">\r\n    <img class=\"w-100\" [src]=\"notFoundImageURL\">\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-pages',\r\n  templateUrl: './pages.component.html',\r\n  styleUrls: ['pages.component.scss']\r\n})\r\n\r\nexport class PagesComponent\r\n{\r\n  headerTitle: string = '';\r\n}\r\n","<ngx-pages-staging-layout [headerTitle]=\"headerTitle\">\r\n\r\n</ngx-pages-staging-layout>\r\n","<div class=\"d-flex\">\r\n  <div class=\"\">\r\n    <img [src]=\"imageUrl\" class=\"rounded-circle portal-img\" alt=\"Cinque Terre\">\r\n  </div>\r\n  <div class=\"a-header-text\">\r\n    <div class=\"a-text-primary\">{{portalName}}</div>\r\n    <div *ngIf=\"total<=1\" class=\"a-text-secondary\">1 {{'SHELL.PORTAL_GROUPS.PORTAL_VIEW.PORTAL_TEXT' |\r\n      teiTextTranslate}}</div>\r\n    <div *ngIf=\"total>1\" class=\"a-text-secondary\">{{total}} {{'SHELL.PORTAL_GROUPS.PORTAL_VIEW.PORTALS_TEXT' |\r\n      teiTextTranslate}}\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'shell-portal-view',\r\n  templateUrl: './portal-view.component.html',\r\n  styleUrls: ['./portal-view.component.scss']\r\n})\r\nexport class PortalViewComponent implements OnInit\r\n{\r\n\r\n  @Input() portalName: string;\r\n  @Input() imageUrl: string;\r\n  @Input() total: number;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void\r\n  {\r\n  }\r\n\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { NbSearchService } from '@tei/nebular-theme';\r\nimport { ManageLoadingService } from '@tei/core';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { TenantRedirectService } from '../../@core/services/tenant-redirect.service';\r\nimport { GetTenantResponse, Tenant } from '../@intermediate/models/get-tenant.model';\r\nimport { ITenantService } from '../@intermediate/tenant.interface';\r\n\r\n@Component({\r\n  selector: 'shell-portal-groups',\r\n  templateUrl: './portal-groups.component.html',\r\n  styleUrls: ['./portal-groups.component.scss']\r\n})\r\nexport class PortalGroupsComponent implements OnInit\r\n{\r\n  model: GetTenantResponse;\r\n  constructor(private searchService: NbSearchService,\r\n    public manageLoadingService: ManageLoadingService,\r\n    @Inject('ITenantRedirectService') private tenantRedirectService: TenantRedirectService,\r\n    @Inject('ITenantService') private tenantService: ITenantService)\r\n  {\r\n    this.searchService.onSearchInput()\r\n      .subscribe((data: any) =>\r\n      {\r\n        this.filteredTenants = this.model.SubTenants.filter(portal => portal.Name.toLowerCase().includes(data.term.toLowerCase()));\r\n      });\r\n  }\r\n\r\n  filteredTenants: Tenant[];\r\n\r\n  ngOnInit()\r\n  {\r\n    this.load();\r\n  }\r\n\r\n  private load()\r\n  {\r\n    this.manageLoadingService.startLoading();\r\n    if (!this.model)\r\n    {\r\n      this.model = new GetTenantResponse();\r\n    }\r\n\r\n    this.tenantService.GetPortalGroups().pipe(finalize(() => this.manageLoadingService.finishLoading()))\r\n      .subscribe(\r\n        {\r\n          next: (response) =>\r\n          {\r\n            this.model = response;\r\n            this.filteredTenants = response.SubTenants;\r\n          }\r\n        });\r\n  }\r\n\r\n  onSearch($event)\r\n  {\r\n    this.searchService.searchInput($event.target.value);\r\n  }\r\n\r\n  redirect(tenantUid: string)\r\n  {\r\n    this.tenantRedirectService.redirect(tenantUid, '/portals');\r\n  }\r\n}\r\n","<div class=\"container-shell\">\r\n  <div>\r\n    <mat-form-field class=\"pb-0 no-label\" appearance=\"outline\">\r\n      <input class=\"\" matInput (keyup)=\"onSearch($event)\" autocomplete=\"off\"\r\n        placeholder=\"{{'SHELL.PORTAL_GROUPS.SEARCH' | teiTextTranslate}}...\" #input>\r\n      <button mat-icon-button matSuffix>\r\n        <mat-icon>search</mat-icon>\r\n      </button>\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div *ngFor=\"let tenant of filteredTenants\" class=\"col-12 col-sm-6 col-md-4 col-lg-3 my-3\">\r\n      <a class=\"text-decoration-none\" (click)=\"redirect(tenant?.TenantUID)\">\r\n        <mat-card class=\"o-card o-card-button h-100\" matRipple>\r\n          <shell-portal-view [portalName]=\"tenant?.Name\" [imageUrl]=\"tenant?.ImageUrl\"\r\n            [total]=\"tenant?.NestedTenantsCount\">\r\n          </shell-portal-view>\r\n        </mat-card>\r\n      </a>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n<tei-loading [show]=\"manageLoadingService.isLoading$ | async\"></tei-loading>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NbIconModule, NbPopoverModule, NbSearchModule } from '@tei/nebular-theme';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { LoadingModule } from '@tei/material';\r\nimport { TenantService } from '../@services/tenant.service';\r\nimport { PortalViewComponent } from './components/portal-view/portal-view.component';\r\nimport { PortalGroupsComponent } from './portal-groups.component';\r\nimport { LocateTenantService } from '../../@core/services/locate-tenant.service';\r\n\r\nconst NEBULAR_MODULES = [NbSearchModule, NbPopoverModule, NbIconModule,];\r\nconst MATERIAL = [MatIconModule, MatFormFieldModule, MatInputModule, MatButtonModule, MatCardModule, MatRippleModule];\r\nconst BASE_MODULES = [FormsModule, CommonModule, RouterModule];\r\nconst COMPONENTS = [PortalGroupsComponent, PortalViewComponent];\r\nconst TEI_CORE_MODULES = [TeiTextTranslatePipeModule, LoadingModule];\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  imports: [\r\n    ...BASE_MODULES,\r\n    ...NEBULAR_MODULES,\r\n    ...MATERIAL,\r\n    ...TEI_CORE_MODULES\r\n  ],\r\n  providers: [\r\n    { provide: 'ITenantService', useClass: TenantService },\r\n    { provide: 'ILocateTenantService', useClass: LocateTenantService }\r\n  ]\r\n})\r\nexport class PortalGroupsModule { }\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MAT_LEGACY_DIALOG_DATA as MAT_DIALOG_DATA, MatLegacyDialogRef as MatDialogRef } from '@angular/material/legacy-dialog';\r\n\r\n@Component({\r\n  selector: 'shell-admin-info-dialog',\r\n  templateUrl: './admin-info-dialog.component.html',\r\n  styleUrls: ['./admin-info-dialog.component.scss']\r\n})\r\nexport class AdminInfoDialogComponent implements OnInit\r\n{\r\n\r\n  constructor(public dialog: MatDialogRef<AdminInfoDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: AdminInfoDialogData)\r\n  {\r\n\r\n  }\r\n\r\n  ngOnInit()\r\n  {\r\n  }\r\n\r\n  onClose()\r\n  {\r\n    this.dialog.close();\r\n  }\r\n}\r\n\r\nexport class AdminInfoDialogData\r\n{\r\n  title: string;\r\n  applicationVersion: string;\r\n  databaseVersion: string;\r\n  databaseName: string;\r\n  gatewayVersion: string;\r\n  webVersion: string;\r\n  portalID: string;\r\n}\r\n","<div class=\"o-dialog-container\">\r\n  <div class=\"m-dialog-header\">\r\n    <div class=\"row align-items-center\">\r\n      <div class=\"col text-left\">\r\n        <div class=\"a-text-h3\">{{data.title}}</div>\r\n      </div>\r\n      <div class=\"col-auto text-right\">\r\n        <button mat-icon-button type=\"button\" (click)=\"onClose()\">\r\n          <mat-icon>close</mat-icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <mat-divider></mat-divider>\r\n  <div class=\"m-dialog-content\">\r\n    <div class=\"a-text-default info-line\">\r\n      <div>Application Version: </div>\r\n      <div>{{data.applicationVersion}}</div>\r\n    </div>\r\n    <div class=\"a-text-default info-line\">\r\n      <div>Database Version: </div>\r\n      <div>{{data.databaseVersion}}</div>\r\n    </div>\r\n    <div class=\"a-text-default info-line\">\r\n      <div>Database: </div>\r\n      <div>{{data.databaseName}}</div>\r\n    </div>\r\n    <div class=\"a-text-default info-line\">\r\n      <div>Gateway Version: </div>\r\n      <div>{{data.gatewayVersion}}</div>\r\n    </div>\r\n    <div class=\"a-text-default info-line\">\r\n      <div>Web Version: </div>\r\n      <div>{{data.webVersion}}</div>\r\n    </div>\r\n    <div class=\"a-text-default info-line\">\r\n      <div>Portal ID: </div>\r\n      <div>{{data.portalID}}</div>\r\n    </div>\r\n  </div>\r\n</div>","import { NoopScrollStrategy } from '@angular/cdk/overlay';\r\nimport { Component, Inject, Input, OnInit } from '@angular/core';\r\nimport { MatLegacyDialog as MatDialog } from '@angular/material/legacy-dialog';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ManageLoadingService } from '@tei/core';\r\nimport { SnackBarService } from '@tei/material';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { PortalAdditionalInfoRequest } from '../../../@intermediate/models/get-tenant.model';\r\nimport { ITenantService } from '../../../@intermediate/tenant.interface';\r\nimport { AdminInfoDialogComponent, AdminInfoDialogData } from '../admin-info-dialog/admin-info-dialog.component';\r\n\r\n@Component({\r\n  selector: 'shell-single-portal',\r\n  templateUrl: './single-portal.component.html',\r\n  styleUrls: ['./single-portal.component.scss']\r\n})\r\nexport class SinglePortalComponent implements OnInit\r\n{\r\n  @Input() portalName: string;\r\n  @Input() imageUrl: string;\r\n  @Input() tenantID: number;\r\n\r\n  constructor(\r\n    @Inject('ITenantService') private tenantService: ITenantService,\r\n    public dialog: MatDialog,\r\n    private translate: TranslateService,\r\n    public manageLoadingService: ManageLoadingService,\r\n    private snackBarService: SnackBarService)\r\n  {\r\n\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n  }\r\n\r\n  OnClick($event)\r\n  {\r\n    $event.stopPropagation();\r\n    this.manageLoadingService.startLoading();\r\n    if (this.tenantID)\r\n    {\r\n      const request = { TenantID: this.tenantID } as PortalAdditionalInfoRequest;\r\n\r\n      this.tenantService.GetPortalAdditionalInfo(request)\r\n        .pipe(finalize(() => this.manageLoadingService.finishLoading()))\r\n        .subscribe(\r\n          response =>\r\n          {\r\n            if (!response)\r\n            {\r\n              this.snackBarService.showError(this.translate.instant('SHELL.SINGLE_PORTAL.NO_MORE_DATA'), '', null, 'left', 'bottom');\r\n              return;\r\n            }\r\n\r\n            this.dialog.open(AdminInfoDialogComponent, {\r\n              panelClass: '',\r\n              height: '',\r\n              width: '20rem',\r\n              maxWidth: '',\r\n              data: {\r\n                title: this.portalName,\r\n                applicationVersion: response?.ApplicationVersion,\r\n                databaseVersion: response?.DatabaseVersion,\r\n                databaseName: response?.DatabaseName,\r\n                gatewayVersion: response?.GatewayVersion,\r\n                webVersion: response?.WebVersion,\r\n                portalID: response?.PortalID\r\n              } as AdminInfoDialogData,\r\n              scrollStrategy: new NoopScrollStrategy()\r\n            });\r\n          },\r\n          error =>\r\n          {\r\n            if (error.erroe.status === 401)\r\n            {\r\n              this.snackBarService.showError(this.translate.instant('SHELL.SINGLE_PORTAL.ACCESS_DENIED'), '', null, 'left', 'bottom');\r\n            }\r\n            else\r\n            {\r\n              this.snackBarService.showError(error.error.title, '', null, 'left', 'bottom');\r\n            }\r\n          }\r\n        );\r\n    }\r\n    else\r\n    {\r\n      this.snackBarService.showError(this.translate.instant('SHELL.SINGLE_PORTAL.NO_MORE_DATA'), '', null, 'left', 'bottom');\r\n    }\r\n  }\r\n}\r\n","<mat-card class=\"o-card o-card-button\">\r\n  <div style=\"max-height: 225px; height: 225px;\" class=\"m-card-image\">\r\n    <img [src]=\"imageUrl\" alt=\"Cinque Terre\">\r\n    <div class=\"m-image-overlay\">\r\n      <div class=\"m-content-container\">\r\n        <div class=\"a-content-bottomleft d-flex\" style=\"justify-content: space-between;align-items: baseline;\">\r\n          <div style=\"color: #ffffff !important;\" class=\"a-text-primary\">{{portalName}}\r\n          </div>\r\n          <div style=\"text-align: right;\">\r\n            <button mat-icon-button matSuffix (click)=\"OnClick($event)\">\r\n              <mat-icon>info</mat-icon>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</mat-card>\r\n\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ManageLoadingService } from '@tei/core';\r\nimport { BreadCrumb } from '@tei/material';\r\nimport { Subscription } from 'rxjs';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { TenantRedirectService } from '../../@core/services/tenant-redirect.service';\r\nimport { GetTenantResponse } from '../@intermediate/models/get-tenant.model';\r\nimport { ITenantService } from '../@intermediate/tenant.interface';\r\n\r\n@Component({\r\n  selector: 'shell-portals',\r\n  templateUrl: './portals.component.html',\r\n  styleUrls: ['./portals.component.scss']\r\n})\r\nexport class PortalsComponent implements OnInit\r\n{\r\n  subscription = new Subscription();\r\n  model: GetTenantResponse;\r\n  breadCrumbData: BreadCrumb[] = [];\r\n  constructor(@Inject('ITenantService') private tenantService: ITenantService,\r\n    @Inject('ITenantRedirectService') private tenantRedirectService: TenantRedirectService,\r\n    public manageLoadingService: ManageLoadingService,\r\n    private translate: TranslateService)\r\n  {\r\n  }\r\n\r\n  ngOnInit()\r\n  {\r\n    this.load();\r\n  }\r\n\r\n  private load()\r\n  {\r\n    this.manageLoadingService.startLoading();\r\n    if (!this.model)\r\n    {\r\n      this.model = new GetTenantResponse();\r\n    }\r\n\r\n    this.subscription.add(this.tenantService.GetPortals().pipe(finalize(() => this.manageLoadingService.finishLoading()))\r\n      .subscribe({\r\n        next: (response) =>\r\n        {\r\n          this.model = response;\r\n          this.breadCrumbData = [\r\n            {\r\n              title: `${ this.translate.instant('SHELL.PORTAL_GROUPS.GROUPS') }`,\r\n              action: () => this.redirectBack(this.model?.Parent?.TenantUID),\r\n              clickable: this.model?.IsParentAccessible,\r\n            },\r\n            {\r\n              title: `${ this.model?.Current?.Name }`,\r\n            }\r\n          ];\r\n        }\r\n      }));\r\n  }\r\n\r\n  redirect(tenantUid: string)\r\n  {\r\n    this.tenantRedirectService.redirect(tenantUid, '/');\r\n  }\r\n\r\n  redirectBack(tenantUid: string)\r\n  {\r\n    this.tenantRedirectService.redirect(tenantUid, '/portal-groups');\r\n  }\r\n\r\n  get PlaySubTenants()\r\n  {\r\n    return this.model?.SubTenants?.filter(tenant => tenant?.IsPlay) ?? [];\r\n  }\r\n\r\n  get LiveSubTenants()\r\n  {\r\n    return this.model?.SubTenants?.filter(tenant => !tenant?.IsPlay) ?? [];\r\n  }\r\n\r\n  get EnableSeparatorTab()\r\n  {\r\n    return this.PlaySubTenants?.length > 0 && this.LiveSubTenants?.length > 0;\r\n  }\r\n}\r\n","<div class=\"container-shell\">\r\n  <tei-material-bread-crumb *ngIf=\"breadCrumbData.length\" [breadCrumbData]=\"breadCrumbData\"></tei-material-bread-crumb>\r\n\r\n  <div class=\"row\" *ngIf=\"!EnableSeparatorTab\">\r\n    <div *ngFor=\"let tenant of model.SubTenants\" class=\"col-sm-6 col-lg-4 col-xl-3 my-3\">\r\n      <a class=\"text-decoration-none\" (click)=\"redirect(tenant?.TenantUID)\">\r\n        <shell-single-portal class=\"\" [portalName]=\"tenant?.Name\" [imageUrl]=\"tenant?.ImageUrl\"\r\n          [tenantID]=\"tenant?.TenantID\">\r\n        </shell-single-portal>\r\n      </a>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\" *ngIf=\"EnableSeparatorTab\">\r\n    <div class=\"col-12 mt-2\">\r\n      <mat-tab-group>\r\n        <mat-tab label=\"Live\">\r\n          <div class=\"row\">\r\n            <div *ngFor=\"let tenant of LiveSubTenants\" class=\"col-sm-6 col-lg-4 col-xl-3 my-3\">\r\n              <a class=\"text-decoration-none\" (click)=\"redirect(tenant?.TenantUID)\">\r\n                <shell-single-portal class=\"\" [portalName]=\"tenant?.Name\" [imageUrl]=\"tenant?.ImageUrl\"\r\n                  [tenantID]=\"tenant?.TenantID\">\r\n                </shell-single-portal>\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n        <mat-tab label=\"Play\">\r\n          <div class=\"row\">\r\n            <div *ngFor=\"let tenant of PlaySubTenants\" class=\"col-sm-6 col-lg-4 col-xl-3 my-3\">\r\n              <a class=\"text-decoration-none\" (click)=\"redirect(tenant?.TenantUID)\">\r\n                <shell-single-portal class=\"\" [portalName]=\"tenant?.Name\" [imageUrl]=\"tenant?.ImageUrl\"\r\n                  [tenantID]=\"tenant?.TenantID\">\r\n                </shell-single-portal>\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n    </div>\r\n  </div>\r\n</div>\r\n<tei-loading [show]=\"manageLoadingService.isLoading$ | async\"></tei-loading>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatRippleModule } from '@angular/material/core';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatLegacyTabsModule as MatTabsModule } from '@angular/material/legacy-tabs';\r\nimport { RouterModule } from '@angular/router';\r\nimport { TeiTextTranslatePipeModule } from '@tei/core-translate';\r\nimport { BreadCrumbModule, LoadingModule } from '@tei/material';\r\nimport { LocateTenantService } from '../../@core/services/locate-tenant.service';\r\nimport { AdminInfoDialogComponent } from './components/admin-info-dialog/admin-info-dialog.component';\r\nimport { SinglePortalComponent } from './components/single-portal/single-portal.component';\r\nimport { PortalsComponent } from './portals.component';\r\n\r\nconst NEBULAR_MODULES = [];\r\nconst MATERIAL_MODULES = [MatIconModule, MatCardModule, MatRippleModule, MatButtonModule, MatDividerModule, MatTabsModule];\r\nconst BASE_MODULES = [FormsModule, CommonModule, RouterModule];\r\nconst COMPONENTS = [PortalsComponent, SinglePortalComponent, AdminInfoDialogComponent];\r\nconst TEI_CORE_MODULES = [LoadingModule, BreadCrumbModule, TeiTextTranslatePipeModule];\r\n\r\n@NgModule({\r\n  declarations: [...COMPONENTS],\r\n  imports: [\r\n    ...BASE_MODULES,\r\n    ...NEBULAR_MODULES,\r\n    ...MATERIAL_MODULES,\r\n    ...TEI_CORE_MODULES\r\n  ],\r\n  providers: [\r\n    { provide: 'ILocateTenantService', useClass: LocateTenantService }\r\n  ]\r\n})\r\nexport class PortalsModule { }\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'shell-web',\r\n  templateUrl: './web.component.html',\r\n  styleUrls: ['./web.component.scss']\r\n})\r\nexport class WebComponent implements OnInit, OnDestroy\r\n{\r\n  constructor(\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    // TO DO :: default route should come from application\r\n    //This cause issue for anonymous hold tee times. overriding the redirection of pages\r\n    //this.router.navigate(['web/tee-times']);\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n  }\r\n}\r\n","<div class=\"container-shell\">\r\n    <!-- <a href=\"#\">Plz do not remove it</a>  -->\r\n </div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatLegacyButtonModule as MatButtonModule } from '@angular/material/legacy-button';\r\nimport { MatLegacyCardModule as MatCardModule } from '@angular/material/legacy-card';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatLegacyFormFieldModule as MatFormFieldModule } from '@angular/material/legacy-form-field';\r\nimport { MatLegacyInputModule as MatInputModule } from '@angular/material/legacy-input';\r\nimport { MatStepperModule } from '@angular/material/stepper';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ContactAvatarModule, ContactLookupSharedModule, ContactLookupSubmitEventService, ContactLookupValidationFailedEventService, ContactSelectionWrapperModule } from '@tei/common-contact-lookup-shared';\r\nimport { LoadingModule } from '@tei/material';\r\nimport { WebComponent } from './web.component';\r\n\r\nconst MODULE = [];\r\n\r\nconst BASE_MODULES = [CommonModule, RouterModule, FormsModule, ReactiveFormsModule];\r\nconst MATERIAL_MODULES = [MatCardModule, MatFormFieldModule, MatButtonModule, MatInputModule, MatStepperModule, MatDividerModule, MatExpansionModule];\r\nconst TEI_MODULES = [LoadingModule, ContactLookupSharedModule];\r\nconst LOTTERY_MODULES = [];\r\nconst PROVIDERS = [ContactLookupValidationFailedEventService,\r\n  ContactLookupSubmitEventService];\r\n  const CONTACT_LOOKUP_MODULES = [ContactAvatarModule, ContactSelectionWrapperModule];\r\n\r\nconst TEI_MATERIAL_MODULES = [LoadingModule];\r\n\r\n@NgModule({\r\n  declarations: [WebComponent],\r\n  imports: [\r\n    ...BASE_MODULES,\r\n    ...TEI_MATERIAL_MODULES,\r\n    ...MODULE,\r\n    ...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_MODULES, ...LOTTERY_MODULES, ...CONTACT_LOOKUP_MODULES\r\n  ],\r\n  exports: [\r\n    ...TEI_MATERIAL_MODULES,\r\n    ...MODULE\r\n  ],\r\n  providers: [...PROVIDERS]\r\n})\r\nexport class WebModule { }\r\n","/*\r\n * Public API Surface of app-core-lib\r\n */\r\n\r\n\r\nexport { AngularFaviconService } from 'angular-favicon';\r\nexport * from './lib/@core/app-core-lib.module';\r\nexport * from './lib/@core/authentication/@intermediate/models/get-authentication-settings.model';\r\nexport * from './lib/@core/authentication/@services/auth.gaurd';\r\nexport * from './lib/@core/authentication/@services/authentication-settings.provider';\r\nexport * from './lib/@core/authentication/@services/unauthorized.user.service';\r\nexport * from './lib/@core/authentication/authentication.module';\r\nexport * from './lib/@core/environments/environment';\r\nexport * from './lib/@core/environments/pwa-config';\r\nexport * from './lib/@core/intermediate/models/initiator-data.model';\r\nexport * from './lib/@core/services/locate-tenant.service';\r\nexport * from './lib/@core/services/messaging-client.service';\r\nexport * from './lib/@core/services/redirection-local-storage.service';\r\nexport * from './lib/@core/services/referer-local-storage.service';\r\nexport * from './lib/@core/services/routing-management.service';\r\nexport * from './lib/@core/services/tenant-redirect.service';\r\nexport * from './lib/@core/utils';\r\nexport * from './lib/@services/app.service';\r\nexport * from './lib/@services/global-settings.provider';\r\nexport * from './lib/@services/web-worker.service';\r\nexport * from './lib/@theme/@services/profile-settings.service';\r\nexport * from './lib/@theme/@services/startup-routing.service';\r\nexport * from './lib/@theme/components';\r\nexport * from './lib/@theme/components/header/admin-panel-setting/admin-panel-setting.component';\r\nexport * from './lib/@theme/components/header/admin-panel-setting/admin-panel-setting.module';\r\nexport * from './lib/@theme/components/header/light-header/light-header.component';\r\nexport * from './lib/@theme/components/header/profile-settings/profile-settings.component';\r\nexport * from './lib/@theme/components/header/profile-settings/profile-settings.module';\r\nexport * from './lib/@theme/components/header/profile-settings/user-preference/user-preference.component';\r\nexport * from './lib/@theme/components/header/unauthorized-user-menu/unauthorized-user-menu.component';\r\nexport * from './lib/@theme/components/header/unauthorized-user-menu/unauthorized-user-menu.module';\r\nexport * from './lib/@theme/layouts';\r\nexport * from './lib/@theme/layouts/pages-staging/pages-staging.layout';\r\nexport * from './lib/@theme/styles/material/custom-icons';\r\nexport * from './lib/@theme/theme.module';\r\nexport * from './lib/app-translate.factory';\r\nexport * from './lib/auth/auth.component';\r\nexport * from './lib/auth/auth.module';\r\nexport * from './lib/auth/components/change-password/change-password.component';\r\nexport * from './lib/auth/components/change-password/change-password.module';\r\nexport * from './lib/auth/components/complete-profile/complete-profile.module';\r\nexport * from './lib/auth/components/error/error.component';\r\nexport * from './lib/auth/components/finalize-authentication/finalize-authentication.component';\r\nexport * from './lib/auth/components/finalize-authentication/finalize-authentication.module';\r\nexport * from './lib/auth/components/grant-activation/grant-activation.component';\r\nexport * from './lib/auth/components/grant-activation/grant-activation.module';\r\nexport * from './lib/auth/components/handle-redirection/handle-authentication.module';\r\nexport * from './lib/auth/components/handle-redirection/handle-redirection.component';\r\nexport * from './lib/auth/components/landing/landing.component';\r\nexport * from './lib/auth/components/landing/landing.module';\r\nexport * from './lib/auth/components/login/login.component';\r\nexport * from './lib/auth/components/login/login.module';\r\nexport * from './lib/auth/components/logout/logout.component';\r\nexport * from './lib/auth/components/logout/logout.module';\r\nexport * from './lib/auth/components/password-less-login/password-less-login.component';\r\nexport * from './lib/auth/components/password-less-login/password-less-login.module';\r\nexport * from './lib/auth/components/register/register.component';\r\nexport * from './lib/auth/components/register/register.module';\r\nexport * from './lib/auth/components/request-activation/request-activation.component';\r\nexport * from './lib/auth/components/request-activation/request-activation.module';\r\nexport * from './lib/auth/components/request-password/request-password.component';\r\nexport * from './lib/auth/components/request-password/request-password.module';\r\nexport * from './lib/auth/components/reset-password/reset-password.component';\r\nexport * from './lib/auth/components/reset-password/reset-password.module';\r\nexport * from './lib/components/toolbar/toolbar.component';\r\nexport * from './lib/components/toolbar/toolbar.module';\r\nexport * from './lib/pages/dashboard/dashboard.component';\r\nexport * from './lib/pages/dashboard/dashboard.module';\r\nexport * from './lib/pages/default-route-handler/default-route-handler.component';\r\nexport * from './lib/pages/miscellaneous/forbidden/forbidden.component';\r\nexport * from './lib/pages/miscellaneous/miscellaneous.module';\r\nexport * from './lib/pages/miscellaneous/not-found/not-found.component';\r\nexport * from './lib/pages/pages.component';\r\nexport * from './lib/pages/portal-groups/portal-groups.component';\r\nexport * from './lib/pages/portal-groups/portal-groups.module';\r\nexport * from './lib/pages/portals/portals.component';\r\nexport * from './lib/pages/portals/portals.module';\r\nexport * from './lib/pages/web/web.component';\r\nexport * from './lib/pages/web/web.module';\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { ExtraOptions, RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from '../../projects/app-core-lib/src/lib/@core/authentication/@services/auth.gaurd';\r\nimport { ProfileCompleteGuard } from '../../projects/app-core-lib/src/lib/@core/authentication/@services/check-profile-status.guard';\r\n\r\nexport const routes: Routes = [\r\n  {\r\n    path: 'devices',\r\n    loadChildren: () => import('@tei/common-devices').then(m => m.DevicesModule),\r\n  },\r\n  {\r\n    path: 'auth',\r\n    loadChildren: () => import('../../projects/app-core-lib/src/lib/auth/auth.module').then(m => m.AuthModule),\r\n  },\r\n  {\r\n    path: 'not-found',\r\n    redirectTo: 'auth/not-found'\r\n  },\r\n  {\r\n    path: 'forbidden',\r\n    redirectTo: 'auth/forbidden',\r\n  },\r\n  {\r\n    path: 'not-applicable-action',\r\n    redirectTo: 'auth/not-applicable-action'\r\n  },\r\n  {\r\n    path: '',\r\n    canActivate: [AuthGuard],\r\n    children: [\r\n      {\r\n        path: '',\r\n        canActivate: [ProfileCompleteGuard],\r\n        loadChildren: () => import('./pages/pages.module').then(m => m.PagesModule),\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nconst config: ExtraOptions = {\r\n  useHash: false,\r\n  enableTracing: false\r\n};\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, config)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule\r\n{\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\nimport { ApplicationModeService, GlobalCssLoaderService } from '@tei/core';\r\nimport { NbIconLibraries } from '@tei/nebular-theme';\r\nimport { AngularFaviconService } from 'angular-favicon';\r\nimport { GoogleAnalyticsService } from 'ngx-google-analytics';\r\nimport { filter, Subscription } from 'rxjs';\r\nimport packageJson from '../../package.json';\r\nimport { MessagingClientService } from '../../projects/app-core-lib/src/lib/@core/services/messaging-client.service';\r\nimport { AnalyticsService } from '../../projects/app-core-lib/src/lib/@core/utils';\r\nimport { GlobalSettingsProvider } from '../../projects/app-core-lib/src/lib/@services/global-settings.provider';\r\nimport { WebDynamicPageService } from '../../projects/app-core-lib/src/lib/@services/web-dynamic-page.service';\r\nimport { WebWorkerService } from '../../projects/app-core-lib/src/lib/@services/web-worker.service';\r\nimport { ProfileSettingsService } from '../../projects/app-core-lib/src/lib/@theme/@services/profile-settings.service';\r\nimport { CustomMaterialIcons } from '../../projects/app-core-lib/src/lib/@theme/styles/material/custom-icons';\r\nimport { BusBridgeService } from '../../projects/app-core-lib/src/lib/@services/bus-bridge.service';\r\n\r\n@Component({\r\n  selector: 'ngx-app',\r\n  template: '<router-outlet></router-outlet>'\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy\r\n{\r\n  googleAnalyticsTagID: string;\r\n  public version: string = packageJson.version;\r\n  subscriptions = new Subscription();\r\n  private lastUrlVisited = '';\r\n\r\n  constructor(\r\n    private analytics: AnalyticsService,\r\n    private iconLibraries: NbIconLibraries,\r\n    private profileSettingsService: ProfileSettingsService,\r\n    private messagingClientService: MessagingClientService,\r\n    private globalSettingsProvider: GlobalSettingsProvider,\r\n    private titleService: Title,\r\n    private ngxFavicon: AngularFaviconService,\r\n    private webWorkerService: WebWorkerService,\r\n    private $gaService: GoogleAnalyticsService,\r\n    private router: Router,\r\n    private applicationMode: ApplicationModeService,\r\n    private cssLoader: GlobalCssLoaderService,\r\n    private webDynamicPageService: WebDynamicPageService,\r\n    private busBridgeService : BusBridgeService\r\n  )\r\n  {\r\n    this.iconLibraries.registerSvgPack('MaterialIcon', CustomMaterialIcons);\r\n    this.profileSettingsService.setPreferenceFromStorage();\r\n    this.messagingClientService.initMessagingClientService();\r\n    this.webWorkerService.updateClient();\r\n    this.cssLoader.loadGlobalStylesheet();\r\n\r\n    console.log('shell-version:', this.version);\r\n    console.log('Is In Standalone Mode:', this.applicationMode.isInStandaloneMode());\r\n  }\r\n\r\n  ngOnInit(): void\r\n  {\r\n    this.navigateIsDevice();\r\n    this.analytics.trackPageViews();\r\n    this.setGlobalTenantSettings();\r\n    this.sendPageViewEvent();\r\n    this.saveShellVersion();\r\n    this.listenUrlChange();\r\n  }\r\n\r\n  navigateIsDevice(): void\r\n  {\r\n    if (this.applicationMode.isInStandaloneMode() && Boolean(localStorage.getItem('isDevice')))\r\n    {\r\n      this.router.navigate(['/devices/auth']);\r\n    }\r\n  }\r\n\r\n  saveShellVersion(): void\r\n  {\r\n    sessionStorage.setItem('app_version', this.version);\r\n  }\r\n\r\n  setGlobalTenantSettings(): void\r\n  {\r\n    this.globalSettingsProvider\r\n      .GetGlobalTenantSettings()\r\n      .subscribe(response =>\r\n      {\r\n        this.webDynamicPageService.initDynamicTitleListener(response.Title);\r\n        if (response.FavIcon && response.FavIcon !== '')\r\n        {\r\n          this.ngxFavicon.setFavicon(response.FavIcon);\r\n        }\r\n        if (response.GoogleAnalyticsEnabled)\r\n        {\r\n          this.googleAnalyticsTagID = response.GoogleAnalyticsTagID;\r\n          this.$gaService.gtag('config', this.googleAnalyticsTagID);\r\n        }\r\n      });\r\n  }\r\n\r\n  sendPageViewEvent(): void\r\n  {\r\n    this.subscriptions.add(this.router.events.subscribe((event) =>\r\n    {\r\n      if (this.googleAnalyticsTagID && event instanceof NavigationEnd)\r\n      {\r\n        this.$gaService.pageView(event.urlAfterRedirects);\r\n      }\r\n    }));\r\n  }\r\n\r\n  listenUrlChange(): void\r\n  {\r\n    this.subscriptions.add(this.router.events.pipe(filter(f => f instanceof NavigationEnd)).subscribe((event: NavigationEnd) =>\r\n    {\r\n      const url = event.urlAfterRedirects.slice(1).split('/')[0];\r\n      if (url !== this.lastUrlVisited)\r\n      {\r\n        this.profileSettingsService.ApplyChanges(\"THEME\");\r\n      }\r\n      this.lastUrlVisited = url;\r\n    }));\r\n  }\r\n\r\n  ngOnDestroy(): void\r\n  {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","import { HttpBackend, HttpClientModule } from '@angular/common/http';\r\nimport { APP_INITIALIZER, NgModule } from '@angular/core';\r\nimport { MatLegacySnackBarModule as MatSnackBarModule } from '@angular/material/legacy-snack-bar';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\nimport { Capacitor } from '@capacitor/core';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\r\nimport { FormlyBootstrapModule } from '@ngx-formly/bootstrap';\r\nimport { FormlyFormBuilder, FormlyModule } from '@ngx-formly/core';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { AfterSearchMoveDiningBookTableRestaurantReservePageEffects, DiningBookTableRestaurantReservePageEffects } from '@tei/booking-dining';\r\nimport { DiningStateName, diningReducer } from '@tei/booking-dining-states';\r\nimport { BookingStateName, bookingReducers } from '@tei/booking-event';\r\nimport { PostHearBeatService, ThemeStateName, appStateReducers, themeReducers } from '@tei/core';\r\nimport { IpEmailBuilderModule } from '@tei/ip-email-builder';\r\nimport { NbMenuModule, NbSidebarModule } from '@tei/nebular-theme';\r\nimport { posReducers } from '@tei/pos-shared';\r\nimport { ShoppingCartItemsStateName, shoppingCartReducer } from '@tei/retail-ecommerce';\r\nimport { storageSyncMetaReducer } from 'ngrx-store-persist';\r\nimport { NgxGoogleAnalyticsModule } from 'ngx-google-analytics';\r\nimport { defaultConfig } from '../../projects/app-core-lib/src';\r\nimport { AppCoreLibModule } from '../../projects/app-core-lib/src/lib/@core/app-core-lib.module';\r\nimport { AuthenticationSettingFactoryProvider } from '../../projects/app-core-lib/src/lib/@core/authentication/@services/authentication-settings.provider';\r\nimport { PWAConfigs } from '../../projects/app-core-lib/src/lib/@core/environments/pwa-config';\r\nimport { MessagingClientService } from '../../projects/app-core-lib/src/lib/@core/services/messaging-client.service';\r\nimport { AppService } from '../../projects/app-core-lib/src/lib/@services/app.service';\r\nimport { GlobalSettingsProvider, globalSettingFactoryProvider } from '../../projects/app-core-lib/src/lib/@services/global-settings.provider';\r\nimport { WebDynamicPageService } from '../../projects/app-core-lib/src/lib/@services/web-dynamic-page.service';\r\nimport { WebDynamicRoutingService } from '../../projects/app-core-lib/src/lib/@services/web-dynamic-routing.service';\r\nimport { StartupRoutingService } from '../../projects/app-core-lib/src/lib/@theme/@services/startup-routing.service';\r\nimport { ThemeModule } from '../../projects/app-core-lib/src/lib/@theme/theme.module';\r\nimport { HttpLoaderFactory, translateFactory } from '../../projects/app-core-lib/src/lib/app-translate.factory';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BusBridgeService } from '../../projects/app-core-lib/src/lib/@services/bus-bridge.service';\r\n\r\n@NgModule({\r\n  declarations: [AppComponent],\r\n  imports: [\r\n    NgxGoogleAnalyticsModule.forRoot(defaultConfig.googleAnalyticsTagID),\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    AppRoutingModule,\r\n    ThemeModule.forRoot(),\r\n    MatSnackBarModule,\r\n    NbSidebarModule.forRoot(),\r\n    NbMenuModule.forRoot(),\r\n    AppCoreLibModule.forRoot(),\r\n    FormlyBootstrapModule,\r\n    FormlyModule.forRoot(),\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpBackend]\r\n      }\r\n    }),\r\n    ServiceWorkerModule.register('ngsw-worker.js', {\r\n      enabled: defaultConfig.production && PWAConfigs.isActive && !Capacitor.isNativePlatform(),\r\n      registrationStrategy: 'registerImmediately'\r\n    }),\r\n    // ServiceWorkerModule.register('custom-service-worker.js', {\r\n    //   enabled: defaultConfig.production && PWAConfigs.isActive,\r\n    //   registrationStrategy: 'registerImmediately'\r\n    // }),\r\n    IpEmailBuilderModule.forRoot({\r\n      apiPath: defaultConfig.apiBaseUrl,\r\n    }),\r\n    StoreModule.forRoot(appStateReducers, {\r\n      metaReducers: [storageSyncMetaReducer],\r\n      runtimeChecks: {\r\n        strictStateImmutability: true,\r\n        strictActionImmutability: true,\r\n      },\r\n    }),\r\n    StoreModule.forFeature(ThemeStateName, themeReducers),\r\n    StoreModule.forFeature('pos', posReducers),\r\n    StoreModule.forFeature(DiningStateName, diningReducer),\r\n    StoreModule.forFeature(ShoppingCartItemsStateName, shoppingCartReducer),\r\n    StoreModule.forFeature(BookingStateName, bookingReducers),\r\n    EffectsModule.forRoot(),\r\n    EffectsModule.forFeature([DiningBookTableRestaurantReservePageEffects, AfterSearchMoveDiningBookTableRestaurantReservePageEffects]),\r\n    StoreDevtoolsModule.instrument({\r\n      maxAge: 25,\r\n      logOnly: defaultConfig.production,\r\n    }),\r\n  ],\r\n  providers: [\r\n    globalSettingFactoryProvider,\r\n    AuthenticationSettingFactoryProvider,\r\n    { provide: 'IAppService', useClass: AppService },\r\n    GlobalSettingsProvider,\r\n    MessagingClientService,\r\n    FormlyFormBuilder\r\n    , translateFactory\r\n    , PostHearBeatService\r\n    ,\r\n    {\r\n      provide: APP_INITIALIZER,\r\n      useFactory: (webDynamicRoutingService: WebDynamicRoutingService) => () => webDynamicRoutingService.loadDynamicRoutes(),\r\n      deps: [WebDynamicRoutingService],\r\n      multi: true,\r\n    },\r\n    WebDynamicPageService,\r\n    BusBridgeService\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\n\r\nexport class AppModule\r\n{\r\n  constructor(private startupRoutingService: StartupRoutingService)\r\n  {\r\n    if (this.startupRoutingService.browserRefresh)\r\n    {\r\n      //Do not delete this service. This service needs to be initialized.\r\n    }\r\n  }\r\n}\r\n","/**\r\n * @license\r\n * Copyright Akveo. All Rights Reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n */\r\nimport { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { getAllDataFromLocalForage, default as localForage } from 'ngrx-store-persist';\r\nimport { defaultConfig } from '../projects/app-core-lib/src';\r\nimport { AppModule } from './app/app.module';\r\n\r\napplyDocumentTitle();\r\napplyFavicons();\r\n\r\nif (defaultConfig.production)\r\n{\r\n  enableProdMode();\r\n}\r\n\r\napplyManifest();\r\n\r\nfunction applyDocumentTitle(): void\r\n{\r\n  const config = (window as any).__config;\r\n  const configTitle = config?.title?.trim();\r\n\r\n  if (configTitle)\r\n  {\r\n    document.title = configTitle;\r\n  }\r\n}\r\n\r\nfunction applyFavicons(): void\r\n{\r\n  const config = (window as any).__config;\r\n\r\n  if (config?.icons?.length)\r\n  {\r\n    // Remove existing icons\r\n    document.querySelectorAll(\"link[rel*='icon']\").forEach(el => el.remove());\r\n\r\n    // Add new icons\r\n    config.icons.forEach((icon: any) =>\r\n    {\r\n      const linkEl = document.createElement('link');\r\n\r\n      linkEl.setAttribute('rel', icon.rel || 'icon');\r\n      linkEl.setAttribute('type', icon.type || 'image/x-icon');\r\n      linkEl.setAttribute('href', icon.href);\r\n\r\n      document.head.appendChild(linkEl);\r\n    });\r\n  }\r\n}\r\n\r\nfunction applyManifest(): void\r\n{\r\n  let element = document.createElement('link');\r\n  element.setAttribute('rel', 'manifest');\r\n  element.setAttribute('href', defaultConfig.apiBaseUrl + \"/App/Manifest\");\r\n  document.querySelector('head').appendChild(element);\r\n}\r\n\r\ngetAllDataFromLocalForage({\r\n  driver: localForage.INDEXEDDB,\r\n  keys: [\r\n    'theme'\r\n  ],\r\n}).then(() =>\r\n{\r\n  platformBrowserDynamic()\r\n    .bootstrapModule(AppModule)\r\n    .catch(err => console.log(err));\r\n});\r\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-ps\": 46235,\n\t\"./ar-ps.js\": 46235,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 19878,\n\t\"./en-ca.js\": 19878,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku-kmr\": 19619,\n\t\"./ku-kmr.js\": 19619,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 11848,\n\t\"./si.js\": 11848,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 20184,\n\t\"./sl.js\": 20184,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"names":["CommonModule","ModuleWithProviders","APIBaseUrlProvider","ConfigService","ENVIRONMENT","LocateRouteService","NbAuthModule","NbRoleProvider","NbSecurityModule","of","observableOf","AuthOAuth2Token","AuthenticationSettingsProvider","AuthenticationSettingsService","PasswordLessAuthStrategy","PasswordAuthStrategy","UnauthorizedUserService","AuthenticationModule","UserData","environment","MockDataModule","UserService","throwIfAlreadyLoaded","RefererLocalStorage","AnalyticsService","defaultConfig","LayoutService","ReadyReportDialogModule","socialLinks","url","target","icon","DATA_SERVICES","provide","useClass","NbSimpleRoleProvider","getRole","NB_CORE_PROVIDERS","forRoot","providers","strategies","setup","name","baseEndpoint","apiBaseUrl","login","endpoint","redirect","success","defaultErrors","validateToken","reauthenticate","refreshToken","register","requestPass","resetPass","method","logout","token","class","getter","module","res","body","errors","options","error","forms","strategy","rememberMe","requestPassword","resetPassword","validation","password","required","minLength","maxLength","firstName","lastName","username","email","accessControl","guest","view","user","parent","create","edit","remove","AppCoreLibModule","constructor","parentModule","ngModule","useValue","i0","inject","imports","exports","GetAuthenticationSettingsRequest","GetAuthenticationSettingsResponse","AuthenticationSettings","LoginPageSetting","TokenStorageTypeEnum","UserNameTypeEnum","LoginPageEnum","AddToken","addToken","request","_token$getPayload","clone","setHeaders","Authorization","getValue","extended_access_token","getPayload","ExtendedAuthorization","ActivatedRouteSnapshot","Router","RouterStateSnapshot","Store","PostHearBeatService","SidebarSelected","TopMenuSelected","forkJoin","map","mergeMap","AuthService","AuthGuard","authService","router","store","unauthorizedUserService","hearBeatService","locateRouteService","canActivate","route","state","tokenObservable","getToken","anonymousRoutesObservable","anonymousRoutesHTTPCalled","getAnonymousRoutes","GetAnonymousRoutesObservable","DeviceWidth","window","innerWidth","subscriptions","isAuthenticatedOrRefresh","GetDefaultPage","ApplicationIdentifier","pipe","results","isAuthenticated","anonymousRoutes","extendedToken","setAnonymousRoutes","encodeURIComponent","location","href","replace","origin","AllowAnonymous","_anonymousRoutes$Rout","_anonymousRoutes$Rout2","Routes","length","navigateByUrl","_anonymousRoutes$Rout3","dispatchInitialSidebarAction","DefaultPageUrl","navigate","item","FullRoute","startsWith","trimEnd","hearBeatSSOPoller","hearBeatPOSPoller","model","char","endsWith","slice","identifier","dispatch","Identifier","Title","RefID","IsAuthenticated","i1","i2","i3","i4","i5","factory","fac","NbAuthOAuth2Token","prepareOAuth2Token","data","JSON","parse","e","ownerStrategyName","createdAt","Date","payload","IssuedAt","NbAuthService","NbTokenService","NB_AUTH_STRATEGIES","IAuthResult","IAuthToken","switchMap","tokenService","strategyName","getStrategy","result","processResult","patchToken","get","Object","keys","forEach","set","subscribe","isSuccess","providedIn","APP_INITIALIZER","FactoryProvider","authenticationSettingsService","GetSettings","authenticationType","authenticationSettings","loginPageSettings","AuthenticationType","Get","response","Settings","LoginPageSettings","tokenStorage","_this$authenticationS","_this$authenticationS2","TokenStorageType","SessionStorage","AuthenticationSettingsFactory","globalSettingsProvider","AuthenticationSettingFactoryProvider","useFactory","deps","multi","HttpClient","http","apiBaseUrlProvider","serviceUrl","getBaseUrl","apiUrl","params","inject","CheckProfileStatusService","ProfileCompleteGuard","checkProfileStatusService","anonymousRoutes$","isAnonymousRoute","some","parseUrl","checkStatus","isCompleteProfilePage","toLocaleLowerCase","includes","profileCompleted","ProfileCompleted","returnQueryString","Observable","HttpErrorResponse","HttpEvent","HttpHandler","HttpRequest","Injector","ActivatedRoute","select","TranslateService","AppIdentifierService","ManageLoadingService","PagesStagingLayoutType","RecaptchaDialogService","selectTheme","SnackBarService","NbAuthResult","NbTokenStorage","NbThemeService","ManagerOverrideService","BehaviorSubject","firstValueFrom","throwError","catchError","filter","take","GlobalSettingsProvider","CANCELLED_OVERRIDE_MANAGER_DIALOG","ErrorInterceptor","appIdentifierService","injector","translate","snackBarService","manageLoadingService","themeService","preventOtherRequest","isRefreshing","refreshTokenSubject","intercept","next","handle","status","showError","instant","indexOf","handle403Error","_error$error","hasErrorCode","title","errorCode","ErrorCode","replaceUrl","hasErrorCustomSplittedCode","handleMultipleContactError","then","handleUnverifiedEmailError","handleCaptchaTokenV2NeededError","captchaError","handle400Error","_error$error2","_error$error2$Extensi","handleSupervisorOverrideError","Extensions","SupervisorOverrideLogUID","supervisorError","_request$headers","_request$headers2","_request$headers2$get","headers","has","toLowerCase","handleInvalidRefreshToken","urlParams","URLSearchParams","search","returnPath","Message","undefined","removeAppSession","handle401Error","_error$error3","_error$error3$ErrorCo","_error$error4","toString","String","_error$error5","_error$error6","_error$error6$ErrorCo","_error$error8","split","_error$error7","_error$error9","_error$error9$Title","new_token","isFailure","t","jwt","app_session","getAppSession","baseAddress","_error$error10","setTimeout","appSession","appIdentifier","FoodAndBeverage","Retail","routeToForbiddenPage","logUID","finishLoading","managerOverrideEventSubject","managerOverrideService","supervisorOverride","startLoading","addSupervisorToken","recaptchaDialogEventSubject","recaptchaDialogService","theme","currentTheme","httpHeaders","action","showDialog","recaptchaSiteKeyV2","err","message","ok","statusText","type","addCaptchaV2Token","SupervisorAuthorization","CaptchaTokenV2","delete","clear","redirectToLandingRoute","_this","_asyncToGenerator","_theme$topMenu","_theme$layout$LayoutT","_theme$layout","application","topMenu","hasIdentifier","DefaultApplicationIdentifier","layout","LayoutType","Default","exceptPathName","pathname","_this2","settings","GetGlobalTenantSettings","_error$error11","errorTitle","account","description","ContactEmail","phone","ContactPhone","Email","UserName","paramString","getAllParamsAsString","redirectPath","backUrl","snapshot","queryParams","entries","key","value","decodeURIComponent","join","i6","i7","i8","NbPasswordAuthStrategy","SignalrMessagingClientService","PasswordAuthStrategyOptions","signalrMessagingClientService","defaultOptions","authenticate","Password","AppIdentifier","app_identifier","AdditionalParameters","FirstName","LastName","ConfirmPassword","confirmPassword","PhoneNumber","additionalParameters","redirectUrl","RedirectUrl","TemplateKeyValues","NewPassword","Token","disconnectMessaging","_result$getResponse$b","getResponse","disconnect","_unused","console","_data$payload","RefreshToken","refresh_token","getOption","getActionEndpoint","requireValidToken","observe","access_token","createFailResponse","createToken","handleResponseError","reauthentication_access_token","AppSecretProof","appsecret_proof","createAuthResult","NbPasswordAuthStrategyOptions","alwaysFail","failure","defaultMessages","NbAuthTokenParceler","TokenStorage","storage","authenticationSettingsProvider","sessionStorage","localStorage","parceler","raw","getItem","unwrap","wrap","setItem","removeItem","Capacitor","ProfileSettingsService","TokenInterceptor","profileSettingsService","isNativePlatform","_this$profileSettings","_this$profileSettings2","removeCredentials","printerWizard","language","getProfileSettingsFromStorage","isAuth","authenticated","withCredentials","anonymousRoutesSubject","asObservable","anonymousRoutesResponse","HTTP_INTERCEPTORS","FormsModule","RouterModule","TranslateModule","ReCaptchaInterceptor","NB_AUTH_FALLBACK_TOKEN","NB_AUTH_INTERCEPTOR_HEADER","NB_AUTH_OPTIONS","NB_AUTH_TOKENS","NB_AUTH_TOKEN_INTERCEPTOR_FILTER","NB_AUTH_USER_OPTIONS","NbAuthSimpleToken","NbDummyAuthStrategy","NbOAuth2AuthStrategy","nbNoOpInterceptorFilter","nbOptionsFactory","nbStrategiesFactory","nbTokensFactory","ManagerOverrideModule","BASE_MODULES","MODULES","COMPONENTS","PIPES","nbAuthOptions","production","messagingBaseUrl","googleAnalyticsTagID","recaptchaEnterpriseUrl","recaptchaUrl","isEnterprise","ignoreExternalLoginRedirection","isCapacitor","turnstileConfigs","cloudflareTurnstileUrl","appearance","default","auth","teetimes","PWAConfigs","isActive","GetLocateTenantRequest","GetLocateTenantResponse","InitiatorData","SERVICES","time","users","nick","picture","eva","jack","lee","alan","kate","types","mobile","home","work","contacts","recentUsers","setHours","getUsers","getContacts","getRecentUsers","moduleName","Error","LocateTenantService","MatLegacyDialog","MatDialog","CardDialogComponent","ConfirmationDialogComponent","SnackBarMessage","MessagingClientService","dialog","initMessagingClientService","connectToSignalR","_data$settings","MessagingEnabled","_data$result$getPaylo","init","signalRMessageReceived","onAuthenticationChange","GetInitializationSettings","messageReceived","MessageType","logoutMessage","SerializedMessage","SessionID","sessionID","UserUID","openLogoutNotifyDialog","notificationMessage","snackMessage","Description","showSuccess","ReportName","ReportDescription","urlObj","URL","ReportUrl","host","log","logoutUrl","dialogContent","content","cancelButtonLabel","dialogRef","open","panelClass","component","dialogData","width","afterClosed","RedirectionLocalStorage","referer","redirect_url","Referer","stringify","NavigationEnd","Subject","takeUntil","RoutingManagementService","destroy$","pageIsReloaded","headerOrSideMenuIsClicked","headerMenuDataSubject","headerMenuData","headerIsLoaded","selectedHeaderMenuSubject","selectedHeaderMenu","events","rs","event","id","urlAfterRedirects","onHeaderDataChange","getHeaderData","getHeaderIsLoaded","setHeaderIsLoaded","onHeaderMenuClick","setAppSession","setAppSessionToSession","ngOnDestroy","complete","TenantRedirectService","locateTenantService","tenantUid","path","TenantUID","token_new","Url","Location","enabled","trackPageViews","ga","hitType","page","trackEvent","eventName","_window$__config$prod","_window","_window$__config","__config","_window$__config$apiB","_window2","_window2$__config","_window$__config$mess","_window3","_window3$__config","_window$__config$goog","_window4","_window4$__config","debounceTime","delay","shareReplay","layoutSize$","layoutSizeChange$","refCount","changeLayoutSize","onChangeLayoutSize","onSafeChangeLayoutSize","GetGlobalTenantSettingsResponse","TenantSettingsResponse","MenuEmitObject","GetInitializationSettingsRequest","GetInitializationSettingsResponse","GetGlobalTenantSettingsRequest","ManifestSetting","Icons","ReadyReportDialogDataModel","AppService","EventBus","RetailTransactionInquiryDetailDialogService","FBTransactionInquiryDetailDialogService","BusBridgeService","bus","on","transactionInquiryService","openDetailDialog","OrderID","CheckID","StartDate","EndDate","TransactionUID","createTenantSettingsAction","appService","CaptchaV3_InvalidToken","currentStylesheetLink","initialization_settings","tenant_settings","setIsDevice","applyTenantStylesheet","CustomTenentStylesheetUrl","tenantSettings","getLogo","current_theme","DarkThemeLogo","LightThemeLogo","getHeaderLogo","DarkThemeHeaderLogo","LightThemeHeaderLogo","stylesheetUrl","removeTenantStylesheet","pageStyleSheet","document","getElementById","linkElement","createElement","rel","head","insertBefore","appendChild","getPWAManifest","manifest","Name","short_name","ShortName","theme_color","ThemeColor","background_color","BackgroundColor","display","Display","start_url","StartUrl","orientation","Orientation","icons","src","Src","sizes","Sizes","Type","purpose","Purpose","stringManifest","blob","Blob","manifestURL","createObjectURL","querySelector","setAttribute","recaptchaSiteKeyV3","_this$tenant_settings","GoogleRecaptchaSiteKey","googleRecaptchaIsActive","_this$tenant_settings2","GoogleRecaptchaIsActive","_this$tenant_settings3","GoogleRecaptchaSiteKeyV2","globalSettingsFactory","globalSettingFactoryProvider","Meta","WebDynamicPageService","activatedRoute","titleService","meta","currentStyleSheetLink","initDynamicTitleListener","defaultTitle","firstChild","originalRoute","pageStyleSheetURL","_route$snapshot$data","_route$snapshot$data2","_route$snapshot$data3","_route$snapshot$data5","_route$snapshot$data4","OriginalRoute","_route$snapshot$data6","PageStyleSheetURL","setTitle","updateTag","removeTag","dataset","dynamicStylesheet","RouteChangeResolver","WebDynamicRoutingService","moduleMap","TeeTimes","loadChildren","m","TeeTimesModule","TeeTime","resolve","FieldManagement","FieldManagementModule","LotterySettings","LotteryRequestsModule","Lottery","LotteryModule","Dining","DiningModule","MyAccount","MyAccountModule","MyAccount-PaymentMethods","PaymentMethodsModule","NavigatedFromDynamicRouter","MyAccount-MyProfile","MyProfileFieldInfoModule","MyAccount-Transactions","TransactionsModule","MyAccount-Itinerary","ItineraryModule","MyAccount-Statements","StatementsModule","MyAccount-Addresses","AddressesModule","Event","EventModule","BookingEvent","Activities","ActivitiesModule","BookingActivities","Shop","ECommerceModule","MemberDirectory","MemberDirectoryModule","Cms","CMSModule","Web","Home","CmsHomePageModule","Content","ContentPageModule","originalRoutes","Route","ModuleKey","_dynamicChildRoutes","fetchWebRoutePathsFromApi","dynamicRoutes","PageRoutes","r","_r$Route","PageTitle","PageUID","mergeRoutes","mergedMap","Map","existing","_existing$PageTitle","_existing$OriginalRou","_existing$PageUID","_existing$PageStyleSh","Array","from","values","loadDynamicRoutes","routesFromApi","configFactory","warn","baseRoute","dynamicChildRoutes","MatLegacySnackBar","MatSnackBar","SwUpdate","interval","WebWorkerService","swUpdate","snackBar","updateClient","isEnabled","checkForUpdate","isAvailableUpdate","available","forceUpdate","activateUpdate","snackBarRef","duration","horizontalPosition","verticalPosition","onAction","reload","clearCache","navigator","serviceWorker","getRegistrations","registrations","registration","unregister","DeleteUserProfilePictureRequest","DeleteUserProfilePictureResponse","GetHeaderRequest","GetHeaderResponse","AllowProfilePictureChange","UserInfo","MenuItem","NbMenuItem","GetSidebarHeaderRequest","GetSidebarHeaderResponse","Tenant","GetSidebarRequest","GetSidebarResponse","ShellSidebarMenuItem","GetUserPreferenceRequest","GetUserPreferenceResponse","Preferences","Preference","PreferenceOption","PreferenceType","SelectedPreference","PostUserPreferenceRequest","PostUserPreferenceResponse","MENU_ITEMS","HeaderStoreService","headerService","handleIsAuthentication","_this$headerModel","headerModel","User","getUserPreference","getHeaderFromApi","refresh","hasHeaderMenus","fetchCurrentUserFromApi","GetCurrentUserInfo","getHeaderModel","getIsAuthenticated","_this$headerModel2","_this$headerModel3","_this$headerModel3$Me","Menu","clearStore","HeaderService","headerValue","selectTopMenu","ContextMenuType","POSAuthenticated","Subscription","LoadHeaderService","headerStoreService","posSuccessfulAuthentication","subscription","showMenuIcon","loadHeader","needNavigate","needRefresh","topMenuState","extendedAccessToken","getExtendedToken","updateAppSession","changeRouteToModule","updateStore","_yield$firstValueFrom","_yield$firstValueFrom2","updateTopMenuState","menus","_this3","menuItem","findPosMenuItem","applicationRefID","configureAppSession","updatePosAuthenticationState","_menu$Children2","menu","find","POS_IDENTIFIER","_menu$Children","Children","child","ApplicationRefID","_menu$Children3","showLogoutPopup","urlAppRefIDRequired","_this4","dispatchPOSSuccessfulAuthenticationAction","refID","POSSuccessfulAuthenticationAction","resultMenu","_this5","lastSelectedModule","handleAuthenticatedRoute","handleUnauthenticatedRoute","_this6","modulesRequiringUserRole","RetailAdmin","EOD","FoodAndBeverageAdmin","userRoleShouldShow","_this7","a","advanced","_this8","currentTopMenu","getCurrentTopMenu","hasPosMenu","posTopMenuState","isTopMenuUnchanged","dispatchTopMenuUpdate","navigateToPos","findMatchingTopMenuByUrl","findMatchingTopMenu","EnableCustomNavigation","_this$appIdentifierSe","_this$appIdentifierSe2","_posTopMenuState$Chil","_posTopMenuState$Chil2","_this$appIdentifierSe3","_this9","AllowBanners","CustomDesktopNavigationType","_topMenu$Identifier","getHeaderMenus","_this$headerModel2$Me","_this$getHeaderMenus","unsubscribe","_LoadHeaderService","StorageService","UserPreferenceService","storageService","userPreferenceService","needToRefreshPage","ApplyChanges","_identifier","profileSettings","EnforceTheme","changeTheme","appSettings","DEFAULT_THEME","changeTranslateLang","defaultCulture","DefaultCulture","DEFAULT_CULTURE","Set","setPreferenceFromStorage","preference","Value","updateIsAdmin","IsAdmin","defaultTheme","DefaultTheme","defaultLang","lang","use","SidebarHeaderService","GetSidebar","NavigationStart","StartupRoutingService","loadHeaderService","_history$state$prevPa","_history","_history$state","browserRefresh","history","prevPage","_ref","handleRouting","_x","apply","arguments","navigated","navigationTrigger","getDefaultPage","updateIdentifier","dispatchState","redirectToDefaultPage","needRedirect","_this3$topMenu","disableRedirection","_ref2","_result$DefaultPageUr","_x2","y","catch","StartupRoutingType","Post","post","UserProfilePictureService","Delete","MatLegacyDialogRef","MatDialogRef","MAT_LEGACY_DIALOG_DATA","MAT_DIALOG_DATA","DialogContentComponent","tenantRedirectService","portalData","cancelBtn","acceptBtn","ngOnInit","onChangeClick","close","directiveInject","selectors","decls","vars","consts","template","DialogContentComponent_Template","rf","ctx","elementStart","text","elementEnd","listener","DialogContentComponent_Template_button_click_7_listener","advance","textInterpolate","textInterpolate1","FooterComponent","FooterComponent_Template","element","OrderTransferComponent","AdminPanelSettingComponent","onTransferOrderClick","maxHeight","AdminPanelSettingComponent_Template","AdminPanelSettingComponent_Template_button_click_6_listener","property","_r0","pipeBind1","MatLegacyButtonModule","MatButtonModule","MatRippleModule","MatLegacyDialogModule","MatDialogModule","MatIconModule","MatLegacyMenuModule","MatMenuModule","TeiTextTranslatePipeModule","OrderTransferModule","MATERIAL_MODULES","FOOD_AND_BEVERAGE_MODULES","TEI_CORE_MODULES","AdminPanelSettingModule","declarations","DesktopNavigationType","DeviceType","EventTypeEnum","GenericEventService","ResponsiveService","NbSidebarService","ExtendedAuthenticationService","LogoutPosConfirmDialogService","selectPOSSuccessfulAuthentication","HeaderComponent_div_1_Template_a_click_1_listener","restoreView","_r8","ctx_r7","nextContext","resetView","toggleSidebar","ctx_r2","customNavigationState","ctx_r3","ctx_r5","ctx_r6","isSmallScreen","HeaderComponent","sidebarService","extendedAuthenticationService","responsiveService","genericEventService","routingManagementService","logoutPosConfirmDialogService","deviceType","desktopNavigationType","subscribeToGenericEvents","initializeGlobalTenantSettings","detectMobileScreen","genericEvent","handleGenericEvent","_event$data","_event$data$headerMen","eventType","onLogin","onLogout","onChangeSideBarCompact","compactSideBar","onChangeCurrentModule","headerMenuItems","updateLogoUrl","subscribeToThemeChanges","onThemeChange","themeResponse","previous","logo_url","goToHome","POSSuccessfulAuthentication","confirmAndLogout","redirectBaseAddress","openDialog","disableClose","handleLogout","extendedAuthenticationLogOut","toggle","compact","mediaBreakpoint","screenSize","inputs","HeaderComponent_Template","template","HeaderComponent_div_1_Template","HeaderComponent_mat_divider_2_Template","HeaderComponent_Template_a_click_4_listener","HeaderComponent_div_6_Template","HeaderComponent_shell_top_menu_7_Template","HeaderComponent_shell_profile_settings_12_Template","HeaderComponent_shell_unauthorized_user_menu_13_Template","sanitizeUrl","TopMenu","Desktop","LightHeaderComponent","theme_response","headerTitle","LightHeaderComponent_Template","LayoutActionChanged","ImageUploaderComponent","base64ToFile","UserPreferenceComponent","elementContainerStart","ProfileSettingsComponent_ng_container_7_Template_div_click_1_listener","$event","stopPropagation","ProfileSettingsComponent_ng_container_7_Template_button_click_13_listener","_r7","onPOSLogout","elementContainerEnd","DisplayName","RoleName","ProfileSettingsComponent_ng_template_8_Template_div_click_0_listener","ProfileSettingsComponent_ng_template_8_Template_div_click_1_listener","_r11","ctx_r10","onChangeProfileImage","ProfileSettingsComponent_ng_template_8_mat_icon_3_Template","ProfileSettingsComponent_ng_template_8_Template_button_click_15_listener","ctx_r12","onChangePreferences","ProfileSettingsComponent_ng_template_8_Template_button_click_21_listener","ctx_r13","pureFunction2","_c0","ctx_r4","allowProfilePictureChange","ProfilePictureUrl","pureFunction0","_c1","textInterpolate2","shellVersion","ProfileSettingsComponent","service","imageFormats","permittedFileTypes","round","maintainAspectRatio","aspectRatio","acceptFormat","maxSize","hideRemoveButton","imageServerUrl","imageUploaderDialogRef","croppedImage","imgName","uploadUserProfilePicture","deleteUserProfilePicture","formData","FormData","file","append","uploadProfilePictureDialogRef","componentInstance","profilePictureUrl","maxWidth","minWidth","ProfileSettingsComponent_Template","ProfileSettingsComponent_span_4_Template","ProfileSettingsComponent_ng_container_7_Template","ProfileSettingsComponent_ng_template_8_Template","templateRefExtractor","_r1","_r3","ReactiveFormsModule","MatDividerModule","MatLegacySelectModule","MatSelectModule","AvatarModule","UploadProfilePictureModule","TEI_MATERIAL_MODULES","ProfileSettingsModule","UntypedFormControl","UntypedFormGroup","Validators","ErrorStateMatcher","ModelDrivenFormGroupControlValueAccessor","ngFormGroupControlValueAccessorProviders","propertyInterpolate","option_r7","UserPreferenceComponent_div_12_div_1_mat_form_field_3_mat_option_2_Template","preference_r2","PreferenceOptions","UserPreferenceComponent_div_12_div_1_mat_form_field_3_Template","UserPreferenceComponent_div_12_div_1_ng_template_4_Template","ctx_r1","isSelectControl","_r4","UserPreferenceComponent_div_12_div_1_Template","ctx_r0","form","preferencesDialogRef","_errorStateMatcher","isThemeEnforced","checkEnforcedTheme","Load","TenantSettings","formControls","controls","f","setFormValidators","_this$model","_this$model$Preferenc","group","languageChanged","_this$model2","_this$model2$Preferen","_this$model2$Preferen2","_this$formControls$LA","p","_p$Identifier","preferenceType","Select","onClose","onSaveAndClose","invalid","push","applyChanges","features","ProvidersFeature","InheritDefinitionFeature","UserPreferenceComponent_Template","UserPreferenceComponent_Template_button_click_8_listener","UserPreferenceComponent_div_12_Template","UserPreferenceComponent_Template_button_click_14_listener","defaultProfilePicture","UnauthorizedUserMenuComponent","logIn","UnauthorizedUserMenuComponent_Template","UnauthorizedUserMenuComponent_button_2_Template","UnauthorizedUserMenuComponent_tei_avatar_3_Template","UnauthorizedUserMenuComponent_Template_button_click_6_listener","UnauthorizedUserMenuComponent_Template_button_click_12_listener","_r2","UnauthorizedUserMenuModule","NbLayoutDirectionService","NbLayoutDirection","LayoutDirectionSwitcherComponent","directionService","directions","vertical","currentDirection","getDirection","onDirectionChange","newDirection","toggleDirection","setDirection","LayoutDirectionSwitcherComponent_Template","LayoutDirectionSwitcherComponent_Template_ngx_switcher_valueChange_0_listener","RTL","LTR","ElementRef","EventEmitter","SearchInputComponent","isInputShown","showInput","input","nativeElement","focus","hideInput","onInput","val","emit","viewQuery","SearchInputComponent_Query","SearchInputComponent_Template_i_click_0_listener","SearchInputComponent_Template_input_blur_1_listener","SearchInputComponent_Template_input_input_1_listener","classProp","SideBarFooterComponent","items","SideBarFooterComponent_Template","SideBarHeaderComponent_nb_sidebar_header_0_a_2_Template_a_click_0_listener","_r5","IsParentAccessible","changePortalDialog","SideBarHeaderComponent_nb_sidebar_header_0_a_2_span_5_Template","Current","ImageUrl","PosMenu","SideBarHeaderComponent_nb_sidebar_header_0_a_3_Template_a_click_0_listener","redirectToPosLogin","SideBarHeaderComponent_nb_sidebar_header_0_a_3_mat_icon_1_Template","SideBarHeaderComponent_nb_sidebar_header_0_a_2_Template","SideBarHeaderComponent_nb_sidebar_header_0_a_3_Template","showPortalChangeButton","SideBarHeaderComponent","sidebarheadreService","changeHeaderMenu","getDataFromStorage","load","genericEventSubscription","PosState","getCurrentTerminal","authServiceSubscription","setMenuButton","extendedAuthenticationData","TerminalName","TerminalDescription","retailButton","pack","foodAndbeverageButton","showPosMenu","Office","ParentTenant","_this$genericEventSub","SideBarHeaderComponent_Template","SideBarHeaderComponent_nb_sidebar_header_0_Template","ShowParent","initialTopMenuState","selectSidebar","NbMenuService","distinctUntilChanged","pairwise","startWith","SideBarComponent","nbSidebarService","menuService","startupRoutingService","footerSideMenus","sideMenus","sideBarSubscribed","clearMenu","subscribeToTopMenuState","subscribeToSidebarMenuClick","subscribeToResponsiveMediaBreakpoint","add","current","sideState","topMenuChanged","dispatchToSidebarNewState","_current$RefID","dispatchSidebarAction","subscribeToSidebarState","_res$RefID","setSidebarMenu","onItemClick","_ref3","handleOnItemClick","_x3","hasInternalMenu","_menuItem$item$data$i","_menuItem$item$data$i2","_menuItem$item$data$i3","internalApplication","internalApplicationIdentifier","refId","collapse","SidebarAction","resetSideBarMenu","SidebarMenu","generateSideMenus","generateFooterSideMenus","addItems","checkLocationWithMenuStatus","index","generateMenuItem","position","isHome","selected","isActiveParent","expanded","link","children","getChildMenu","pathMatch","internalApplicationBackTitle","headerLabel","isActiveChild","_m$children","_selectedMenuItem$dat","selectedMenuItem","tag","_this$subscription","SideBarComponent_Template","isSecondValue","secondValueLabel","SwitcherComponent","valueChange","isFirstValue","firstValue","secondValue","currentValueLabel","firstValueLabel","changeValue","outputs","SwitcherComponent_Template","SwitcherComponent_Template_input_change_4_listener","SwitcherComponent_span_6_Template","SimpleChanges","MatLegacyMenu","MatMenu","elementContainer","TopMenuComponent_div_0_ng_container_1_Template","TopMenuComponent_div_1_div_1_ng_container_9_Template","_r10","TopMenuComponent_div_1_div_1_Template","isSmallScreenAndMenus","classMap","ctx_r15","headerSubLabel","TopMenuComponent_ng_template_2_ng_container_1_a_4_Template","TopMenuComponent_ng_template_2_ng_container_2_ng_container_1_button_1_Template_button_click_0_listener","_r22","item_r17","$implicit","ctx_r20","menuClick","ctx_r18","pureFunction1","_c2","substring","TopMenuComponent_ng_template_2_ng_container_2_ng_container_1_ng_container_2_ng_container_1_Template","ctx_r19","contextMenuType","_r6","_c3","TopMenuComponent_ng_template_2_ng_container_2_ng_container_1_button_1_Template","TopMenuComponent_ng_template_2_ng_container_2_ng_container_1_ng_container_2_Template","TopMenuComponent_ng_template_2_ng_container_2_ng_container_1_Template","ctx_r14","TopMenuComponent_ng_template_2_div_0_Template","TopMenuComponent_ng_template_2_ng_container_1_Template","TopMenuComponent_ng_template_2_ng_container_2_Template","TopMenuComponent_ng_template_4_ng_container_4_Template_button_click_1_listener","restoredCtx","_r31","innerItem_r29","ctx_r30","TopMenuComponent_ng_template_4_ng_container_4_Template","_r27","item_r26","TopMenuComponent_ng_template_6_Template_tei_site_quick_search_onSiteItemClickEvent_0_listener","_r34","ctx_r33","onSiteQuickSearchItemClick","item_r32","TopMenuComponent","isExtendedAccessTokenValid","posSiteActiveUrl","appIdentifierValue","currentAppSession","_JSON$parse","ngOnChanges","changes","_item$ActualIdentifie","dispatchTopMenuAction","ActualIdentifier","_item$ActualIdentifie2","siteItem","_this$topMenuState","_this$menu","_this$topMenuState2","_this$CustomNavigatio","CustomNavigationState","Mobile","_this$menu2","_this$menu3","TopMenuAction","isMenuActive","TopMenuComponent_Query","TopMenuComponent_div_0_Template","TopMenuComponent_div_1_Template","TopMenuComponent_ng_template_2_Template","TopMenuComponent_ng_template_4_Template","TopMenuComponent_ng_template_6_Template","MenuFreeLayoutComponent","ngContentSelectors","MenuFreeLayoutComponent_Template","projection","initialCustomNavigationState","NbLayoutWithScrollService","selectCustomNavigation","OneColumnCustomSidebarWithHeaderLayoutComponent_div_5_tei_cms_custom_nav_container_1_Template","OneColumnCustomSidebarWithHeaderLayoutComponent_div_5_tei_cms_banner_container_4_Template","SideMenu","OneColumnCustomSidebarWithHeaderLayoutComponent_div_6_tei_cms_banner_container_3_Template","OneColumnCustomSidebarWithHeaderLayoutComponent","nbLayoutWithScrollService","isScrollable","isScrollable$","ngAfterViewInit","setContainerByInnerHeight","handleResizeScreen","windowInnerHeight","innerHeight","scrollableContainer","style","layoutContainer","mainContainer","containerShellCentered","OneColumnCustomSidebarWithHeaderLayoutComponent_Template","OneColumnCustomSidebarWithHeaderLayoutComponent_div_5_Template","OneColumnCustomSidebarWithHeaderLayoutComponent_div_6_Template","OneColumnCustomSidebarWithHeaderLayoutComponent_ng_container_9_Template","Tablet","OneColumnWithoutSidebarWithHeaderLayoutComponent","hasSidebar","ngAfterViewChecked","OneColumnWithoutSidebarWithHeaderLayoutComponent_Template","OneColumnWithoutSidebarLayoutComponent","OneColumnWithoutSidebarLayoutComponent_Template","NbSidebarComponent","OneColumnLayoutComponent","handleMenuService","onSubmenuToggle","_this$sideNav","sideNav","closeSideBarOnClickOutSide","OneColumnLayoutComponent_Query","OneColumnLayoutComponent_Template_nb_layout_column_click_6_listener","OneColumnLayoutComponent_tei_shell_toolbar_7_Template","OneColumnLayoutComponent_tei_cms_banner_container_8_Template","ChangeDetectorRef","selectLayout","setLayout","initialPOSSuccessfulAuthenticationState","PagesStagingLayoutComponent_ng_container_0_ng_container_1_ng_container_1_ng_container_1_Template","layoutType","PagesStagingLayoutComponent_ng_container_0_ng_container_1_ng_template_2_ng_container_1_Template","PagesStagingLayoutComponent_ng_container_0_ng_container_1_ng_template_2_ng_container_2_Template","PagesStagingLayoutComponent_ng_container_0_ng_container_1_ng_template_2_ng_container_3_Template","SideBarFree","SideBarFreeWithHeader","MenuFree","PagesStagingLayoutComponent_ng_container_0_ng_container_1_ng_container_1_Template","PagesStagingLayoutComponent_ng_container_0_ng_container_1_ng_template_2_Template","isLoaded","PagesStagingLayoutComponent_ng_container_0_ng_container_1_Template","PagesStagingLayoutComponent_ng_container_0_ng_container_2_Template","isMenuFree","PagesStagingLayoutComponent","cd","appsWithCustomSidebar","PosRetailEOD","PosFoodAndBeverageEOD","TeeSheet","getLayoutFromStore","setLayoutAccordingToRouteUrl","subscribeToNavigation","dialogListenerForMobileScreen","handlePOSSuccessfulAuthentication","showInfo","isMobile","afterOpened","dialogContainerForSmallDevices","isTablet","dialogContainerForMediumDevices","subscribeToLayoutState","storeSubscription","currentAppIdentifier","PaymentProcess","PagesStagingLayoutComponent_Template","PagesStagingLayoutComponent_ng_container_0_Template","ThreeColumnsLayoutComponent","ThreeColumnsLayoutComponent_Template","TwoColumnsLayoutComponent","TwoColumnsLayoutComponent_Template","CustomMaterialIcons","palette","primary","info","warning","danger","baseTheme","base","variables","fontMain","fontSecondary","bg","bg2","bg3","bg4","border","border2","border3","border4","border5","fg","fgHeading","fgText","fgHighlight","layoutBg","separator","primaryLight","successLight","infoLight","warningLight","dangerLight","baseThemeVariables","MATERIAL_DARK_THEME","temperature","arcFill","arcEmpty","thumbBg","thumbBorder","solar","gradientLeft","gradientRight","shadowColor","secondSeriesFill","radius","traffic","tooltipBg","tooltipBorderColor","tooltipExtraCss","tooltipTextColor","tooltipFontWeight","yAxisSplitLine","lineBg","lineShadowBlur","itemColor","itemBorderColor","itemEmphasisBorderColor","shadowLineDarkBg","shadowLineShadow","gradFrom","gradTo","electricity","tooltipLineColor","tooltipLineWidth","axisLineColor","xAxisTextColor","lineStyle","lineWidth","lineGradFrom","lineGradTo","lineShadow","areaGradFrom","areaGradTo","bubbleMap","titleColor","areaColor","areaHoverColor","areaBorderColor","profitBarAnimationEchart","textColor","firstAnimationBarColor","secondAnimationBarColor","splitLineStyleOpacity","splitLineStyleWidth","splitLineStyleColor","tooltipFontSize","tooltipBorderWidth","trafficBarEchart","gradientFrom","gradientTo","shadow","shadowBlur","axisTextColor","axisFontSize","countryOrders","countryBorderColor","countryFillColor","countryBorderWidth","hoveredCountryBorderColor","hoveredCountryFillColor","hoveredCountryBorderWidth","chartAxisLineColor","chartAxisTextColor","chartAxisFontSize","chartGradientTo","chartGradientFrom","chartAxisSplitLine","chartShadowLineColor","chartLineBottomShadowColor","chartInnerLineColor","echarts","splitLineColor","itemHoverShadowColor","tooltipBackgroundColor","areaOpacity","chartjs","orders","firstAreaGradFrom","firstAreaGradTo","firstShadowLineDarkBg","secondLineGradFrom","secondLineGradTo","secondAreaGradFrom","secondAreaGradTo","secondShadowLineDarkBg","thirdLineGradFrom","thirdLineGradTo","thirdAreaGradFrom","thirdAreaGradTo","thirdShadowLineDarkBg","profit","firstLineGradFrom","firstLineGradTo","firstLineShadow","secondLineShadow","thirdLineShadow","orderProfitLegend","firstItem","secondItem","thirdItem","visitors","innerLineStyle","innerLineWidth","innerAreaGradFrom","innerAreaGradTo","visitorsLegend","firstIcon","secondIcon","visitorsPie","firstPieGradientLeft","firstPieGradientRight","firstPieShadowColor","firstPieRadius","secondPieGradientLeft","secondPieGradientRight","secondPieShadowColor","secondPieRadius","shadowOffsetX","shadowOffsetY","visitorsPieLegend","firstSection","secondSection","earningPie","center","fontSize","thirdPieGradientLeft","thirdPieGradientRight","thirdPieShadowColor","earningLine","MATERIAL_LIGHT_THEME","DARK_THEME","OverlayContainer","CMSBannerContainerModule","NbEvaIconsModule","NbActionsModule","NbButtonModule","NbContextMenuModule","NbIconModule","NbLayoutModule","NbMenuModule","NbSearchModule","NbSelectModule","NbSidebarModule","NbThemeModule","NbUserModule","LogoutPosConfirmDialogModule","SiteQuickSearchModule","ToolbarModule","CmsCustomNavContainerModule","NB_MODULES","MATERIAL","TEI_POS_SHARED_MODULES","SHELL_MODULES","SHELL_COMPONENTS","ThemeModule","registerLocaleData","localeEn","localeEn_ca","localeFr","localeFr_ca","TeiTranslationService","MultiTranslateHttpLoader","en_ca","fr_ca","en","fr","appTranslateFactory","setDefaultLang","Promise","onLangChange","HttpLoaderFactory","httpBackend","translateFactory","GetFinalizeAuthenticationRequest","GetFinalizeAuthenticationResponse","GetHandleRedirectionResponse","GetHandleImpersonationRequest","GetHandleImpersonationResponse","GetHandleRedirectionRequest","GetLandingRequest","GetLandingResponse","GetUserCompleteRegistrationRequest","GetUserCompleteRegistrationResponse","FieldGroup","PostFinalizeAuthenticationRequest","PostFinalizeAuthenticationResponse","ActivationService","Activate","GrantActivation","ChangePassword","CompleteProfileService","Put","put","FinalizeAuthenticationService","AppSessionModel","HandleRedirectionHelperService","checkAndUpdatePath","redirectionObject","REDIRECTION_OBJECT_KEY","getPathFromStorage","handleRedirection","dispatchLayoutChange","session","_HandleRedirectionHelperService","RedirectionObject","HandleRedirectionService","GetClientRedirection","GetAuxiliaryRedirection","GetImpersonation","LandingService","OAuthService","GrantAccess","OauthSignout","UserCompleteProfileService","AuthComponent","ChangePasswordComponent","CompleteProfileComponent","FinalizeAuthenticationComponent","GrantActivationComponent","HandleRedirectionComponent","LoginComponent","LogoutComponent","RegisterComponent","RequestActivationComponent","RequestPasswordComponent","ResetPasswordComponent","PasswordLessLoginComponent","ErrorComponent","RegisterResolver","UserCompleteProfileComponent","ForbiddenComponent","NotApplicableActionComponent","NotFoundComponent","routes","redirectTo","needAllowRegistrationCheck","AuthRoutingModule","forChild","NbAuthComponent","webWorkerService","configService","hide","isExternalLogin","ExceptUrls","_this$configService$d","_this$configService","_this$configService$d2","_this$route$snapshot$","_this$route$snapshot$2","queryParamMap","AuthComponent_Template","NbCardModule","ChangePasswordModule","CompleteProfileModule","FinalizeAuthenticationModule","GrantActivationModule","HandleRedirectionModule","LandingModule","LoginModule","LogoutModule","PasswordLessLoginModule","RegisterModule","RequestActivationModule","RequestPasswordModule","ResetPasswordModule","UserCompleteProfileModule","TP_MODULES","CAPTCHA_MODULES","AuthModule","changePasswordForm","userName","passwordConfirm","changePassword","ChangePasswordComponent_Template","ChangePasswordComponent_Template_form_ngSubmit_6_listener","valid","MatLegacyCardModule","MatCardModule","MatLegacyFormFieldModule","MatFormFieldModule","MatLegacyInputModule","MatInputModule","NbAlertModule","NbCheckboxModule","NbInputModule","UntypedFormBuilder","UploadProfilePictureComponent","finalize","CompleteProfileComponent_div_48_Template_div_click_8_listener","CompleteProfileComponent_div_48_Template_div_click_9_listener","changeProfileImage","CompleteProfileComponent_div_48_tei_avatar_10_Template","CompleteProfileComponent_div_48_button_11_Template","formBuilder","profilePictureService","completeProfileService","preferredCallingCodes","Phone","PreferredCallingCode","getRegistrationCompletedData","subAuthenticationSetting","patchValue","getErrorMessage","fieldName","errorLabel","_this$form","_this$form2","hasError","submit","_this$formControls","_this$formControls$Fi","_this$formControls2","_this$formControls2$L","_this$formControls3","_this$formControls3$P","onChangePicture","changeUserProfilePicture","onDeletePicture","phoneCountryChange","selectedCountry","i9","CompleteProfileComponent_Template","CompleteProfileComponent_Template_tei_phone_input_countryChanged_40_listener","CompleteProfileComponent_mat_error_45_Template","CompleteProfileComponent_div_48_Template","CompleteProfileComponent_Template_button_click_50_listener","DefaultCallingCode","validatePhoneNumber","placeHolder","isLoading$","MatLegacyCheckboxModule","MatCheckboxModule","LoadingModule","PhoneInputModule","DomSanitizer","sanitizer","_this$router$getCurre","_this$router$getCurre2","getCurrentNavigation","extras","_params$title","_state$title","_params$description","_state$description","_params$backUrl","_state$backUrl","backButtonClicked","test","historyGo","Number","back","getDescription","bypassSecurityTrustHtml","getTitle","ErrorComponent_Template","ErrorComponent_Template_button_click_5_listener","sanitizeHtml","getDeepFromObject","MessageBindingModel","refererStorage","refererStorageData","_this$refererStorage","_this$refererStorage$","ShowAutoLogoutDialog","openAutoLogoutDialog","handleError","TenantName","submitButtonLabel","submitButtonColor","logoutResult","getRedirect","returnURL","CompleteRegistration","redirectToCompleteRegistration","_this$model3","authenticatedRedirectTo","redirectToReference","token_payload","decodeURI","MessagingSessionID","_error$error$Title","FinalizeAuthenticationComponent_Template","RecaptchaService","error_r2","GrantActivationComponent_div_27_div_9_Template","captchaTheme","recaptchaService","tokenV2","loadCaptchaV2","activationForm","activationCode","captchaToken","submitted","_this$activatedRoute$","_this$activatedRoute$3","_this$activatedRoute$4","loadRecaptchaScript","validateCaptchaToken","_this$activatedRoute$2","originIsExternalLogin","_this$activatedRoute$5","isReady","_this2$configService","_this2$configService$","_this2$configService$2","executeV3","setValue","CloudflareRecaptchaIsActive","grantActivation","CaptchaToken","CaptchaStrategy","resetPasswordRoute","resetPath","ResetPasswordToken","_Object$keys","msg","reset","renderV2","resolved","bind","detectChanges","captchaResponse","GrantActivationComponent_Template","GrantActivationComponent_Template_form_ngSubmit_20_listener","GrantActivationComponent_div_27_Template","tap","client_access_token","aux_access_token","impersonatedUserUID","ImpersonatedUserUID","loadImpersonation","ExternalAccessToken","AccessToken","loadClientRedirection","loadAuxiliaryRedirection","DefaultApplication","DefaultPath","Application","Path","redirect_path","impersonationResponse","HandleRedirectionComponent_Template","LandingComponent_div_4_div_8_Template","LandingComponent_div_4_div_10_Template","AllowPublic","AllowMember","LandingComponent","landingService","isInStandaloneMode","AllowStaff","markForCheck","alert","matchMedia","matches","LandingComponent_Template","LandingComponent_div_2_Template","LandingComponent_nb_alert_3_Template","LandingComponent_div_4_Template","UnderConstruction","Renderer2","NbLoginComponent","LoginComponent_a_3_Template_a_click_0_listener","ctx_r9","gotoUserName","shortenedHtml","LoginComponent_button_49_Template_button_click_0_listener","_r12","ctx_r11","gotoPassword","error_r16","LoginComponent_ng_container_50_div_5_div_9_Template","message_r18","LoginComponent_ng_container_50_div_6_div_9_Template","messages","LoginComponent_ng_container_50_Template_button_click_2_listener","_r20","tryLogin","LoginComponent_ng_container_50_div_5_Template","LoginComponent_ng_container_50_div_6_Template","tmp_0_0","loginForm","showMessages","ctx_r24","loginSettings","PublicRegistrationLabel","ctx_r25","LoginComponent_div_51_div_3_a_1_Template","LoginComponent_div_51_div_3_a_2_Template","pureFunction3","_c4","ctx_r22","AllowActivation","LinkToDisplayFirst","_c5","ctx_r23","AllowRegistration","_c6","tmp_2_0","routeUsername","MemberActivationLabel","LoginComponent_div_51_div_1_Template","LoginComponent_div_51_div_3_Template","LoginComponent_div_51_div_4_Template","ctx_r8","onBrowserBackBtnClose","redirectionStorage","userValue","_this$loginForm$value","_this$loginForm","changeDetector","elRef","renderer","handleRedirectionHelperService","oAuthService","hidePassword","activeTab","userNameType","handleGetSettingApi","readMoreEl","listen","openReadMoreDialog","initData","createLoginForm","logOutExternalUser","getMobileSize","requestPasswordUrl","requestActivateUrl","handleParameters","_this$route$snapshot$3","_this$route$snapshot$4","_this$route$snapshot$5","_this$route$snapshot$6","_this$route$snapshot$7","_this$route$snapshot$8","createReadMore","updateUsernameValidation","_this$routeUsername","updateLogo","_this$loginSettings","html","LoginMessage","slicedHtml","readMoreLink","usernameFormProperty","_this$routeUsername2","clearValidators","addValidators","usernameValidate","usernameInput","_this$routeUsername3","getConfigValue","controlName","_control$value","_this$settings","_this$settings2","_control$value2","control","UserNameType","AlphaNumeric","Numeric","isNaN","match","setErrors","fieldLabel","_this$settings3","UserNameLabel","_this$loginForm2","_this$loginForm3","redirectToHome","_result$Routes","doLogin","preventDefault","updateValueAndValidity","markAllAsTouched","_this2$loginForm$get","_this2$loginForm$get2","getMessages","_result$getResponse","getErrors","serverError","callback_uri","redirectDelay","passwordInput","_this$loginSettings2","htmlContent","closeButtonLabel","closeButtonClass","i10","i11","i12","i13","i14","LoginComponent_Query","resolveWindow","LoginComponent_a_3_Template","LoginComponent_Template_div_click_4_listener","LoginComponent_span_11_Template","LoginComponent_Template_input_ngModelChange_20_listener","LoginComponent_Template_input_ngModelChange_33_listener","LoginComponent_Template_mat_icon_click_38_listener","LoginComponent_mat_checkbox_42_Template","LoginComponent_button_49_Template","LoginComponent_ng_container_50_Template","LoginComponent_div_51_Template","UserNamePlaceHolder","tmp_22_0","_c7","MatStepperModule","navigateToLoginPage","LogoutComponent_Template","PasswordLessLoginComponent_a_2_Template_a_click_0_listener","PasswordLessLoginComponent_button_40_Template_button_click_0_listener","requestActivation","PasswordLessLoginComponent_ng_container_41_Template_button_click_2_listener","_r14","PasswordLessLoginComponent_ng_container_41_Template_button_click_5_listener","error_r17","PasswordLessLoginComponent_div_42_div_9_Template","message_r19","PasswordLessLoginComponent_div_43_div_9_Template","PasswordLessLogin","_this$userNameType","pattern","_serverError$title","IsPasswordLess","PasswordLessLoginComponent_Query","PasswordLessLoginComponent_a_2_Template","PasswordLessLoginComponent_Template_div_click_3_listener","PasswordLessLoginComponent_div_9_Template","PasswordLessLoginComponent_Template_mat_icon_click_35_listener","PasswordLessLoginComponent_button_40_Template","PasswordLessLoginComponent_ng_container_41_Template","PasswordLessLoginComponent_div_42_Template","PasswordLessLoginComponent_div_43_Template","NbRegisterComponent","error_r7","RegisterComponent_div_63_div_9_Template","message_r9","RegisterComponent_div_64_div_9_Template","socialLink_r11","RegisterComponent_section_71_ng_container_3_a_1_nb_icon_1_Template","RegisterComponent_section_71_ng_container_3_a_1_ng_template_2_Template","attribute","_r15","RegisterComponent_section_71_ng_container_3_a_2_nb_icon_1_Template","RegisterComponent_section_71_ng_container_3_a_2_ng_template_2_Template","_r21","RegisterComponent_section_71_ng_container_3_a_1_Template","RegisterComponent_section_71_ng_container_3_a_2_Template","RegisterComponent_section_71_ng_container_3_Template","_this$registerForm$va","_this$registerForm","registerForm","createForm","getTenantSettings","getSettings","loadLogo","getScreenSize","registrationSettings","PublicRegistrationMessage","_this$registrationSet","MustMatchPassword","matchingControlName","matchingControl","mustMatch","_this$registerForm2","_this$registerForm3","_this$registerForm4","_this$registerForm5","_this$registerForm6","_this3$route$snapshot","_this3$registerForm$g","_this3$registerForm$g2","dialCode","PhoneCountryCode","iso2","_this3$errors","_res$response","_res$response2","_res$response3","_res$response4","_res$response5","_this$registrationSet2","RegisterComponent_Template","RegisterComponent_span_17_Template","RegisterComponent_Template_form_ngSubmit_18_listener","RegisterComponent_mat_form_field_33_Template","RegisterComponent_Template_tei_phone_input_countryChanged_45_listener","RegisterComponent_div_63_Template","RegisterComponent_div_64_Template","RegisterComponent_section_71_Template","AllowSocialLogin","needCheckAllowRegistrationCheck","_settings$authenticat","error_r4","RequestActivationComponent_div_24_div_9_Template","message_r6","RequestActivationComponent_div_25_div_9_Template","initiateBackUrl","_this2$activatedRoute","_this2$settings","_this2$userNameType","requestActivationSettings","_this2$activatedRoute2","_this$requestActivati","MemberActivationMessage","_this$activationForm","_this$activationForm2","_this3$configService","_this3$configService$","_this3$configService$2","grantActivationRoute","externalLogin","_this$requestActivati2","RequestActivationComponent_Template","RequestActivationComponent_span_15_Template","RequestActivationComponent_Template_form_ngSubmit_16_listener","RequestActivationComponent_div_24_Template","RequestActivationComponent_div_25_Template","NbRequestPasswordComponent","RequestPasswordComponent_div_24_div_9_Template","RequestPasswordComponent_div_25_div_9_Template","_this$requestPassword","_this$requestPassword2","requestPasswordForm","forgotPasswordTitle","_this$requestPassword3","_this$requestPassword4","RequestPasswordComponent_Template","RequestPasswordComponent_Template_form_ngSubmit_16_listener","RequestPasswordComponent_div_24_Template","RequestPasswordComponent_div_25_Template","RequestPasswordComponent_div_32_Template","NbResetPasswordComponent","error_r3","ResetPasswordComponent_div_32_div_9_Template","message_r5","ResetPasswordComponent_div_33_div_9_Template","_this$resetPasswordFo","_this$resetPasswordFo2","resetPasswordForm","loginUrl","disableUserName","_this$resetPasswordFo3","_this$resetPasswordFo4","_this$resetPasswordFo5","_this$resetPasswordFo6","_this$resetPasswordFo7","_this3$route$snapshot2","_this3$route$snapshot3","returnUrl","ResetPasswordComponent_Template","ResetPasswordComponent_Template_form_ngSubmit_8_listener","ResetPasswordComponent_div_32_Template","ResetPasswordComponent_div_33_Template","propertyInterpolate1","QueryList","FormArray","FormControl","FormGroup","UserCompleteProfileComponent_form_1_div_4_h3_2_Template","UserCompleteProfileComponent_form_1_div_4_Template_tei_field_management_shared_field_group_lookup_dataLoaded_6_listener","_r9","dataLoaded","isFirst_r5","field_r3","FieldGroupID","RoleIdentifier","FieldGroupAnswerID","myProfileFieldInfoArray","i_r4","fieldForm","isSubFormsValid","UserCompleteProfileComponent_form_1_Template_form_ngSubmit_0_listener","save","UserCompleteProfileComponent_form_1_div_4_Template","UserCompleteProfileComponent_form_1_div_5_Template","FieldGroups","showSaveButton","cdr","_route$snapshot","_route$snapshot$query","loadedSections","MyProfileFieldInfos","FieldsStatus","fillFormArray","fields","field","openSnackBar","getMyProfileFieldInfoArray","every","Boolean","ngAfterContentChecked","UserCompleteProfileComponent_Query","UserCompleteProfileComponent_form_1_Template","FieldGroupLookupModule","FieldGroupLookupWrapperModule","dialogConfirmationData","ReadyReportDialogComponent_button_16_Template_button_click_0_listener","ViewReport","submitButtonClass","ReadyReportDialogComponent","reportLink","ReadyReportDialogComponent_Template","ReadyReportDialogComponent_div_12_Template","ReadyReportDialogComponent_button_15_Template","ReadyReportDialogComponent_button_16_Template","TeiDateTranslateModule","ToolbarComponent","ToolbarComponent_Template","ShoppingCartModule","TEI_RETAIL_ECOMMERCE_MODULES","COMPONENT","GetDashboardRequest","GetDashboardResponse","GetTenantRequest","GetTenantResponse","PortalAdditionalInfoRequest","PortalAdditionalInfoResponse","CustomExceptionService","DashboardService","TenantService","GetPortalGroups","GetPortals","GetPortalAdditionalInfo","DashboardComponent","dashboardService","DashboardComponent_Template","ContactGroupsModule","ContactLookupSubmitEventService","ContactLookupValidationFailedEventService","ContactSelectionWrapperModule","PROVIDERS","DashboardModule","DefaultRouteHandlerComponent","DefaultRouteHandlerComponent_Template","forbiddenImageURL","NotApplicableActionComponent_button_6_Template_button_click_0_listener","customExceptionService","isLoading","handleScreenSize","getCustomException","divForbiddenMaxHeight","locationState","getState","_locationState$title","ExceptionType","customException","BackURL","NotApplicableActionComponent_Template","NotApplicableActionComponent_div_1_Template","NotApplicableActionComponent_button_6_Template","NotApplicableActionComponent_div_7_Template","styleProp","StepBack","ForbiddenComponent_button_16_Template_button_click_0_listener","redirectToLogout","closeAll","ForbiddenComponent_Template","ForbiddenComponent_div_1_Template","ForbiddenComponent_Template_button_click_11_listener","ForbiddenComponent_button_16_Template","ForbiddenComponent_div_17_Template","MiscellaneousComponent","MiscellaneousRoutingModule","MiscellaneousComponent_Template","MiscellaneousModule","notFoundImageURL","divNotFoundMaxHeight","NotFoundComponent_Template","NotFoundComponent_div_1_Template","NotFoundComponent_Template_button_click_10_listener","NotFoundComponent_div_15_Template","PagesComponent","PagesComponent_Template","total","PortalViewComponent","portalName","imageUrl","PortalViewComponent_Template","PortalViewComponent_div_6_Template","PortalViewComponent_div_7_Template","NbSearchService","PortalGroupsComponent_div_10_Template_a_click_1_listener","tenant_r2","NestedTenantsCount","PortalGroupsComponent","searchService","tenantService","onSearchInput","filteredTenants","SubTenants","portal","term","onSearch","searchInput","PortalGroupsComponent_Template","PortalGroupsComponent_Template_input_keyup_3_listener","PortalGroupsComponent_div_10_Template","NbPopoverModule","NEBULAR_MODULES","PortalGroupsModule","AdminInfoDialogComponent","AdminInfoDialogComponent_Template","AdminInfoDialogComponent_Template_button_click_7_listener","applicationVersion","databaseVersion","databaseName","gatewayVersion","webVersion","portalID","AdminInfoDialogData","NoopScrollStrategy","SinglePortalComponent","OnClick","tenantID","TenantID","height","ApplicationVersion","DatabaseVersion","DatabaseName","GatewayVersion","WebVersion","PortalID","scrollStrategy","erroe","SinglePortalComponent_Template","SinglePortalComponent_Template_button_click_9_listener","breadCrumbData","PortalsComponent_div_2_div_1_Template_a_click_1_listener","tenant_r4","PortalsComponent_div_2_div_1_Template","PortalsComponent_div_3_div_5_Template_a_click_1_listener","tenant_r9","PortalsComponent_div_3_div_8_Template_a_click_1_listener","tenant_r12","PortalsComponent_div_3_div_5_Template","PortalsComponent_div_3_div_8_Template","LiveSubTenants","PlaySubTenants","PortalsComponent","_this$model3$Current","_this$model$Parent","redirectBack","Parent","clickable","_this$model$SubTenant","_this$model4","_this$model4$SubTenan","tenant","IsPlay","_this$model$SubTenant2","_this$model5","_this$model5$SubTenan","EnableSeparatorTab","_this$PlaySubTenants","_this$LiveSubTenants","PortalsComponent_Template","PortalsComponent_tei_material_bread_crumb_1_Template","PortalsComponent_div_2_Template","PortalsComponent_div_3_Template","MatLegacyTabsModule","MatTabsModule","BreadCrumbModule","PortalsModule","WebComponent","WebComponent_Template","MatExpansionModule","ContactAvatarModule","ContactLookupSharedModule","MODULE","TEI_MODULES","LOTTERY_MODULES","CONTACT_LOOKUP_MODULES","WebModule","AngularFaviconService","DevicesModule","PagesModule","config","useHash","enableTracing","AppRoutingModule","ApplicationModeService","GlobalCssLoaderService","NbIconLibraries","GoogleAnalyticsService","packageJson","AppComponent","analytics","iconLibraries","messagingClientService","ngxFavicon","$gaService","applicationMode","cssLoader","webDynamicPageService","busBridgeService","version","lastUrlVisited","registerSvgPack","loadGlobalStylesheet","navigateIsDevice","setGlobalTenantSettings","sendPageViewEvent","saveShellVersion","listenUrlChange","FavIcon","setFavicon","GoogleAnalyticsEnabled","GoogleAnalyticsTagID","gtag","pageView","AppComponent_Template","HttpBackend","HttpClientModule","MatLegacySnackBarModule","MatSnackBarModule","BrowserModule","BrowserAnimationsModule","ServiceWorkerModule","EffectsModule","StoreModule","StoreDevtoolsModule","FormlyBootstrapModule","FormlyFormBuilder","FormlyModule","TranslateLoader","AfterSearchMoveDiningBookTableRestaurantReservePageEffects","DiningBookTableRestaurantReservePageEffects","DiningStateName","diningReducer","BookingStateName","bookingReducers","ThemeStateName","appStateReducers","themeReducers","IpEmailBuilderModule","posReducers","ShoppingCartItemsStateName","shoppingCartReducer","storageSyncMetaReducer","NgxGoogleAnalyticsModule","AppModule","bootstrap","webDynamicRoutingService","loader","registrationStrategy","apiPath","metaReducers","runtimeChecks","strictStateImmutability","strictActionImmutability","forFeature","instrument","maxAge","logOnly","StoreRootModule","StoreFeatureModule","EffectsRootModule","EffectsFeatureModule","enableProdMode","getAllDataFromLocalForage","localForage","applyDocumentTitle","applyFavicons","applyManifest","_config$title","configTitle","trim","_config$icons","querySelectorAll","el","linkEl","element","driver","INDEXEDDB","__NgCli_bootstrap_1","platformBrowser","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[220]}