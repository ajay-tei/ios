"use strict";
(self["webpackChunktei_shell"] = self["webpackChunktei_shell"] || []).push([["node_modules_tei_tee-sheet-administration_fesm2020_tei-tee-sheet-administration-create-club_m-1e8da6"],{

/***/ 81883:
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/@tei/tee-sheet-administration/fesm2020/tei-tee-sheet-administration-create-club.module-ea710bdb.mjs ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CreateClubModule": () => (/* binding */ CreateClubModule)
/* harmony export */ });
/* harmony import */ var C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 83918);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/legacy-button */ 69159);
/* harmony import */ var _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/legacy-card */ 77315);
/* harmony import */ var _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/legacy-form-field */ 41204);
/* harmony import */ var _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/legacy-input */ 52044);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/router */ 60124);
/* harmony import */ var _tei_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tei/core */ 13545);
/* harmony import */ var _tei_core_translate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tei/core-translate */ 13273);
/* harmony import */ var _tei_material__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tei/material */ 81231);
/* harmony import */ var _tei_tee_sheet_administration_get_clubs_model_355df5c3_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./tei-tee-sheet-administration-get-clubs.model-355df5c3.mjs */ 65031);
/* harmony import */ var _tei_tee_sheet_administration_tei_tee_sheet_administration_b976e55c_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./tei-tee-sheet-administration-tei-tee-sheet-administration-b976e55c.mjs */ 56371);
/* harmony import */ var _tei_tee_sheet_administration_manage_club_module_9f2042c6_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./tei-tee-sheet-administration-manage-club.module-9f2042c6.mjs */ 1600);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ 54363);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ 38699);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ 56908);















































function CreateClubComponent_tei_material_bread_crumb_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "tei-material-bread-crumb", 4);
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("breadCrumbData", ctx_r0.breadCrumbData);
  }
}
class CreateClubComponent {
  constructor(formBuilder, translate, manageStandAloneLoadingService, snackbarService, clubsService, coursesService) {
    this.formBuilder = formBuilder;
    this.translate = translate;
    this.manageStandAloneLoadingService = manageStandAloneLoadingService;
    this.snackbarService = snackbarService;
    this.clubsService = clubsService;
    this.coursesService = coursesService;
    this.isLoading = false;
    this.breadCrumbData = [{
      title: this.translate.instant('TSADMINISTRATION.NAVIGATION.TEE_SHEET'),
      relativeUrl: '../../../../'
    }, {
      title: this.translate.instant('TSADMINISTRATION.NAVIGATION.SETUP_AND_CONFIGURATION'),
      relativeUrl: '../../../'
    }, {
      title: this.translate.instant('TSADMINISTRATION.NAVIGATION.COURSE_SETUP'),
      relativeUrl: '../../'
    }, {
      title: this.translate.instant("TSADMINISTRATION.NAVIGATION.CLUBS"),
      relativeUrl: "../"
    }, {
      title: this.translate.instant("TSADMINISTRATION.CLUBS.CREATE_CLUB"),
      relativeUrl: ""
    }];
    this.defaultSettings = {
      ViewClub: {
        Administrator: true,
        Staff: true,
        Member: true,
        Public: true,
        Options: null,
        Type: 2,
        Label: "View Club"
      }
    };
  }
  ngOnInit() {
    this.initializeForm();
    // Set all designation toggles checked by default (if needed)
  }
  initializeForm() {
    this.createClubForm = this.formBuilder.group({
      clubName: ["", [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.minLength(2)]],
      clubCode: ["", [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.minLength(2)]],
      description: ["", [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.maxLength(500)]],
      address: ["", [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
      phoneNumber: ["", [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.pattern(/^\+?[\d\s\-\(\)]+$/)]],
      email: ["", [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.email]]
    });
  }
  createClub() {
    var _this = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const request = _this.createClubForm.value;
      yield (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.firstValueFrom)(_this.clubsService.PostClub(request));
    })();
  }
  cancel() {
    // TODO: Implement navigation back to clubs list
  }
  onSaveClub(formData) {
    this.isLoading = true;
    function isSanitizedImage(obj) {
      return obj !== null && typeof obj === "object" && "changingThisBreaksApplicationSecurity" in obj && typeof obj.changingThisBreaksApplicationSecurity === "string";
    }
    let imageValue = "";
    const imageObj = formData === null || formData === void 0 ? void 0 : formData.Image;
    if (isSanitizedImage(imageObj)) {
      imageValue = imageObj.changingThisBreaksApplicationSecurity;
    } else if (imageObj !== null && imageObj !== undefined) {
      imageValue = String(imageObj);
    }
    this.clubsService.PostClub({
      ...formData,
      Image: imageValue
    }).subscribe({
      next: () => {
        this.snackbarService.showSuccess(this.translate.instant("TSADMINISTRATION.GENERAL.SUCCESS_MESSAGE"), '', null, 'left');
        this.isLoading = false;
      },
      error: () => {
        this.isLoading = false;
      }
    });
  }
}
CreateClubComponent.ɵfac = function CreateClubComponent_Factory(t) {
  return new (t || CreateClubComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_6__.ManageStandAloneLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_7__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"]("IClubsService"), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"]("ICoursesService"));
};
CreateClubComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({
  type: CreateClubComponent,
  selectors: [["tei-tee-sheet-administration-clubs-create-club"]],
  decls: 4,
  vars: 4,
  consts: [[1, "container-shell"], [3, "breadCrumbData", 4, "ngIf"], [3, "mode", "settings", "save"], [3, "show"], [3, "breadCrumbData"]],
  template: function CreateClubComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, CreateClubComponent_tei_material_bread_crumb_1_Template, 1, 1, "tei-material-bread-crumb", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "tei-tee-sheet-administration-manage-club", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("save", function CreateClubComponent_Template_tei_tee_sheet_administration_manage_club_save_2_listener($event) {
        return ctx.onSaveClub($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](3, "tei-loading", 3);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.breadCrumbData.length);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("mode", "create")("settings", ctx.defaultSettings);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("show", ctx.isLoading);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _tei_material__WEBPACK_IMPORTED_MODULE_7__.LoadingComponent, _tei_material__WEBPACK_IMPORTED_MODULE_7__.BreadCrumbComponent, _tei_tee_sheet_administration_manage_club_module_9f2042c6_mjs__WEBPACK_IMPORTED_MODULE_9__.M]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](CreateClubComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.Component,
    args: [{
      selector: "tei-tee-sheet-administration-clubs-create-club",
      template: "<div class=\"container-shell\">\n\n  <tei-material-bread-crumb *ngIf=\"breadCrumbData.length\" [breadCrumbData]=\"breadCrumbData\">\n  </tei-material-bread-crumb>\n\n\n  <tei-tee-sheet-administration-manage-club [mode]=\"'create'\" [settings]=\"defaultSettings\"\n    (save)=\"onSaveClub($event)\"></tei-tee-sheet-administration-manage-club>\n</div>\n<tei-loading [show]=\"isLoading\"></tei-loading>"
    }]
  }], function () {
    return [{
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormBuilder
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.TranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_6__.ManageStandAloneLoadingService
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_7__.SnackBarService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.Inject,
        args: ["IClubsService"]
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.Inject,
        args: ["ICoursesService"]
      }]
    }];
  }, null);
})();
const routes = [{
  path: "",
  component: CreateClubComponent
}];
const CORE_MODULES = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_10__.TeiTextTranslatePipeModule];
const BASE_MODULES = [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.ReactiveFormsModule, _angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule];
const MATERIAL_MODULES = [_angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_11__.MatLegacyCardModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_12__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_14__.MatLegacyButtonModule];
const TEI_MATERIAL_MODULES = [_tei_material__WEBPACK_IMPORTED_MODULE_7__.SnackBarModule, _tei_material__WEBPACK_IMPORTED_MODULE_7__.LoadingModule, _tei_material__WEBPACK_IMPORTED_MODULE_7__.BreadCrumbModule];
const COMPONENTS = [CreateClubComponent];
const FEATURE_MODULES = [_tei_tee_sheet_administration_manage_club_module_9f2042c6_mjs__WEBPACK_IMPORTED_MODULE_9__.a];
class CreateClubModule {}
CreateClubModule.ɵfac = function CreateClubModule_Factory(t) {
  return new (t || CreateClubModule)();
};
CreateClubModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineNgModule"]({
  type: CreateClubModule
});
CreateClubModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjector"]({
  providers: [_tei_core__WEBPACK_IMPORTED_MODULE_6__.ManageStandAloneLoadingService, {
    provide: "IClubsService",
    useClass: _tei_tee_sheet_administration_get_clubs_model_355df5c3_mjs__WEBPACK_IMPORTED_MODULE_15__.C
  }, {
    provide: "ICoursesService",
    useClass: _tei_tee_sheet_administration_tei_tee_sheet_administration_b976e55c_mjs__WEBPACK_IMPORTED_MODULE_16__.C
  }],
  imports: [BASE_MODULES, MATERIAL_MODULES, TEI_MATERIAL_MODULES, CORE_MODULES, FEATURE_MODULES, _angular_router__WEBPACK_IMPORTED_MODULE_17__.RouterModule.forChild(routes)]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](CreateClubModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_2__.NgModule,
    args: [{
      declarations: [...COMPONENTS],
      imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_MATERIAL_MODULES, ...CORE_MODULES, ...FEATURE_MODULES, _angular_router__WEBPACK_IMPORTED_MODULE_17__.RouterModule.forChild(routes)],
      providers: [_tei_core__WEBPACK_IMPORTED_MODULE_6__.ManageStandAloneLoadingService, {
        provide: "IClubsService",
        useClass: _tei_tee_sheet_administration_get_clubs_model_355df5c3_mjs__WEBPACK_IMPORTED_MODULE_15__.C
      }, {
        provide: "ICoursesService",
        useClass: _tei_tee_sheet_administration_tei_tee_sheet_administration_b976e55c_mjs__WEBPACK_IMPORTED_MODULE_16__.C
      }]
    }]
  }], null, null);
})();


/***/ })

}]);
//# sourceMappingURL=node_modules_tei_tee-sheet-administration_fesm2020_tei-tee-sheet-administration-create-club_m-1e8da6.js.map