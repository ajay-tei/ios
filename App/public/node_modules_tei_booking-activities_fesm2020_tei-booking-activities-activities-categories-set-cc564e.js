"use strict";
(self["webpackChunktei_shell"] = self["webpackChunktei_shell"] || []).push([["node_modules_tei_booking-activities_fesm2020_tei-booking-activities-activities-categories-set-cc564e"],{

/***/ 43705:
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/@tei/booking-activities/fesm2020/tei-booking-activities-activities-categories-settings.module-58492b0a.mjs ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ActivitiesCategoriesSettingsModule": () => (/* binding */ ActivitiesCategoriesSettingsModule)
/* harmony export */ });
/* harmony import */ var C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 83918);
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/cdk/drag-drop */ 47727);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/icon */ 57822);
/* harmony import */ var _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/legacy-button */ 69159);
/* harmony import */ var _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/legacy-card */ 77315);
/* harmony import */ var _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/legacy-dialog */ 58446);
/* harmony import */ var _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/legacy-form-field */ 41204);
/* harmony import */ var _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/legacy-input */ 52044);
/* harmony import */ var _angular_material_legacy_menu__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/material/legacy-menu */ 1051);
/* harmony import */ var _angular_material_tree__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/tree */ 53453);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/router */ 60124);
/* harmony import */ var _tei_core_translate__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @tei/core-translate */ 13273);
/* harmony import */ var _tei_material__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @tei/material */ 81231);
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ 58987);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ 76317);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ 26078);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ 32313);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/legacy-select */ 36002);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ngx-translate/core */ 38699);
/* harmony import */ var _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/legacy-core */ 57090);
/* harmony import */ var _angular_cdk_tree__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/cdk/tree */ 15183);
/* harmony import */ var _tei_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @tei/core */ 13545);









































function ActivitiesAddCategoryDialogComponent_form_0_mat_option_32_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-option", 21)(1, "div", 22)(2, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const option_r2 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", option_r2 == null ? null : option_r2.ActivityCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("title", option_r2 == null ? null : option_r2.CategoryName);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r1.getCategoryDisplayName(option_r2), " ");
  }
}
function ActivitiesAddCategoryDialogComponent_form_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 1)(1, "div", 2)(2, "div", 3)(3, "div", 4)(4, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 6)(8, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesAddCategoryDialogComponent_form_0_Template_button_click_8_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r4);
      const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r3.closeDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "close");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](11, "mat-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div", 8)(13, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](15, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "mat-form-field", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](17, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "mat-hint", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](22, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](23, "mat-form-field", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](24, "input", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](25, "mat-hint", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](27, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](28);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](29, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](30, "mat-form-field", 14)(31, "mat-select", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](32, ActivitiesAddCategoryDialogComponent_form_0_mat_option_32_Template, 4, 3, "mat-option", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](33, "mat-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](34, "div", 17)(35, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesAddCategoryDialogComponent_form_0_Template_button_click_35_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r4);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r5.closeDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](36, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](37);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](38, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](39, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesAddCategoryDialogComponent_form_0_Template_button_click_39_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r4);
      const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r6.submitDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](40);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](41, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](42, "tei-loading", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx_r0.categoryForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 13, "ACTIVITIES.CATEGORIES.ADD_CATEGORY"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](15, 15, "ACTIVITIES.CATEGORIES.CATEGORY_ID"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", (ctx_r0.categoryForm.get("CategoryCode").value == null ? null : ctx_r0.categoryForm.get("CategoryCode").value.length) || 0, "/64");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](22, 17, "ACTIVITIES.CATEGORIES.CATEGORY_NAME"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", (ctx_r0.categoryForm.get("CategoryName").value == null ? null : ctx_r0.categoryForm.get("CategoryName").value.length) || 0, "/64");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](29, 19, "ACTIVITIES.CATEGORIES.PARENT_CATEGORY"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.getAvailableParentCategories());
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](38, 21, "ACTIVITIES.CATEGORIES.CANCEL"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r0.categoryForm.invalid)("color", "accent");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](41, 23, "ACTIVITIES.CATEGORIES.CONFIRM"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("show", ctx_r0.isLoading);
  }
}
function ActivitiesDeleteCategoryDialogComponent_form_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 1)(1, "div", 2)(2, "div", 3)(3, "div", 4)(4, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 6)(8, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesDeleteCategoryDialogComponent_form_0_Template_button_click_8_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r2);
      const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r1.closeDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "close");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](11, "mat-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div", 8)(13, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](15, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](18, "?");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](19, "mat-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "div", 11)(21, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesDeleteCategoryDialogComponent_form_0_Template_button_click_21_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r2);
      const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r3.closeDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](22, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](24, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](25, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesDeleteCategoryDialogComponent_form_0_Template_button_click_25_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r2);
      const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r4.submitDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](27, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](28, "tei-loading", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 7, "ACTIVITIES.CATEGORIES.DELETE_CATEGORY"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](15, 9, "ACTIVITIES.CATEGORIES.DELETE_CATEGORY_CONFIRM_MESSAGE"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r0.data.CategoryName, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](24, 11, "ACTIVITIES.CATEGORIES.CLOSE"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("color", "warn");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](27, 13, "ACTIVITIES.CATEGORIES.DELETE"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("show", ctx_r0.isLoading);
  }
}
function ActivitiesEditCategoryDialogComponent_form_0_mat_option_32_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-option", 21)(1, "div", 22)(2, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const option_r2 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", option_r2 == null ? null : option_r2.ActivityCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("title", option_r2 == null ? null : option_r2.CategoryName);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r1.getCategoryDisplayName(option_r2), " ");
  }
}
function ActivitiesEditCategoryDialogComponent_form_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 1)(1, "div", 2)(2, "div", 3)(3, "div", 4)(4, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 6)(8, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesEditCategoryDialogComponent_form_0_Template_button_click_8_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r4);
      const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r3.closeDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "close");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](11, "mat-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div", 8)(13, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](15, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "mat-form-field", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](17, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "mat-hint", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](22, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](23, "mat-form-field", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](24, "input", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](25, "mat-hint", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](27, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](28);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](29, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](30, "mat-form-field", 14)(31, "mat-select", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](32, ActivitiesEditCategoryDialogComponent_form_0_mat_option_32_Template, 4, 3, "mat-option", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](33, "mat-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](34, "div", 17)(35, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesEditCategoryDialogComponent_form_0_Template_button_click_35_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r4);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r5.closeDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](36, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](37);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](38, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](39, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesEditCategoryDialogComponent_form_0_Template_button_click_39_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r4);
      const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r6.submitDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](40);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](41, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](42, "tei-loading", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx_r0.categoryForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 13, "ACTIVITIES.CATEGORIES.EDIT_CATEGORY"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](15, 15, "ACTIVITIES.CATEGORIES.CATEGORY_ID"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", (ctx_r0.categoryForm.get("CategoryCode").value == null ? null : ctx_r0.categoryForm.get("CategoryCode").value.length) || 0, "/64");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](22, 17, "ACTIVITIES.CATEGORIES.CATEGORY_NAME"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", (ctx_r0.categoryForm.get("CategoryName").value == null ? null : ctx_r0.categoryForm.get("CategoryName").value.length) || 0, "/64");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](29, 19, "ACTIVITIES.CATEGORIES.PARENT_CATEGORY"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.getAvailableParentCategories());
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](38, 21, "ACTIVITIES.CATEGORIES.CANCEL"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r0.categoryForm.invalid)("color", "accent");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](41, 23, "ACTIVITIES.CATEGORIES.CONFIRM"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("show", ctx_r0.isLoading);
  }
}
const _c0 = ["emptyItem"];
function ActivitiesCategoriesSettingsComponent_tei_material_bread_crumb_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "tei-material-bread-crumb", 15);
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("breadCrumbData", ctx_r0.breadCrumbData);
  }
}
function ActivitiesCategoriesSettingsComponent_button_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesCategoriesSettingsComponent_button_9_Template_button_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r6);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r5.openCreateCategoryDialog());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "ACTIVITIES.CATEGORIES.ADD_CATEGORY"));
  }
}
const _c1 = function (a0, a1, a2) {
  return {
    "a-tree-node-item-drop-above": a0,
    "a-tree-node-item-drop-below": a1,
    "a-tree-node-item-drop-center": a2
  };
};
function ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-tree-node", 17)(1, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "mat-icon", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("dragstart", function ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template_div_dragstart_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r9.handleDragStart($event, node_r7));
    })("dragover", function ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template_div_dragover_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r11.handleDragOver($event, node_r7));
    })("dragend", function ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template_div_dragend_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10);
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r12.handleDragEnd($event));
    })("drop", function ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template_div_drop_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r13.handleDrop($event, node_r7));
    })("touchstart", function ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template_div_touchstart_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r14.handleTouchStart($event, node_r7));
    })("touchmove", function ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template_div_touchmove_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r15.handleTouchMove($event, node_r7));
    })("touchend", function ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template_div_touchend_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r16.handleTouchEnd($event, node_r7));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 21)(5, "span", 22)(6, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div", 6)(9, "button", 24)(10, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11, "more_vert");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "mat-menu", null, 25)(14, "button", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template_button_click_14_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r17.openEditCategoryDialog(node_r7));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](15, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](16, "create");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](17, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](19, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "button", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template_button_click_20_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10);
      const node_r7 = restoredCtx.$implicit;
      const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r18.openRemoveCategoryDialog(node_r7));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](21, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](22, "delete_forever");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](23, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](24);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](25, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()()();
  }
  if (rf & 2) {
    const node_r7 = ctx.$implicit;
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](13);
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", "a-tree-node-item-expand-toggle-" + node_r7.ActivityCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction3"](13, _c1, ctx_r2.dragNodeExpandOverArea === ctx_r2.dropOverAreaType.Above && ctx_r2.dragNodeExpandOverNode === node_r7, ctx_r2.dragNodeExpandOverArea === ctx_r2.dropOverAreaType.Below && ctx_r2.dragNodeExpandOverNode === node_r7, ctx_r2.dragNodeExpandOverArea === ctx_r2.dropOverAreaType.Center && ctx_r2.dragNodeExpandOverNode === node_r7));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", "a-tree-node-item-draggable-" + node_r7.ActivityCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", node_r7.CategoryName, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("matMenuTriggerFor", _r8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", "a-manage-page-" + node_r7.ActivityCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](19, 9, "ACTIVITIES.CATEGORIES.EDIT"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", "a-remove-page-" + node_r7.ActivityCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](25, 11, "ACTIVITIES.CATEGORIES.DELETE"));
  }
}
function ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-tree-node", 28)(1, "button", 29)(2, "mat-icon", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("dragstart", function ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template_div_dragstart_4_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r22);
      const node_r19 = restoredCtx.$implicit;
      const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r21.handleDragStart($event, node_r19));
    })("dragover", function ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template_div_dragover_4_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r22);
      const node_r19 = restoredCtx.$implicit;
      const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r23.handleDragOver($event, node_r19));
    })("dragend", function ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template_div_dragend_4_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r22);
      const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r24.handleDragEnd($event));
    })("drop", function ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template_div_drop_4_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r22);
      const node_r19 = restoredCtx.$implicit;
      const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r25.handleDrop($event, node_r19));
    })("touchstart", function ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template_div_touchstart_4_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r22);
      const node_r19 = restoredCtx.$implicit;
      const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r26.handleTouchStart($event, node_r19));
    })("touchmove", function ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template_div_touchmove_4_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r22);
      const node_r19 = restoredCtx.$implicit;
      const ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r27.handleTouchMove($event, node_r19));
    })("touchend", function ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template_div_touchend_4_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r22);
      const node_r19 = restoredCtx.$implicit;
      const ctx_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r28.handleTouchEnd($event, node_r19));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div", 30)(6, "span", 22)(7, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div", 6)(10, "button", 24)(11, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12, "more_vert");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "mat-menu", null, 31)(15, "button", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template_button_click_15_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r22);
      const node_r19 = restoredCtx.$implicit;
      const ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r29.openEditCategoryDialog(node_r19));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](17, "create");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "mat-label", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](20, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](21, "button", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template_button_click_21_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r22);
      const node_r19 = restoredCtx.$implicit;
      const ctx_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r30.openRemoveCategoryDialog(node_r19));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](22, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](23, "delete_forever");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](24, "mat-label", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](25);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](26, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()()();
  }
  if (rf & 2) {
    const node_r19 = ctx.$implicit;
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](14);
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", "a-tree-node-item-expand-toggle-" + node_r19.ActivityCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r3.treeControl.isExpanded(node_r19) ? "expand_more" : "chevron_right", " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction3"](14, _c1, ctx_r3.dragNodeExpandOverArea === ctx_r3.dropOverAreaType.Above && ctx_r3.dragNodeExpandOverNode === node_r19, ctx_r3.dragNodeExpandOverArea === ctx_r3.dropOverAreaType.Below && ctx_r3.dragNodeExpandOverNode === node_r19, ctx_r3.dragNodeExpandOverArea === ctx_r3.dropOverAreaType.Center && ctx_r3.dragNodeExpandOverNode === node_r19));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", "a-tree-node-item-draggable-" + node_r19.ActivityCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", node_r19.CategoryName, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("matMenuTriggerFor", _r20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", "a-manage-page-" + node_r19.ActivityCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](20, 10, "ACTIVITIES.CATEGORIES.EDIT"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", "a-remove-page-" + node_r19.ActivityCategoryID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](26, 12, "ACTIVITIES.CATEGORIES.DELETE"));
  }
}
class ActivitiesCategoriesSettingsService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + "/Booking/Activities/ActivityCategory";
  }
  Get(request) {
    const apiUrl = this.serviceUrl;
    return this.http.get(apiUrl, {
      params: request
    });
  }
  SortOrder(request) {
    const apiUrl = this.serviceUrl + '/SortOrder';
    return this.http.post(apiUrl, request);
  }
  Create(request) {
    const apiUrl = this.serviceUrl + '/Create';
    return this.http.post(apiUrl, request);
  }
  Delete(request) {
    const apiUrl = this.serviceUrl + '/Delete';
    return this.http.post(apiUrl, request);
  }
  Edit(request) {
    const apiUrl = this.serviceUrl + '/Edit';
    return this.http.post(apiUrl, request);
  }
}
ActivitiesCategoriesSettingsService.ɵfac = function ActivitiesCategoriesSettingsService_Factory(t) {
  return new (t || ActivitiesCategoriesSettingsService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.HttpClient));
};
ActivitiesCategoriesSettingsService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: ActivitiesCategoriesSettingsService,
  factory: ActivitiesCategoriesSettingsService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActivitiesCategoriesSettingsService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.HttpClient
    }];
  }, null);
})();
class GetActivitiesSettingsResponse {}
class GetActivitiesSettingsResquest {}
class SettingsCategoryItem {}
class FlatSettingsCategoryItemJagged {}
class SettingsCategoryItemJagged {}
class ReorderWebNavigationResponse {}
class ReorderWebNavigationRequest {}
var DropOverAreaType;
(function (DropOverAreaType) {
  DropOverAreaType[DropOverAreaType["Above"] = 0] = "Above";
  DropOverAreaType[DropOverAreaType["Below"] = 1] = "Below";
  DropOverAreaType[DropOverAreaType["Center"] = 2] = "Center";
})(DropOverAreaType || (DropOverAreaType = {}));
class SortOrderActivitiesSettingsRequest {}
class CreateCategoryFormModel {}
class CreateActivitiesSettingsRequest extends CreateCategoryFormModel {}
class CreateActivitiesSettingsResponse {}
class DeleteActivitiesSettingsRequest {}
class DeleteActivitiesSettingsResponse {}
class EditActivitiesSettingsRequest {}
class EditActivitiesSettingsResponse {}
class SortOrderActivitiesSettingsResponse {}
class TreeListMenuActionsService {
  constructor() {
    this.dataChange = new rxjs__WEBPACK_IMPORTED_MODULE_3__.BehaviorSubject([]);
  }
  get data() {
    return this.dataChange.value;
  }
  initialize(data) {
    this.assignUIDs(data);
    this.dataChange.next(data);
  }
  /**
   * Build the file structure tree. The `value` is the Json object, or a sub-tree of a Json object.
   * The return value is the list of `FlatNode`.
   */
  buildFileTree(obj, level) {
    return Object.keys(obj).reduce((accumulator, key) => {
      const value = obj[key];
      const node = new SettingsCategoryItem();
      node.CategoryName = key;
      if (value != null) {
        if (typeof value === 'object') {
          node.Childs = this.buildFileTree(value, level + 1);
        } else {
          node.CategoryName = value;
        }
      }
      return accumulator.concat(node);
    }, []);
  }
  insertItem(parent, item) {
    if (!parent) {
      const newItem = {
        UID: this.getGuid(),
        ActivityCategoryID: item.ActivityCategoryID,
        CategoryName: item.CategoryName,
        SortOrder: 0,
        Childs: [],
        CategoryCode: item.CategoryCode,
        CategoryDesc: item.CategoryDesc
      };
      this.data.push(newItem);
      this.dataChange.next(this.data);
      return newItem;
    }
    const parentNode = this.getParentFromNodes(parent);
    const newItem = {
      UID: this.getGuid(),
      ActivityCategoryID: item.ActivityCategoryID,
      CategoryName: item.CategoryName,
      SortOrder: parent.Childs.length + 1,
      Childs: [],
      CategoryCode: item.CategoryCode,
      CategoryDesc: item.CategoryDesc
    };
    if (parentNode == null) {
      let parentToModify = this.data.find(item => item.UID === parent.UID);
      if (parentToModify) {
        if (!parentToModify.Childs) {
          parentToModify.Childs = [];
        }
        parentToModify.Childs.push(newItem);
      }
    } else {
      let parentToModify = parentNode.Childs.find(item => item.UID === parent.UID);
      if (parentToModify) {
        if (!parentToModify.Childs) {
          parentToModify.Childs = [];
        }
        parentToModify.Childs.push(newItem);
      }
    }
    this.dataChange.next(this.data);
    return newItem;
  }
  insertItemAbove(node, newNode, sortOrder) {
    const parentNode = this.getParentFromNodes(node);
    const newItem = {
      UID: this.getGuid(),
      ActivityCategoryID: newNode.ActivityCategoryID,
      CategoryName: newNode.CategoryName,
      SortOrder: sortOrder || 0,
      Childs: [],
      ParentID: node.ParentID,
      CategoryCode: newNode.CategoryCode,
      CategoryDesc: newNode.CategoryDesc
    };
    if (parentNode != null) {
      parentNode.Childs.splice(parentNode.Childs.findIndex(item => item.UID == node.UID), 0, newItem);
    } else {
      this.data.splice(this.data.findIndex(item => item.UID == node.UID), 0, newItem);
    }
    this.dataChange.next(this.data);
    return newItem;
  }
  insertItemBelow(node, newNode) {
    const parentNode = this.getParentFromNodes(node);
    const newItem = {
      UID: this.getGuid(),
      ActivityCategoryID: newNode.ActivityCategoryID,
      CategoryName: newNode.CategoryName,
      SortOrder: 0,
      Childs: [],
      ParentID: node.ParentID,
      CategoryCode: newNode.CategoryCode,
      CategoryDesc: newNode.CategoryDesc
    };
    if (parentNode != null) {
      parentNode.Childs.splice(parentNode.Childs.findIndex(item => item.UID == node.UID) + 1, 0, newItem);
    } else {
      this.data.splice(this.data.findIndex(item => item.UID == node.UID) + 1, 0, newItem);
    }
    this.dataChange.next(this.data);
    return newItem;
  }
  getParentFromNodes(node) {
    for (let i = 0; i < this.data.length; ++i) {
      const currentRoot = this.data[i];
      const parent = this.getParent(currentRoot, node);
      if (parent != null) {
        return parent;
      }
    }
    return null;
  }
  getParent(currentRoot, node) {
    if (currentRoot.Childs && currentRoot.Childs.length > 0) {
      for (let i = 0; i < currentRoot.Childs.length; ++i) {
        const child = currentRoot.Childs[i];
        if (child.UID === node.UID) {
          return currentRoot;
        } else if (child.Childs && child.Childs.length > 0) {
          const parent = this.getParent(child, node);
          if (parent != null) {
            return parent;
          }
        }
      }
    }
    return null;
  }
  updateItem(node, name) {
    node.CategoryName = name;
    this.dataChange.next(this.data);
  }
  deleteItem(node) {
    this.deleteNode(this.data, node);
    this.dataChange.next(this.data);
  }
  reviseSortOrder() {
    this.updateSortOrder(this.data);
    this.dataChange.next(this.data);
  }
  updateSortOrder(pages) {
    pages.forEach((page, index) => {
      page.SortOrder = index + 1;
      if (page.Childs && page.Childs.length > 0) {
        this.updateSortOrder(page.Childs); // Recurse for children
      }
    });
    return pages;
  }
  reviseSortOrderAndGetSortNumber(page) {
    var sortOrder = this.updateSortOrderAndGetSorNumber(this.data, page);
    this.dataChange.next(this.data);
    return sortOrder;
  }
  updateSortOrderAndGetSorNumber(pages, inputPage) {
    let sortOrder = 0;
    pages.forEach((page, index) => {
      page.SortOrder = index + 1;
      if (page.UID == inputPage.UID) sortOrder = page.SortOrder;
      if (page.Childs && page.Childs.length > 0) {
        let nestSortOrder = this.updateSortOrderAndGetSorNumber(page.Childs, inputPage); // Recurse for children
        if (nestSortOrder > 0) sortOrder = nestSortOrder;
      }
    });
    return sortOrder;
  }
  copyPasteItem(item, parent) {
    const newItem = this.insertItem(parent, item);
    if (item.Childs) {
      item.Childs.forEach(child => {
        this.copyPasteItem(child, newItem);
      });
    }
    return newItem;
  }
  copyPasteItemAbove(from, to) {
    const newItem = this.insertItemAbove(to, from, from.SortOrder);
    if (from.Childs) {
      from.Childs.forEach(child => {
        this.copyPasteItem(child, newItem);
      });
    }
    return newItem;
  }
  copyPasteItemBelow(from, to) {
    const newItem = this.insertItemBelow(to, from);
    if (from.Childs) {
      from.Childs.forEach(child => {
        this.copyPasteItem(child, newItem);
      });
    }
    return newItem;
  }
  assignUIDs(pages) {
    pages.forEach(item => {
      item.UID = this.getGuid();
      if (item.Childs && item.Childs.length > 0) {
        this.assignUIDs(item.Childs);
      }
    });
  }
  getGuid() {
    return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, c => (+c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> +c / 4).toString(16));
  }
  deleteNode(nodes, nodeToDelete) {
    const index = nodes.findIndex(item => item.UID == nodeToDelete.UID);
    if (index > -1) {
      nodes.splice(index, 1);
    } else {
      nodes.forEach(node => {
        if (node.Childs && node.Childs.length > 0) {
          this.deleteNode(node.Childs, nodeToDelete);
        }
      });
    }
  }
  /**
   * Calculate the maximum depth of a category and all its children
   * @param category The category to calculate depth for
   * @returns The maximum depth (1-based, so a category with no children returns 1)
   */
  calculateMaxDepth(category) {
    if (!category.Childs || category.Childs.length === 0) {
      return 1; // Base case: category with no children has depth 1
    }
    let maxChildDepth = 0;
    for (const child of category.Childs) {
      const childDepth = this.calculateMaxDepth(child);
      maxChildDepth = Math.max(maxChildDepth, childDepth);
    }
    return 1 + maxChildDepth; // Current category (1) + maximum depth of children
  }
  /**
   * Check if dropping a category would exceed the maximum nesting level
   * @param draggedCategory The category being dragged
   * @param targetParentLevel The level of the target parent category
   * @param maxAllowedLevels The maximum allowed nesting levels (default: 4)
   * @returns true if dropping would exceed the limit, false otherwise
   */
  wouldExceedMaxLevels(draggedCategory, targetParentLevel, maxAllowedLevels = 4) {
    // Calculate the maximum depth of the dragged category and its children
    const maxDepthOfDraggedCategory = this.calculateMaxDepth(draggedCategory);
    // The dragged category will be at: targetParentLevel + 1
    // The maximum level after drop will be: (targetParentLevel + 1) + (maxDepthOfDraggedCategory - 1)
    // Simplified: targetParentLevel + maxDepthOfDraggedCategory
    const resultingMaxLevel = targetParentLevel + maxDepthOfDraggedCategory;
    return resultingMaxLevel > maxAllowedLevels;
  }
  /**
   * Validate if a drag & drop operation would exceed the maximum nesting levels
   * @param draggedCategory The category being dragged
   * @param targetNode The target node being dropped on
   * @param dragOverArea The area where the drop is happening (Above, Below, Center)
   * @param settingsCategoryItemJagged The flat array of categories with level information
   * @param maxAllowedLevels The maximum allowed nesting levels (default: 4)
   * @returns true if the drop would exceed the limit, false otherwise
   */
  validateDragDropNesting(draggedCategory, targetNode, dragOverArea, settingsCategoryItemJagged, maxAllowedLevels = 4) {
    // If no drag over area is specified, allow the operation
    if (!dragOverArea) {
      return false; // Not exceeding limits
    }
    let targetParentId = null;
    // Determine the target parent based on the drop area
    const area = dragOverArea;
    if (area === DropOverAreaType.Above || area === DropOverAreaType.Below) {
      // When dropping above or below, the dragged item becomes a sibling of the target node
      // So it should have the same parent as the target node
      targetParentId = targetNode.ParentID;
    } else if (area === DropOverAreaType.Center) {
      // When dropping in the center, the dragged item becomes a child of the target node
      targetParentId = targetNode.ActivityCategoryID;
    } else {
      // Unknown drop area, allow the operation
      return false;
    }
    // If no target parent (dropping at root level), it's always allowed
    if (targetParentId === null) {
      return false; // Not exceeding limits
    }
    // Find the target parent in the jagged array to get its level
    const targetParent = settingsCategoryItemJagged.find(cat => cat.ActivityCategoryID === targetParentId);
    if (!targetParent) {
      return false; // Parent not found, allow the operation
    }
    // Check if dropping would exceed the maximum levels
    return this.wouldExceedMaxLevels(draggedCategory, targetParent.Level, maxAllowedLevels);
  }
}
TreeListMenuActionsService.ɵfac = function TreeListMenuActionsService_Factory(t) {
  return new (t || TreeListMenuActionsService)();
};
TreeListMenuActionsService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: TreeListMenuActionsService,
  factory: TreeListMenuActionsService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TreeListMenuActionsService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], null, null);
})();
class ActivitiesAddCategoryDialogComponent {
  constructor(fb, categoriesService, dialogRef, snackBarService, data) {
    this.fb = fb;
    this.categoriesService = categoriesService;
    this.dialogRef = dialogRef;
    this.snackBarService = snackBarService;
    this.data = data;
    this.isLoading = false;
    this.subscriptions = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.categoryForm = this.createCategoryForm();
  }
  createCategoryForm() {
    return this.fb.group({
      ParentID: [null],
      CategoryCode: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.pattern(/^\S+$/)]],
      CategoryName: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.maxLength(64), this.noWhitespaceValidator]],
      CategoryDesc: [''],
      SortOrder: [0]
    });
  }
  noWhitespaceValidator(control) {
    const isValid = /\S/.test(control.value); // Checks for at least one non-whitespace character
    return isValid ? null : {
      whitespace: true
    };
  }
  // Method to calculate the level of a category in the tree structure
  calculateCategoryLevel(categoryId, categories, currentLevel = 0) {
    for (const category of categories) {
      if (category.ActivityCategoryID === categoryId) {
        return currentLevel;
      }
      if (category.Childs && category.Childs.length > 0) {
        const foundLevel = this.calculateCategoryLevel(categoryId, category.Childs, currentLevel + 1);
        if (foundLevel !== -1) {
          return foundLevel;
        }
      }
    }
    return -1; // Not found
  }
  // Method to check if creating a category under the selected parent would exceed 4 levels
  wouldExceedMaxLevels(parentId) {
    if (!parentId) return false; // Root level is level 0
    const parentLevel = this.calculateCategoryLevel(parentId, this.data.settingsCategoryItemTree);
    if (parentLevel === -1) return false; // Parent not found
    // If parent is level 4, adding a child would make it level 5 (exceeds limit)
    return parentLevel >= 3;
  }
  // Method to get all available parent categories (exclude 4th level categories)
  getAvailableParentCategories() {
    const availableCategories = [];
    this.collectAvailableCategories(this.data.settingsCategoryItemTree, availableCategories, 0);
    // Return original categories without modification
    return availableCategories;
  }
  // Method to get display name with hierarchy for a category
  getCategoryDisplayName(category) {
    return this.generateHierarchyName(category);
  }
  // Helper method to generate hierarchy name with dots for indentation
  generateHierarchyName(category) {
    const level = this.calculateCategoryLevel(category.ActivityCategoryID, this.data.settingsCategoryItemTree);
    const dots = '.'.repeat(level);
    const categoryName = category.CategoryName || '';
    const maxLength = 64; // Maximum length before truncation
    // Use the truncation helper for consistent text handling
    const truncatedName = this.truncateText(categoryName, maxLength);
    return `${dots}${truncatedName}`;
  }
  // Helper method to recursively collect available categories
  collectAvailableCategories(categories, availableCategories, currentLevel) {
    for (const category of categories) {
      // Skip if this would be level 4 or higher
      if (currentLevel >= 3) {
        continue;
      }
      availableCategories.push(category);
      // Recursively process children
      if (category.Childs && category.Childs.length > 0) {
        this.collectAvailableCategories(category.Childs, availableCategories, currentLevel + 1);
      }
    }
  }
  // Helper method to truncate text with ellipsis
  truncateText(text, maxLength = 64) {
    if (!text || typeof text !== 'string') {
      return '';
    }
    if (text.length <= maxLength) {
      return text;
    }
    return text.substring(0, maxLength - 3) + '...';
  }
  closeDialog() {
    this.dialogRef.close();
  }
  // Method to trim all form values
  trimFormValues() {
    const trimmedValues = Object.keys(this.categoryForm.value).reduce((acc, key) => {
      acc[key] = typeof this.categoryForm.value[key] === 'string' ? this.categoryForm.value[key].trim() : this.categoryForm.value[key];
      return acc;
    }, {});
    this.categoryForm.setValue(trimmedValues);
  }
  // Method to submit the dialog
  submitDialog() {
    var _this$categoryForm$ge;
    if (this.categoryForm.invalid) {
      return;
    }
    const parentId = (_this$categoryForm$ge = this.categoryForm.get('ParentID')) === null || _this$categoryForm$ge === void 0 ? void 0 : _this$categoryForm$ge.value;
    // Check if creating this category would exceed 4 levels
    if (this.wouldExceedMaxLevels(parentId)) {
      this.snackBarService.showError('Categories can only be nested up to 4 levels.', '', null, 'left', 'bottom');
      return;
    }
    this.isLoading = true;
    this.trimFormValues();
    this.subscriptions.add(this.categoriesService.Create(this.categoryForm.value).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
      this.isLoading = false;
    })).subscribe(result => {
      this.dialogRef.close(true);
    }));
  }
  ngOnDestroy() {
    this.subscriptions.unsubscribe();
  }
}
ActivitiesAddCategoryDialogComponent.ɵfac = function ActivitiesAddCategoryDialogComponent_Factory(t) {
  return new (t || ActivitiesAddCategoryDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]("IActivitiesCategoriesService"), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_8__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MAT_LEGACY_DIALOG_DATA));
};
ActivitiesAddCategoryDialogComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: ActivitiesAddCategoryDialogComponent,
  selectors: [["tei-booking-activities-add-category-dialog"]],
  decls: 1,
  vars: 1,
  consts: [["class", "o-dialog-container", 3, "formGroup", 4, "ngIf"], [1, "o-dialog-container", 3, "formGroup"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col"], [1, "a-text-h3"], [1, "col-auto"], ["mat-icon-button", "", "id", "a-button-activities-add-category-dialog-close", 3, "click"], [1, "m-dialog-content"], [1, "a-text-label"], ["appearance", "outline", 1, "no-label", "w-100"], ["matInput", "", "formControlName", "CategoryCode", "maxlength", "64"], ["align", "end"], ["matInput", "", "formControlName", "CategoryName", "maxlength", "64"], ["appearance", "outline", 1, "no-label", "select", "w-100"], ["formControlName", "ParentID"], [3, "value", 4, "ngFor", "ngForOf"], [1, "m-dialog-actions", "m-dialog-actions-sm", "justify-content-end"], ["mat-button", "", "mat-stroked-button", "", "id", "a-button-activities-add-category-dialog-close-btn", 1, "mr-1", "a-second-step-button", 3, "click"], ["mat-button", "", "mat-flat-button", "", "id", "a-button-activities-add-category-dialog-confirm", 3, "disabled", "color", "click"], [3, "show"], [3, "value"], [1, "d-flex", "flex-row", "align-items-center", 3, "title"], [1, "text-truncate", 2, "max-width", "100%", "overflow", "hidden", "text-overflow", "ellipsis", "white-space", "nowrap"]],
  template: function ActivitiesAddCategoryDialogComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, ActivitiesAddCategoryDialogComponent_form_0_Template, 43, 25, "form", 0);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.data);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.MaxLengthValidator, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_10__.MatLegacyButton, _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__.MatIcon, _tei_material__WEBPACK_IMPORTED_MODULE_8__.LoadingComponent, _angular_material_divider__WEBPACK_IMPORTED_MODULE_12__.MatDivider, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyHint, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_14__.MatLegacyInput, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_15__.MatLegacySelect, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_16__.MatLegacyOption, _tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiTextTranslatePipe]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActivitiesAddCategoryDialogComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-booking-activities-add-category-dialog',
      template: "<form class=\"o-dialog-container\" *ngIf=\"data\" [formGroup]=\"categoryForm\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col\">\n        <div class=\"a-text-h3\">\n          {{ 'ACTIVITIES.CATEGORIES.ADD_CATEGORY' | teiTextTranslate }}\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <button (click)=\"closeDialog()\" mat-icon-button id=\"a-button-activities-add-category-dialog-close\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-content\">\n    <div class=\"a-text-label\">\n      {{ 'ACTIVITIES.CATEGORIES.CATEGORY_ID' | teiTextTranslate }}\n    </div>\n    <mat-form-field class=\"no-label w-100\" appearance=\"outline\">\n      <input matInput formControlName=\"CategoryCode\" maxlength=\"64\" />\n      <mat-hint align=\"end\">{{categoryForm.get('CategoryCode').value?.length || 0}}/64</mat-hint>\n    </mat-form-field>\n\n    <div class=\"a-text-label\">\n      {{ 'ACTIVITIES.CATEGORIES.CATEGORY_NAME' | teiTextTranslate }}\n    </div>\n    <mat-form-field class=\"no-label w-100\" appearance=\"outline\">\n      <input matInput formControlName=\"CategoryName\" maxlength=\"64\" />\n      <mat-hint align=\"end\">{{categoryForm.get('CategoryName').value?.length || 0}}/64</mat-hint>\n    </mat-form-field>\n\n    <div class=\"a-text-label\">\n      {{ 'ACTIVITIES.CATEGORIES.PARENT_CATEGORY' | teiTextTranslate }}\n    </div>\n    <mat-form-field class=\"no-label select w-100\" appearance=\"outline\">\n      <mat-select formControlName=\"ParentID\">\n        <mat-option [value]=\"option?.ActivityCategoryID\" *ngFor=\"let option of getAvailableParentCategories()\">\n          <div class=\"d-flex flex-row align-items-center\" [title]=\"option?.CategoryName\">\n            <span class=\"text-truncate\"\n              style=\"max-width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\">\n              {{ getCategoryDisplayName(option) }}\n            </span>\n          </div>\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-actions m-dialog-actions-sm justify-content-end\">\n    <button mat-button mat-stroked-button class=\"mr-1 a-second-step-button\"\n      id=\"a-button-activities-add-category-dialog-close-btn\" (click)=\"closeDialog()\">\n      <span>{{ 'ACTIVITIES.CATEGORIES.CANCEL' | teiTextTranslate }}</span>\n    </button>\n    <button [disabled]=\"categoryForm.invalid\" mat-button mat-flat-button [color]=\"'accent'\" (click)=\"submitDialog()\"\n      id=\"a-button-activities-add-category-dialog-confirm\">\n      {{ 'ACTIVITIES.CATEGORIES.CONFIRM' | teiTextTranslate }}\n    </button>\n  </div>\n  <tei-loading [show]=\"isLoading\"></tei-loading>\n</form>"
    }]
  }], function () {
    return [{
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormBuilder
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ["IActivitiesCategoriesService"]
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MatLegacyDialogRef
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_8__.SnackBarService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MAT_LEGACY_DIALOG_DATA]
      }]
    }];
  }, null);
})();
const COMPONENTS$2 = [ActivitiesAddCategoryDialogComponent];
const BASE_MODULES$3 = [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_18__.RouterModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule];
const CORE_MODULES$2 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiTextTranslatePipeModule, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.TranslateModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiCurrencyTranslateModule, _tei_material__WEBPACK_IMPORTED_MODULE_8__.NumberInputModule, _tei_material__WEBPACK_IMPORTED_MODULE_8__.LoadingModule];
const MATERIAL_MODULES$3 = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_12__.MatDividerModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_10__.MatLegacyButtonModule, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_20__.MatLegacyCardModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyFormFieldModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_14__.MatLegacyInputModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_15__.MatLegacySelectModule];
class ActivitiesAddCategoryDialogModule {}
ActivitiesAddCategoryDialogModule.ɵfac = function ActivitiesAddCategoryDialogModule_Factory(t) {
  return new (t || ActivitiesAddCategoryDialogModule)();
};
ActivitiesAddCategoryDialogModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: ActivitiesAddCategoryDialogModule
});
ActivitiesAddCategoryDialogModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [_tei_material__WEBPACK_IMPORTED_MODULE_8__.SnackBarService],
  imports: [BASE_MODULES$3, CORE_MODULES$2, MATERIAL_MODULES$3]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActivitiesAddCategoryDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$2],
      imports: [...BASE_MODULES$3, ...CORE_MODULES$2, ...MATERIAL_MODULES$3],
      providers: [_tei_material__WEBPACK_IMPORTED_MODULE_8__.SnackBarService],
      exports: [...COMPONENTS$2]
    }]
  }], null, null);
})();
class ActivitiesDeleteCategoryDialogComponent {
  constructor(dialogRef, data) {
    this.dialogRef = dialogRef;
    this.data = data;
    this.isLoading = false;
  }
  ngOnInit() {
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {})();
  }
  closeDialog() {
    this.dialogRef.close();
  }
  submitDialog() {
    this.dialogRef.close(this.data);
  }
}
ActivitiesDeleteCategoryDialogComponent.ɵfac = function ActivitiesDeleteCategoryDialogComponent_Factory(t) {
  return new (t || ActivitiesDeleteCategoryDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MAT_LEGACY_DIALOG_DATA));
};
ActivitiesDeleteCategoryDialogComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: ActivitiesDeleteCategoryDialogComponent,
  selectors: [["tei-booking-activities-delete-category-dialog"]],
  decls: 1,
  vars: 1,
  consts: [["class", "o-dialog-container", 4, "ngIf"], [1, "o-dialog-container"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col"], [1, "a-text-h3"], [1, "col-auto"], ["mat-icon-button", "", "id", "a-button-activities-add-category-dialog-close", 3, "click"], [1, "m-dialog-content", "mb-5"], [1, "a-text-default"], [1, "a-text-primary"], [1, "m-dialog-actions", "m-dialog-actions-sm", "justify-content-end"], ["mat-button", "", "mat-stroked-button", "", "id", "a-button-activities-add-category-dialog-close-btn", 1, "mr-1", "a-second-step-button", 3, "click"], ["mat-button", "", "mat-flat-button", "", "id", "a-button-activities-add-category-delete", 3, "color", "click"], [3, "show"]],
  template: function ActivitiesDeleteCategoryDialogComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, ActivitiesDeleteCategoryDialogComponent_form_0_Template, 29, 15, "form", 0);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.data);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgForm, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_10__.MatLegacyButton, _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__.MatIcon, _tei_material__WEBPACK_IMPORTED_MODULE_8__.LoadingComponent, _angular_material_divider__WEBPACK_IMPORTED_MODULE_12__.MatDivider, _tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiTextTranslatePipe]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActivitiesDeleteCategoryDialogComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-booking-activities-delete-category-dialog',
      template: "<form class=\"o-dialog-container\" *ngIf=\"data\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col\">\n        <div class=\"a-text-h3\">{{ 'ACTIVITIES.CATEGORIES.DELETE_CATEGORY' | teiTextTranslate}}</div>\n      </div>\n      <div class=\"col-auto\">\n        <button (click)=\"closeDialog()\" mat-icon-button id=\"a-button-activities-add-category-dialog-close\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n\n  <div class=\"m-dialog-content mb-5\">\n    <span class=\"a-text-default\">{{'ACTIVITIES.CATEGORIES.DELETE_CATEGORY_CONFIRM_MESSAGE' | teiTextTranslate}} <span\n        class=\"a-text-primary\"> {{data.CategoryName}}</span>?</span>\n  </div>\n\n  <mat-divider></mat-divider>\n\n  <div class=\"m-dialog-actions m-dialog-actions-sm justify-content-end\">\n    <button mat-button mat-stroked-button class=\"mr-1 a-second-step-button\"\n      id=\"a-button-activities-add-category-dialog-close-btn\" (click)=\"closeDialog()\">\n      <span>{{'ACTIVITIES.CATEGORIES.CLOSE' | teiTextTranslate}}</span>\n    </button>\n    <button mat-button mat-flat-button [color]=\"'warn'\" (click)=\"submitDialog()\"\n      id=\"a-button-activities-add-category-delete\">\n      {{ 'ACTIVITIES.CATEGORIES.DELETE' | teiTextTranslate }}\n    </button>\n\n  </div>\n  <tei-loading [show]=\"isLoading\"></tei-loading>"
    }]
  }], function () {
    return [{
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MatLegacyDialogRef
    }, {
      type: SettingsCategoryItem,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MAT_LEGACY_DIALOG_DATA]
      }]
    }];
  }, null);
})();
const COMPONENTS$1 = [ActivitiesDeleteCategoryDialogComponent];
const BASE_MODULES$2 = [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_18__.RouterModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule];
const CORE_MODULES$1 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiTextTranslatePipeModule, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.TranslateModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiCurrencyTranslateModule, _tei_material__WEBPACK_IMPORTED_MODULE_8__.NumberInputModule, _tei_material__WEBPACK_IMPORTED_MODULE_8__.LoadingModule];
const MATERIAL_MODULES$2 = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_12__.MatDividerModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_10__.MatLegacyButtonModule, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_20__.MatLegacyCardModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyFormFieldModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_14__.MatLegacyInputModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_15__.MatLegacySelectModule];
class ActivitiesDeleteCategoryDialogModule {}
ActivitiesDeleteCategoryDialogModule.ɵfac = function ActivitiesDeleteCategoryDialogModule_Factory(t) {
  return new (t || ActivitiesDeleteCategoryDialogModule)();
};
ActivitiesDeleteCategoryDialogModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: ActivitiesDeleteCategoryDialogModule
});
ActivitiesDeleteCategoryDialogModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [BASE_MODULES$2, CORE_MODULES$1, MATERIAL_MODULES$2]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActivitiesDeleteCategoryDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$1],
      imports: [...BASE_MODULES$2, ...CORE_MODULES$1, ...MATERIAL_MODULES$2],
      providers: [],
      exports: [...COMPONENTS$1]
    }]
  }], null, null);
})();
class ActivitiesEditCategoryDialogComponent {
  constructor(fb, categoriesService, dialogRef, snackBarService, data) {
    this.fb = fb;
    this.categoriesService = categoriesService;
    this.dialogRef = dialogRef;
    this.snackBarService = snackBarService;
    this.data = data;
    this.isLoading = false;
    this.subscriptions = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
  }
  ngOnInit() {
    var _this = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.categoryForm = _this.createCategoryForm(_this.data.settingsCategoryItem);
    })();
  }
  createCategoryForm(settingsCategoryItem) {
    return this.fb.group({
      ActivityCategoryID: [settingsCategoryItem.ActivityCategoryID],
      ParentID: [settingsCategoryItem.ParentID],
      CategoryCode: [settingsCategoryItem.CategoryCode, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.pattern(/^\S+$/) // No spaces allowed
      ]],
      CategoryName: [settingsCategoryItem.CategoryName, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.maxLength(64), this.noWhitespaceValidator]],
      CategoryDesc: [settingsCategoryItem.CategoryDesc],
      SortOrder: [settingsCategoryItem.SortOrder]
    });
  }
  noWhitespaceValidator(control) {
    const isValid = /\S/.test(control.value); // Checks for at least one non-whitespace character
    return isValid ? null : {
      whitespace: true
    };
  }
  // Method to calculate the level of a category in the tree structure
  calculateCategoryLevel(categoryId, categories, currentLevel = 0) {
    for (const category of categories) {
      if (category.ActivityCategoryID === categoryId) {
        return currentLevel;
      }
      if (category.Childs && category.Childs.length > 0) {
        const foundLevel = this.calculateCategoryLevel(categoryId, category.Childs, currentLevel + 1);
        if (foundLevel !== -1) {
          return foundLevel;
        }
      }
    }
    return -1; // Not found
  }
  // Method to check if editing a category under the selected parent would exceed 4 levels
  wouldExceedMaxLevels(parentId) {
    if (!parentId) return false; // Root level is level 0
    const parentLevel = this.calculateCategoryLevel(parentId, this.data.settingsCategoryItemTree);
    if (parentLevel === -1) return false; // Parent not found
    // If parent is level 3, adding a child would make it level 4 (max allowed)
    return parentLevel >= 3;
  }
  // Method to get all available parent categories (exclude 4th level categories and current category's descendants)
  getAvailableParentCategories() {
    const currentCategoryId = this.data.settingsCategoryItem.ActivityCategoryID;
    const availableCategories = [];
    this.collectAvailableCategories(this.data.settingsCategoryItemTree, availableCategories, currentCategoryId, 0);
    // Return original categories without modification
    return availableCategories;
  }
  // Method to get display name with hierarchy for a category
  getCategoryDisplayName(category) {
    return this.generateHierarchyName(category);
  }
  // Helper method to generate hierarchy name with dots for indentation
  generateHierarchyName(category) {
    const level = this.calculateCategoryLevel(category.ActivityCategoryID, this.data.settingsCategoryItemTree);
    const dots = '.'.repeat(level);
    const categoryName = category.CategoryName || '';
    const maxLength = 64; // Maximum length before truncation
    // Use the truncation helper for consistent text handling
    const truncatedName = this.truncateText(categoryName, maxLength);
    return `${dots}${truncatedName}`;
  }
  // Helper method to recursively collect available categories
  collectAvailableCategories(categories, availableCategories, currentCategoryId, currentLevel) {
    for (const category of categories) {
      // Skip the current category being edited
      if (category.ActivityCategoryID === currentCategoryId) {
        continue;
      }
      // Skip if this would be level 4 or higher
      if (currentLevel >= 4) {
        continue;
      }
      // Skip if this category is a descendant of the current category (prevent circular references)
      if (this.isDescendantOf(category.ActivityCategoryID, currentCategoryId)) {
        continue;
      }
      availableCategories.push(category);
      // Recursively process children
      if (category.Childs && category.Childs.length > 0) {
        this.collectAvailableCategories(category.Childs, availableCategories, currentCategoryId, currentLevel + 1);
      }
    }
  }
  // Helper method to check if a category is a descendant of another category
  isDescendantOf(categoryId, ancestorId) {
    return this.checkDescendantInTree(categoryId, ancestorId, this.data.settingsCategoryItemTree);
  }
  // Helper method to check descendant relationship in tree structure
  checkDescendantInTree(categoryId, ancestorId, categories) {
    for (const category of categories) {
      if (category.ActivityCategoryID === categoryId) {
        // Found the category, now check if ancestorId is in its parent chain
        return this.isAncestorInChain(ancestorId, category, this.data.settingsCategoryItemTree);
      }
      if (category.Childs && category.Childs.length > 0) {
        if (this.checkDescendantInTree(categoryId, ancestorId, category.Childs)) {
          return true;
        }
      }
    }
    return false;
  }
  // Helper method to check if ancestorId is in the parent chain of a category
  isAncestorInChain(ancestorId, category, allCategories) {
    if (!category.ParentID) return false;
    if (category.ParentID === ancestorId) return true;
    // Find the parent category and check its chain
    const parent = this.findCategoryById(category.ParentID, allCategories);
    if (parent) {
      return this.isAncestorInChain(ancestorId, parent, allCategories);
    }
    return false;
  }
  // Helper method to find a category by ID in the tree structure
  findCategoryById(categoryId, categories) {
    for (const category of categories) {
      if (category.ActivityCategoryID === categoryId) {
        return category;
      }
      if (category.Childs && category.Childs.length > 0) {
        const found = this.findCategoryById(categoryId, category.Childs);
        if (found) return found;
      }
    }
    return null;
  }
  // Helper method to truncate text with ellipsis
  truncateText(text, maxLength = 64) {
    if (!text || typeof text !== 'string') {
      return '';
    }
    if (text.length <= maxLength) {
      return text;
    }
    return text.substring(0, maxLength - 3) + '...';
  }
  closeDialog() {
    this.dialogRef.close();
  }
  // Method to trim all form values
  trimFormValues() {
    const trimmedValues = Object.keys(this.categoryForm.value).reduce((acc, key) => {
      acc[key] = typeof this.categoryForm.value[key] === 'string' ? this.categoryForm.value[key].trim() : this.categoryForm.value[key];
      return acc;
    }, {});
    this.categoryForm.setValue(trimmedValues);
  }
  // Method to submit the dialog
  submitDialog() {
    var _this$categoryForm$ge2;
    if (this.categoryForm.invalid) {
      return;
    }
    const parentId = (_this$categoryForm$ge2 = this.categoryForm.get('ParentID')) === null || _this$categoryForm$ge2 === void 0 ? void 0 : _this$categoryForm$ge2.value;
    // Check if editing this category would exceed 4 levels
    if (this.wouldExceedMaxLevels(parentId)) {
      this.snackBarService.showError('Categories can only be nested up to 4 levels.', '', null, 'left', 'bottom');
      return;
    }
    this.isLoading = true;
    this.trimFormValues();
    this.subscriptions.add(this.categoriesService.Edit(this.categoryForm.value).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
      this.isLoading = false;
    })).subscribe(result => {
      this.dialogRef.close(true);
    }));
  }
  ngOnDestroy() {
    this.subscriptions.unsubscribe();
  }
}
ActivitiesEditCategoryDialogComponent.ɵfac = function ActivitiesEditCategoryDialogComponent_Factory(t) {
  return new (t || ActivitiesEditCategoryDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]("IActivitiesCategoriesService"), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_8__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MAT_LEGACY_DIALOG_DATA));
};
ActivitiesEditCategoryDialogComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: ActivitiesEditCategoryDialogComponent,
  selectors: [["tei-booking-activities-edit-category-dialog"]],
  decls: 1,
  vars: 1,
  consts: [["class", "o-dialog-container", 3, "formGroup", 4, "ngIf"], [1, "o-dialog-container", 3, "formGroup"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col"], [1, "a-text-h3"], [1, "col-auto"], ["mat-icon-button", "", "id", "a-button-activities-edit-category-dialog-close", 3, "click"], [1, "m-dialog-content"], [1, "a-text-label"], ["appearance", "outline", 1, "no-label", "w-100"], ["matInput", "", "formControlName", "CategoryCode", "maxlength", "64"], ["align", "end"], ["matInput", "", "formControlName", "CategoryName", "maxlength", "64"], ["appearance", "outline", 1, "no-label", "select", "w-100"], ["formControlName", "ParentID"], [3, "value", 4, "ngFor", "ngForOf"], [1, "m-dialog-actions", "m-dialog-actions-sm", "justify-content-end"], ["mat-button", "", "mat-stroked-button", "", "id", "a-button-activities-add-category-dialog-cancel", 1, "mr-1", "a-second-step-button", 3, "click"], ["mat-button", "", "mat-flat-button", "", "id", "a-button-activities-add-category-dialog-confirm", 3, "disabled", "color", "click"], [3, "show"], [3, "value"], [1, "d-flex", "flex-row", "align-items-center", 3, "title"], [1, "text-truncate", 2, "max-width", "100%", "overflow", "hidden", "text-overflow", "ellipsis", "white-space", "nowrap"]],
  template: function ActivitiesEditCategoryDialogComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, ActivitiesEditCategoryDialogComponent_form_0_Template, 43, 25, "form", 0);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.data && (ctx.categoryForm == null ? null : ctx.categoryForm.value));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.MaxLengthValidator, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_10__.MatLegacyButton, _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__.MatIcon, _tei_material__WEBPACK_IMPORTED_MODULE_8__.LoadingComponent, _angular_material_divider__WEBPACK_IMPORTED_MODULE_12__.MatDivider, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyHint, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_14__.MatLegacyInput, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_15__.MatLegacySelect, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_16__.MatLegacyOption, _tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiTextTranslatePipe]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActivitiesEditCategoryDialogComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-booking-activities-edit-category-dialog',
      template: "<form class=\"o-dialog-container\" *ngIf=\"data && categoryForm?.value\" [formGroup]=\"categoryForm\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col\">\n        <div class=\"a-text-h3\">\n          {{ 'ACTIVITIES.CATEGORIES.EDIT_CATEGORY' | teiTextTranslate }}\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <button (click)=\"closeDialog()\" mat-icon-button id=\"a-button-activities-edit-category-dialog-close\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-content\">\n    <div class=\"a-text-label\">\n      {{ 'ACTIVITIES.CATEGORIES.CATEGORY_ID' | teiTextTranslate }}\n    </div>\n    <mat-form-field class=\"no-label w-100\" appearance=\"outline\">\n      <input matInput formControlName=\"CategoryCode\" maxlength=\"64\" />\n      <mat-hint align=\"end\">{{categoryForm.get('CategoryCode').value?.length || 0}}/64</mat-hint>\n    </mat-form-field>\n\n    <div class=\"a-text-label\">\n      {{ 'ACTIVITIES.CATEGORIES.CATEGORY_NAME' | teiTextTranslate }}\n    </div>\n    <mat-form-field class=\"no-label w-100\" appearance=\"outline\">\n      <input matInput formControlName=\"CategoryName\" maxlength=\"64\" />\n      <mat-hint align=\"end\">{{categoryForm.get('CategoryName').value?.length || 0}}/64</mat-hint>\n    </mat-form-field>\n\n    <div class=\"a-text-label\">\n      {{ 'ACTIVITIES.CATEGORIES.PARENT_CATEGORY' | teiTextTranslate }}\n    </div>\n    <mat-form-field class=\"no-label select w-100\" appearance=\"outline\">\n      <mat-select formControlName=\"ParentID\">\n        <mat-option [value]=\"option?.ActivityCategoryID\" *ngFor=\"let option of getAvailableParentCategories()\">\n          <div class=\"d-flex flex-row align-items-center\" [title]=\"option?.CategoryName\">\n            <span class=\"text-truncate\"\n              style=\"max-width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\">\n              {{ getCategoryDisplayName(option) }}\n            </span>\n          </div>\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-actions m-dialog-actions-sm justify-content-end\">\n    <button mat-button mat-stroked-button class=\"mr-1 a-second-step-button\"\n      id=\"a-button-activities-add-category-dialog-cancel\" (click)=\"closeDialog()\">\n      <span>{{ 'ACTIVITIES.CATEGORIES.CANCEL' | teiTextTranslate }}</span>\n    </button>\n    <button [disabled]=\"categoryForm.invalid\" mat-button mat-flat-button [color]=\"'accent'\" (click)=\"submitDialog()\"\n      id=\"a-button-activities-add-category-dialog-confirm\">\n      {{ 'ACTIVITIES.CATEGORIES.CONFIRM' | teiTextTranslate }}\n    </button>\n  </div>\n  <tei-loading [show]=\"isLoading\"></tei-loading>\n</form>"
    }]
  }], function () {
    return [{
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormBuilder
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ["IActivitiesCategoriesService"]
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MatLegacyDialogRef
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_8__.SnackBarService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MAT_LEGACY_DIALOG_DATA]
      }]
    }];
  }, null);
})();
const COMPONENTS = [ActivitiesEditCategoryDialogComponent];
const BASE_MODULES$1 = [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule, _angular_router__WEBPACK_IMPORTED_MODULE_18__.RouterModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule];
const CORE_MODULES = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiTextTranslatePipeModule, _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.TranslateModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiCurrencyTranslateModule, _tei_material__WEBPACK_IMPORTED_MODULE_8__.NumberInputModule, _tei_material__WEBPACK_IMPORTED_MODULE_8__.LoadingModule];
const MATERIAL_MODULES$1 = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_12__.MatDividerModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_10__.MatLegacyButtonModule, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_20__.MatLegacyCardModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyFormFieldModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_14__.MatLegacyInputModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_15__.MatLegacySelectModule];
class ActivitiesEditCategoryDialogModule {}
ActivitiesEditCategoryDialogModule.ɵfac = function ActivitiesEditCategoryDialogModule_Factory(t) {
  return new (t || ActivitiesEditCategoryDialogModule)();
};
ActivitiesEditCategoryDialogModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: ActivitiesEditCategoryDialogModule
});
ActivitiesEditCategoryDialogModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [_tei_material__WEBPACK_IMPORTED_MODULE_8__.SnackBarService],
  imports: [BASE_MODULES$1, CORE_MODULES, MATERIAL_MODULES$1]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActivitiesEditCategoryDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS],
      imports: [...BASE_MODULES$1, ...CORE_MODULES, ...MATERIAL_MODULES$1],
      providers: [_tei_material__WEBPACK_IMPORTED_MODULE_8__.SnackBarService],
      exports: [...COMPONENTS]
    }]
  }], null, null);
})();
class ActivitiesCategoriesSettingsComponent {
  constructor(categoriesService, translateService, responsiveService, database, dialog, snackBarService, translate) {
    this.categoriesService = categoriesService;
    this.translateService = translateService;
    this.responsiveService = responsiveService;
    this.database = database;
    this.dialog = dialog;
    this.snackBarService = snackBarService;
    this.translate = translate;
    this.isLoading = false;
    this.showAddCategoryButton = false;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.nestedNodeMap = new Map();
    this.getLevel = node => node.Level;
    this.isExpandable = node => node.expandable;
    this.getChildren = node => node.Childs;
    this.flatNodeMap = new Map();
    this.hasChild = (_, _nodeData) => _nodeData.expandable;
    this.dropOverAreaType = DropOverAreaType;
    this.dragNodeExpandOverWaitTimeMs = 500;
    this.settingsCategoryItemJagged = [];
    this.settingsCategoryItem = [];
    // To keep track of expanded nodes
    this.expandedNodeIds = new Set();
    this.breadCrumbData = [{
      title: this.translateService.instant('ACTIVITIES.SETTINGS.ACTIVITIES'),
      relativeUrl: '../'
    }, {
      title: this.translateService.instant('ACTIVITIES.SETTINGS.CATEGORIES'),
      relativeUrl: './'
    }];
    this.transformer = (node, level) => {
      const existingNode = this.nestedNodeMap.get(node);
      const flatNode = existingNode && existingNode.CategoryName === node.CategoryName ? existingNode : new FlatSettingsCategoryItemJagged();
      flatNode.CategoryName = node.CategoryName;
      flatNode.Level = level;
      flatNode.ParentID = node.ParentID;
      flatNode.ActivityCategoryID = node.ActivityCategoryID;
      flatNode.expandable = node.Childs && node.Childs.length > 0;
      this.flatNodeMap.set(flatNode, node);
      this.nestedNodeMap.set(node, flatNode);
      return flatNode;
    };
  }
  ngOnInit() {
    this.configureTree();
    this.getCategories();
    this.isSmallScreen();
  }
  getCategories() {
    var _this2 = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.saveExpandedNodes();
      _this2.isLoading = true;
      _this2.subscription.add(_this2.categoriesService.Get(new GetActivitiesSettingsResquest()).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
        _this2.isLoading = false;
        _this2.showAddCategoryButton = true;
      })).subscribe(result => {
        let categories = _this2.sortCategories(result.ActivityCategories);
        _this2.database.initialize(categories);
        _this2.database.reviseSortOrder();
        _this2.settingsCategoryItemJagged = result.ActivityCategoriesJagged;
        _this2.settingsCategoryItem = categories;
        _this2.expandSavedExpandedNodes();
      }));
    })();
  }
  saveExpandedNodes() {
    this.expandedNodeIds.clear();
    if (this.treeControl) {
      const expandedNodes = this.treeControl.dataNodes.filter(node => this.treeControl.isExpanded(node));
      expandedNodes.forEach(node => {
        this.expandedNodeIds.add(node.ActivityCategoryID);
      });
    }
  }
  expandSavedExpandedNodes() {
    this.expandedNodeIds.forEach(nodeId => {
      this.treeControl.expand(this.findNode(nodeId));
    });
  }
  sortCategories(categories) {
    let sortedCategories = categories.sort((a, b) => a.SortOrder - b.SortOrder);
    sortedCategories.forEach(cat => {
      if (cat !== null && cat !== void 0 && cat.Childs && cat.Childs.length > 0) cat.Childs = this.sortCategories(cat.Childs);
    });
    return sortedCategories;
  }
  configureTree() {
    this.treeFlattener = new _angular_material_tree__WEBPACK_IMPORTED_MODULE_21__.MatTreeFlattener(this.transformer, this.getLevel, this.isExpandable, this.getChildren);
    this.treeControl = new _angular_cdk_tree__WEBPACK_IMPORTED_MODULE_22__.FlatTreeControl(this.getLevel, this.isExpandable);
    this.dataSource = new _angular_material_tree__WEBPACK_IMPORTED_MODULE_21__.MatTreeFlatDataSource(this.treeControl, this.treeFlattener);
    this.database.dataChange.subscribe(data => {
      this.dataSource.data = JSON.parse(JSON.stringify(data));
    });
  }
  openCreateCategoryDialog() {
    const addCategoryDialog = this.dialog.open(ActivitiesAddCategoryDialogComponent, {
      panelClass: ['o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen', 'activities-add-category-dialog'],
      width: '460px',
      data: {
        settingsCategoryItemJagged: this.settingsCategoryItemJagged,
        settingsCategoryItemTree: this.settingsCategoryItem
      }
    });
    addCategoryDialog.afterClosed().subscribe(result => {
      if (result) {
        this.snackBarService.showSuccess(this.translate.instant('ACTIVITIES.CATEGORIES.CATEGORY_CREATED'), '', null, 'left', 'bottom');
        this.getCategories();
      }
    });
  }
  openRemoveCategoryDialog(node) {
    var _this3 = this;
    this.getCategories();
    const addCategoryDialog = this.dialog.open(ActivitiesDeleteCategoryDialogComponent, {
      panelClass: ['o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen', 'activities-add-category-dialog'],
      width: '460px',
      data: node
    });
    addCategoryDialog.afterClosed().subscribe(result => {
      if (result && result.ActivityCategoryID) {
        const request = {
          ActivityCategoryID: node.ActivityCategoryID
        };
        this.isLoading = true;
        this.subscription.add(this.categoriesService.Delete(request).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
          this.isLoading = false;
        })).subscribe( /*#__PURE__*/function () {
          var _ref = (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (res) {
            _this3.snackBarService.showSuccess(_this3.translate.instant('ACTIVITIES.CATEGORIES.CATEGORY_DELETED'), '', null, 'left', 'bottom');
            yield _this3.getCategories();
          });
          return function (_x) {
            return _ref.apply(this, arguments);
          };
        }()));
      }
    });
  }
  findCategoryById(items, categoryId) {
    for (const item of items) {
      var _item$Childs;
      if (item.ActivityCategoryID === categoryId) {
        return item;
      }
      if ((_item$Childs = item.Childs) !== null && _item$Childs !== void 0 && _item$Childs.length) {
        const found = this.findCategoryById(item.Childs, categoryId);
        if (found) {
          return found;
        }
      }
    }
    return undefined;
  }
  openEditCategoryDialog(node) {
    var _this4 = this;
    const cateogry = this.findCategoryById(this.settingsCategoryItem, node.ActivityCategoryID);
    const editCategoryDialog = this.dialog.open(ActivitiesEditCategoryDialogComponent, {
      panelClass: ['o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen', 'activities-edit-category-dialog'],
      width: '460px',
      data: {
        settingsCategoryItemJagged: this.settingsCategoryItemJagged.filter(item => item.ActivityCategoryID !== node.ActivityCategoryID),
        settingsCategoryItem: cateogry,
        settingsCategoryItemTree: this.settingsCategoryItem
      }
    });
    editCategoryDialog.afterClosed().subscribe( /*#__PURE__*/function () {
      var _ref2 = (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (result) {
        if (result) {
          _this4.snackBarService.showSuccess(_this4.translate.instant('ACTIVITIES.CATEGORIES.CATEGORY_SAVED'), '', null, 'left', 'bottom');
          yield _this4.getCategories();
        }
      });
      return function (_x2) {
        return _ref2.apply(this, arguments);
      };
    }());
  }
  findParentNode(node) {
    if (node.ParentID == null) return node;
    var parentNode = this.findNode(node.ParentID);
    return this.findParentNode(parentNode);
  }
  findNode(categoryID) {
    let selectedCategory;
    this.flatNodeMap.forEach((value, key) => {
      if (key.ActivityCategoryID === categoryID) {
        selectedCategory = key;
      }
    });
    return selectedCategory;
  }
  isSmallScreen() {
    const screenSize = this.responsiveService.mediaBreakpoint.getValue();
    this.isMobile = screenSize === 'xs';
    return this.isMobile;
  }
  handleDragStart(event, node) {
    if (event.dataTransfer) event.dataTransfer.setDragImage(this.emptyItem.nativeElement, 0, 0);
    this.dragNode = node;
    this.treeControl.collapse(node);
    const targetElement = event.target;
    targetElement.classList.add('dragged');
  }
  handleDragOver(event, node) {
    event.preventDefault();
    // Handle node expand
    if (node !== this.dragNodeExpandOverNode) {
      this.dragNodeExpandOverNode = node;
      this.dragNodeExpandOverTime = new Date().getTime();
    }
    let isValidToBeBelow = false;
    let currentNode = this.flatNodeMap.get(node);
    let parent = this.database.getParentFromNodes(currentNode);
    if (parent == null) {
      let items = this.database.data;
      isValidToBeBelow = items.indexOf(currentNode) == items.length - 1;
    } else {
      isValidToBeBelow = parent.Childs.indexOf(currentNode) == parent.Childs.length - 1;
    }
    // Handle drag area
    const target = event.currentTarget || event.target;
    let percentageY = event.offsetY / target.clientHeight;
    let centerThreshold = 0.75;
    if (!isValidToBeBelow) centerThreshold = 1.0;
    if (percentageY < 0.25) {
      this.dragNodeExpandOverArea = DropOverAreaType.Above;
    } else if (percentageY >= 0.25 && percentageY <= centerThreshold) {
      this.dragNodeExpandOverArea = DropOverAreaType.Center;
    } else if (percentageY > 0.75 && percentageY <= 1 && isValidToBeBelow) {
      this.dragNodeExpandOverArea = DropOverAreaType.Below;
    } else {
      this.dragNodeExpandOverArea = null;
    }
  }
  handleDrop(event, node) {
    this.saveExpandedNodes();
    event.preventDefault();
    if (node !== this.dragNode) {
      // Validate if dropping would exceed 4 levels
      const draggedCategory = this.flatNodeMap.get(this.dragNode);
      const targetNode = this.flatNodeMap.get(node);
      if (this.database.validateDragDropNesting(draggedCategory, targetNode, this.dragNodeExpandOverArea, this.settingsCategoryItemJagged)) {
        this.snackBarService.showError('Categories can only be nested up to 4 levels.', '', null, 'left', 'bottom');
        this.resetDragState();
        return;
      }
      let request = {
        ActivityCategoryID: this.flatNodeMap.get(this.dragNode).ActivityCategoryID,
        SortOrder: 0,
        ParentID: null
      };
      let newItem;
      if (this.dragNodeExpandOverArea === DropOverAreaType.Above) {
        request.ParentID = this.flatNodeMap.get(node).ParentID;
        newItem = this.database.copyPasteItemAbove(this.flatNodeMap.get(this.dragNode), this.flatNodeMap.get(node));
      } else if (this.dragNodeExpandOverArea === DropOverAreaType.Below) {
        request.ParentID = this.flatNodeMap.get(node).ParentID;
        newItem = this.database.copyPasteItemBelow(this.flatNodeMap.get(this.dragNode), this.flatNodeMap.get(node));
      } else {
        request.ParentID = this.flatNodeMap.get(node).ActivityCategoryID;
        newItem = this.database.copyPasteItem(this.flatNodeMap.get(this.dragNode), this.flatNodeMap.get(node));
      }
      this.database.deleteItem(this.flatNodeMap.get(this.dragNode));
      var newSortPlace = this.database.reviseSortOrderAndGetSortNumber(newItem);
      request.SortOrder = newSortPlace;
      this.expandSavedExpandedNodes();
      this.categoriesService.SortOrder(request).subscribe({
        complete: () => {
          this.resetDragState();
          this.snackBarService.showSuccess(this.translate.instant('ACTIVITIES.CATEGORIES.CATEGORY_SAVED'), '', null, 'left', 'bottom');
          // Refresh the categories to update the jagged array with correct levels
          this.getCategories();
        }
      });
    } else {
      this.resetDragState();
    }
  }
  handleDragEnd(event) {
    const targetElement = event.target;
    targetElement.classList.remove('dragged');
    if (event.dataTransfer.dropEffect == "none") this.resetDragState();
  }
  resetDragState() {
    this.dragNode = null;
    this.dragNodeExpandOverNode = null;
    this.dragNodeExpandOverArea = null;
    this.dragNodeExpandOverTime = 0;
  }
  handleTouchStart(event, node) {
    if (this.checkClosestIsActionButton(event)) {
      return;
    }
    event.preventDefault();
    const touch = event.touches[0];
    const targetElement = document.elementFromPoint(touch.clientX, touch.clientY);
    if (targetElement) {
      const dragStartEvent = new CustomEvent('dragstart', {
        bubbles: true,
        detail: {
          node
        }
      });
      targetElement.dispatchEvent(dragStartEvent);
    }
    this.lastDragOverTarget = null;
  }
  checkClosestIsActionButton(event) {
    return event.target.closest('.a-tree-node-item-expand-toggle') || event.target.closest('.a-more-button') || event.target.closest('.a-manage-page') || event.target.closest('.a-remove-page');
  }
  handleTouchMove(event, node) {
    if (this.checkClosestIsActionButton(event)) {
      return;
    }
    event.preventDefault();
    const touch = event.touches[0];
    const targetElement = document.elementFromPoint(touch.clientX, touch.clientY);
    if (targetElement) {
      const boundingRect = targetElement.getBoundingClientRect();
      const offsetY = touch.clientY - boundingRect.top;
      if (this.lastDragOverTarget !== targetElement) {
        if (this.lastDragOverTarget) {
          const dragLeaveEvent = new CustomEvent('dragleave', {
            bubbles: true
          });
          this.lastDragOverTarget.dispatchEvent(dragLeaveEvent);
        }
        const dragOverEvent = new CustomEvent('dragover', {
          bubbles: true
        });
        Object.assign(dragOverEvent, {
          offsetY,
          node
        });
        targetElement.dispatchEvent(dragOverEvent);
        this.lastDragOverTarget = targetElement;
      }
    }
  }
  handleTouchEnd(event, node) {
    if (this.checkClosestIsActionButton(event)) {
      return;
    }
    const touch = event.changedTouches[0];
    const targetElement = document.elementFromPoint(touch.clientX, touch.clientY);
    if (targetElement) {
      const dropEvent = new CustomEvent('drop', {
        bubbles: true
      });
      Object.assign(dropEvent, {
        node
      });
      targetElement.dispatchEvent(dropEvent);
    }
    this.lastDragOverTarget = null;
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
ActivitiesCategoriesSettingsComponent.ɵfac = function ActivitiesCategoriesSettingsComponent_Factory(t) {
  return new (t || ActivitiesCategoriesSettingsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]("IActivitiesCategoriesService"), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_23__.ResponsiveService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('Database'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MatLegacyDialog), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_8__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.TranslateService));
};
ActivitiesCategoriesSettingsComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: ActivitiesCategoriesSettingsComponent,
  selectors: [["tei-booking-activities-categories-settings"]],
  viewQuery: function ActivitiesCategoriesSettingsComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.emptyItem = _t.first);
    }
  },
  decls: 18,
  vars: 9,
  consts: [[1, "container-shell", 2, "max-width", "1000px", "margin-left", "0"], [1, "row"], [1, "col-md-12"], [3, "breadCrumbData", 4, "ngIf"], [1, "d-flex", "justify-content-between", "align-items-center", "mb-2"], [1, "a-text-h3"], [1, ""], ["mat-raised-button", "", "type", "button", "color", "primary", "class", "", 3, "click", 4, "ngIf"], [1, "o-card", "p-0"], [1, "d-flex", "flex-wrap", "o-tree-page-list"], [1, "o-card", "outline", "mat-tree", "p-0", "w-100", 3, "dataSource", "treeControl"], ["matTreeNodeToggle", "", "matTreeNodePadding", "", 4, "matTreeNodeDef"], ["matTreeNodePadding", "", 4, "matTreeNodeDef", "matTreeNodeDefWhen"], ["emptyItem", ""], [3, "show"], [3, "breadCrumbData"], ["mat-raised-button", "", "type", "button", "color", "primary", 1, "", 3, "click"], ["matTreeNodeToggle", "", "matTreeNodePadding", ""], ["type", "button", "mat-icon-button", "", "disabled", "", "matTreeNodeToggle", "", 1, "a-tree-node-item-expand-toggle", 3, "id"], [1, "mat-icon-rtl-mirror"], ["draggable", "true", 1, "a-tree-node-draggable", 3, "ngClass", "dragstart", "dragover", "dragend", "drop", "touchstart", "touchmove", "touchend"], [1, "flex-grow-1", 3, "id"], [1, "checklist-leaf-node"], [1, "a-text-primary", "nodeContent"], ["mat-icon-button", "", "type", "button", 1, "a-more-button", 3, "matMenuTriggerFor"], ["catnodeemenu", "matMenu"], ["mat-menu-item", "", "type", "button", 1, "a-manage-page", 3, "id", "click"], ["mat-menu-item", "", "type", "button", 1, "a-remove-page", 3, "id", "click"], ["matTreeNodePadding", ""], ["type", "button", "mat-icon-button", "", "matTreeNodeToggle", "", 1, "a-tree-node-item-expand-toggle", 3, "id"], [1, "flex-grow-1", 2, "z-index", "-1", "position", "relative", 3, "id"], ["catleafemenu", "matMenu"], [1, "a-text-label"]],
  template: function ActivitiesCategoriesSettingsComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, ActivitiesCategoriesSettingsComponent_tei_material_bread_crumb_3_Template, 1, 1, "tei-material-bread-crumb", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 4)(5, "div", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, ActivitiesCategoriesSettingsComponent_button_9_Template, 3, 3, "button", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "mat-card", 8)(11, "div", 9)(12, "mat-tree", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](13, ActivitiesCategoriesSettingsComponent_mat_tree_node_13_Template, 26, 17, "mat-tree-node", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](14, ActivitiesCategoriesSettingsComponent_mat_tree_node_14_Template, 27, 18, "mat-tree-node", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](15, "span", null, 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](17, "tei-loading", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.breadCrumbData.length);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](7, 7, "ACTIVITIES.CATEGORIES.CATEGORIES"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.showAddCategoryButton);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("dataSource", ctx.dataSource)("treeControl", ctx.treeControl);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("matTreeNodeDefWhen", ctx.hasChild);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("show", ctx.isLoading);
    }
  },
  dependencies: [_angular_material_tree__WEBPACK_IMPORTED_MODULE_21__.MatTreeNodeDef, _angular_material_tree__WEBPACK_IMPORTED_MODULE_21__.MatTreeNodePadding, _angular_material_tree__WEBPACK_IMPORTED_MODULE_21__.MatTreeNodeToggle, _angular_material_tree__WEBPACK_IMPORTED_MODULE_21__.MatTree, _angular_material_tree__WEBPACK_IMPORTED_MODULE_21__.MatTreeNode, _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__.MatIcon, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_10__.MatLegacyButton, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyLabel, _angular_material_legacy_menu__WEBPACK_IMPORTED_MODULE_24__.MatLegacyMenu, _angular_material_legacy_menu__WEBPACK_IMPORTED_MODULE_24__.MatLegacyMenuItem, _angular_material_legacy_menu__WEBPACK_IMPORTED_MODULE_24__.MatLegacyMenuTrigger, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _tei_material__WEBPACK_IMPORTED_MODULE_8__.BreadCrumbComponent, _tei_material__WEBPACK_IMPORTED_MODULE_8__.LoadingComponent, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_20__.MatLegacyCard, _tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiTextTranslatePipe],
  styles: [".a-primary-toggle-group[_ngcontent-%COMP%], .a-new-page[_ngcontent-%COMP%]{height:35px;line-height:25px}.a-primary-toggle-group[_ngcontent-%COMP%]     .mat-button-toggle-label-content, .a-new-page[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:35px}.a-primary-toggle-group[_ngcontent-%COMP%]     .mat-button-toggle, .a-new-page[_ngcontent-%COMP%]     .mat-button-toggle{color:#028eb5}.a-primary-toggle-group[_ngcontent-%COMP%]     .mat-button-toggle-checked, .a-new-page[_ngcontent-%COMP%]     .mat-button-toggle-checked{background-color:#028eb5;color:#fff}.a-primary-toggle-group[_ngcontent-%COMP%]     .mat-button-toggle-checked .mat-button-toggle-label-content, .a-new-page[_ngcontent-%COMP%]     .mat-button-toggle-checked .mat-button-toggle-label-content{color:#fff}.mat-tree-node[_ngcontent-%COMP%]{cursor:move}.mat-tree-node[_ngcontent-%COMP%]:hover{background-color:#00000014}.px-title[_ngcontent-%COMP%]{position:absolute;bottom:35px}.nb-theme-material-light[_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%]{border:1px solid #e7e7e7;border-radius:4px}.nb-theme-material-light[_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%]   .mat-tree[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%]   .mat-tree[_ngcontent-%COMP%]{background-color:#fff}.nb-theme-material-light[_nghost-%COMP%]   .a-tree-node-item-drop-above[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .a-tree-node-item-drop-above[_ngcontent-%COMP%]{border-top:5px solid #dddddd;margin-top:-5px}.nb-theme-material-light[_nghost-%COMP%]   .a-tree-node-item-drop-below[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .a-tree-node-item-drop-below[_ngcontent-%COMP%]{border-bottom:5px solid #dddddd;margin-bottom:-5px}.nb-theme-material-light[_nghost-%COMP%]   .a-tree-node-item-drop-center[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .a-tree-node-item-drop-center[_ngcontent-%COMP%]{background-color:#ddd}.nb-theme-material-dark[_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.12);border-radius:4px}.nb-theme-material-dark[_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%]   .mat-tree[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .o-tree-page-list[_ngcontent-%COMP%]   .mat-tree[_ngcontent-%COMP%]{background-color:#303030}.nb-theme-material-dark[_nghost-%COMP%]   .a-tree-node-item-drop-above[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .a-tree-node-item-drop-above[_ngcontent-%COMP%]{border-top:5px solid #555555;margin-top:-5px}.nb-theme-material-dark[_nghost-%COMP%]   .a-tree-node-item-drop-below[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .a-tree-node-item-drop-below[_ngcontent-%COMP%]{border-bottom:5px solid #555555;margin-bottom:-5px}.nb-theme-material-dark[_nghost-%COMP%]   .a-tree-node-item-drop-center[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .a-tree-node-item-drop-center[_ngcontent-%COMP%]{background-color:#555}@media only screen and (max-width: 600px){.px-container[_ngcontent-%COMP%]{height:80px}.tablet-px[_ngcontent-%COMP%]{margin-top:20px}.px-title[_ngcontent-%COMP%]{position:unset}}.w-90[_ngcontent-%COMP%]{width:90%}.dragged[_ngcontent-%COMP%]{transform:scale(.95)}.a-tree-node-draggable[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{z-index:-1;position:relative;height:48px;display:flex;align-items:center}.a-tree-node-draggable[_ngcontent-%COMP%]{z-index:1;transition:transform .2s ease-in-out;display:flex;align-items:center;flex:1;word-wrap:break-word}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActivitiesCategoriesSettingsComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-booking-activities-categories-settings',
      template: "<div class=\"d-flex justify-content-between\" style=\"max-width: 1000px; margin-left: 0;\" class=\"container-shell\">\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <tei-material-bread-crumb *ngIf=\"breadCrumbData.length\" [breadCrumbData]=\"breadCrumbData\">\n      </tei-material-bread-crumb>\n\n      <div class=\"d-flex justify-content-between align-items-center mb-2\">\n        <div class=\"a-text-h3\">{{'ACTIVITIES.CATEGORIES.CATEGORIES' | teiTextTranslate}}</div>\n        <div class=\"\">\n          <button *ngIf=\"showAddCategoryButton\" mat-raised-button type=\"button\" color=\"primary\" class=\"\"\n            (click)=\"openCreateCategoryDialog()\">{{'ACTIVITIES.CATEGORIES.ADD_CATEGORY' | teiTextTranslate}}</button>\n        </div>\n      </div>\n\n      <mat-card class=\"o-card p-0\">\n        <div class=\"d-flex flex-wrap o-tree-page-list\">\n          <mat-tree class=\"o-card outline mat-tree p-0 w-100\" [dataSource]=\"dataSource\" [treeControl]=\"treeControl\">\n            <mat-tree-node *matTreeNodeDef=\"let node\" matTreeNodeToggle matTreeNodePadding>\n              <button type=\"button\" mat-icon-button disabled matTreeNodeToggle class=\"a-tree-node-item-expand-toggle\"\n                [id]=\"'a-tree-node-item-expand-toggle-'+node.ActivityCategoryID\">\n                <mat-icon class=\"mat-icon-rtl-mirror\">\n                </mat-icon>\n              </button>\n              <div class=\"a-tree-node-draggable\" draggable=\"true\"\n                [ngClass]=\"{'a-tree-node-item-drop-above': dragNodeExpandOverArea === dropOverAreaType.Above && dragNodeExpandOverNode === node,\n                                                    'a-tree-node-item-drop-below': dragNodeExpandOverArea === dropOverAreaType.Below && dragNodeExpandOverNode === node,\n                                                    'a-tree-node-item-drop-center': dragNodeExpandOverArea === dropOverAreaType.Center && dragNodeExpandOverNode === node}\"\n                (dragstart)=\"handleDragStart($event, node);\" (dragover)=\"handleDragOver($event, node);\"\n                (dragend)=\"handleDragEnd($event)\" (drop)=\"handleDrop($event, node);\"\n                (touchstart)=\"handleTouchStart($event,node);\" (touchmove)=\"handleTouchMove($event,node);\"\n                (touchend)=\"handleTouchEnd($event,node);\">\n                <div class=\"flex-grow-1\" [id]=\"'a-tree-node-item-draggable-'+ node.ActivityCategoryID\">\n                  <span class=\"checklist-leaf-node\">\n                    <span class=\"a-text-primary nodeContent\">\n                      {{node.CategoryName}}\n                    </span>\n                  </span>\n                </div>\n                <div class=\"\">\n                  <button class=\"a-more-button\" mat-icon-button [matMenuTriggerFor]=\"catnodeemenu\" type=\"button\">\n                    <mat-icon>more_vert</mat-icon>\n                  </button>\n                  <mat-menu #catnodeemenu=\"matMenu\">\n                    <button mat-menu-item type=\"button\" class=\"a-manage-page\"\n                      [id]=\"'a-manage-page-'+ node.ActivityCategoryID\" (click)=\"openEditCategoryDialog(node)\">\n                      <mat-icon>create</mat-icon>\n                      <span>{{'ACTIVITIES.CATEGORIES.EDIT' | teiTextTranslate}}</span>\n                    </button>\n                    <button mat-menu-item type=\"button\" class=\"a-remove-page\"\n                      [id]=\"'a-remove-page-'+ node.ActivityCategoryID\" (click)=\"openRemoveCategoryDialog(node)\">\n                      <mat-icon>delete_forever</mat-icon>\n                      <span>{{'ACTIVITIES.CATEGORIES.DELETE' | teiTextTranslate}}</span>\n                    </button>\n                  </mat-menu>\n                </div>\n              </div>\n\n            </mat-tree-node>\n\n            <mat-tree-node *matTreeNodeDef=\"let node; when: hasChild\" matTreeNodePadding>\n              <button type=\"button\" mat-icon-button matTreeNodeToggle class=\"a-tree-node-item-expand-toggle\"\n                [id]=\"'a-tree-node-item-expand-toggle-'+ node.ActivityCategoryID\">\n                <mat-icon class=\"mat-icon-rtl-mirror\">\n                  {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}\n                </mat-icon>\n              </button>\n              <div class=\"a-tree-node-draggable\" draggable=\"true\"\n                [ngClass]=\"{'a-tree-node-item-drop-above': dragNodeExpandOverArea === dropOverAreaType.Above && dragNodeExpandOverNode === node,\n                                                    'a-tree-node-item-drop-below': dragNodeExpandOverArea === dropOverAreaType.Below && dragNodeExpandOverNode === node,\n                                                    'a-tree-node-item-drop-center': dragNodeExpandOverArea === dropOverAreaType.Center && dragNodeExpandOverNode === node}\"\n                (dragstart)=\"handleDragStart($event, node);\" (dragover)=\"handleDragOver($event, node);\"\n                (dragend)=\"handleDragEnd($event)\" (drop)=\"handleDrop($event, node);\"\n                (touchstart)=\"handleTouchStart($event,node);\" (touchmove)=\"handleTouchMove($event,node);\"\n                (touchend)=\"handleTouchEnd($event,node);\">\n                <div class=\"flex-grow-1\" style=\"z-index: -1; position: relative;\"\n                  [id]=\"'a-tree-node-item-draggable-'+node.ActivityCategoryID\">\n\n                  <span class=\"checklist-leaf-node\">\n                    <span class=\"a-text-primary nodeContent\">\n                      {{node.CategoryName}}\n                    </span>\n                  </span>\n                </div>\n                <div class=\"\">\n                  <button mat-icon-button class=\"a-more-button\" [matMenuTriggerFor]=\"catleafemenu\" type=\"button\">\n                    <mat-icon>more_vert</mat-icon>\n                  </button>\n                  <mat-menu #catleafemenu=\"matMenu\">\n                    <button mat-menu-item type=\"button\" class=\"a-manage-page\"\n                      [id]=\"'a-manage-page-'+ node.ActivityCategoryID\" (click)=\"openEditCategoryDialog(node)\">\n                      <mat-icon>create</mat-icon>\n                      <mat-label class=\"a-text-label\">{{'ACTIVITIES.CATEGORIES.EDIT' |\n                        teiTextTranslate}}</mat-label>\n                    </button>\n                    <button mat-menu-item type=\"button\" class=\"a-remove-page\"\n                      [id]=\"'a-remove-page-'+ node.ActivityCategoryID\" (click)=\"openRemoveCategoryDialog(node)\">\n                      <mat-icon>delete_forever</mat-icon>\n                      <mat-label class=\"a-text-label\">{{'ACTIVITIES.CATEGORIES.DELETE' |\n                        teiTextTranslate}}</mat-label>\n                    </button>\n                  </mat-menu>\n                </div>\n              </div>\n\n            </mat-tree-node>\n          </mat-tree>\n          <span #emptyItem></span>\n\n\n        </div>\n      </mat-card>\n    </div>\n  </div>\n  <tei-loading [show]=\"isLoading\"></tei-loading>",
      styles: [".a-primary-toggle-group,.a-new-page{height:35px;line-height:25px}.a-primary-toggle-group ::ng-deep .mat-button-toggle-label-content,.a-new-page ::ng-deep .mat-button-toggle-label-content{line-height:35px}.a-primary-toggle-group ::ng-deep .mat-button-toggle,.a-new-page ::ng-deep .mat-button-toggle{color:#028eb5}.a-primary-toggle-group ::ng-deep .mat-button-toggle-checked,.a-new-page ::ng-deep .mat-button-toggle-checked{background-color:#028eb5;color:#fff}.a-primary-toggle-group ::ng-deep .mat-button-toggle-checked .mat-button-toggle-label-content,.a-new-page ::ng-deep .mat-button-toggle-checked .mat-button-toggle-label-content{color:#fff}.mat-tree-node{cursor:move}.mat-tree-node:hover{background-color:#00000014}.px-title{position:absolute;bottom:35px}:host-context(.nb-theme-material-light) .o-tree-page-list{border:1px solid #e7e7e7;border-radius:4px}:host-context(.nb-theme-material-light) .o-tree-page-list .mat-tree{background-color:#fff}:host-context(.nb-theme-material-light) .a-tree-node-item-drop-above{border-top:5px solid #dddddd;margin-top:-5px}:host-context(.nb-theme-material-light) .a-tree-node-item-drop-below{border-bottom:5px solid #dddddd;margin-bottom:-5px}:host-context(.nb-theme-material-light) .a-tree-node-item-drop-center{background-color:#ddd}:host-context(.nb-theme-material-dark) .o-tree-page-list{border:1px solid rgba(255,255,255,.12);border-radius:4px}:host-context(.nb-theme-material-dark) .o-tree-page-list .mat-tree{background-color:#303030}:host-context(.nb-theme-material-dark) .a-tree-node-item-drop-above{border-top:5px solid #555555;margin-top:-5px}:host-context(.nb-theme-material-dark) .a-tree-node-item-drop-below{border-bottom:5px solid #555555;margin-bottom:-5px}:host-context(.nb-theme-material-dark) .a-tree-node-item-drop-center{background-color:#555}@media only screen and (max-width: 600px){.px-container{height:80px}.tablet-px{margin-top:20px}.px-title{position:unset}}.w-90{width:90%}.dragged{transform:scale(.95)}.a-tree-node-draggable>*{z-index:-1;position:relative;height:48px;display:flex;align-items:center}.a-tree-node-draggable{z-index:1;transition:transform .2s ease-in-out;display:flex;align-items:center;flex:1;word-wrap:break-word}\n"]
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ["IActivitiesCategoriesService"]
      }]
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.TranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_23__.ResponsiveService
    }, {
      type: TreeListMenuActionsService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['Database']
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MatLegacyDialog
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_8__.SnackBarService
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_19__.TranslateService
    }];
  }, {
    emptyItem: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['emptyItem']
    }]
  });
})();
const MATERIAL_MODULES = [_angular_material_tree__WEBPACK_IMPORTED_MODULE_21__.MatTreeModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_11__.MatIconModule, _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_25__.DragDropModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_10__.MatLegacyButtonModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyFormFieldModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_14__.MatLegacyInputModule, _angular_material_legacy_menu__WEBPACK_IMPORTED_MODULE_24__.MatLegacyMenuModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_7__.MatLegacyDialogModule];
const BASE_MODULES = [_angular_common__WEBPACK_IMPORTED_MODULE_9__.CommonModule];
const TEI_MATERIAL_MODULES = [_tei_material__WEBPACK_IMPORTED_MODULE_8__.BreadCrumbModule, _tei_material__WEBPACK_IMPORTED_MODULE_8__.LoadingModule, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_20__.MatLegacyCardModule];
const TEI_MODULES = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_17__.TeiTextTranslatePipeModule, ActivitiesAddCategoryDialogModule, ActivitiesEditCategoryDialogModule, ActivitiesDeleteCategoryDialogModule];
class ActivitiesCategoriesSettingsModule {}
ActivitiesCategoriesSettingsModule.ɵfac = function ActivitiesCategoriesSettingsModule_Factory(t) {
  return new (t || ActivitiesCategoriesSettingsModule)();
};
ActivitiesCategoriesSettingsModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: ActivitiesCategoriesSettingsModule
});
ActivitiesCategoriesSettingsModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IActivitiesCategoriesService',
    useClass: ActivitiesCategoriesSettingsService
  }, {
    provide: 'Database',
    useClass: TreeListMenuActionsService
  }],
  imports: [TEI_MODULES, MATERIAL_MODULES, BASE_MODULES, TEI_MATERIAL_MODULES, _angular_router__WEBPACK_IMPORTED_MODULE_18__.RouterModule.forChild([{
    path: '',
    component: ActivitiesCategoriesSettingsComponent
  }])]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ActivitiesCategoriesSettingsModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [ActivitiesCategoriesSettingsComponent],
      imports: [...TEI_MODULES, ...MATERIAL_MODULES, ...BASE_MODULES, ...TEI_MATERIAL_MODULES, _angular_router__WEBPACK_IMPORTED_MODULE_18__.RouterModule.forChild([{
        path: '',
        component: ActivitiesCategoriesSettingsComponent
      }])],
      providers: [{
        provide: 'IActivitiesCategoriesService',
        useClass: ActivitiesCategoriesSettingsService
      }, {
        provide: 'Database',
        useClass: TreeListMenuActionsService
      }]
    }]
  }], null, null);
})();


/***/ })

}]);
//# sourceMappingURL=node_modules_tei_booking-activities_fesm2020_tei-booking-activities-activities-categories-set-cc564e.js.map