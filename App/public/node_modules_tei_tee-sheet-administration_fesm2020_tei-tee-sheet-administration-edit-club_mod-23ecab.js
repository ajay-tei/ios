"use strict";
(self["webpackChunktei_shell"] = self["webpackChunktei_shell"] || []).push([["node_modules_tei_tee-sheet-administration_fesm2020_tei-tee-sheet-administration-edit-club_mod-23ecab"],{

/***/ 49318:
/*!************************************************************************************************************************!*\
  !*** ./node_modules/@tei/tee-sheet-administration/fesm2020/tei-tee-sheet-administration-edit-club.module-8bfefea1.mjs ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EditClubModule": () => (/* binding */ EditClubModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/legacy-button */ 69159);
/* harmony import */ var _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/legacy-card */ 77315);
/* harmony import */ var _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/legacy-form-field */ 41204);
/* harmony import */ var _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/legacy-input */ 52044);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ 60124);
/* harmony import */ var _tei_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tei/core */ 13545);
/* harmony import */ var _tei_core_translate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tei/core-translate */ 13273);
/* harmony import */ var _tei_material__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tei/material */ 81231);
/* harmony import */ var _tei_tee_sheet_administration_get_clubs_model_355df5c3_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./tei-tee-sheet-administration-get-clubs.model-355df5c3.mjs */ 65031);
/* harmony import */ var _tei_tee_sheet_administration_tei_tee_sheet_administration_b976e55c_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./tei-tee-sheet-administration-tei-tee-sheet-administration-b976e55c.mjs */ 56371);
/* harmony import */ var _tei_tee_sheet_administration_manage_club_module_9f2042c6_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./tei-tee-sheet-administration-manage-club.module-9f2042c6.mjs */ 1600);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ngx-translate/core */ 38699);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ 56908);













































function EditClubComponent_tei_material_bread_crumb_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "tei-material-bread-crumb", 4);
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("breadCrumbData", ctx_r0.breadCrumbData);
  }
}
class EditClubComponent {
  constructor(route, clubsService, snackbarService, translate, manageStandAloneLoadingService) {
    this.route = route;
    this.clubsService = clubsService;
    this.snackbarService = snackbarService;
    this.translate = translate;
    this.manageStandAloneLoadingService = manageStandAloneLoadingService;
    this.isLoading = false;
    this.breadCrumbData = [{
      title: this.translate.instant('TSADMINISTRATION.NAVIGATION.TEE_SHEET'),
      relativeUrl: '../../../../'
    }, {
      title: this.translate.instant('TSADMINISTRATION.NAVIGATION.SETUP_AND_CONFIGURATION'),
      relativeUrl: '../../../'
    }, {
      title: this.translate.instant('TSADMINISTRATION.NAVIGATION.COURSE_SETUP'),
      relativeUrl: '../../'
    }, {
      title: this.translate.instant("TSADMINISTRATION.NAVIGATION.CLUBS"),
      relativeUrl: "../.."
    }, {
      title: this.translate.instant("TSADMINISTRATION.CLUBS.EDIT_CLUB"),
      relativeUrl: ""
    }];
    this.settings = {};
    this.validators = {
      Number: [_angular_forms__WEBPACK_IMPORTED_MODULE_2__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__.Validators.min(1)]
    };
  }
  ngOnInit() {
    this.route.paramMap.subscribe(params => {
      var _params$get;
      this.ClubID = (_params$get = params.get('ClubID')) !== null && _params$get !== void 0 ? _params$get : '';
      if (this.ClubID) {
        this.loadClub();
      }
    });
    // Optionally set up breadcrumbs here
  }
  loadClub() {
    this.clubsService.GetClubByUUID(this.ClubID).subscribe(club => {
      this.clubData = club.Club;
      this.settings = club.Club.Settings;
    });
  }
  onSaveClub(formData) {
    var _this$clubData;
    // Type guard for sanitized image object
    function isSanitizedImage(obj) {
      return obj !== null && typeof obj === "object" && "changingThisBreaksApplicationSecurity" in obj && typeof obj.changingThisBreaksApplicationSecurity === "string";
    }
    let imageValue = "";
    const imageObj = formData === null || formData === void 0 ? void 0 : formData.Image;
    if (isSanitizedImage(imageObj)) {
      imageValue = imageObj.changingThisBreaksApplicationSecurity;
    } else if (imageObj !== null && imageObj !== undefined) {
      imageValue = String(imageObj);
    }
    const payload = {
      ...formData,
      ClubUID: (_this$clubData = this.clubData) === null || _this$clubData === void 0 ? void 0 : _this$clubData.ClubUID,
      Image: imageValue
    };
    if (payload.Image == "") {
      var _this$clubData2;
      delete payload.Image;
      payload.ProfilePhotoUID = (_this$clubData2 = this.clubData) === null || _this$clubData2 === void 0 ? void 0 : _this$clubData2.ProfilePhotoUID;
    }
    this.isLoading = true;
    this.clubsService.PostClub(payload).subscribe({
      next: () => {
        this.snackbarService.showSuccess(this.translate.instant("TSADMINISTRATION.GENERAL.SUCCESS_MESSAGE"), '', null, 'left');
        this.isLoading = false;
      },
      error: () => {
        this.isLoading = false;
      }
    });
  }
}
EditClubComponent.ɵfac = function EditClubComponent_Factory(t) {
  return new (t || EditClubComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]("IClubsService"), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_4__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_6__.ManageStandAloneLoadingService));
};
EditClubComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: EditClubComponent,
  selectors: [["tei-tee-sheet-administration-clubs-edit-club"]],
  decls: 4,
  vars: 6,
  consts: [[1, "container-shell"], [3, "breadCrumbData", 4, "ngIf"], [3, "validators", "settings", "clubData", "mode", "save"], [3, "show"], [3, "breadCrumbData"]],
  template: function EditClubComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, EditClubComponent_tei_material_bread_crumb_1_Template, 1, 1, "tei-material-bread-crumb", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "tei-tee-sheet-administration-manage-club", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("save", function EditClubComponent_Template_tei_tee_sheet_administration_manage_club_save_2_listener($event) {
        return ctx.onSaveClub($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](3, "tei-loading", 3);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.breadCrumbData.length);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("validators", ctx.validators)("settings", ctx.settings)("clubData", ctx.clubData)("mode", "edit");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("show", ctx.isLoading);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _tei_material__WEBPACK_IMPORTED_MODULE_4__.LoadingComponent, _tei_material__WEBPACK_IMPORTED_MODULE_4__.BreadCrumbComponent, _tei_tee_sheet_administration_manage_club_module_9f2042c6_mjs__WEBPACK_IMPORTED_MODULE_8__.M]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](EditClubComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: "tei-tee-sheet-administration-clubs-edit-club",
      template: "<div class=\"container-shell\">\n  <tei-material-bread-crumb *ngIf=\"breadCrumbData.length\" [breadCrumbData]=\"breadCrumbData\">\n  </tei-material-bread-crumb>\n  <tei-tee-sheet-administration-manage-club [validators]=\"validators\" [settings]=\"settings\" [clubData]=\"clubData\"\n    [mode]=\"'edit'\" (save)=\"onSaveClub($event)\"></tei-tee-sheet-administration-manage-club>\n</div>\n<tei-loading [show]=\"isLoading\"></tei-loading>"
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.ActivatedRoute
    }, {
      type: _tei_tee_sheet_administration_get_clubs_model_355df5c3_mjs__WEBPACK_IMPORTED_MODULE_9__.C,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ["IClubsService"]
      }]
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_4__.SnackBarService
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_5__.TranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_6__.ManageStandAloneLoadingService
    }];
  }, null);
})();
const routes = [{
  path: "",
  component: EditClubComponent
}];
const CORE_MODULES = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_10__.TeiTextTranslatePipeModule];
const BASE_MODULES = [_angular_forms__WEBPACK_IMPORTED_MODULE_2__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_2__.ReactiveFormsModule, _angular_common__WEBPACK_IMPORTED_MODULE_7__.CommonModule];
const MATERIAL_MODULES = [_angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_11__.MatLegacyCardModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_12__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_13__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_14__.MatLegacyButtonModule, _tei_material__WEBPACK_IMPORTED_MODULE_4__.LoadingModule];
const TEI_MATERIAL_MODULES = [_tei_material__WEBPACK_IMPORTED_MODULE_4__.SnackBarModule, _tei_material__WEBPACK_IMPORTED_MODULE_4__.BreadCrumbModule];
const COMPONENTS = [EditClubComponent];
const FEATURE_MODULES = [_tei_tee_sheet_administration_manage_club_module_9f2042c6_mjs__WEBPACK_IMPORTED_MODULE_8__.a];
class EditClubModule {}
EditClubModule.ɵfac = function EditClubModule_Factory(t) {
  return new (t || EditClubModule)();
};
EditClubModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: EditClubModule
});
EditClubModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [_tei_core__WEBPACK_IMPORTED_MODULE_6__.ManageStandAloneLoadingService, {
    provide: "IClubsService",
    useClass: _tei_tee_sheet_administration_get_clubs_model_355df5c3_mjs__WEBPACK_IMPORTED_MODULE_9__.C
  }, {
    provide: "ICoursesService",
    useClass: _tei_tee_sheet_administration_tei_tee_sheet_administration_b976e55c_mjs__WEBPACK_IMPORTED_MODULE_15__.C
  }],
  imports: [BASE_MODULES, MATERIAL_MODULES, TEI_MATERIAL_MODULES, CORE_MODULES, FEATURE_MODULES, _angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterModule.forChild(routes)]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](EditClubModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS],
      imports: [...BASE_MODULES, ...MATERIAL_MODULES, ...TEI_MATERIAL_MODULES, ...CORE_MODULES, ...FEATURE_MODULES, _angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterModule.forChild(routes)],
      providers: [_tei_core__WEBPACK_IMPORTED_MODULE_6__.ManageStandAloneLoadingService, {
        provide: "IClubsService",
        useClass: _tei_tee_sheet_administration_get_clubs_model_355df5c3_mjs__WEBPACK_IMPORTED_MODULE_9__.C
      }, {
        provide: "ICoursesService",
        useClass: _tei_tee_sheet_administration_tei_tee_sheet_administration_b976e55c_mjs__WEBPACK_IMPORTED_MODULE_15__.C
      }]
    }]
  }], null, null);
})();


/***/ })

}]);
//# sourceMappingURL=node_modules_tei_tee-sheet-administration_fesm2020_tei-tee-sheet-administration-edit-club_mod-23ecab.js.map