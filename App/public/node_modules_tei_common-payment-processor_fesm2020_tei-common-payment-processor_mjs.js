"use strict";
(self["webpackChunktei_shell"] = self["webpackChunktei_shell"] || []).push([["node_modules_tei_common-payment-processor_fesm2020_tei-common-payment-processor_mjs"],{

/***/ 24725:
/*!**********************************************************************************************!*\
  !*** ./node_modules/@tei/common-payment-processor/fesm2020/tei-common-payment-processor.mjs ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AccountQuickSearchComponent": () => (/* binding */ AccountQuickSearchComponent),
/* harmony export */   "AccountQuickSearchModule": () => (/* binding */ AccountQuickSearchModule),
/* harmony export */   "CashEqPayComponent": () => (/* binding */ CashEqPayComponent),
/* harmony export */   "CashEqPayModule": () => (/* binding */ CashEqPayModule),
/* harmony export */   "CashPayComponent": () => (/* binding */ CashPayComponent),
/* harmony export */   "CashPayModule": () => (/* binding */ CashPayModule),
/* harmony export */   "CashReturnComponent": () => (/* binding */ CashReturnComponent),
/* harmony export */   "CashReturnModule": () => (/* binding */ CashReturnModule),
/* harmony export */   "CheckCardComponent": () => (/* binding */ CheckCardComponent),
/* harmony export */   "CheckCardModule": () => (/* binding */ CheckCardModule),
/* harmony export */   "CheckDetailComponent": () => (/* binding */ CheckDetailComponent),
/* harmony export */   "CheckDetailModule": () => (/* binding */ CheckDetailModule),
/* harmony export */   "CheckDialogComponent": () => (/* binding */ CheckDialogComponent),
/* harmony export */   "CheckDialogModule": () => (/* binding */ CheckDialogModule),
/* harmony export */   "CheckFeesComponent": () => (/* binding */ CheckFeesComponent),
/* harmony export */   "CheckFeesModule": () => (/* binding */ CheckFeesModule),
/* harmony export */   "CheckMenuItemComponent": () => (/* binding */ CheckMenuItemComponent),
/* harmony export */   "CheckMenuItemModule": () => (/* binding */ CheckMenuItemModule),
/* harmony export */   "CreditDebitComponent": () => (/* binding */ CreditDebitComponent),
/* harmony export */   "CreditDebitModule": () => (/* binding */ CreditDebitModule),
/* harmony export */   "GiftCardApproveComponent": () => (/* binding */ GiftCardApproveComponent),
/* harmony export */   "GiftCardCommitComponent": () => (/* binding */ GiftCardCommitComponent),
/* harmony export */   "GiftCardPayComponent": () => (/* binding */ GiftCardPayComponent),
/* harmony export */   "GiftCardPayModule": () => (/* binding */ GiftCardPayModule),
/* harmony export */   "GiftCardReturnComponent": () => (/* binding */ GiftCardReturnComponent),
/* harmony export */   "IntegratedComponent": () => (/* binding */ IntegratedComponent),
/* harmony export */   "NonIntegratedComponent": () => (/* binding */ NonIntegratedComponent),
/* harmony export */   "NoteComponent": () => (/* binding */ NoteComponent),
/* harmony export */   "NoteModule": () => (/* binding */ NoteModule),
/* harmony export */   "OnAccountApprovePrintComponent": () => (/* binding */ OnAccountApprovePrintComponent),
/* harmony export */   "OnAccountApprovePrintModule": () => (/* binding */ OnAccountApprovePrintModule),
/* harmony export */   "OnAccountCommitPaymentComponent": () => (/* binding */ OnAccountCommitPaymentComponent),
/* harmony export */   "OnAccountCommitPaymentModule": () => (/* binding */ OnAccountCommitPaymentModule),
/* harmony export */   "OnAccountPayComponent": () => (/* binding */ OnAccountPayComponent),
/* harmony export */   "OnAccountPayModule": () => (/* binding */ OnAccountPayModule),
/* harmony export */   "OnEventComponent": () => (/* binding */ OnEventComponent),
/* harmony export */   "OnEventModule": () => (/* binding */ OnEventModule),
/* harmony export */   "PaymentDeviceComponent": () => (/* binding */ PaymentDeviceComponent),
/* harmony export */   "PaymentDeviceModule": () => (/* binding */ PaymentDeviceModule),
/* harmony export */   "PaymentMethodComponent": () => (/* binding */ PaymentMethodComponent),
/* harmony export */   "PaymentMethodModule": () => (/* binding */ PaymentMethodModule),
/* harmony export */   "PaymentNavigationService": () => (/* binding */ PaymentNavigationService),
/* harmony export */   "PaymentProcessorComponent": () => (/* binding */ PaymentProcessorComponent),
/* harmony export */   "PaymentProcessorModule": () => (/* binding */ PaymentProcessorModule),
/* harmony export */   "PointPayDialogComponent": () => (/* binding */ PointPayDialogComponent),
/* harmony export */   "PointPayDialogModule": () => (/* binding */ PointPayDialogModule),
/* harmony export */   "ProcessComponent": () => (/* binding */ ProcessComponent),
/* harmony export */   "ProcessModule": () => (/* binding */ ProcessModule),
/* harmony export */   "ReceiptComponent": () => (/* binding */ ReceiptComponent),
/* harmony export */   "ReceiptModule": () => (/* binding */ ReceiptModule),
/* harmony export */   "RetailSaleCardComponent": () => (/* binding */ RetailSaleCardComponent),
/* harmony export */   "RetailSaleCardModule": () => (/* binding */ RetailSaleCardModule),
/* harmony export */   "RetailSaleItemComponent": () => (/* binding */ RetailSaleItemComponent),
/* harmony export */   "RetailSaleItemModule": () => (/* binding */ RetailSaleItemModule),
/* harmony export */   "UDFPayComponent": () => (/* binding */ UDFPayComponent),
/* harmony export */   "UDFPayModule": () => (/* binding */ UDFPayModule),
/* harmony export */   "VoidPaymentComponent": () => (/* binding */ VoidPaymentComponent),
/* harmony export */   "VoidPaymentModule": () => (/* binding */ VoidPaymentModule),
/* harmony export */   "VoidTenderPaymentsComponent": () => (/* binding */ VoidTenderPaymentsComponent)
/* harmony export */ });
/* harmony import */ var C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 83918);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 22560);
/* harmony import */ var _tei_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tei/core */ 13545);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ 60124);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ 2508);
/* harmony import */ var _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/legacy-dialog */ 58446);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ 26078);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ 26067);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs */ 76317);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! rxjs */ 10745);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! rxjs */ 54363);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! rxjs */ 20591);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ 32313);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rxjs/operators */ 51353);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! rxjs/operators */ 50635);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! rxjs/operators */ 53158);
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/core */ 59121);
/* harmony import */ var _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ngx-translate/core */ 38699);
/* harmony import */ var _tei_material__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @tei/material */ 81231);
/* harmony import */ var _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @tei/core-translate */ 13273);
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/divider */ 71528);
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/icon */ 57822);
/* harmony import */ var _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/legacy-form-field */ 41204);
/* harmony import */ var _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/legacy-input */ 52044);
/* harmony import */ var _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/legacy-button */ 69159);
/* harmony import */ var _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/legacy-card */ 77315);
/* harmony import */ var _angular_material_legacy_radio__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/legacy-radio */ 3493);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/common */ 94666);
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/common/http */ 58987);
/* harmony import */ var _tei_core_signalr__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @tei/core-signalr */ 21382);
/* harmony import */ var _angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @angular/material/legacy-tooltip */ 63370);
/* harmony import */ var _tei_office_contacts__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @tei/office-contacts */ 20981);
/* harmony import */ var _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @angular/material/stepper */ 44193);
/* harmony import */ var _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/material/legacy-select */ 36002);
/* harmony import */ var _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @angular/material/legacy-core */ 57090);
/* harmony import */ var _angular_material_legacy_checkbox__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @angular/material/legacy-checkbox */ 8469);
/* harmony import */ var _angular_material_legacy_tabs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @angular/material/legacy-tabs */ 32821);
/* harmony import */ var _angular_material_legacy_slide_toggle__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @angular/material/legacy-slide-toggle */ 43921);
/* harmony import */ var _tei_office_event_management__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @tei/office-event-management */ 63772);
/* harmony import */ var _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @angular/cdk/keycodes */ 28456);
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! @angular/material/button-toggle */ 19837);
/* harmony import */ var _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! @angular/cdk/collections */ 11755);
/* harmony import */ var _angular_material_legacy_list__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @angular/material/legacy-list */ 60744);
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! @angular/material/expansion */ 17591);
/* harmony import */ var _angular_material_badge__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @angular/material/badge */ 83335);
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @angular/material/sidenav */ 16643);
/* harmony import */ var _tei_theme__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! @tei/theme */ 53255);

































































function CashEqPayComponent_mat_error_37_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r0.claimCodeErrorMessage, "");
  }
}
function CashEqPayComponent_mat_error_38_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.ENTER_OR_SCAN_CLAIM_CODE_ERROR"), "");
  }
}
function CashEqPayComponent_div_39_span_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.NO_CONTACT_MESSAGE"));
  }
}
function CashEqPayComponent_div_39_span_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.NO_CASH_EQ_CONTACT_MESSAGE"));
  }
}
function CashEqPayComponent_div_39_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, CashEqPayComponent_div_39_span_1_Template, 3, 3, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, CashEqPayComponent_div_39_span_2_Template, 3, 3, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !(ctx_r2.checkDetails == null ? null : ctx_r2.checkDetails.Contact == null ? null : ctx_r2.checkDetails.Contact.ContactID));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r2.checkDetails == null ? null : ctx_r2.checkDetails.Contact == null ? null : ctx_r2.checkDetails.Contact.ContactID);
  }
}
function CashEqPayComponent_div_40_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 13)(1, "div", 14)(2, "mat-radio-button", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const item_r15 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", item_r15.CashEQItemUID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", item_r15.CashEQDescription, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 3, item_r15.Balance));
  }
}
function CashEqPayComponent_mat_error_41_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.CASH_EQS_NOT_SELECTED"), " ");
  }
}
function CashEqPayComponent_mat_error_57_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.HAS_NO_REDEMPTION"), " ");
  }
}
function CashEqPayComponent_mat_error_58_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.TOTAL_REMAINING_COVER_ERROR"), " ");
  }
}
function CashEqPayComponent_mat_error_59_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.TOTAL_APPROVE_COVER_ERROR"), " ");
  }
}
function CashEqPayComponent_mat_error_60_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.TOTAL_APPROVE_LESS_ERROR"), " ");
  }
}
function CashEqPayComponent_mat_error_61_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.TOTAL_APPROVE_ZERO_ERROR"), " ");
  }
}
function CashEqPayComponent_span_64_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.SELECTIONS_REQUIRED"));
  }
}
function CashEqPayComponent_span_65_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CASH_EQ.APPLY_PAYMENT"));
  }
}
function CashEqPayComponent_span_66_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](!ctx_r12.form.valid ? "" : _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r12.formControls.totalApproved.value));
  }
}
function CashPayComponent_div_18_button_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CashPayComponent_div_18_button_1_Template_button_click_0_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r8);
      const item_r6 = restoredCtx.$implicit;
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r7.calculate(item_r6));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const item_r6 = ctx.$implicit;
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r5.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r5.currencySymbol);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](item_r6 == null ? null : item_r6.Amount);
  }
}
function CashPayComponent_div_18_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, CashPayComponent_div_18_button_1_Template, 5, 3, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.cashItems);
  }
}
function CashPayComponent_ng_container_30_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "span", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 2, "PAYMENT_PROCESSOR.PROCESS.CHANGE"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 4, ctx_r1.changeAmount));
  }
}
function CashPayComponent_ng_container_33_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.PROCESS.AMOUNT_REQUIRED"), " ");
  }
}
function CashPayComponent_ng_template_34_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](1, "teiTextTranslate");
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](1, 1, "PAYMENT_PROCESSOR.PROCESS.CONFIRM_PAYMENT"), " ");
  }
}
function CheckCardComponent_ng_container_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r0.checkDetail == null ? null : ctx_r0.checkDetail.Summary == null ? null : ctx_r0.checkDetail.Summary.PaymentSummary == null ? null : ctx_r0.checkDetail.Summary.PaymentSummary.Total), " ");
  }
}
function CheckCardComponent_ng_container_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r1.checkDetail == null ? null : ctx_r1.checkDetail.Remaining));
  }
}
function CheckFeesComponent_span_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.PROCESS.SAVED"));
  }
}
function CheckFeesComponent_span_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", (ctx_r1.checkMenuItem == null ? null : ctx_r1.checkMenuItem.ExtraCosts == null ? null : ctx_r1.checkMenuItem.ExtraCosts.Title) ? ctx_r1.checkMenuItem == null ? null : ctx_r1.checkMenuItem.ExtraCosts == null ? null : ctx_r1.checkMenuItem.ExtraCosts.Title : _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.PROCESS.AUTO_GRATUITY"), "");
  }
}
function CheckFeesComponent_span_14_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r2.checkMenuItem == null ? null : ctx_r2.checkMenuItem.SubTotal));
  }
}
function CheckFeesComponent_span_15_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("(", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r3.absAmount(ctx_r3.checkMenuItem == null ? null : ctx_r3.checkMenuItem.SubTotal)), ")");
  }
}
function CheckFeesComponent_span_16_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r4.checkMenuItem == null ? null : ctx_r4.checkMenuItem.Saved));
  }
}
function CheckFeesComponent_span_17_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("(", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r5.absAmount(ctx_r5.checkMenuItem == null ? null : ctx_r5.checkMenuItem.Saved)), ")");
  }
}
function CheckFeesComponent_span_18_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r6.checkMenuItem == null ? null : ctx_r6.checkMenuItem.ExtraCosts == null ? null : ctx_r6.checkMenuItem.ExtraCosts.Total));
  }
}
function CheckFeesComponent_span_19_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r7.checkMenuItem == null ? null : ctx_r7.checkMenuItem.Tax));
  }
}
function CheckFeesComponent_span_20_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("(", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r8.absAmount(ctx_r8.checkMenuItem == null ? null : ctx_r8.checkMenuItem.Tax)), ")");
  }
}
function CheckFeesComponent_strong_21_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r9.checkMenuItem == null ? null : ctx_r9.checkMenuItem.Total));
  }
}
function CheckFeesComponent_strong_22_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("(", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r10.absAmount(ctx_r10.checkMenuItem == null ? null : ctx_r10.checkMenuItem.Total)), ")");
  }
}
function CheckFeesComponent_ng_container_24_ng_container_1_div_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "div");
  }
}
function CheckFeesComponent_ng_container_24_ng_container_1_ng_container_8_div_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const paymentsTenderedItem_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"](" ", paymentsTenderedItem_r17.GratuityDescription, " -", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 2, paymentsTenderedItem_r17.Gratuity), "");
  }
}
function CheckFeesComponent_ng_container_24_ng_container_1_ng_container_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, CheckFeesComponent_ng_container_24_ng_container_1_ng_container_8_div_4_Template, 3, 4, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const paymentsTenderedItem_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 2, paymentsTenderedItem_r17.Amount));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", paymentsTenderedItem_r17.Gratuity);
  }
}
function CheckFeesComponent_ng_container_24_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 5)(2, "div", 6)(3, "div", 7)(4, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, CheckFeesComponent_ng_container_24_ng_container_1_div_6_Template, 1, 0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, CheckFeesComponent_ng_container_24_ng_container_1_ng_container_8_Template, 5, 4, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const paymentsTenderedItem_r17 = ctx.$implicit;
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", paymentsTenderedItem_r17.TenderTypeDescription, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", paymentsTenderedItem_r17.Gratuity);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx_r16.checkMenuItem == null ? null : ctx_r16.checkMenuItem.PaymentsTendered) && (ctx_r16.checkMenuItem == null ? null : ctx_r16.checkMenuItem.PaymentsTendered.length));
  }
}
function CheckFeesComponent_ng_container_24_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, CheckFeesComponent_ng_container_24_ng_container_1_Template, 9, 3, "ng-container", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r11.checkMenuItem == null ? null : ctx_r11.checkMenuItem.PaymentsTendered);
  }
}
function CheckFeesComponent_strong_28_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL"));
  }
}
function CheckFeesComponent_strong_29_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.PROCESS.RETURN_TOTAL"));
  }
}
function CheckFeesComponent_strong_31_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r14.remainingTotal));
  }
}
function CheckFeesComponent_strong_32_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("(", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r15.absAmount(ctx_r15.remainingTotal)), ")");
  }
}
function CheckMenuItemComponent_span_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r0.menuItem.Quantity);
  }
}
function CheckMenuItemComponent_span_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r1.menuItem.Quantity > 0 ? _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r1.menuItem.UnitPrice) : "(" + _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 3, ctx_r1.menuItem.UnitPrice) + ")", " ");
  }
}
function CheckMenuItemComponent_div_7_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 8)(1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const subItem_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](subItem_r3.Title);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 2, subItem_r3.Price));
  }
}
function CheckMenuItemComponent_div_7_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 9)(1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const subItem_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](subItem_r3.Title);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 2, subItem_r3.Price));
  }
}
function CheckMenuItemComponent_div_7_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 9)(1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const subItem_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](subItem_r3.Title);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 2, subItem_r3.Price));
  }
}
function CheckMenuItemComponent_div_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, CheckMenuItemComponent_div_7_div_1_Template, 6, 4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, CheckMenuItemComponent_div_7_div_2_Template, 6, 4, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, CheckMenuItemComponent_div_7_div_3_Template, 6, 4, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const subItem_r3 = ctx.$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (subItem_r3 == null ? null : subItem_r3.Type) === ctx_r2.subItemType.Modifier);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (subItem_r3 == null ? null : subItem_r3.Type) === ctx_r2.subItemType.Option);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (subItem_r3 == null ? null : subItem_r3.Type) === ctx_r2.subItemType.Alternative);
  }
}
function CheckDetailComponent_div_2_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "tei-check-menu-item", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const menuItem_r2 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("menuItem", menuItem_r2)("isReturn", ctx_r1.paymentDetail.Items[0].Remaining < 0);
  }
}
function CheckDetailComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, CheckDetailComponent_div_2_div_1_Template, 2, 2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.item == null ? null : ctx_r0.item.Items);
  }
}
function PaymentDeviceComponent_span_13_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r0.paymentDeviceID), " ");
  }
}
function IntegratedComponent_div_7_button_13_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function IntegratedComponent_div_7_button_13_Template_button_click_0_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r5);
      const item_r3 = restoredCtx.$implicit;
      const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r4.onSelectCard(item_r3 == null ? null : item_r3.Id));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "img", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "div", 14)(4, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const item_r3 = ctx.$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("selected", (ctx_r2.selectedCard == null ? null : ctx_r2.selectedCard.Id) == (item_r3 == null ? null : item_r3.Id));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r2.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("src", "https://cdn.totaleintegrated.net/assets/images/payment/" + ctx_r2.setImageName(item_r3 == null ? null : item_r3.cardType), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](item_r3 == null ? null : item_r3.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](item_r3 == null ? null : item_r3.ExpireDate);
  }
}
function IntegratedComponent_div_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 9)(1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 11)(5, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function IntegratedComponent_div_7_Template_button_click_5_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r7);
      const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r6.onSelectCard());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 13)(7, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8, "add");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div", 14)(10, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](12, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](13, IntegratedComponent_div_7_button_13_Template, 8, 6, "button", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 6, "PAYMENT_PROCESSOR.INTEGRATED.CARDS"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("selected", ctx_r0.newCardSelected);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r0.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](12, 8, "PAYMENT_PROCESSOR.INTEGRATED.NEW_CARD"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.cards);
  }
}
function IntegratedComponent_mat_error_14_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.PROCESS.PAYMENT_AMOUNT_EXCEED_ERROR"), " ");
  }
}
function NonIntegratedComponent_mat_option_16_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const type_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", type_r4 == null ? null : type_r4.CreditCardID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", type_r4 == null ? null : type_r4.Description, " ");
  }
}
function NonIntegratedComponent_div_17_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 5)(1, "mat-label", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "mat-form-field", 16)(5, "input", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function NonIntegratedComponent_div_17_Template_input_blur_5_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r6);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r5.onTotalApprovedBlur());
    })("input", function NonIntegratedComponent_div_17_Template_input_input_5_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r6);
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r7.onSubtotalPaidInput());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 3, "PAYMENT_PROCESSOR.NON_INTEGRATED.SUBTOTAL_PAID"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("tabIndex", 0)("maxLength", 10);
  }
}
function NonIntegratedComponent_div_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 18)(1, "div", 19)(2, "mat-label", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "mat-form-field", 20)(6, "input", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function NonIntegratedComponent_div_18_Template_input_blur_6_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r9);
      const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r8.valueConversion("gratuityAmount"));
    })("input", function NonIntegratedComponent_div_18_Template_input_input_6_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r9);
      const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r10.onGratuityAmountInput());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 19)(8, "mat-label", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](10, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "mat-form-field", 20)(12, "input", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function NonIntegratedComponent_div_18_Template_input_blur_12_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r9);
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r11.valueConversion("gratuityPercent"));
    })("input", function NonIntegratedComponent_div_18_Template_input_input_12_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r9);
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r12.onSubTotalPaidAndGratuityInput());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 4, "PAYMENT_PROCESSOR.NON_INTEGRATED.GRATUITY"), " (", ctx_r2.currencySymbol, ") ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("maxLength", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](10, 6, "PAYMENT_PROCESSOR.NON_INTEGRATED.GRATUITY"), " (%) ");
  }
}
function NonIntegratedComponent_mat_error_25_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.PROCESS.PAYMENT_AMOUNT_EXCEED_ERROR"), " ");
  }
}
function CreditDebitComponent_div_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 15)(1, "button", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CreditDebitComponent_div_4_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r5);
      const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r4.onGoToCreditDebit());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3, "arrow_back");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r0.manageLoadingService.isLoading);
  }
}
function CreditDebitComponent_ng_container_24_button_1_span_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CREDIT_DEBIT.START_PAYMENT"), " ");
  }
}
function CreditDebitComponent_ng_container_24_button_1_span_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.CREDIT_DEBIT.START_PAYMENT"), " ");
  }
}
function CreditDebitComponent_ng_container_24_button_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CreditDebitComponent_ng_container_24_button_1_Template_button_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r11);
      const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r10.startPayment());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, CreditDebitComponent_ng_container_24_button_1_span_1_Template, 3, 3, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, CreditDebitComponent_ng_container_24_button_1_span_2_Template, 3, 3, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r6.successPayment || ctx_r6.manageLoadingService.isLoading || ctx_r6.getNonIntegratedTotalApproved === 0 || (ctx_r6.controls == null ? null : ctx_r6.controls.totalApproved.hasError("exceedsRemainingTotal")));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r6.activeTab === ctx_r6.creditDebitEnum.Integrated);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r6.activeTab === ctx_r6.creditDebitEnum.ManualEntry);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 4, ctx_r6.getTotalApproved), "");
  }
}
function CreditDebitComponent_ng_container_24_button_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CreditDebitComponent_ng_container_24_button_2_Template_button_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r13);
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r12.applyPayment());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r7.successPayment || ctx_r7.manageLoadingService.isLoading || (ctx_r7.notIntegratedFormControls == null ? null : ctx_r7.notIntegratedFormControls.type == null ? null : ctx_r7.notIntegratedFormControls.type.invalid) || (ctx_r7.notIntegratedFormControls == null ? null : ctx_r7.notIntegratedFormControls.totalPaid.hasError("exceedsRemainingTotal")));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 3, "PAYMENT_PROCESSOR.CREDIT_DEBIT.APPLY_PAYMENT"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 5, ctx_r7.getNonIntegratedTotalApproved), "");
  }
}
function CreditDebitComponent_ng_container_24_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, CreditDebitComponent_ng_container_24_button_1_Template, 6, 6, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, CreditDebitComponent_ng_container_24_button_2_Template, 7, 7, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r2.isIntegrated);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r2.isNotIntegrated);
  }
}
function CreditDebitComponent_ng_container_25_Template(rf, ctx) {
  if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "button", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CreditDebitComponent_ng_container_25_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r15);
      const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r14.cancelTransaction());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r3.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 2, "PAYMENT_PROCESSOR.PAYMENT_DEVICE.CANCEL_TRANSACTION"), " ");
  }
}
const _c0 = ["CardNumberInput"];
function GiftCardApproveComponent_mat_error_18_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.GIFT_CARD.GIFT_CARD_NOT_FOUND"), " ");
  }
}
function GiftCardApproveComponent_div_25_mat_option_9_span_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.RECEIPT.PRIMARY"));
  }
}
function GiftCardApproveComponent_div_25_mat_option_9_span_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.RECEIPT.BACKUP"));
  }
}
function GiftCardApproveComponent_div_25_mat_option_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-option", 27)(1, "div", 28)(2, "div", 29)(3, "span", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, GiftCardApproveComponent_div_25_mat_option_9_span_5_Template, 3, 3, "span", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, GiftCardApproveComponent_div_25_mat_option_9_span_6_Template, 3, 3, "span", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "span", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const printer_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", "a-gift-card-printer-option" + printer_r6.PrinterID)("value", printer_r6.PrinterID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](printer_r6 == null ? null : printer_r6.Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", printer_r6.Type === 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", printer_r6.Type === 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](printer_r6 == null ? null : printer_r6.PrinterModel);
  }
}
function GiftCardApproveComponent_div_25_mat_error_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.GIFT_CARD.APPROVAL_SLIP_PRINTER_ERROR"), " ");
  }
}
function GiftCardApproveComponent_div_25_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 6)(1, "div", 18)(2, "mat-label", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "mat-form-field", 24)(6, "mat-select", 25)(7, "mat-select-trigger");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, GiftCardApproveComponent_div_25_mat_option_9_Template, 9, 6, "mat-option", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](10, GiftCardApproveComponent_div_25_mat_error_10_Template, 3, 3, "mat-error", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 4, "PAYMENT_PROCESSOR.GIFT_CARD.APPROVAL_SLIP_PRINTER"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r2.getPrinterName(ctx_r2.formControls == null ? null : ctx_r2.formControls.printerID == null ? null : ctx_r2.formControls.printerID.value), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r2.printerList);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r2.formControls.printerID.invalid);
  }
}
function GiftCardApproveComponent_mat_error_34_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.GIFT_CARD.EXCEED_SIMPLE_ERROR"), " ");
  }
}
function GiftCardReturnComponent_mat_error_21_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.GIFT_CARD.GIFT_CARD_NOT_FOUND"), " ");
  }
}
function GiftCardCommitComponent_div_27_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 8)(1, "div", 22)(2, "mat-label", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "mat-form-field", 11)(6, "input", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function GiftCardCommitComponent_div_27_Template_input_blur_6_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r3);
      const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r2.valueConversion("gratuityValue"));
    })("input", function GiftCardCommitComponent_div_27_Template_input_input_6_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r3);
      const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r4.onGratuityValueInput());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div", 22)(9, "mat-label", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](11, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "mat-form-field", 11)(13, "input", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function GiftCardCommitComponent_div_27_Template_input_blur_13_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r3);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r5.valueConversion("gratuityValue"));
    })("input", function GiftCardCommitComponent_div_27_Template_input_input_13_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r3);
      const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r6.onTotalApprovedAndGratuityInput());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](14, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 6, "PAYMENT_PROCESSOR.GIFT_CARD.GRATUITY"), " (", ctx_r0.currencySymbol, ") ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](7, 8, "PAYMENT_PROCESSOR.GIFT_CARD.GRATUITY"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("maxLength", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](11, 10, "PAYMENT_PROCESSOR.GIFT_CARD.GRATUITY"), " (%) ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](14, 12, "PAYMENT_PROCESSOR.GIFT_CARD.GRATUITY"));
  }
}
function GiftCardCommitComponent_mat_error_35_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.GIFT_CARD.EXCEED_REMAINING_BALANCE_ERROR"), " ");
  }
}
const _c1 = ["accountItemQuickSearch"];
function AccountQuickSearchComponent_mat_error_11_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.ON_ACCOUNT.ACCOUNT_REQUIRED_ERROR"), " ");
  }
}
function AccountQuickSearchComponent_ng_template_13_span_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "No A/R");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function AccountQuickSearchComponent_ng_template_13_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 11)(1, "div", 12)(2, "div", 13)(3, "div", 14)(4, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, AccountQuickSearchComponent_ng_template_13_span_6_Template, 2, 0, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const item_r4 = ctx.item;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("account-item-disable", !item_r4.AllowAR);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r3.getTitle(item_r4));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !item_r4.AllowAR);
  }
}
const _c2 = function () {
  return {
    quickSearchHeaderTitle: "Accounts",
    addItemContainerVisible: false,
    advancedSearchContainerVisible: false
  };
};
const _c3 = ["accountQuickSearch"];
function OnAccountApprovePrintComponent_div_23_mat_option_9_span_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.RECEIPT.PRIMARY"), " ");
  }
}
function OnAccountApprovePrintComponent_div_23_mat_option_9_span_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.RECEIPT.BACKUP"), " ");
  }
}
function OnAccountApprovePrintComponent_div_23_mat_option_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-option", 28)(1, "div", 29)(2, "div", 30)(3, "span", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, OnAccountApprovePrintComponent_div_23_mat_option_9_span_5_Template, 3, 3, "span", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, OnAccountApprovePrintComponent_div_23_mat_option_9_span_6_Template, 3, 3, "span", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "span", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const printer_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", printer_r6.PrinterID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](printer_r6 == null ? null : printer_r6.Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", printer_r6.Type === 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", printer_r6.Type === 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](printer_r6 == null ? null : printer_r6.PrinterModel);
  }
}
function OnAccountApprovePrintComponent_div_23_mat_error_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.ON_ACCOUNT.APPROVAL_SLIP_PRINTER_ERROR"), " ");
  }
}
function OnAccountApprovePrintComponent_div_23_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 24)(1, "div", 16)(2, "mat-label", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "mat-form-field", 25)(6, "mat-select", 26)(7, "mat-select-trigger");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, OnAccountApprovePrintComponent_div_23_mat_option_9_Template, 9, 5, "mat-option", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](10, OnAccountApprovePrintComponent_div_23_mat_error_10_Template, 3, 3, "mat-error", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 4, "PAYMENT_PROCESSOR.ON_ACCOUNT.APPROVAL_SLIP_PRINTER"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r1.getPrinterName(ctx_r1.formControls == null ? null : ctx_r1.formControls.printerID == null ? null : ctx_r1.formControls.printerID.value), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r1.printerList);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r1.formControls.printerID.invalid);
  }
}
function OnAccountApprovePrintComponent_mat_error_32_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r2.exceedErrorMessage), " ");
  }
}
function OnAccountApprovePrintComponent_mat_error_33_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.ON_ACCOUNT.FULL_PAYMENT_ERROR"), " ");
  }
}
function OnAccountCommitPaymentComponent_section_33_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "section")(1, "div", 13)(2, "div", 22)(3, "mat-label", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "mat-form-field", 16)(7, "input", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function OnAccountCommitPaymentComponent_section_33_Template_input_blur_7_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r2);
      const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r1.valueConversion("gratuityValue"));
    })("input", function OnAccountCommitPaymentComponent_section_33_Template_input_input_7_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r2);
      const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r3.onGratuityValueInput());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](8, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div", 22)(10, "mat-label", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](12, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "mat-form-field", 16)(14, "input", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function OnAccountCommitPaymentComponent_section_33_Template_input_blur_14_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r2);
      const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r4.valueConversion("gratuityValue"));
    })("input", function OnAccountCommitPaymentComponent_section_33_Template_input_input_14_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r2);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r5.onTotalApprovedAndGratuityInput());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](15, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "div", 13)(17, "div", 14)(18, "mat-label", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](20, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](21, "mat-form-field", 16)(22, "input", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function OnAccountCommitPaymentComponent_section_33_Template_input_blur_22_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r2);
      const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r6.valueConversion("paymentTotal"));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](23, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 9, "PAYMENT_PROCESSOR.ON_ACCOUNT.GRATUITY"), " ($) ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](8, 11, "PAYMENT_PROCESSOR.ON_ACCOUNT.GRATUITY"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("maxLength", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](12, 13, "PAYMENT_PROCESSOR.ON_ACCOUNT.GRATUITY"), " (%) ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](15, 15, "PAYMENT_PROCESSOR.ON_ACCOUNT.GRATUITY"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](20, 17, "PAYMENT_PROCESSOR.ON_ACCOUNT.PAYMENT_TOTAL"), " (", ctx_r0.currencySymbol, ") ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](23, 19, "PAYMENT_PROCESSOR.ON_ACCOUNT.PAYMENT_TOTAL"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("maxLength", 10);
  }
}
function OnEventComponent_mat_error_33_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-error", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r0.formErrorMassage, " ");
  }
}
const _c4 = function (a0) {
  return {
    "pr-3": a0
  };
};
function UDFPayComponent_ng_container_43_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.PROCESS.AMOUNT_REQUIRED"), " ");
  }
}
function UDFPayComponent_ng_template_44_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](1, "teiTextTranslate");
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](1, 1, "PAYMENT_PROCESSOR.PROCESS.CONFIRM_PAYMENT"), " ");
  }
}
function UDFPayComponent_span_46_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r3.form.invalid ? "" : _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r3.form.get("amount").value));
  }
}
function PaymentMethodComponent_div_0_ng_container_1_div_1_div_4_span_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const method_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("text-line-through", method_r3.IsReturned);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 3, method_r3 == null ? null : method_r3.Amount));
  }
}
function PaymentMethodComponent_div_0_ng_container_1_div_1_div_4_span_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const method_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, method_r3 == null ? null : method_r3.Remaining));
  }
}
function PaymentMethodComponent_div_0_ng_container_1_div_1_div_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div")(1, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, PaymentMethodComponent_div_0_ng_container_1_div_1_div_4_span_4_Template, 3, 5, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, PaymentMethodComponent_div_0_ng_container_1_div_1_div_4_span_5_Template, 3, 3, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const method_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](method_r3 == null ? null : method_r3.CreditCardID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", method_r3 == null ? null : method_r3.Amount);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", method_r3.IsReturned);
  }
}
function PaymentMethodComponent_div_0_ng_container_1_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 4)(1, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function PaymentMethodComponent_div_0_ng_container_1_div_1_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r13);
      const method_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r11.openDialog(method_r3, ctx_r11.tenderType));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, PaymentMethodComponent_div_0_ng_container_1_div_1_div_4_Template, 6, 3, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const method_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("mat-button-disabled", ctx_r4.checkPaymentStateError(method_r3 == null ? null : method_r3.PaymentMethodID));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", "payment-method-" + (method_r3 == null ? null : method_r3.PaymentMethodID))("disabled", ctx_r4.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](method_r3 == null ? null : method_r3.DisplayName);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r4.isReturn);
  }
}
function PaymentMethodComponent_div_0_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, PaymentMethodComponent_div_0_ng_container_1_div_1_Template, 5, 6, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const method_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", method_r3 == null ? null : method_r3.Display);
  }
}
function PaymentMethodComponent_div_0_div_2_div_6_mat_option_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-option", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function PaymentMethodComponent_div_0_div_2_div_6_mat_option_1_Template_mat_option_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r20);
      const method_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
      const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r18.openDialog(method_r16, ctx_r18.tenderType));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const method_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", method_r16 == null ? null : method_r16.PaymentMethodID)("id", "payment-method-option-" + (method_r16 == null ? null : method_r16.PaymentMethodID));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", method_r16 == null ? null : method_r16.DisplayName, " ");
  }
}
function PaymentMethodComponent_div_0_div_2_div_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, PaymentMethodComponent_div_0_div_2_div_6_mat_option_1_Template, 2, 3, "mat-option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const method_r16 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", method_r16 == null ? null : method_r16.Display);
  }
}
function PaymentMethodComponent_div_0_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 4)(1, "button", 13)(2, "mat-label", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "mat-select", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, PaymentMethodComponent_div_0_div_2_div_6_Template, 2, 1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r2.checkPaymentStateError(-1) || ctx_r2.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 4, "PAYMENT_PROCESSOR.PROCESS.MORE"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r2.checkPaymentStateError(-1));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r2.UDFPaymentMethods.slice(3, ctx_r2.UDFPaymentMethods.length));
  }
}
function PaymentMethodComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, PaymentMethodComponent_div_0_ng_container_1_Template, 2, 1, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, PaymentMethodComponent_div_0_div_2_Template, 7, 6, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.methodList);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.UDFPaymentMethods.length > 3);
  }
}
function ReceiptComponent_section_8_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 19)(1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "button", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ReceiptComponent_section_8_div_1_Template_button_click_4_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r12);
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      ctx_r11.changeCopyCount(ctx_r11.counterEvents.Minus);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r11.changeReceiptData());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6, " remove ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "button", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ReceiptComponent_section_8_div_1_Template_button_click_9_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r12);
      const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      ctx_r13.changeCopyCount(ctx_r13.counterEvents.Plus);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r13.changeReceiptData());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11, " add ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 4, "PAYMENT_PROCESSOR.RECEIPT.COPIES"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r8.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r8.formControls == null ? null : ctx_r8.formControls.CopyCount == null ? null : ctx_r8.formControls.CopyCount.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r8.manageLoadingService.isLoading);
  }
}
function ReceiptComponent_section_8_mat_option_10_span_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.RECEIPT.PRIMARY"), " ");
  }
}
function ReceiptComponent_section_8_mat_option_10_span_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.RECEIPT.BACKUP"), " ");
  }
}
function ReceiptComponent_section_8_mat_option_10_span_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const printer_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](printer_r14 == null ? null : printer_r14.PrinterModel);
  }
}
function ReceiptComponent_section_8_mat_option_10_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-option", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ReceiptComponent_section_8_mat_option_10_Template_mat_option_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r20);
      const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r19.changeReceiptData());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 23)(2, "div", 24)(3, "span", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, ReceiptComponent_section_8_mat_option_10_span_5_Template, 3, 3, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, ReceiptComponent_section_8_mat_option_10_span_6_Template, 3, 3, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, ReceiptComponent_section_8_mat_option_10_span_7_Template, 2, 1, "span", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const printer_r14 = ctx.$implicit;
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", printer_r14 == null ? null : printer_r14.PrinterID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](printer_r14 == null ? null : printer_r14.Name);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", printer_r14.Type === 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", printer_r14.Type === 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !(ctx_r9.formControls == null ? null : ctx_r9.formControls.PrinterID == null ? null : ctx_r9.formControls.PrinterID.value));
  }
}
function ReceiptComponent_section_8_ng_container_12_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0)(1, 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "mat-checkbox", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]()();
  }
  if (rf & 2) {
    const printConfiguration_r21 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", printConfiguration_r21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", printConfiguration_r21 == null ? null : printConfiguration_r21.controls == null ? null : printConfiguration_r21.controls.Title == null ? null : printConfiguration_r21.controls.Title.value, " ");
  }
}
function ReceiptComponent_section_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "section");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ReceiptComponent_section_8_div_1_Template, 12, 6, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 12)(3, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "mat-form-field", 14)(7, "mat-select", 15)(8, "mat-select-trigger");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](10, ReceiptComponent_section_8_mat_option_10_Template, 8, 5, "mat-option", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](12, ReceiptComponent_section_8_ng_container_12_Template, 4, 2, "ng-container", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.formControls.Type.value === ctx_r0.receiptType.Print);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 5, "PAYMENT_PROCESSOR.RECEIPT.PRINTER"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r0.getPrinterName(ctx_r0.formControls == null ? null : ctx_r0.formControls.PrinterID == null ? null : ctx_r0.formControls.PrinterID.value), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.printerList);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.printConfigurationsControl.controls);
  }
}
function ReceiptComponent_tei_multi_chip_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r24 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "tei-multi-chip", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("value", function ReceiptComponent_tei_multi_chip_9_Template_tei_multi_chip_value_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r24);
      const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r23.addEmailChip($event));
    })("invalidChipState", function ReceiptComponent_tei_multi_chip_9_Template_tei_multi_chip_invalidChipState_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r24);
      const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r25.setPayButtonDisabled($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](1, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("selectable", ctx_r1.selectable)("shouldUnique", "true")("removable", ctx_r1.removable)("defaultValueList", ctx_r1.defaultValueList)("type", ctx_r1.receiptType.Email)("label", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](1, 6, "PAYMENT_PROCESSOR.RECEIPT.EMAIL"));
  }
}
function ReceiptComponent_span_11_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "span");
  }
}
function ReceiptComponent_span_12_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, ctx_r3.remaining), " ");
  }
}
function ReceiptComponent_ng_template_13_span_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.RECEIPT.EMAIL_RECEIPT"), " ");
  }
}
function ReceiptComponent_ng_template_13_span_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.RECEIPT.PRINT_RECEIPT"));
  }
}
function ReceiptComponent_ng_template_13_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, ReceiptComponent_ng_template_13_span_0_Template, 3, 3, "span", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ReceiptComponent_ng_template_13_span_1_Template, 3, 3, "span", 34);
  }
  if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r5.formControls.Type.value === ctx_r5.receiptType.Email);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r5.formControls.Type.value === ctx_r5.receiptType.Print);
  }
}
function ReceiptComponent_ng_template_15_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.RECEIPT.PAYMENT_REQUIRED"));
  }
}
function RetailSaleCardComponent_div_2_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "tei-common-payment-processor-retail-sale-item", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const saleItem_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("saleItem", saleItem_r2);
  }
}
function RetailSaleCardComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, RetailSaleCardComponent_div_2_div_1_Template, 2, 1, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.item == null ? null : ctx_r0.item.Items);
  }
}
const _c5 = ".nb-theme-material-dark[_nghost-%COMP%]     .a-button-checknote:hover, .nb-theme-material-dark   [_nghost-%COMP%]     .a-button-checknote:hover{background-color:#ffffff14}.nb-theme-material-dark[_nghost-%COMP%]   .o-contact-container[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .o-contact-container[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.12)}.nb-theme-material-light[_nghost-%COMP%]     .a-button-checknote:hover, .nb-theme-material-light   [_nghost-%COMP%]     .a-button-checknote:hover{background-color:#00000014}.nb-theme-material-light[_nghost-%COMP%]   .o-contact-container[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .o-contact-container[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.m-check-details[_ngcontent-%COMP%]   .m-check-menu-items-container[_ngcontent-%COMP%]{padding-bottom:10px}.m-check-details[_ngcontent-%COMP%]   .a-seat-number[_ngcontent-%COMP%]{margin-right:10px}";
function VoidTenderPaymentsComponent_mat_option_18_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-option", 19)(1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const payment_r2 = ctx.$implicit;
    let tmp_1_0;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", payment_r2.TrxUID);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"](" ", payment_r2.TenderTypeDescription, " - ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 3, (tmp_1_0 = payment_r2.Amount) !== null && tmp_1_0 !== undefined ? tmp_1_0 : 0), " ");
  }
}
function VoidTenderPaymentsComponent_mat_list_item_35_span_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Credit Card");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function VoidTenderPaymentsComponent_mat_list_item_35_span_15_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const item_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"](" - ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 2, item_r3.Gratuity), " ", item_r3.GratuityDescription, " ");
  }
}
const _c6 = function (a0) {
  return {
    "void-overflow-auto": a0
  };
};
const _c7 = function (a0) {
  return {
    "overflow-hidden": a0
  };
};
function VoidTenderPaymentsComponent_mat_list_item_35_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-list-item", 14)(1, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function VoidTenderPaymentsComponent_mat_list_item_35_Template_div_click_1_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r8);
      const item_r3 = restoredCtx.$implicit;
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r7.itemChanged($event, item_r3));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "mat-checkbox", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("change", function VoidTenderPaymentsComponent_mat_list_item_35_Template_mat_checkbox_change_5_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r8);
      const item_r3 = restoredCtx.$implicit;
      const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r9.itemChanged($event, item_r3));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, VoidTenderPaymentsComponent_mat_list_item_35_span_8_Template, 2, 0, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](10, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](11, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "span", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](14, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](15, VoidTenderPaymentsComponent_mat_list_item_35_span_15_Template, 3, 4, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](16, "mat-divider");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const item_r3 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    let tmp_1_0;
    let tmp_5_0;
    let tmp_7_0;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](25, _c6, ctx_r1.isMobile));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate4"]("matTooltip", "", item_r3.TenderTypeDescription, " ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 15, (tmp_1_0 = item_r3.Amount) !== null && tmp_1_0 !== undefined ? tmp_1_0 : 0), " - ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 17, (tmp_1_0 = item_r3.Gratuity) !== null && tmp_1_0 !== undefined ? tmp_1_0 : 0), " ", item_r3.GratuityDescription, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("checked", ctx_r1.selection.isSelected(item_r3));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", item_r3.TenderTypeDescription, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", item_r3.TenderTypeID === ctx_r1.TenderTypeEnum.CreditCard);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate4"]("matTooltip", "", item_r3.TenderTypeDescription, " ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](10, 19, (tmp_5_0 = item_r3.Amount) !== null && tmp_5_0 !== undefined ? tmp_5_0 : 0), " - ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](11, 21, (tmp_5_0 = item_r3.Gratuity) !== null && tmp_5_0 !== undefined ? tmp_5_0 : 0), " ", item_r3.GratuityDescription, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](27, _c7, !ctx_r1.isMobile));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](14, 23, (tmp_7_0 = item_r3.Amount) !== null && tmp_7_0 !== undefined ? tmp_7_0 : 0));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (item_r3 == null ? null : item_r3.Gratuity) > 0);
  }
}
function VoidPaymentComponent_div_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 14)(1, "button", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function VoidPaymentComponent_div_5_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r5);
      const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r4.onGoToVoidPayment());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3, "arrow_back");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r0.manageLoadingService.isLoading);
  }
}
function VoidPaymentComponent_ng_container_26_span_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.VOID_PAYMENT.CONFIRM_VOID"), " ");
  }
}
function VoidPaymentComponent_ng_container_26_span_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.VOID_PAYMENT.SELECTION_REQUIRED"), " ");
  }
}
function VoidPaymentComponent_ng_container_26_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "button", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function VoidPaymentComponent_ng_container_26_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r9);
      const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r8.voidPayment());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, VoidPaymentComponent_ng_container_26_span_2_Template, 3, 3, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, VoidPaymentComponent_ng_container_26_span_3_Template, 3, 3, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r2.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r2.validateForm());
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r2.validateForm());
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 4, ctx_r2.paymentToVoid), "");
  }
}
function VoidPaymentComponent_ng_container_27_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function VoidPaymentComponent_ng_container_27_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r11);
      const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r10.cancelRefundPayment());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r3.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 2, "PAYMENT_PROCESSOR.VOID_PAYMENT.CANCEL_REFUND"), " ");
  }
}
function NoteComponent_tei_notes_0_ng_template_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "tei-avatar", 6);
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("name", ctx_r2.noteData == null ? null : ctx_r2.noteData.Note == null ? null : ctx_r2.noteData.Note.UserDisplayName)("size", 36);
  }
}
function NoteComponent_tei_notes_0_ng_template_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r4.noteData == null ? null : ctx_r4.noteData.Note == null ? null : ctx_r4.noteData.Note.UserDisplayName);
  }
}
function NoteComponent_tei_notes_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "tei-notes", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("post", function NoteComponent_tei_notes_0_Template_tei_notes_post_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r6);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r5.onPost($event));
    })("cancel", function NoteComponent_tei_notes_0_Template_tei_notes_cancel_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r6);
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r7.onCancel());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, NoteComponent_tei_notes_0_ng_template_1_Template, 1, 2, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, NoteComponent_tei_notes_0_ng_template_3_Template, 2, 1, "ng-template", 4, 5, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](2);
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](4);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("customTitleClass", "ml-3 mt-3")("showXCloseDialogIcon", true)("customContentClass", "mx-3 mb-3")("userTemplate", _r1)("textareaDefaultValue", ctx_r0.value)("showCancelButton", true)("hasSubmitButton", ctx_r0.IsEditable)("enableRequiredValidation", false)("enableReceiptCheckComments", ctx_r0.enableReceiptCheckComments)("printOnReceiptDefaultValue", ctx_r0.printOnReceipt)("userNameTemplate", _r3)("multi", false)("maxlength", ctx_r0.maxLengthNote)("isAdmin", ctx_r0.IsAdmin)("adminTitle", ctx_r0.label);
  }
}
const _c8 = ["teiContactQuickSearch"];
const _c9 = ["checkTabItemContainer"];
const _c10 = ["noteText"];
function ProcessComponent_div_8_section_1_div_1_ng_container_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](0);
  }
}
const _c11 = function (a0) {
  return {
    $implicit: a0
  };
};
function ProcessComponent_div_8_section_1_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 48)(1, "span", 49);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 50);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, ProcessComponent_div_8_section_1_div_1_ng_container_5_Template, 1, 0, "ng-container", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](49);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 3, "PAYMENT_PROCESSOR.PROCESS.UNPAID_CHECKS"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngTemplateOutlet", _r16)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](5, _c11, ctx_r23.unPaidItem));
  }
}
function ProcessComponent_div_8_section_1_div_2_ng_container_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](0);
  }
}
function ProcessComponent_div_8_section_1_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 51)(1, "span", 49);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 52);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, ProcessComponent_div_8_section_1_div_2_ng_container_5_Template, 1, 0, "ng-container", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](49);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 3, "PAYMENT_PROCESSOR.PROCESS.PAID_CHECKS"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngTemplateOutlet", _r16)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](5, _c11, ctx_r24.paidItem));
  }
}
function ProcessComponent_div_8_section_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "section", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ProcessComponent_div_8_section_1_div_1_Template, 6, 7, "div", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, ProcessComponent_div_8_section_1_div_2_Template, 6, 7, "div", 47);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx_r22.unPaidItem == null ? null : ctx_r22.unPaidItem.length) > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx_r22.paidItem == null ? null : ctx_r22.paidItem.length) > 0);
  }
}
function ProcessComponent_div_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ProcessComponent_div_8_section_1_Template, 3, 2, "section", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    const _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](51);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r0.mobileMode)("ngIfElse", _r18);
  }
}
function ProcessComponent_div_25_span_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 59, 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    const note_r27 = ctx_r31.$implicit;
    const i_r28 = ctx_r31.index;
    const ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("matTooltip", note_r27 == null ? null : note_r27.Value)("matTooltipDisabled", !ctx_r29.isOverflowing[i_r28]);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](": ", note_r27 == null ? null : note_r27.Value, " ");
  }
}
function ProcessComponent_div_25_Template(rf, ctx) {
  if (rf & 1) {
    const _r33 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 53);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ProcessComponent_div_25_Template_div_click_0_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r33);
      const note_r27 = restoredCtx.$implicit;
      const ctx_r32 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r32.openNoteDialog(note_r27, ctx_r32.selectedCheckPanel == null ? null : ctx_r32.selectedCheckPanel.ItemID));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "button", 54)(2, "div", 55)(3, "mat-icon", 56);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "span", 57);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, ProcessComponent_div_25_span_7_Template, 3, 3, "span", 58);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const note_r27 = ctx.$implicit;
    const i_r28 = ctx.index;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("a-first-note", i_r28 == 0)("a-second-note", i_r28 == 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate1"]("id", "'a-note'+", note_r27 == null ? null : note_r27.Label, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", note_r27 == null ? null : note_r27.Icon, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](note_r27 == null ? null : note_r27.Label);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", note_r27 == null ? null : note_r27.Value);
  }
}
function ProcessComponent_div_27_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 61)(1, "div", 62)(2, "div", 63);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](3, "tei-common-payment-processor-check-detail", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("item", ctx_r4.selectedCheckPanel == null ? null : ctx_r4.selectedCheckPanel.Summary)("remainingAmount", ctx_r4.selectedCheckPanel == null ? null : ctx_r4.selectedCheckPanel.Remaining)("paymentDetail", ctx_r4.paymentDetail);
  }
}
function ProcessComponent_div_29_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 25)(1, "button", 65);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", !ctx_r5.paymentButtonsStatus.Discount || ctx_r5.manageLoadingService.isLoading || true);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 2, "PAYMENT_PROCESSOR.PROCESS.APPLY_DISCOUNT"), " ");
  }
}
function ProcessComponent_button_31_Template(rf, ctx) {
  if (rf & 1) {
    const _r35 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 66);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ProcessComponent_button_31_Template_button_click_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r35);
      const ctx_r34 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r34.voidPayment());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", !ctx_r6.paymentButtonsStatus.Void || ctx_r6.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 2, "PAYMENT_PROCESSOR.PROCESS.VOID_PAYMENT"), " ");
  }
}
function ProcessComponent_div_34_Template(rf, ctx) {
  if (rf & 1) {
    const _r37 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 67)(1, "div", 68)(2, "span", 69);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "tei-common-payment-processor-payment-method", 70);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("openContactDialogEvent", function ProcessComponent_div_34_Template_tei_common_payment_processor_payment_method_openContactDialogEvent_4_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r37);
      const ctx_r36 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r36.openContactDialog());
    })("paymentAppliedEvent", function ProcessComponent_div_34_Template_tei_common_payment_processor_payment_method_paymentAppliedEvent_4_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r37);
      const ctx_r38 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r38.paymentAppliedEventHandler());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("fade-in", ctx_r7.innerWidth < 1400);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r7.paymentMethodTitle);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("tenderType", ctx_r7.paymentDetail == null ? null : ctx_r7.paymentDetail.TenderType)("showGratuity", ctx_r7.showGratuity)("total", ctx_r7.selectedCheckPanel == null ? null : ctx_r7.selectedCheckPanel.Remaining)("enableTipsOnGiftCard", ctx_r7.paymentDetail == null ? null : ctx_r7.paymentDetail.TenderType == null ? null : ctx_r7.paymentDetail.TenderType.EnableTipsOnGiftCard)("contactPoints", ctx_r7.contactPoints)("isReturn", ctx_r7.paymentDetail == null ? null : ctx_r7.paymentDetail.IsReturn)("enableReturnToGiftCard", ctx_r7.paymentDetail == null ? null : ctx_r7.paymentDetail.TenderType == null ? null : ctx_r7.paymentDetail.TenderType.EnableReturnToGiftCard)("printerList", ctx_r7.paymentDetail == null ? null : ctx_r7.paymentDetail.Printers);
  }
}
function ProcessComponent_span_40_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.RECEIPT.RECEIPT"));
  }
}
function ProcessComponent_span_41_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r10.paymentMethodTitle);
  }
}
function ProcessComponent_tei_common_payment_processor_payment_method_43_Template(rf, ctx) {
  if (rf & 1) {
    const _r40 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "tei-common-payment-processor-payment-method", 71);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("openContactDialogEvent", function ProcessComponent_tei_common_payment_processor_payment_method_43_Template_tei_common_payment_processor_payment_method_openContactDialogEvent_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r40);
      const ctx_r39 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r39.openContactDialog());
    })("paymentAppliedEvent", function ProcessComponent_tei_common_payment_processor_payment_method_43_Template_tei_common_payment_processor_payment_method_paymentAppliedEvent_0_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r40);
      const ctx_r41 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r41.paymentAppliedEventHandler());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("tenderType", ctx_r11.paymentDetail == null ? null : ctx_r11.paymentDetail.TenderType)("showGratuity", ctx_r11.showGratuity)("total", ctx_r11.selectedCheckPanel == null ? null : ctx_r11.selectedCheckPanel.Remaining)("enableTipsOnGiftCard", ctx_r11.paymentDetail == null ? null : ctx_r11.paymentDetail.TenderType == null ? null : ctx_r11.paymentDetail.TenderType.EnableTipsOnGiftCard)("contactPoints", ctx_r11.contactPoints)("isReturn", ctx_r11.paymentDetail == null ? null : ctx_r11.paymentDetail.IsReturn)("printerList", ctx_r11.paymentDetail == null ? null : ctx_r11.paymentDetail.Printers);
  }
}
function ProcessComponent_tei_common_payment_processor_receipt_44_Template(rf, ctx) {
  if (rf & 1) {
    const _r43 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "tei-common-payment-processor-receipt", 72);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("receiptActionEvent", function ProcessComponent_tei_common_payment_processor_receipt_44_Template_tei_common_payment_processor_receipt_receiptActionEvent_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r43);
      const ctx_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r42.receiptActionHandler($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("printerList", ctx_r12.paymentDetail == null ? null : ctx_r12.paymentDetail.Printers)("contact", ctx_r12.checkDetails.Contact)("printConfigurations", ctx_r12.paymentDetail == null ? null : ctx_r12.paymentDetail.Configuration == null ? null : ctx_r12.paymentDetail.Configuration.PrintConfigurations)("remaining", ctx_r12.selectedCheckPanel == null ? null : ctx_r12.selectedCheckPanel.Remaining)("paymentCompleted", ctx_r12.paymentButtonsStatus.PaymentCompleted && !ctx_r12.paymentButtonsStatus.PaymentRequired);
  }
}
function ProcessComponent_div_45_mat_icon_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-icon", 82);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "forward");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function ProcessComponent_div_45_mat_icon_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-icon", 83);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "forward");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function ProcessComponent_div_45_div_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.PROCESS.SELECT_PAYMENT_METHOD"), " ");
  }
}
function ProcessComponent_div_45_div_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 1, "PAYMENT_PROCESSOR.PROCESS.SELECT_RETURN_METHOD"), " ");
  }
}
function ProcessComponent_div_45_div_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 84)(1, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r48 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 2, "PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 4, ctx_r48.selectedCheckPanel == null ? null : ctx_r48.selectedCheckPanel.Remaining), " ");
  }
}
function ProcessComponent_div_45_div_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 84)(1, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiCurrencyTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r49 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 2, "PAYMENT_PROCESSOR.PROCESS.RETURN_TOTAL"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" (", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 4, ctx_r49.absAmount(ctx_r49.selectedCheckPanel == null ? null : ctx_r49.selectedCheckPanel.Remaining)), ") ");
  }
}
function ProcessComponent_div_45_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 73)(1, "div", 74)(2, "div", 75);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, ProcessComponent_div_45_mat_icon_3_Template, 2, 0, "mat-icon", 76);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, ProcessComponent_div_45_mat_icon_4_Template, 2, 0, "mat-icon", 77);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div", 78)(6, "div", 79);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, ProcessComponent_div_45_div_7_Template, 3, 3, "div", 80);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, ProcessComponent_div_45_div_8_Template, 3, 3, "div", 80);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, ProcessComponent_div_45_div_9_Template, 7, 6, "div", 81);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](10, ProcessComponent_div_45_div_10_Template, 7, 6, "div", 81);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r13.innerWidth > 1400);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r13.innerWidth <= 1400);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx_r13.selectedCheckPanel == null ? null : ctx_r13.selectedCheckPanel.Remaining) > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx_r13.selectedCheckPanel == null ? null : ctx_r13.selectedCheckPanel.Remaining) < 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r13.desktopMode && (ctx_r13.selectedCheckPanel == null ? null : ctx_r13.selectedCheckPanel.Remaining) > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r13.desktopMode && (ctx_r13.selectedCheckPanel == null ? null : ctx_r13.selectedCheckPanel.Remaining) < 0);
  }
}
function ProcessComponent_ng_container_46_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](0);
  }
}
function ProcessComponent_ng_container_47_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](0);
  }
}
const _c12 = function (a0) {
  return {
    "a-check-card-selected": a0
  };
};
function ProcessComponent_ng_template_48_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r56 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 87, 88);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ProcessComponent_ng_template_48_div_1_Template_div_click_0_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r56);
      const item_r52 = restoredCtx.$implicit;
      const ctx_r55 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r55.selectCheck(item_r52));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "tei-common-payment-processor-check-card", 89);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const item_r52 = ctx.$implicit;
    const index_r53 = ctx.index;
    const ctx_r51 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate1"]("id", "checkTabItem_", item_r52.ItemID, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](5, _c12, (ctx_r51.selectedCheckPanel == null ? null : ctx_r51.selectedCheckPanel.ItemID) === (item_r52 == null ? null : item_r52.ItemID)));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("paymentStatus", item_r52 == null ? null : item_r52.Status)("checkNumber", index_r53 + 1)("checkDetail", item_r52);
  }
}
const _c13 = function (a0, a1) {
  return {
    "flex-row": a0,
    "flex-column": a1
  };
};
function ProcessComponent_ng_template_48_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 85);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ProcessComponent_ng_template_48_div_1_Template, 3, 7, "div", 86);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const items_r50 = ctx.$implicit;
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](2, _c13, ctx_r17.mobileMode, !ctx_r17.mobileMode));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", items_r50);
  }
}
function ProcessComponent_ng_template_50_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](0);
  }
}
function ProcessComponent_ng_template_50_ng_container_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainer"](0);
  }
}
function ProcessComponent_ng_template_50_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-tab-group", 90)(1, "mat-tab", 91);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, ProcessComponent_ng_template_50_ng_container_3_Template, 1, 0, "ng-container", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "mat-tab", 91);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, ProcessComponent_ng_template_50_ng_container_6_Template, 1, 0, "ng-container", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](49);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("selectedIndex", (ctx_r19.selectedCheckPanel == null ? null : ctx_r19.selectedCheckPanel.Status) === 1 ? 1 : 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate2"]("label", "", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 11, "PAYMENT_PROCESSOR.PROCESS.UNPAID_CHECKS"), " (", ctx_r19.unPaidItem == null ? null : ctx_r19.unPaidItem.length, ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r19.unPaidItem.length === 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngTemplateOutlet", _r16)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](15, _c11, ctx_r19.unPaidItem));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate2"]("label", "", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 13, "PAYMENT_PROCESSOR.PROCESS.PAID_CHECKS"), " (", ctx_r19.paidItem == null ? null : ctx_r19.paidItem.length, ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", (ctx_r19.paidItem == null ? null : ctx_r19.paidItem.length) === 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngTemplateOutlet", _r16)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](17, _c11, ctx_r19.paidItem));
  }
}
function ProcessComponent_ng_template_52_div_0_ng_container_1_mat_icon_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "check_circle");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function ProcessComponent_ng_template_52_div_0_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r65 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 94)(2, "button", 95);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ProcessComponent_ng_template_52_div_0_ng_container_1_Template_button_click_2_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r65);
      const ctx_r64 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r64.done());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, ProcessComponent_ng_template_52_div_0_ng_container_1_mat_icon_3_Template, 2, 0, "mat-icon", 80);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 96)(8, "button", 97);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ProcessComponent_ng_template_52_div_0_ng_container_1_Template_button_click_8_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r65);
      const ctx_r66 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r66.selectNextCheck());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](10, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12, "arrow_forward");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r61 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r61.manageLoadingService.isLoading || (ctx_r61.needPayment ? !ctx_r61.paymentButtonsStatus.Back : !ctx_r61.paymentButtonsStatus.Done))("color", ctx_r61.needPayment ? "primary" : !(ctx_r61.paymentDetail == null ? null : ctx_r61.paymentDetail.IsReturn) ? "accent" : "warn");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r61.needPayment);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r61.needPayment ? _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 8, "PAYMENT_PROCESSOR.PROCESS.BACK") : _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 10, "PAYMENT_PROCESSOR.PROCESS.DONE"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("mat-button-disabled", (ctx_r61.paymentDetail == null ? null : ctx_r61.paymentDetail.Items == null ? null : ctx_r61.paymentDetail.Items.length) === 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r61.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](10, 12, "PAYMENT_PROCESSOR.PROCESS.NEXT_CHECK"), " ");
  }
}
function ProcessComponent_ng_template_52_div_0_ng_container_2_mat_icon_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "check_circle");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function ProcessComponent_ng_template_52_div_0_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r69 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 94)(2, "button", 98);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ProcessComponent_ng_template_52_div_0_ng_container_2_Template_button_click_2_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r69);
      const ctx_r68 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r68.done());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, ProcessComponent_ng_template_52_div_0_ng_container_2_mat_icon_3_Template, 2, 0, "mat-icon", 80);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 96)(8, "button", 97);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ProcessComponent_ng_template_52_div_0_ng_container_2_Template_button_click_8_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r69);
      const ctx_r70 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r70.cancelPayment());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "mat-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "arrow_back");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](12, "teiTextTranslate");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r62 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", !ctx_r62.paymentButtonsStatus.Done || ctx_r62.manageLoadingService.isLoading)("color", !(ctx_r62.paymentDetail == null ? null : ctx_r62.paymentDetail.IsReturn) ? "accent" : "warn");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r62.needPayment);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r62.needPayment ? _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 8, "PAYMENT_PROCESSOR.PROCESS.PAYMENT_REQUIRED") : _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 10, "PAYMENT_PROCESSOR.PROCESS.COMPLETE"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("mat-button-disabled", !ctx_r62.paymentButtonsStatus.Back);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r62.manageLoadingService.isLoading);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](12, 12, "PAYMENT_PROCESSOR.PROCESS.BACK"), " ");
  }
}
function ProcessComponent_ng_template_52_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 93);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ProcessComponent_ng_template_52_div_0_ng_container_1_Template, 13, 14, "ng-container", 80);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, ProcessComponent_ng_template_52_div_0_ng_container_2_Template, 13, 14, "ng-container", 80);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r60 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r60.isSingleCheck);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r60.isSingleCheck);
  }
}
function ProcessComponent_ng_template_52_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, ProcessComponent_ng_template_52_div_0_Template, 3, 2, "div", 92);
  }
  if (rf & 2) {
    const viewState_r59 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", viewState_r59);
  }
}
const _c14 = function (a0, a1) {
  return {
    "flex-row h-100": a0,
    "flex-column": a1
  };
};
const _c15 = function (a0, a1) {
  return {
    "process-controls-single-check": a0,
    "a-process-controls": a1
  };
};
const _c16 = function (a0) {
  return {
    "flex-grow-1": a0
  };
};
const _c17 = function (a0) {
  return {
    "h-100 mh-100": a0
  };
};
const _c18 = function () {
  return ["master-list"];
};
const _c19 = function () {
  return ["settings"];
};
class PaymentNavigationService {
  constructor(router, genericEventService, paymentProcessGenericService) {
    this.router = router;
    this.genericEventService = genericEventService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.successUrl = '';
    this.failedUrl = '';
  }
  getURL() {
    if (this.paymentProcessGenericService.returnUrl) {
      this.successUrl = this.paymentProcessGenericService.returnUrl + '?success=true';
      this.failedUrl = this.paymentProcessGenericService.returnUrl + '?failed=true';
    } else {
      this.successUrl = this.paymentProcessGenericService.configuration.SuccessUrl;
      this.failedUrl = this.paymentProcessGenericService.configuration.FailedUrl;
    }
  }
  changeModule() {
    this.genericEventService.onChangeGenericEvent({
      module: {
        Category: _tei_core__WEBPACK_IMPORTED_MODULE_2__.CategoryEnum.Pos,
        Name: 'common-payment-processor'
      },
      eventType: _tei_core__WEBPACK_IMPORTED_MODULE_2__.EventTypeEnum.onChangeSideBarVisibility,
      data: {
        sideBarVisible: true
      }
    });
  }
  success() {
    this.getURL();
    this.changeModule();
    this.router.navigateByUrl(this.successUrl);
  }
  cancelByUser() {
    this.getURL();
    this.changeModule();
    this.router.navigateByUrl(this.failedUrl);
  }
  failedOnInitialize() {
    this.getURL();
    this.changeModule();
    this.router.navigateByUrl(this.failedUrl);
  }
}
PaymentNavigationService.ɵfac = function PaymentNavigationService_Factory(t) {
  return new (t || PaymentNavigationService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.GenericEventService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IPaymentProcessGenericService'));
};
PaymentNavigationService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: PaymentNavigationService,
  factory: PaymentNavigationService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentNavigationService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.Router
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.GenericEventService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }];
  }, null);
})();
class CashEQsBalanceRequest {}
class CashEQsBalanceResponse {}
class GetProcessRequest {}
class GetProcessResponse {}
class PaymentProcess {}
class Printer {}
var PrinterType;
(function (PrinterType) {
  PrinterType[PrinterType["Primary"] = 0] = "Primary";
  PrinterType[PrinterType["Backup"] = 1] = "Backup";
})(PrinterType || (PrinterType = {}));
var TransactionType;
(function (TransactionType) {
  TransactionType[TransactionType["Normal"] = 0] = "Normal";
  TransactionType[TransactionType["Return"] = 1] = "Return";
})(TransactionType || (TransactionType = {}));
class TenderType {}
var ProcessorType;
(function (ProcessorType) {
  ProcessorType[ProcessorType["NotIntegrated"] = 0] = "NotIntegrated";
  ProcessorType[ProcessorType["TEIPaymentSolution"] = 1] = "TEIPaymentSolution";
  // we will not support these on web pos so treat them as NotIntegrated.
  ProcessorType[ProcessorType["ETS"] = 2] = "ETS";
  // we will not support these on web pos so treat them as NotIntegrated.
  ProcessorType[ProcessorType["Shift4"] = 3] = "Shift4";
})(ProcessorType || (ProcessorType = {}));
class CreditCardType {}
class PaymentMethods {
  constructor() {
    this.Options = [];
  }
}
var PaymentMethodType;
(function (PaymentMethodType) {
  PaymentMethodType[PaymentMethodType["Normal"] = 0] = "Normal";
  PaymentMethodType[PaymentMethodType["UserDefined"] = 1] = "UserDefined";
})(PaymentMethodType || (PaymentMethodType = {}));
class Options {}
class PaymentItem {}
class Note {}
class NoteDetail {}
var NoteDetailType;
(function (NoteDetailType) {
  NoteDetailType[NoteDetailType["FoodAndBeverageShowOnReceipt"] = 1] = "FoodAndBeverageShowOnReceipt";
})(NoteDetailType || (NoteDetailType = {}));
var NoteType;
(function (NoteType) {
  NoteType[NoteType["FoodAndBeverageCheckNote"] = 1] = "FoodAndBeverageCheckNote";
  NoteType[NoteType["FoodAndBeverageAdminNote"] = 2] = "FoodAndBeverageAdminNote";
  NoteType[NoteType["RetailTrxNote"] = 3] = "RetailTrxNote";
  NoteType[NoteType["RetailReceiptNote"] = 4] = "RetailReceiptNote";
})(NoteType || (NoteType = {}));
var PaymentDetailsType;
(function (PaymentDetailsType) {
  PaymentDetailsType[PaymentDetailsType["Note"] = 1] = "Note";
})(PaymentDetailsType || (PaymentDetailsType = {}));
var PaymentStatus;
(function (PaymentStatus) {
  PaymentStatus[PaymentStatus["Unpaid"] = 0] = "Unpaid";
  PaymentStatus[PaymentStatus["Paid"] = 1] = "Paid";
  PaymentStatus[PaymentStatus["PartiallyPaid"] = 2] = "PartiallyPaid";
})(PaymentStatus || (PaymentStatus = {}));
let Contact$2 = class Contact {};
class ItemSummary {}
class SummaryDetailItem {}
class ItemPaymentSummary {}
var ItemStatus;
(function (ItemStatus) {
  ItemStatus[ItemStatus["NewCheck"] = 1] = "NewCheck";
  ItemStatus[ItemStatus["SentToKitchen"] = 2] = "SentToKitchen";
  ItemStatus[ItemStatus["Deleted"] = 3] = "Deleted";
  ItemStatus[ItemStatus["Printed"] = 4] = "Printed";
  ItemStatus[ItemStatus["InProcessOfPayment"] = 5] = "InProcessOfPayment";
  ItemStatus[ItemStatus["Paid"] = 6] = "Paid";
  ItemStatus[ItemStatus["OnAccountApproved"] = 7] = "OnAccountApproved";
  ItemStatus[ItemStatus["OnCreditCardApproved"] = 8] = "OnCreditCardApproved";
  ItemStatus[ItemStatus["OnGiftCardApproved"] = 9] = "OnGiftCardApproved";
})(ItemStatus || (ItemStatus = {}));
class SummaryDetailSubItem {}
class ExtraCost {}
class PaymentsTendered {}
var SubItemType;
(function (SubItemType) {
  SubItemType[SubItemType["MenuItem"] = 0] = "MenuItem";
  SubItemType[SubItemType["Modifier"] = 1] = "Modifier";
  SubItemType[SubItemType["Alternative"] = 2] = "Alternative";
  SubItemType[SubItemType["Option"] = 3] = "Option";
})(SubItemType || (SubItemType = {}));
var CostType;
(function (CostType) {
  CostType[CostType["Gratuity"] = 0] = "Gratuity";
  CostType[CostType["Surcharge"] = 1] = "Surcharge";
})(CostType || (CostType = {}));
var PaymentsTenderedStatus;
(function (PaymentsTenderedStatus) {
  PaymentsTenderedStatus[PaymentsTenderedStatus["Paid"] = 0] = "Paid";
  PaymentsTenderedStatus[PaymentsTenderedStatus["Voided"] = 1] = "Voided";
  PaymentsTenderedStatus[PaymentsTenderedStatus["Approved"] = 2] = "Approved";
})(PaymentsTenderedStatus || (PaymentsTenderedStatus = {}));
var TenderTypeID;
(function (TenderTypeID) {
  TenderTypeID[TenderTypeID["Cash"] = 1] = "Cash";
  TenderTypeID[TenderTypeID["CreditCard"] = 2] = "CreditCard";
  TenderTypeID[TenderTypeID["Check"] = 3] = "Check";
  TenderTypeID[TenderTypeID["GiftCertificate"] = 4] = "GiftCertificate";
  TenderTypeID[TenderTypeID["MemberAccount"] = 5] = "MemberAccount";
  TenderTypeID[TenderTypeID["OnEvent"] = 6] = "OnEvent";
  TenderTypeID[TenderTypeID["Debit"] = 7] = "Debit";
  TenderTypeID[TenderTypeID["PointsRedemption"] = 8] = "PointsRedemption";
  TenderTypeID[TenderTypeID["UD1"] = 9] = "UD1";
  TenderTypeID[TenderTypeID["UD2"] = 10] = "UD2";
  TenderTypeID[TenderTypeID["CashEqCertificate"] = 11] = "CashEqCertificate";
  TenderTypeID[TenderTypeID["Voiding"] = 100] = "Voiding";
})(TenderTypeID || (TenderTypeID = {}));
class PaymentRequest {}
class PaymentResponse {}
var CheckStatus;
(function (CheckStatus) {
  CheckStatus[CheckStatus["NewCheck"] = 1] = "NewCheck";
  CheckStatus[CheckStatus["SentToKitchen"] = 2] = "SentToKitchen";
  CheckStatus[CheckStatus["Deleted"] = 3] = "Deleted";
  CheckStatus[CheckStatus["Printed"] = 4] = "Printed";
  CheckStatus[CheckStatus["InProcessOfPayment"] = 5] = "InProcessOfPayment";
  CheckStatus[CheckStatus["Paid"] = 6] = "Paid";
  CheckStatus[CheckStatus["OnAccountApproved"] = 7] = "OnAccountApproved";
  CheckStatus[CheckStatus["OnCreditCardApproved"] = 8] = "OnCreditCardApproved";
  CheckStatus[CheckStatus["OnGiftCardApproved"] = 9] = "OnGiftCardApproved";
})(CheckStatus || (CheckStatus = {}));
var OrderStatus;
(function (OrderStatus) {
  OrderStatus[OrderStatus["InProgress"] = 1] = "InProgress";
  OrderStatus[OrderStatus["Paying"] = 2] = "Paying";
  OrderStatus[OrderStatus["Cancelled"] = 3] = "Cancelled";
  OrderStatus[OrderStatus["SentToKitchen"] = 4] = "SentToKitchen";
  OrderStatus[OrderStatus["Completed"] = 5] = "Completed";
  OrderStatus[OrderStatus["Reactivated"] = 6] = "Reactivated";
})(OrderStatus || (OrderStatus = {}));
class VirtualCashEQsRequest {}
class VirtualCashEQsResponse {}
class VirtualCashEQ {}
class CashEqPayComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  constructor(formBuilder, cdRef, errorStateMatcher, cashPayDialogData, dialogRef, translate, snackBarService, manageLoadingService, currencyService, paymentProcessGenericService, manageContactsService, cashEQsService) {
    super(errorStateMatcher);
    this.formBuilder = formBuilder;
    this.cdRef = cdRef;
    this.errorStateMatcher = errorStateMatcher;
    this.cashPayDialogData = cashPayDialogData;
    this.dialogRef = dialogRef;
    this.translate = translate;
    this.snackBarService = snackBarService;
    this.manageLoadingService = manageLoadingService;
    this.currencyService = currencyService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.manageContactsService = manageContactsService;
    this.cashEQsService = cashEQsService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.barcode = '';
    this.VirtualCashEQList = new Array();
    this.CashEqItemUID = '';
    this.invalidClaimCode = false;
    this.claimCodeErrorMessage = '';
  }
  handleKeyboardEvent(event) {
    if (/^[a-z0-9]$/i.test(event.key)) {
      if (this.barcode.length === 12) {
        this.barcode = '';
      }
      this.barcode += event.key;
      this.formControls.claimCode.setValue(this.barcode);
    }
    if ((event.key === 'NumpadEnter' || event.key === '13' || event.key === 'Enter') && this.barcode.length === 12) {
      this.formControls.claimCode.setValue(this.barcode);
      this.formControls.cashEQType.setValue('claimCode');
    }
  }
  ngOnInit() {
    this.currencySymbol = this.currencyService.getCurrencySymbol();
    this.createForm();
  }
  keyup($event) {
    const totalApproved = this.paymentProcessGenericService.ReturnValidValue(this.formControls.totalApproved.value);
    const redeemable = this.paymentProcessGenericService.ReturnValidValue(this.formControls.redeemable.value);
    if (totalApproved > redeemable) {
      this.formControls.totalApproved.setValue(redeemable);
    }
    $event.stopPropagation();
    $event.preventDefault();
  }
  claimCodeInputChange($event) {
    $event.stopPropagation();
    $event.preventDefault();
    if (this.formControls.claimCode.value.length === 12) {
      this.formControls.cashEQType.setValue('claimCode');
    }
    this.barcode = this.formControls.claimCode.value;
  }
  ngAfterViewInit() {
    this.changeCheckDetailsEventHandler();
    if (!this.cashPayDialogData) {
      return;
    }
    this.form.markAllAsTouched();
  }
  callValueConversion() {
    this.valueConversion('totalApproved');
    this.valueConversion('redeemable');
    this.valueConversion('balance');
  }
  createForm() {
    this.form = this.formBuilder.group({
      cashEQType: ['claimCode', _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required],
      claimCode: [''],
      balance: [0],
      totalApproved: [0, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required],
      remainingTotal: [0, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]],
      redeemable: [0, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]]
    });
    this.subscription.add(this.formControls.cashEQType.valueChanges.subscribe(value => {
      this.formControls.balance.setValue(0);
      this.formControls.redeemable.setValue(0);
      if (value === 'claimCode') {
        this.refreshClaimCodeBalance();
        return;
      }
      this.barcode = '';
      this.invalidClaimCode = true;
      this.updateContactEQBalance(value);
    }));
    this.subscription.add(this.formControls.claimCode.valueChanges.subscribe(value => {
      if (value !== this.barcode) {
        this.invalidClaimCode = true;
      }
      this.validateForm();
    }));
  }
  updateContactEQBalance(CashEQItemID) {
    var _this$checkDetails;
    this.subscription.add(this.CashEQsBalance('', (_this$checkDetails = this.checkDetails) === null || _this$checkDetails === void 0 ? void 0 : _this$checkDetails.CheckUID, CashEQItemID).subscribe(value => {
      this.redeemableValidation(value);
    }));
  }
  refreshClaimCodeBalance() {
    var _this$checkDetails2;
    if (!this.formControls.claimCode.value) {
      this.validateAndCallValueConversion();
      return;
    }
    this.invalidClaimCode = false;
    this.barcode = this.formControls.claimCode.value;
    this.subscription.add(this.CashEQsBalance(this.barcode, (_this$checkDetails2 = this.checkDetails) === null || _this$checkDetails2 === void 0 ? void 0 : _this$checkDetails2.CheckUID, '').subscribe(value => {
      if (value && (value === null || value === void 0 ? void 0 : value.Balance) > 0) {
        this.formControls.balance.setValue(value === null || value === void 0 ? void 0 : value.Balance);
      }
      this.redeemableValidation(value);
    }));
  }
  redeemableValidation(value) {
    if ((value === null || value === void 0 ? void 0 : value.CashEQItemID) === '00000000-0000-0000-0000-000000000000' || value.Balance < 0) {
      if (this.formControls.cashEQType.value === 'claimCode') {
        this.invalidClaimCode = true;
      }
      this.formControls.redeemable.setValue(0);
      this.CashEqItemUID = '';
      this.validateAndCallValueConversion();
      return;
    }
    let redeemable = 0;
    value.RedeemableAmount > value.Balance ? redeemable = value.Balance : redeemable = value.RedeemableAmount;
    this.formControls.redeemable.setValue(redeemable);
    const remainingTotal = this.paymentProcessGenericService.ReturnValidValue(this.formControls.remainingTotal.value);
    remainingTotal < redeemable ? this.formControls.totalApproved.setValue(remainingTotal) : this.formControls.totalApproved.setValue(value.RedeemableAmount);
    this.CashEqItemUID = value.CashEQItemID;
    this.validateAndCallValueConversion();
  }
  changeCheckDetailsEventHandler() {
    this.subscription.add(this.paymentProcessGenericService.changeCheckDetailsSubject.subscribe(value => {
      var _this$checkDetails3, _this$checkDetails3$C, _this$formControls, _this$formControls$re, _this$checkDetails5, _this$formControls2, _this$formControls2$t, _this$checkDetails6;
      if (!value) {
        return;
      }
      this.checkDetails = value;
      if ((_this$checkDetails3 = this.checkDetails) !== null && _this$checkDetails3 !== void 0 && (_this$checkDetails3$C = _this$checkDetails3.Contact) !== null && _this$checkDetails3$C !== void 0 && _this$checkDetails3$C.ContactID) {
        var _this$checkDetails4, _this$checkDetails4$C;
        this.subscription.add(this.GetVirtualCashEq((_this$checkDetails4 = this.checkDetails) === null || _this$checkDetails4 === void 0 ? void 0 : (_this$checkDetails4$C = _this$checkDetails4.Contact) === null || _this$checkDetails4$C === void 0 ? void 0 : _this$checkDetails4$C.ContactID).subscribe({
          next: GetVirtualCashEqValue => {
            this.VirtualCashEQList = GetVirtualCashEqValue.VirtualCashEQs;
          },
          error: () => {
            this.snackBarService.showError(this.translate.instant('PAYMENT_PROCESSOR.CASH_EQ.GET_VIRTUAL_CASH_EQ_ERROR'), '', null, 'left');
          }
        }));
      }
      (_this$formControls = this.formControls) === null || _this$formControls === void 0 ? void 0 : (_this$formControls$re = _this$formControls.remainingTotal) === null || _this$formControls$re === void 0 ? void 0 : _this$formControls$re.setValue((_this$checkDetails5 = this.checkDetails) === null || _this$checkDetails5 === void 0 ? void 0 : _this$checkDetails5.Remaining);
      (_this$formControls2 = this.formControls) === null || _this$formControls2 === void 0 ? void 0 : (_this$formControls2$t = _this$formControls2.totalApproved) === null || _this$formControls2$t === void 0 ? void 0 : _this$formControls2$t.setValue((_this$checkDetails6 = this.checkDetails) === null || _this$checkDetails6 === void 0 ? void 0 : _this$checkDetails6.Remaining);
      this.validateAndCallValueConversion();
      this.form.markAllAsTouched();
      this.cdRef.detectChanges();
    }));
  }
  get formControls() {
    var _this$form;
    return (_this$form = this.form) === null || _this$form === void 0 ? void 0 : _this$form.controls;
  }
  valueConversion(field) {
    const control = this.form.get(field);
    control.patchValue(Number(control.value).toFixed(2));
    this.validateForm();
  }
  close() {
    this.dialogRef.close();
  }
  processPayment() {
    var _this$checkDetails7, _this$checkDetails7$C;
    const request = new PaymentRequest();
    request.PaymentItemID = this.checkDetails.CheckUID;
    request.PaymentMethodID = TenderTypeID.CashEqCertificate;
    request.ContactID = (_this$checkDetails7 = this.checkDetails) === null || _this$checkDetails7 === void 0 ? void 0 : (_this$checkDetails7$C = _this$checkDetails7.Contact) === null || _this$checkDetails7$C === void 0 ? void 0 : _this$checkDetails7$C.ContactID;
    request.Amount = this.paymentProcessGenericService.ReturnValidValue(this.formControls.totalApproved.value);
    request.OrderID = this.checkDetails.OrderSeqID;
    request.CashEqItemUID = this.CashEqItemUID;
    this.subscription.add(this.paymentProcessGenericService.ProcessPayment(request, this.dialogRef, false).subscribe());
  }
  validateForm() {
    var _this$VirtualCashEQLi, _this$paymentProcessG, _this$paymentProcessG2;
    this.formControls.cashEQType.setErrors(null);
    this.formControls.totalApproved.setErrors(null);
    this.formControls.claimCode.setErrors(null);
    const totalApproved = this.paymentProcessGenericService.ReturnValidValue(this.formControls.totalApproved.value);
    const remainingTotal = this.paymentProcessGenericService.ReturnValidValue(this.formControls.remainingTotal.value);
    const redeemable = this.paymentProcessGenericService.ReturnValidValue(this.formControls.redeemable.value);
    if (!this.formControls.cashEQType.value) {
      this.formControls.cashEQType.setErrors({
        CASH_EQS_NOT_SELECTED: true
      });
      return false;
    }
    if (this.formControls.cashEQType.value === 'claimCode') {
      if (!this.formControls.claimCode.value) {
        this.formControls.claimCode.setErrors({
          ENTER_OR_SCAN_CLAIM_CODE_ERROR: true
        });
        return false;
      }
      if (this.invalidClaimCode || this.formControls.claimCode.value.length < 12) {
        this.formControls.claimCode.setErrors({
          invalid: true
        });
        this.claimCodeErrorMessage = this.translate.instant('PAYMENT_PROCESSOR.CASH_EQ.INVALID_CLAIM_CODE_ERROR');
        return false;
      }
    }
    if (((_this$VirtualCashEQLi = this.VirtualCashEQList.find(p => p.CashEQItemUID === this.CashEqItemUID)) === null || _this$VirtualCashEQLi === void 0 ? void 0 : _this$VirtualCashEQLi.Balance) < totalApproved) {
      this.formControls.totalApproved.setErrors({
        TOTAL_APPROVE_COVER_ERROR: true
      });
      return false;
    }
    if (redeemable < totalApproved) {
      this.formControls.totalApproved.setErrors({
        TOTAL_APPROVE_LESS_ERROR: true
      });
      return false;
    }
    if (totalApproved === 0) {
      this.formControls.totalApproved.setErrors({
        TOTAL_APPROVE_ZERO_ERROR: true
      });
      return false;
    }
    if (remainingTotal < totalApproved && !((_this$paymentProcessG = this.paymentProcessGenericService.configuration) !== null && _this$paymentProcessG !== void 0 && (_this$paymentProcessG2 = _this$paymentProcessG.CashEQTenderTypeModel) !== null && _this$paymentProcessG2 !== void 0 && _this$paymentProcessG2.AllowTip)) {
      this.formControls.totalApproved.setErrors({
        TOTAL_REMAINING_COVER_ERROR: true
      });
      return false;
    }
    return true;
  }
  validateAndCallValueConversion() {
    this.callValueConversion();
    this.validateForm();
  }
  GetVirtualCashEq(ContactID) {
    this.manageLoadingService.startLoading();
    const request = new VirtualCashEQsRequest();
    request.ContactID = ContactID;
    return this.manageContactsService.VirtualCashEQs(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading()));
  }
  CashEQsBalance(barcode, checkUID, CashEQItemID) {
    var _this$checkDetails$Co, _this$checkDetails8, _this$checkDetails8$C;
    const subject = new rxjs__WEBPACK_IMPORTED_MODULE_7__.ReplaySubject(null);
    this.manageLoadingService.startLoading();
    const request = new CashEQsBalanceRequest();
    request.TrxUID = checkUID;
    request.ContactID = (_this$checkDetails$Co = (_this$checkDetails8 = this.checkDetails) === null || _this$checkDetails8 === void 0 ? void 0 : (_this$checkDetails8$C = _this$checkDetails8.Contact) === null || _this$checkDetails8$C === void 0 ? void 0 : _this$checkDetails8$C.ContactID) !== null && _this$checkDetails$Co !== void 0 ? _this$checkDetails$Co : '';
    if (barcode) {
      request.CodeID = barcode;
    } else {
      request.CashEQItemID = CashEQItemID;
    }
    this.subscription.add(this.cashEQsService.Balance(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
      this.manageLoadingService.finishLoading();
      subject.complete();
    })).subscribe({
      next: result => {
        subject.next(result);
      },
      error: error => {
        subject.next(null);
        this.claimCodeErrorMessage = error.error.Title;
      }
    }));
    return subject;
  }
  CashEQSelected() {
    if (this.formControls.claimCode.valid) {
      return true;
    }
    if (this.CashEqItemUID) {
      return true;
    }
    return false;
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
CashEqPayComponent.ɵfac = function CashEqPayComponent_Factory(t) {
  return new (t || CashEqPayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IManageContactsPaymentService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('ICashEQsService'));
};
CashEqPayComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: CashEqPayComponent,
  selectors: [["tei-common-payment-processor-cash-eq-pay"]],
  hostBindings: function CashEqPayComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup", function CashEqPayComponent_keyup_HostBindingHandler($event) {
        return ctx.handleKeyboardEvent($event);
      }, false, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresolveDocument"]);
    }
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(CashEqPayComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 67,
  vars: 57,
  consts: [[1, "o-dialog-container", "overflow-hidden", 3, "formGroup"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col", "a-text-h3"], [1, "col-auto"], ["mat-icon-button", "", 1, "a-icon-close", 3, "disabled", "click"], [1, "m-dialog-content", "d-flex", "flex-column", "align-items-start", "justify-content-start", "px-3"], [1, "d-flex", "a-text-primary"], [1, "d-flex", "a-text-secondary"], [1, "o-card", "o-card-list", "o-card-cash-eq", "py-0", "w-100", "mt-3"], [1, "m-list-item"], [1, "d-flex", "a-text-secondary", "py-2"], ["formControlName", "cashEQType"], [1, "m-list-item", "py-2"], [1, "w-100", "d-flex", "align-items-center", "justify-content-between"], ["value", "claimCode"], [1, "a-text-default"], [1, "w-100", "d-flex"], [1, "a-text-label"], ["appearance", "outline", "floatLabel", "never", 1, "no-label", "claim"], ["matInput", "", "type", "text", "formControlName", "claimCode", "autocomplete", "off", 1, "a-input", "a-input-nolabel", 3, "tabIndex", "maxLength", "placeholder", "keyup"], ["class", "mt-2", 4, "ngIf"], ["class", "m-list-item", 4, "ngIf"], ["class", "m-list-item py-2", 4, "ngFor", "ngForOf"], [4, "ngIf"], [1, "row", "pt-2", "justify-content-center"], [1, "col-xs-12", "col-sm-12", "col-md-6", "col-lg-6", "d-flex", "flex-column", "custom-input"], ["appearance", "outline", "floatLabel", "never", 1, "no-label"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "readonly", "", "formControlName", "redeemable", 1, "", 3, "placeholder", "maxLength", "blur", "keyup"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "formControlName", "totalApproved", 1, "", 3, "readonly", "maxLength", "placeholder", "max", "blur", "keyup"], ["class", "ml-3", 4, "ngIf"], [1, "m-dialog-actions", "m-dialog-actions-sm", "a-button-contained", "stepper-dialog-button"], ["mat-button", "", "mat-flat-button", "", "color", "accent", 1, "w-100", 3, "disabled", "click"], ["class", "a-buttontext-right", 4, "ngIf"], [1, "mt-2"], ["class", "d-flex a-text-secondary py-2", 4, "ngIf"], [3, "value"], [1, "ml-3"], [1, "a-buttontext-right"]],
  template: function CashEqPayComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 4)(7, "button", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CashEqPayComponent_Template_button_click_7_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](10, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "div", 6)(12, "span", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](14, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](15, "span", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](17, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "mat-card", 9)(19, "div", 10)(20, "span", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](22, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](23, "mat-radio-group", 12)(24, "div", 13)(25, "div", 14)(26, "mat-radio-button", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](27);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](28, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](29, "span", 16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](30);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](31, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](32, "div", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](33, "mat-label", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](34, "mat-form-field", 19)(35, "input", 20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("keyup", function CashEqPayComponent_Template_input_keyup_35_listener($event) {
        return ctx.claimCodeInputChange($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](36, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](37, CashEqPayComponent_mat_error_37_Template, 2, 1, "mat-error", 21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](38, CashEqPayComponent_mat_error_38_Template, 3, 3, "mat-error", 21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](39, CashEqPayComponent_div_39_Template, 3, 2, "div", 22);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](40, CashEqPayComponent_div_40_Template, 7, 5, "div", 23);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](41, CashEqPayComponent_mat_error_41_Template, 3, 3, "mat-error", 24);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](42, "div", 25)(43, "div", 26)(44, "mat-label", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](45);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](46, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](47, "mat-form-field", 27)(48, "input", 28);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function CashEqPayComponent_Template_input_blur_48_listener() {
        return ctx.valueConversion("redeemable");
      })("keyup", function CashEqPayComponent_Template_input_keyup_48_listener($event) {
        return ctx.keyup($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](49, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](50, "div", 26)(51, "mat-label", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](52);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](53, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](54, "mat-form-field", 27)(55, "input", 29);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function CashEqPayComponent_Template_input_blur_55_listener() {
        return ctx.valueConversion("totalApproved");
      })("keyup", function CashEqPayComponent_Template_input_keyup_55_listener($event) {
        return ctx.keyup($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](56, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](57, CashEqPayComponent_mat_error_57_Template, 3, 3, "mat-error", 30);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](58, CashEqPayComponent_mat_error_58_Template, 3, 3, "mat-error", 30);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](59, CashEqPayComponent_mat_error_59_Template, 3, 3, "mat-error", 30);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](60, CashEqPayComponent_mat_error_60_Template, 3, 3, "mat-error", 30);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](61, CashEqPayComponent_mat_error_61_Template, 3, 3, "mat-error", 30);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](62, "div", 31)(63, "button", 32);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CashEqPayComponent_Template_button_click_63_listener() {
        return ctx.processPayment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](64, CashEqPayComponent_span_64_Template, 3, 3, "span", 24);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](65, CashEqPayComponent_span_65_Template, 3, 3, "span", 24);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](66, CashEqPayComponent_span_66_Template, 3, 3, "span", 33);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 35, "PAYMENT_PROCESSOR.PROCESS.CASH_EQ"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](14, 37, ctx.formControls.remainingTotal.value));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](17, 39, "PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](22, 41, "PAYMENT_PROCESSOR.CASH_EQ.AVAILABLE_CASH_EQS"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](28, 43, "PAYMENT_PROCESSOR.CASH_EQ.CLAIM_CODE"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](31, 45, ctx.formControls.balance.value));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](36, 47, "PAYMENT_PROCESSOR.CASH_EQ.SCAN"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("tabIndex", 0)("maxLength", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.claimCode.hasError("invalid"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.claimCode.hasError("ENTER_OR_SCAN_CLAIM_CODE_ERROR"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.VirtualCashEQList.length === 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.VirtualCashEQList);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.cashEQType.hasError("CASH_EQS_NOT_SELECTED"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](46, 49, "PAYMENT_PROCESSOR.CASH_EQ.REDEEMABLE"), " (", ctx.currencySymbol, ")");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](49, 51, "PAYMENT_PROCESSOR.CASH_EQ.REDEEMABLE"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("maxLength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](53, 53, "PAYMENT_PROCESSOR.CASH_EQ.TOTAL_APPROVED"), " (", ctx.currencySymbol, ")");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](56, 55, "PAYMENT_PROCESSOR.CASH_EQ.TOTAL_APPROVED"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("readonly", ctx.formControls.remainingTotal.value < 0)("maxLength", 10)("max", ctx.formControls.redeemable.value);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.totalApproved.hasError("HAS_NO_REDEMPTION"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.totalApproved.hasError("TOTAL_REMAINING_COVER_ERROR"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.totalApproved.hasError("TOTAL_APPROVE_COVER_ERROR"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.totalApproved.hasError("TOTAL_APPROVE_LESS_ERROR"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.totalApproved.hasError("TOTAL_APPROVE_ZERO_ERROR"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", !ctx.form.valid || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.CashEQSelected());
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.CashEQSelected());
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.form.valid);
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyError, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_18__.MatLegacyCard, _angular_material_legacy_radio__WEBPACK_IMPORTED_MODULE_19__.MatLegacyRadioGroup, _angular_material_legacy_radio__WEBPACK_IMPORTED_MODULE_19__.MatLegacyRadioButton, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".cash-eq-pay-dialog .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){  .cash-eq-pay-dialog .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}  .cash-eq-pay-dialog .claim{margin-left:28px}  .cash-eq-pay-dialog .mat-form-field-wrapper{padding-bottom:5px}  .cash-eq-pay-dialog .o-card-cash-eq{height:300px;max-height:45vh;min-height:250px;overflow-x:hidden}  .a-cash-eq-field mat-icon{width:13px;font-size:1.09rem!important;margin-right:1px}  .a-cash-eq-field mat-icon .mat-icon-gray{color:#fff}@media (max-width: 992px){  .a-cash-eq-field .mat-form-field .mat-form-field-infix{width:unset}}.payment-amount[_ngcontent-%COMP%]{position:absolute;right:20px}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CashEqPayComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-cash-eq-pay',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(CashEqPayComponent)],
      template: "<div [formGroup]=\"form\" class=\"o-dialog-container overflow-hidden\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col a-text-h3\">\n        {{'PAYMENT_PROCESSOR.PROCESS.CASH_EQ' | teiTextTranslate}}\n      </div>\n      <div class=\"col-auto\">\n        <button mat-icon-button class=\"a-icon-close\" [disabled]=\"manageLoadingService.isLoading\" (click)=\"close()\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-content d-flex flex-column align-items-start justify-content-start px-3\">\n    <span class=\"d-flex a-text-primary\">{{formControls.remainingTotal.value | teiCurrencyTranslate}}</span>\n    <span class=\"d-flex a-text-secondary\">{{'PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL' | teiTextTranslate}}</span>\n    <mat-card class=\"o-card o-card-list o-card-cash-eq py-0 w-100 mt-3\">\n      <div class=\"m-list-item\">\n        <span class=\"d-flex a-text-secondary py-2\">{{\"PAYMENT_PROCESSOR.CASH_EQ.AVAILABLE_CASH_EQS\" |\n          teiTextTranslate}}</span>\n      </div>\n      <mat-radio-group formControlName=\"cashEQType\">\n        <div class=\"m-list-item py-2\">\n          <div class=\"w-100 d-flex align-items-center justify-content-between\">\n            <mat-radio-button value=\"claimCode\">\n              {{\"PAYMENT_PROCESSOR.CASH_EQ.CLAIM_CODE\" | teiTextTranslate}}\n            </mat-radio-button>\n            <span class=\"a-text-default\">{{formControls.balance.value | teiCurrencyTranslate}}</span>\n          </div>\n          <div class=\"w-100 d-flex\">\n            <mat-label class=\"a-text-label\"></mat-label>\n            <mat-form-field class=\"no-label claim\" appearance=\"outline\" floatLabel=\"never\">\n              <input matInput type=\"text\" formControlName=\"claimCode\" class=\"a-input a-input-nolabel\" autocomplete=\"off\"\n                [tabIndex]=\"0\" [maxLength]=\"12\" (keyup)=\"claimCodeInputChange($event)\"\n                placeholder=\"{{'PAYMENT_PROCESSOR.CASH_EQ.SCAN' | teiTextTranslate}}\">\n              <mat-error class=\"mt-2\" *ngIf=\"formControls.claimCode.hasError('invalid')\">\n                {{claimCodeErrorMessage}}</mat-error>\n              <mat-error class=\"mt-2\" *ngIf=\"formControls.claimCode.hasError('ENTER_OR_SCAN_CLAIM_CODE_ERROR')\">\n                {{\"PAYMENT_PROCESSOR.CASH_EQ.ENTER_OR_SCAN_CLAIM_CODE_ERROR\" | teiTextTranslate}}</mat-error>\n            </mat-form-field>\n          </div>\n\n        </div>\n\n        <div class=\"m-list-item\" *ngIf=\"VirtualCashEQList.length===0\">\n          <span class=\"d-flex a-text-secondary py-2\"\n            *ngIf=\"!this.checkDetails?.Contact?.ContactID\">{{\"PAYMENT_PROCESSOR.CASH_EQ.NO_CONTACT_MESSAGE\" |\n            teiTextTranslate}}</span>\n\n          <span class=\"d-flex a-text-secondary py-2\"\n            *ngIf=\"this.checkDetails?.Contact?.ContactID\">{{\"PAYMENT_PROCESSOR.CASH_EQ.NO_CASH_EQ_CONTACT_MESSAGE\" |\n            teiTextTranslate}}</span>\n        </div>\n\n        <div class=\"m-list-item py-2\" *ngFor=\"let item of VirtualCashEQList;\">\n          <div class=\"w-100 d-flex align-items-center justify-content-between\">\n            <mat-radio-button [value]=\"item.CashEQItemUID\">\n              {{item.CashEQDescription}}\n            </mat-radio-button>\n            <span class=\"a-text-default\">{{item.Balance | teiCurrencyTranslate}}</span>\n          </div>\n        </div>\n        <mat-error *ngIf=\"formControls.cashEQType.hasError('CASH_EQS_NOT_SELECTED')\">\n          {{\"PAYMENT_PROCESSOR.CASH_EQ.CASH_EQS_NOT_SELECTED\" | teiTextTranslate}}\n        </mat-error>\n      </mat-radio-group>\n    </mat-card>\n\n    <div class=\"row pt-2 justify-content-center\">\n      <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6 d-flex flex-column custom-input\">\n        <mat-label class=\"a-text-label\">{{\"PAYMENT_PROCESSOR.CASH_EQ.REDEEMABLE\" | teiTextTranslate}}\n          ({{currencySymbol}})</mat-label>\n        <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n          <input matInput type=\"tel\" autocomplete=\"off\" (blur)=\"valueConversion('redeemable')\" teiTwoDigitDecimal\n            (keyup)=\"keyup($event)\" readonly placeholder=\"{{'PAYMENT_PROCESSOR.CASH_EQ.REDEEMABLE' | teiTextTranslate}}\"\n            [maxLength]=\"10\" class=\"\" formControlName=\"redeemable\" />\n        </mat-form-field>\n      </div>\n\n      <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6 d-flex flex-column custom-input\">\n        <mat-label class=\"a-text-label\">{{\"PAYMENT_PROCESSOR.CASH_EQ.TOTAL_APPROVED\" | teiTextTranslate}}\n          ({{currencySymbol}})</mat-label>\n        <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n          <input matInput type=\"tel\" autocomplete=\"off\" [readonly]=\"formControls.remainingTotal.value < 0\" (blur)=\"valueConversion('totalApproved')\" teiTwoDigitDecimal\n            class=\"a-input a-input-nolabel\" [maxLength]=\"10\" class=\"\" formControlName=\"totalApproved\"\n            (keyup)=\"keyup($event)\" placeholder=\"{{'PAYMENT_PROCESSOR.CASH_EQ.TOTAL_APPROVED' | teiTextTranslate}}\"\n            [max]=\"formControls.redeemable.value\" />\n        </mat-form-field>\n      </div>\n\n      <mat-error *ngIf=\"formControls.totalApproved.hasError('HAS_NO_REDEMPTION')\" class=\"ml-3\">\n        {{'PAYMENT_PROCESSOR.CASH_EQ.HAS_NO_REDEMPTION' | teiTextTranslate}}\n      </mat-error>\n\n      <mat-error *ngIf=\"formControls.totalApproved.hasError('TOTAL_REMAINING_COVER_ERROR')\" class=\"ml-3\">\n        {{'PAYMENT_PROCESSOR.CASH_EQ.TOTAL_REMAINING_COVER_ERROR' | teiTextTranslate}}\n      </mat-error>\n\n      <mat-error *ngIf=\"formControls.totalApproved.hasError('TOTAL_APPROVE_COVER_ERROR')\" class=\"ml-3\">\n        {{'PAYMENT_PROCESSOR.CASH_EQ.TOTAL_APPROVE_COVER_ERROR' | teiTextTranslate}}\n      </mat-error>\n\n      <mat-error *ngIf=\"formControls.totalApproved.hasError('TOTAL_APPROVE_LESS_ERROR')\" class=\"ml-3\">\n        {{'PAYMENT_PROCESSOR.CASH_EQ.TOTAL_APPROVE_LESS_ERROR' | teiTextTranslate}}\n      </mat-error>\n\n      <mat-error *ngIf=\"formControls.totalApproved.hasError('TOTAL_APPROVE_ZERO_ERROR')\" class=\"ml-3\">\n        {{'PAYMENT_PROCESSOR.CASH_EQ.TOTAL_APPROVE_ZERO_ERROR' | teiTextTranslate}}\n      </mat-error>\n    </div>\n\n  </div>\n  <div class=\"m-dialog-actions m-dialog-actions-sm a-button-contained stepper-dialog-button\">\n    <button [disabled]=\"!form.valid || manageLoadingService.isLoading\" (click)=\"processPayment()\" class=\"w-100\"\n      mat-button mat-flat-button color=\"accent\">\n      <span *ngIf=\"!CashEQSelected()\">{{\"PAYMENT_PROCESSOR.CASH_EQ.SELECTIONS_REQUIRED\" |\n        teiTextTranslate}}</span>\n      <span *ngIf=\"CashEQSelected()\">{{\"PAYMENT_PROCESSOR.CASH_EQ.APPLY_PAYMENT\" |\n        teiTextTranslate}}</span>\n      <span *ngIf=\"form.valid\" class=\"a-buttontext-right\">{{!form.valid ? '' :\n        formControls.totalApproved.value | teiCurrencyTranslate}}</span>\n    </button>\n  </div>\n</div>\n",
      styles: ["::ng-deep .cash-eq-pay-dialog .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){::ng-deep .cash-eq-pay-dialog .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}::ng-deep .cash-eq-pay-dialog .claim{margin-left:28px}::ng-deep .cash-eq-pay-dialog .mat-form-field-wrapper{padding-bottom:5px}::ng-deep .cash-eq-pay-dialog .o-card-cash-eq{height:300px;max-height:45vh;min-height:250px;overflow-x:hidden}::ng-deep .a-cash-eq-field mat-icon{width:13px;font-size:1.09rem!important;margin-right:1px}::ng-deep .a-cash-eq-field mat-icon .mat-icon-gray{color:#fff}@media (max-width: 992px){::ng-deep .a-cash-eq-field .mat-form-field .mat-form-field-infix{width:unset}}.payment-amount{position:absolute;right:20px}\n"]
    }]
  }], function () {
    return [{
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
    }, {
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IManageContactsPaymentService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['ICashEQsService']
      }]
    }];
  }, {
    handleKeyboardEvent: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener,
      args: ['document:keyup', ['$event']]
    }]
  });
})();
class CashEQsService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor/CashEQs';
  }
  Balance(request) {
    const apiUrl = this.serviceUrl + '/Balance';
    return this.http.get(apiUrl, {
      params: request
    });
  }
}
CashEQsService.ɵfac = function CashEQsService_Factory(t) {
  return new (t || CashEQsService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
CashEQsService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: CashEQsService,
  factory: CashEQsService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CashEQsService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();

// to do : we should change the "VirtualCashEQs" api address from ManageContacts it has confilict with "ManageContactsService" in contact project
class ManageContactsPaymentService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Office/Contacts/ManageContacts';
  }
  VirtualCashEQs(request) {
    const apiUrl = this.serviceUrl + '/VirtualCashEQs';
    return this.http.get(apiUrl, {
      params: request
    });
  }
}
ManageContactsPaymentService.ɵfac = function ManageContactsPaymentService_Factory(t) {
  return new (t || ManageContactsPaymentService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
ManageContactsPaymentService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: ManageContactsPaymentService,
  factory: ManageContactsPaymentService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ManageContactsPaymentService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
class PaymentProcessConfiguration {}
var PrintReceiptOption;
(function (PrintReceiptOption) {
  PrintReceiptOption[PrintReceiptOption["OrderReceipt"] = 0] = "OrderReceipt";
  PrintReceiptOption[PrintReceiptOption["SlipReceipt"] = 1] = "SlipReceipt";
  PrintReceiptOption[PrintReceiptOption["GiftCardReceipt"] = 2] = "GiftCardReceipt";
  PrintReceiptOption[PrintReceiptOption["PackageReceipt"] = 3] = "PackageReceipt";
})(PrintReceiptOption || (PrintReceiptOption = {}));
class CashEQTenderTypeModel {}
class GiftCardTenderTypeModel {
  constructor() {
    this.AllowPrint = true;
    this.AllowApprove = true;
  }
}
class PaymentButtonsStatusConfig {}
class NonIntegratedCreditTenderTypeModel {}
class OnAccountTenderTypeModel {}
class PrintConfiguration {}
class CheckDetails {}
class UDFPaymentMethodsDialogData {}
class CashItem {}
class PaymentButtonsStatus {
  constructor() {
    this.Void = false;
    this.Done = false;
    this.Back = false;
    this.Label = false;
    this.Discount = false;
    this.PaymentRequired = false;
    this.PaymentCompleted = false;
    this.CanReload = false;
  }
}
class ReceiptModel {}
var ReceiptType;
(function (ReceiptType) {
  ReceiptType["Print"] = "Print";
  ReceiptType["Email"] = "Email";
})(ReceiptType || (ReceiptType = {}));
var CounterEvents;
(function (CounterEvents) {
  CounterEvents[CounterEvents["Minus"] = 0] = "Minus";
  CounterEvents[CounterEvents["Plus"] = 1] = "Plus";
})(CounterEvents || (CounterEvents = {}));
var PaymentProcessState;
(function (PaymentProcessState) {
  PaymentProcessState["CancelByUser"] = "00";
  PaymentProcessState["FailedOnPayment"] = "01";
  PaymentProcessState["FailedOnInitialize"] = "02";
  PaymentProcessState["Success"] = "11";
  PaymentProcessState["InProgress"] = "10";
  PaymentProcessState["WaitForUserReaction"] = "12";
})(PaymentProcessState || (PaymentProcessState = {}));
class ProcessService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor/Process';
  }
  Get(request) {
    const apiUrl = this.serviceUrl + '';
    return this.http.get(apiUrl, {
      params: request
    });
  }
  ApplyPayment(request) {
    const apiUrl = this.serviceUrl + '/Payment';
    return this.http.post(apiUrl, request);
  }
}
ProcessService.ɵfac = function ProcessService_Factory(t) {
  return new (t || ProcessService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
ProcessService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: ProcessService,
  factory: ProcessService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ProcessService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
class PaymentProcessGenericService {
  constructor(translate, voidPaymentService, snackBarService, processService, route, manageLoadingService, signalRService) {
    this.translate = translate;
    this.voidPaymentService = voidPaymentService;
    this.snackBarService = snackBarService;
    this.processService = processService;
    this.route = route;
    this.manageLoadingService = manageLoadingService;
    this.signalRService = signalRService;
    this.returnUrl = "";
    this.selectedPrinterID = null;
    this.cancelUrl = "";
    this.dialogUpdateMessageEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.changeCheckDetailsSubject = new rxjs__WEBPACK_IMPORTED_MODULE_22__.BehaviorSubject(new CheckDetails());
    this.configuration = new PaymentProcessConfiguration();
  }
  ProcessPayment(request, dialogRef = null, printAfterPayment = false, showSuccessMessage = true) {
    var _checkDetails$Termina;
    const checkDetails = this.changeCheckDetailsSubject.getValue();
    if (!request.PaymentInitiatorUID) {
      request.PaymentInitiatorUID = checkDetails.PaymentRecordUID;
      if (!request.PaymentInitiatorUID) {
        request.PaymentInitiatorUID = this.route.snapshot.paramMap.get('PaymentRecordUID');
      }
    }
    if (request.PaymentMethodID !== TenderTypeID.CreditCard || (checkDetails === null || checkDetails === void 0 ? void 0 : (_checkDetails$Termina = checkDetails.TerminalTenderType) === null || _checkDetails$Termina === void 0 ? void 0 : _checkDetails$Termina.Type) === ProcessorType.NotIntegrated) {
      return this.ApplyPayment(request, showSuccessMessage, printAfterPayment, dialogRef);
    }
    this.manageLoadingService.startLoading();
    return this.signalRService.checkStatusAndForceToReconnect().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading()), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.mergeMap)(result => {
      if (result) {
        return this.ApplyPayment(request, showSuccessMessage, printAfterPayment, dialogRef);
      }
      this.snackBarService.showInfo(this.translate.instant('PAYMENT_PROCESSOR.PROCESS.SIGNAL_R_ERROR'), '', null, 'left');
      throw new Error(this.translate.instant('PAYMENT_PROCESSOR.PROCESS.SIGNAL_R_ERROR'));
    }));
  }
  ApplyPayment(request, showSuccessMessage, printAfterPayment, dialogRef) {
    this.manageLoadingService.startLoading();
    const errorMessage = request.IsApproved ? this.translate.instant('PAYMENT_PROCESSOR.ON_ACCOUNT.COMMIT_ERROR') : this.translate.instant('PAYMENT_PROCESSOR.ON_ACCOUNT.APPROVE_PRINT_ERROR');
    return this.processService.ApplyPayment(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.map)(result => {
      if (result.Success) {
        if (showSuccessMessage) {
          if (request.Amount === 0) {
            this.snackBarService.showInfo(this.translate.instant('PAYMENT_PROCESSOR.PROCESS.COMPLETED_TRANSACTIONS'), '', null, 'left');
          } else {
            this.snackBarService.showInfo(this.translate.instant('PAYMENT_PROCESSOR.PROCESS.SUCCESS_MESSAGE'), '', null, 'left');
          }
        }
        if (result !== null && result !== void 0 && result.PrintToFileUrl && printAfterPayment) {
          this.DownloadFile(result.PrintToFileUrl, result.TrxID + '.pdf');
        }
        this.dialogUpdateMessageEvent.emit();
        dialogRef === null || dialogRef === void 0 ? void 0 : dialogRef.close();
        return result;
      }
      if (result.ErrorMsg) {
        this.snackBarService.showError(result.ErrorMsg, '', null, 'left');
        return null;
      }
      this.snackBarService.showError(errorMessage, '', null, 'left');
    }));
  }
  voidPayments(voidPaymentRequest) {
    this.manageLoadingService.startLoading();
    return this.voidPaymentService.Post(voidPaymentRequest).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.map)(response => {
      if (response.Success === true) {
        this.snackBarService.showSuccess(this.translate.instant('PAYMENT_PROCESSOR.VOID_PAYMENT.VOIDED_SUCCESSFULLY'), '', null, 'left');
        this.dialogUpdateMessageEvent.emit();
      }
      return response.Success;
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.catchError)(() => {
      this.snackBarService.showError(this.translate.instant('PAYMENT_PROCESSOR.VOID_PAYMENT.VOID_ERROR'), '', null, 'left');
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_26__.of)(false);
    }));
  }
  voidCreditCardPayment(voidPaymentRequest) {
    this.manageLoadingService.startLoading();
    return this.signalRService.checkStatusAndForceToReconnect().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading()), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_23__.mergeMap)(result => {
      if (result) {
        return this.voidCreditCardPaymentAfterCheckSignalR(voidPaymentRequest);
      }
      this.snackBarService.showInfo(this.translate.instant('PAYMENT_PROCESSOR.PROCESS.SIGNAL_R_ERROR'), '', null, 'left');
      throw new Error(this.translate.instant('PAYMENT_PROCESSOR.PROCESS.SIGNAL_R_ERROR'));
    }));
  }
  voidCreditCardPaymentAfterCheckSignalR(voidPaymentRequest) {
    this.manageLoadingService.startLoading();
    return this.voidPaymentService.CreditCard(voidPaymentRequest).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_24__.map)(response => {
      return response;
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.catchError)(() => {
      this.snackBarService.showError(this.translate.instant('PAYMENT_PROCESSOR.VOID_PAYMENT.VOID_ERROR'), '', null, 'left');
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_26__.of)();
    }));
  }
  DownloadFile(url, fileName) {
    const link = document.createElement('a');
    link.href = url;
    link.download = fileName + '.pdf';
    link.target = '_blank';
    link.click();
    window.URL.revokeObjectURL(url);
  }
  ReturnValidValue(value) {
    var _toString;
    return Number((_toString = (value !== null && value !== void 0 ? value : '0.00').toString()) === null || _toString === void 0 ? void 0 : _toString.replace(/[%]/g, ''));
  }
}
PaymentProcessGenericService.ɵfac = function PaymentProcessGenericService_Factory(t) {
  return new (t || PaymentProcessGenericService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IVoidPaymentService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IProcessService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_tei_core_signalr__WEBPACK_IMPORTED_MODULE_27__.SignalrMessagingClientService));
};
PaymentProcessGenericService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: PaymentProcessGenericService,
  factory: PaymentProcessGenericService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentProcessGenericService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IVoidPaymentService']
      }]
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService
    }, {
      type: ProcessService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IProcessService']
      }]
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.ActivatedRoute
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: _tei_core_signalr__WEBPACK_IMPORTED_MODULE_27__.SignalrMessagingClientService
    }];
  }, {
    dialogUpdateMessageEvent: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
const MATERIAL_MODULES$m = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_18__.MatLegacyCardModule, _angular_material_legacy_radio__WEBPACK_IMPORTED_MODULE_19__.MatLegacyRadioModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const COMPONENTS$k = [CashEqPayComponent];
const COMMON_MODULES$f = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$l = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
class CashEqPayModule {}
CashEqPayModule.ɵfac = function CashEqPayModule_Factory(t) {
  return new (t || CashEqPayModule)();
};
CashEqPayModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: CashEqPayModule
});
CashEqPayModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'ICashEQsService',
    useClass: CashEQsService
  }, {
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }, {
    provide: 'IManageContactsPaymentService',
    useClass: ManageContactsPaymentService
  }],
  imports: [MATERIAL_MODULES$m, COMMON_MODULES$f, TEI_CORE_MODULES$l, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_18__.MatLegacyCardModule, _angular_material_legacy_radio__WEBPACK_IMPORTED_MODULE_19__.MatLegacyRadioModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CashEqPayModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$k],
      imports: [...MATERIAL_MODULES$m, ...COMMON_MODULES$f, ...TEI_CORE_MODULES$l],
      exports: [...COMMON_MODULES$f, ...MATERIAL_MODULES$m, ...TEI_CORE_MODULES$l, ...COMPONENTS$k],
      providers: [{
        provide: 'ICashEQsService',
        useClass: CashEQsService
      }, {
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }, {
        provide: 'IManageContactsPaymentService',
        useClass: ManageContactsPaymentService
      }]
    }]
  }], null, null);
})();
class CashPayComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  get isPayButtonDisable() {
    var _this$paymentProcessG3, _this$paymentProcessG4;
    const checkDetails = (_this$paymentProcessG3 = this.paymentProcessGenericService) === null || _this$paymentProcessG3 === void 0 ? void 0 : (_this$paymentProcessG4 = _this$paymentProcessG3.changeCheckDetailsSubject) === null || _this$paymentProcessG4 === void 0 ? void 0 : _this$paymentProcessG4.value;
    return this.form.invalid || (Number(this.form.controls.cash.value) <= 0 || this.totalAmount <= 0) && (checkDetails === null || checkDetails === void 0 ? void 0 : checkDetails.Total) > 0 || (this.totalAmount !== 0 || (checkDetails === null || checkDetails === void 0 ? void 0 : checkDetails.Total) !== 0) && Number(this.form.controls.cash.value) === 0;
  }
  constructor(formBuilder, errorStateMatcher, DialogRef, paymentProcessGenericService, cashPayDialogData, currencyService, manageLoadingService) {
    super(errorStateMatcher);
    this.formBuilder = formBuilder;
    this.errorStateMatcher = errorStateMatcher;
    this.DialogRef = DialogRef;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.cashPayDialogData = cashPayDialogData;
    this.currencyService = currencyService;
    this.manageLoadingService = manageLoadingService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.totalAmount = 0;
    this.changeAmount = 0;
    this.cashItems = [{
      Id: 1,
      Amount: 100
    }, {
      Id: 2,
      Amount: 50
    }, {
      Id: 3,
      Amount: 20
    }, {
      Id: 4,
      Amount: 10
    }, {
      Id: 5,
      Amount: 5
    }, {
      Id: 6,
      Amount: 2
    }, {
      Id: 7,
      Amount: 1
    }];
  }
  calculate(cashItem) {
    const cash = Number(this.formControls.cash.value);
    const addedAmount = cash + cashItem.Amount;
    this.formControls.cash.patchValue(addedAmount);
    if (addedAmount - this.totalAmount > 0) {
      this.changeAmount = addedAmount - this.totalAmount;
    }
    this.cashConversion();
  }
  getExactAmount() {
    this.changeAmount = 0;
    this.formControls.cash.patchValue(this.totalAmount.toFixed(2));
  }
  get formControls() {
    return this.form.controls;
  }
  ngOnInit() {
    this.currencySymbol = this.currencyService.getCurrencySymbol();
    this.totalAmount = this.cashPayDialogData;
    this.form = this.formBuilder.group({
      cash: 0
    });
    this.cashConversion();
  }
  cashConversion() {
    const cash = Number(this.formControls.cash.value);
    if (cash - this.totalAmount > 0) {
      this.changeAmount = cash - this.totalAmount;
    } else {
      this.changeAmount = 0;
    }
    const control = this.formControls.cash;
    control.patchValue(Number(control.value).toFixed(2));
  }
  close() {
    this.DialogRef.close();
  }
  passValuesOnClose() {
    const checkDetails = this.paymentProcessGenericService.changeCheckDetailsSubject.getValue();
    const paymentRequest = new PaymentRequest();
    paymentRequest.PaymentItemID = checkDetails.CheckUID;
    paymentRequest.PaymentMethodID = TenderTypeID.Cash;
    paymentRequest.Amount = Number(this.form.controls.cash.value);
    paymentRequest.OrderID = checkDetails.OrderSeqID;
    paymentRequest.CashBack = 0.0;
    this.subscription.add(this.paymentProcessGenericService.ProcessPayment(paymentRequest, this.DialogRef).subscribe());
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
CashPayComponent.ɵfac = function CashPayComponent_Factory(t) {
  return new (t || CashPayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService));
};
CashPayComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: CashPayComponent,
  selectors: [["tei-common-payment-processor-cash-pay"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(CashPayComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 36,
  vars: 26,
  consts: [[1, "o-dialog-container", "overflow-hidden"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col", "a-text-h3"], [1, "col-auto"], ["mat-icon-button", "", 1, "a-icon-close", 3, "disabled", "click"], [1, "m-dialog-content", "d-flex", "flex-column", "align-items-start", "justify-content-start", "px-3"], [1, "d-flex", "a-text-primary"], [1, "d-flex", "a-text-secondary"], ["class", "d-flex align-items-center justify-content-start mt-4 flex-wrap", 4, "ngIf"], [1, "d-flex", "a-text-label", "mt-3"], [1, "d-flex", "a-cash-field", "align-items-center", "w-100", 3, "formGroup"], ["appearance", "outline", "floatLabel", "never", 1, "a-text-primary", "a-input", "no-label", "w-100"], ["matInput", "", "type", "tel", "teiTwoDigitDecimal", "", "autocomplete", "off", "formControlName", "cash", 3, "readonly", "maxlength", "change"], ["mat-stroked-button", "", 1, "a-button-exact", "d-flex", "justify-content-center", "align-items-center", "ml-3", "p-2", 3, "disabled", "click"], [1, ""], [1, "m-change-container", "mt-3"], [4, "ngIf"], [1, "m-dialog-actions", "stepper-dialog-button", "m-dialog-actions-sm", "a-button-contained"], ["mat-button", "", "mat-flat-button", "", "color", "accent", 1, "w-100", 3, "disabled", "click"], [4, "ngIf", "ngIfElse"], ["confirm", ""], [1, "d-flex", "align-items-center", "justify-content-start", "mt-4", "flex-wrap"], ["mat-stroked-button", "", "class", "cash-item d-flex justify-content-center align-items-center mr-2 mb-2 px-2", 3, "disabled", "click", 4, "ngFor", "ngForOf"], ["mat-stroked-button", "", 1, "cash-item", "d-flex", "justify-content-center", "align-items-center", "mr-2", "mb-2", "px-2", 3, "disabled", "click"], [1, "d-flex", "a-text-secondary", "mb-1"], [1, "a-text-primary"]],
  template: function CashPayComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 4)(7, "button", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CashPayComponent_Template_button_click_7_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](10, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "div", 6)(12, "span", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](14, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](15, "span", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](17, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](18, CashPayComponent_div_18_Template, 2, 1, "div", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "span", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](21, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](22, "div", 11)(23, "mat-form-field", 12)(24, "input", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("change", function CashPayComponent_Template_input_change_24_listener() {
        return ctx.cashConversion();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](25, "button", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CashPayComponent_Template_button_click_25_listener() {
        return ctx.getExactAmount();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](26, "span", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](27);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](28, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](29, "div", 16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](30, CashPayComponent_ng_container_30_Template, 7, 6, "ng-container", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](31, "div", 18)(32, "button", 19);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CashPayComponent_Template_button_click_32_listener() {
        return ctx.passValuesOnClose();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](33, CashPayComponent_ng_container_33_Template, 3, 3, "ng-container", 20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](34, CashPayComponent_ng_template_34_Template, 2, 3, "ng-template", null, 21, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    }
    if (rf & 2) {
      const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](35);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 16, "PAYMENT_PROCESSOR.PROCESS.CASH"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](14, 18, ctx.totalAmount));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](17, 20, "PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.totalAmount > 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](21, 22, "PAYMENT_PROCESSOR.PROCESS.TOTAL_CASH"), " (", ctx.currencySymbol, ")");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("readonly", ctx.totalAmount < 0)("maxlength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](28, 24, "PAYMENT_PROCESSOR.PROCESS.EXACT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.changeAmount > 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.isPayButtonDisable || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.isPayButtonDisable)("ngIfElse", _r3);
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.MaxLengthValidator, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".cash-pay-dialog .mat-form-field-wrapper{padding-bottom:0}  .cash-pay-dialog .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){  .cash-pay-dialog .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}  .cash-pay-dialog .m-change-container{height:36px}  .cash-pay-dialog .a-button-exact{height:50px}  .cash-pay-dialog .cash-item mat-icon{width:10px;font-size:.8rem!important;transform:translateY(6px)}  .cash-pay-dialog .cash-item mat-icon .mat-icon-gray{color:#fff}  .cash-pay-dialog .a-cash-field mat-icon{width:13px;font-size:1.15rem!important;transform:translateY(-1px)}  .cash-pay-dialog .a-cash-field mat-icon .mat-icon-gray{color:#fff}@media (max-width: 992px){  .cash-pay-dialog .a-cash-field .mat-form-field .mat-form-field-infix{width:unset}}.nb-theme-material-dark[_nghost-%COMP%]     .cash-pay-dialog .a-button-exact, .nb-theme-material-dark   [_nghost-%COMP%]     .cash-pay-dialog .a-button-exact{border-color:#ffffff4d}.nb-theme-material-dark.cash-pay-dialog[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-dark.cash-pay-dialog   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-dark   .cash-pay-dialog[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-dark   .cash-pay-dialog   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .cash-pay-dialog   .nb-theme-material-dark[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .cash-pay-dialog   .nb-theme-material-dark   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%]{border-color:#ffffff4d}.nb-theme-material-light[_nghost-%COMP%]     .cash-pay-dialog .a-button-exact, .nb-theme-material-light   [_nghost-%COMP%]     .cash-pay-dialog .a-button-exact{border-color:#0000001f}.nb-theme-material-light.cash-pay-dialog[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-light.cash-pay-dialog   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-light   .cash-pay-dialog[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-light   .cash-pay-dialog   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .cash-pay-dialog   .nb-theme-material-light[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .cash-pay-dialog   .nb-theme-material-light   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%]{border-color:#0000001f}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CashPayComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-cash-pay',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(CashPayComponent)],
      template: "<div class=\"o-dialog-container overflow-hidden\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col a-text-h3\">\n        {{'PAYMENT_PROCESSOR.PROCESS.CASH' | teiTextTranslate}}\n      </div>\n      <div class=\"col-auto\">\n        <button mat-icon-button class=\"a-icon-close\" (click)=\"close()\" [disabled]=\"manageLoadingService.isLoading\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-content d-flex flex-column align-items-start justify-content-start px-3 \">\n    <span class=\"d-flex a-text-primary\">{{totalAmount | teiCurrencyTranslate}}</span>\n    <span class=\"d-flex a-text-secondary\">{{'PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL' | teiTextTranslate}}</span>\n    <div class=\"d-flex align-items-center justify-content-start mt-4 flex-wrap\" *ngIf=\"totalAmount > 0\" >\n      <button *ngFor=\"let item of cashItems\" (click)=\"calculate(item)\" mat-stroked-button\n        [disabled]=\"manageLoadingService.isLoading\"\n        class=\"cash-item d-flex justify-content-center align-items-center mr-2 mb-2 px-2\">\n        <span>{{currencySymbol}}</span>\n        <span class=\"\">{{item?.Amount}}</span>\n      </button>\n    </div>\n    <span class=\"d-flex a-text-label mt-3\">{{'PAYMENT_PROCESSOR.PROCESS.TOTAL_CASH' | teiTextTranslate}}\n      ({{currencySymbol}})</span>\n    <div [formGroup]=\"form\" class=\"d-flex a-cash-field align-items-center w-100\">\n      <mat-form-field class=\"a-text-primary a-input no-label w-100\" appearance=\"outline\" floatLabel=\"never\">\n        <input matInput type=\"tel\" teiTwoDigitDecimal autocomplete=\"off\"  [readonly]=\"totalAmount < 0\" [maxlength]=\"10\" (change)=\"cashConversion()\"\n          formControlName='cash'>\n      </mat-form-field>\n      <button (click)=\"getExactAmount()\" mat-stroked-button [disabled]=\"manageLoadingService.isLoading\"\n        class=\"a-button-exact d-flex justify-content-center align-items-center ml-3 p-2\">\n        <span class=\"\">{{'PAYMENT_PROCESSOR.PROCESS.EXACT' | teiTextTranslate}}</span>\n      </button>\n    </div>\n    <div class=\"m-change-container mt-3\">\n      <ng-container *ngIf=\"changeAmount > 0\">\n        <span class=\"d-flex a-text-secondary mb-1\">{{'PAYMENT_PROCESSOR.PROCESS.CHANGE' | teiTextTranslate}}</span>\n        <span class=\"a-text-primary\">{{changeAmount | teiCurrencyTranslate}}</span>\n      </ng-container>\n    </div>\n  </div>\n  <div class=\"m-dialog-actions stepper-dialog-button m-dialog-actions-sm a-button-contained\">\n    <button (click)=\"passValuesOnClose()\" [disabled]=\"isPayButtonDisable||manageLoadingService.isLoading\" class=\"w-100\"\n      mat-button mat-flat-button color=\"accent\">\n      <ng-container *ngIf=\"isPayButtonDisable; else confirm\">\n        {{'PAYMENT_PROCESSOR.PROCESS.AMOUNT_REQUIRED' | teiTextTranslate}}\n      </ng-container>\n      <ng-template #confirm>\n        {{'PAYMENT_PROCESSOR.PROCESS.CONFIRM_PAYMENT' | teiTextTranslate}}\n      </ng-template>\n    </button>\n  </div>\n</div>\n",
      styles: ["::ng-deep .cash-pay-dialog .mat-form-field-wrapper{padding-bottom:0}::ng-deep .cash-pay-dialog .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){::ng-deep .cash-pay-dialog .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}::ng-deep .cash-pay-dialog .m-change-container{height:36px}::ng-deep .cash-pay-dialog .a-button-exact{height:50px}::ng-deep .cash-pay-dialog .cash-item mat-icon{width:10px;font-size:.8rem!important;transform:translateY(6px)}::ng-deep .cash-pay-dialog .cash-item mat-icon .mat-icon-gray{color:#fff}::ng-deep .cash-pay-dialog .a-cash-field mat-icon{width:13px;font-size:1.15rem!important;transform:translateY(-1px)}::ng-deep .cash-pay-dialog .a-cash-field mat-icon .mat-icon-gray{color:#fff}@media (max-width: 992px){::ng-deep .cash-pay-dialog .a-cash-field .mat-form-field .mat-form-field-infix{width:unset}}:host-context(.nb-theme-material-dark) ::ng-deep .cash-pay-dialog .a-button-exact{border-color:#ffffff4d}:host-context(.nb-theme-material-dark) :host-context(.cash-pay-dialog) .a-button-exact{border-color:#ffffff4d}:host-context(.nb-theme-material-light) ::ng-deep .cash-pay-dialog .a-button-exact{border-color:#0000001f}:host-context(.nb-theme-material-light) :host-context(.cash-pay-dialog) .a-button-exact{border-color:#0000001f}\n"]
    }]
  }], function () {
    return [{
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }];
  }, null);
})();
const MATERIAL_MODULES$l = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const COMPONENTS$j = [CashPayComponent];
const COMMON_MODULES$e = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$k = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
class CashPayModule {}
CashPayModule.ɵfac = function CashPayModule_Factory(t) {
  return new (t || CashPayModule)();
};
CashPayModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: CashPayModule
});
CashPayModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IProcessService',
    useClass: ProcessService
  }, {
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }],
  imports: [MATERIAL_MODULES$l, COMMON_MODULES$e, TEI_CORE_MODULES$k, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CashPayModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$j],
      imports: [...MATERIAL_MODULES$l, ...COMMON_MODULES$e, ...TEI_CORE_MODULES$k],
      exports: [...COMMON_MODULES$e, ...MATERIAL_MODULES$l, ...TEI_CORE_MODULES$k, ...COMPONENTS$j],
      providers: [{
        provide: 'IProcessService',
        useClass: ProcessService
      }, {
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }]
    }]
  }], null, null);
})();
class CheckCardComponent {
  constructor() {
    this.PaymentStatus = PaymentStatus;
  }
  ngOnInit() {
    switch (this.paymentStatus) {
      case this.PaymentStatus.Paid:
        this.status = 'Paid';
        break;
      case this.PaymentStatus.PartiallyPaid:
        this.status = 'Remaining';
        break;
      case this.PaymentStatus.Unpaid:
        this.status = 'Remaining';
        break;
      default:
        break;
    }
  }
  getTooltipInfo(contact) {
    let output = '';
    if (contact !== null && contact !== void 0 && contact.DisplayName && contact !== null && contact !== void 0 && contact.MemberID) {
      output = contact.DisplayName + ' - ' + contact.MemberID;
    } else {
      output = (contact === null || contact === void 0 ? void 0 : contact.DisplayName) || (contact === null || contact === void 0 ? void 0 : contact.MemberID);
    }
    return output;
  }
}
CheckCardComponent.ɵfac = function CheckCardComponent_Factory(t) {
  return new (t || CheckCardComponent)();
};
CheckCardComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: CheckCardComponent,
  selectors: [["tei-common-payment-processor-check-card"]],
  inputs: {
    checkDetail: "checkDetail",
    checkNumber: "checkNumber",
    paymentStatus: "paymentStatus"
  },
  decls: 10,
  vars: 5,
  consts: [[1, "d-flex", "flex-row", "justify-content-between", "w-100", "align-item-center"], [1, "d-flex", "w-80", "flex-row", "align-items-center"], [1, "w-100", "m-checks-detail", "text-left"], [1, "a-text-primary"], [1, "a-price-detail", "a-text-secondary"], [3, "ngSwitch"], [4, "ngSwitchCase"], [4, "ngSwitchDefault"]],
  template: function CheckCardComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "span", 1)(2, "div", 2)(3, "p", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "p", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](6, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, CheckCardComponent_ng_container_7_Template, 3, 3, "ng-container", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, CheckCardComponent_ng_container_8_Template, 3, 3, "ng-container", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("Check ", ctx.checkNumber, " - #", ctx.checkDetail == null ? null : ctx.checkDetail.Title, " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngSwitch", ctx.paymentStatus);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngSwitchCase", ctx.PaymentStatus.Paid);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.status, " ");
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgSwitch, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgSwitchCase, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgSwitchDefault, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".m-checks-contact-image[_ngcontent-%COMP%]{width:10%;text-align:center;display:flex;align-items:center;justify-content:flex-end}.m-checks-detail[_ngcontent-%COMP%]{width:90%}.m-checks-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.m-checks-detail[_ngcontent-%COMP%]:first-child{margin-bottom:2px}.a-paid-icon[_ngcontent-%COMP%]{font-size:36px;height:36px;margin-right:7px;width:36px}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckCardComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-check-card',
      template: "<div class=\"d-flex flex-row justify-content-between w-100 align-item-center\">\n  <span class=\"d-flex w-80 flex-row align-items-center\">\n    <div class=\"w-100  m-checks-detail text-left\">\n      <p class=\"a-text-primary\">Check {{checkNumber}} - #{{checkDetail?.Title}} </p>\n      <p class=\"a-price-detail a-text-secondary\">\n        <ng-container [ngSwitch]=\"paymentStatus\">\n          <ng-container *ngSwitchCase=\"PaymentStatus.Paid\">\n            {{checkDetail?.Summary?.PaymentSummary?.Total | teiCurrencyTranslate}}\n          </ng-container>\n          <ng-container *ngSwitchDefault>{{checkDetail?.Remaining | teiCurrencyTranslate}}</ng-container>\n        </ng-container>\n        {{status}}\n      </p>\n    </div>\n  </span>\n</div>\n",
      styles: [".m-checks-contact-image{width:10%;text-align:center;display:flex;align-items:center;justify-content:flex-end}.m-checks-detail{width:90%}.m-checks-detail p{margin:0}.m-checks-detail:first-child{margin-bottom:2px}.a-paid-icon{font-size:36px;height:36px;margin-right:7px;width:36px}\n"]
    }]
  }], null, {
    checkDetail: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    checkNumber: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    paymentStatus: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
const BASE_COMPONENT$6 = [CheckCardComponent];
const BASE_MODULE$6 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
const TEI_CONTACT_MODULES$2 = [_tei_office_contacts__WEBPACK_IMPORTED_MODULE_28__.ContactAvatarModule];
const MATERIAL_MODULES$k = [_angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule];
const TEI_CORE_MODULES$j = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule];
class CheckCardModule {}
CheckCardModule.ɵfac = function CheckCardModule_Factory(t) {
  return new (t || CheckCardModule)();
};
CheckCardModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: CheckCardModule
});
CheckCardModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [BASE_MODULE$6, TEI_CONTACT_MODULES$2, MATERIAL_MODULES$k, TEI_CORE_MODULES$j, _tei_office_contacts__WEBPACK_IMPORTED_MODULE_28__.ContactAvatarModule, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckCardModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...BASE_COMPONENT$6],
      imports: [...BASE_MODULE$6, ...TEI_CONTACT_MODULES$2, ...MATERIAL_MODULES$k, ...TEI_CORE_MODULES$j],
      exports: [...BASE_COMPONENT$6, ...TEI_CONTACT_MODULES$2, ...BASE_MODULE$6, ...MATERIAL_MODULES$k]
    }]
  }], null, null);
})();
class CheckFeesComponent {
  absAmount(amount) {
    return Math.abs(amount);
  }
}
CheckFeesComponent.ɵfac = function CheckFeesComponent_Factory(t) {
  return new (t || CheckFeesComponent)();
};
CheckFeesComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: CheckFeesComponent,
  selectors: [["tei-check-fees"]],
  inputs: {
    checkMenuItem: "checkMenuItem",
    remainingTotal: "remainingTotal",
    gratuity: "gratuity"
  },
  decls: 33,
  vars: 25,
  consts: [[1, "m-check-fees", "d-flex", "flex-row", "align-items-center", "justify-content-between", "pr-2"], [1, "m-check-fees-titles", "d-flex", "flex-column", "justify-content-center"], [4, "ngIf"], [1, "d-flex", "flex-column", "align-items-end", "justify-content-center"], [1, "m-check-fees", "pr-2"], [1, "row"], [1, "col"], [1, "m-check-fees-titles"], [1, "col-auto"], [4, "ngFor", "ngForOf"], [1, "text-right"], ["class", "text-right font-weight-light", 4, "ngIf"], [1, "text-right", "font-weight-light"]],
  template: function CheckFeesComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, CheckFeesComponent_span_5_Template, 3, 3, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, CheckFeesComponent_span_6_Template, 3, 3, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](9, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "strong");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](12, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](14, CheckFeesComponent_span_14_Template, 3, 3, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](15, CheckFeesComponent_span_15_Template, 3, 3, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](16, CheckFeesComponent_span_16_Template, 3, 3, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](17, CheckFeesComponent_span_17_Template, 3, 3, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](18, CheckFeesComponent_span_18_Template, 3, 3, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](19, CheckFeesComponent_span_19_Template, 3, 3, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](20, CheckFeesComponent_span_20_Template, 3, 3, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](21, CheckFeesComponent_strong_21_Template, 3, 3, "strong", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](22, CheckFeesComponent_strong_22_Template, 3, 3, "strong", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](23, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](24, CheckFeesComponent_ng_container_24_Template, 2, 1, "ng-container", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](25, "div", 5)(26, "div", 6)(27, "div", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](28, CheckFeesComponent_strong_28_Template, 3, 3, "strong", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](29, CheckFeesComponent_strong_29_Template, 3, 3, "strong", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](30, "div", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](31, CheckFeesComponent_strong_31_Template, 3, 3, "strong", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](32, CheckFeesComponent_strong_32_Template, 3, 3, "strong", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 19, "PAYMENT_PROCESSOR.PROCESS.SUBTOTAL"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Saved) && (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Saved) !== 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.checkMenuItem == null ? null : ctx.checkMenuItem.ExtraCosts == null ? null : ctx.checkMenuItem.ExtraCosts.Enable);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](9, 21, "PAYMENT_PROCESSOR.PROCESS.TAX"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](12, 23, "PAYMENT_PROCESSOR.PROCESS.TOTAL"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.SubTotal) >= 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.SubTotal) < 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Saved) && (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Saved) !== 0 && (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Saved) > 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Saved) && (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Saved) !== 0 && (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Saved) < 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.checkMenuItem == null ? null : ctx.checkMenuItem.ExtraCosts == null ? null : ctx.checkMenuItem.ExtraCosts.Enable);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Tax) >= 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Tax) < 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Total) >= 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.Total) < 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.PaymentsTendered) && (ctx.checkMenuItem == null ? null : ctx.checkMenuItem.PaymentsTendered.length));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.remainingTotal > 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.remainingTotal < 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.remainingTotal > 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.remainingTotal < 0);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".m-check-fees[_ngcontent-%COMP%]{padding:10px 0;line-height:20px}.m-check-fees[_ngcontent-%COMP%]   .m-check-fees-titles[_ngcontent-%COMP%]{padding-left:0}.nb-theme-material-dark[_nghost-%COMP%]   .m-check-fees[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .m-check-fees[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.12)}@media (max-width: 992px){.nb-theme-material-dark[_nghost-%COMP%]   .m-check-fees[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .m-check-fees[_ngcontent-%COMP%]{border-bottom:none}}.nb-theme-material-light[_nghost-%COMP%]   .m-check-fees[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .m-check-fees[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12)}@media (max-width: 992px){.nb-theme-material-light[_nghost-%COMP%]   .m-check-fees[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .m-check-fees[_ngcontent-%COMP%]{border-bottom:none}}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckFeesComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-check-fees',
      template: "<div class=\"m-check-fees d-flex flex-row align-items-center justify-content-between pr-2\">\n  <div class=\"m-check-fees-titles d-flex flex-column justify-content-center\">\n    <span>{{'PAYMENT_PROCESSOR.PROCESS.SUBTOTAL' | teiTextTranslate}}</span>\n    <span *ngIf=\"checkMenuItem?.Saved && checkMenuItem?.Saved !== 0\">{{'PAYMENT_PROCESSOR.PROCESS.SAVED' |\n      teiTextTranslate}}</span>\n\n    <span *ngIf=\"checkMenuItem?.ExtraCosts?.Enable\">\n      {{checkMenuItem?.ExtraCosts?.Title ? checkMenuItem?.ExtraCosts?.Title : 'PAYMENT_PROCESSOR.PROCESS.AUTO_GRATUITY'\n      |\n      teiTextTranslate}}</span>\n    <span>{{'PAYMENT_PROCESSOR.PROCESS.TAX' | teiTextTranslate}}</span>\n    <strong>{{'PAYMENT_PROCESSOR.PROCESS.TOTAL' | teiTextTranslate}}</strong>\n  </div>\n\n  <div class=\"d-flex flex-column align-items-end justify-content-center\">\n    <span *ngIf=\"checkMenuItem?.SubTotal >= 0\">{{checkMenuItem?.SubTotal | teiCurrencyTranslate}}</span>\n    <span *ngIf=\"checkMenuItem?.SubTotal < 0\">({{absAmount(checkMenuItem?.SubTotal) | teiCurrencyTranslate}})</span>\n    <span *ngIf=\"checkMenuItem?.Saved && checkMenuItem?.Saved !== 0 && checkMenuItem?.Saved > 0\">{{checkMenuItem?.Saved\n      |\n      teiCurrencyTranslate}}</span>\n    <span\n      *ngIf=\"checkMenuItem?.Saved && checkMenuItem?.Saved !== 0 && checkMenuItem?.Saved < 0\">({{absAmount(checkMenuItem?.Saved)\n      |\n      teiCurrencyTranslate}})</span>\n\n    <span *ngIf=\"checkMenuItem?.ExtraCosts?.Enable\">{{ checkMenuItem?.ExtraCosts?.Total | teiCurrencyTranslate}}</span>\n    <span *ngIf=\"checkMenuItem?.Tax >= 0\">{{checkMenuItem?.Tax | teiCurrencyTranslate}}</span>\n    <span *ngIf=\"checkMenuItem?.Tax < 0\">({{absAmount(checkMenuItem?.Tax) | teiCurrencyTranslate}})</span>\n    <strong *ngIf=\"checkMenuItem?.Total >= 0\">{{checkMenuItem?.Total | teiCurrencyTranslate}}</strong>\n    <strong *ngIf=\"checkMenuItem?.Total < 0\">({{absAmount(checkMenuItem?.Total) | teiCurrencyTranslate}})</strong>\n  </div>\n</div>\n\n<div class=\"m-check-fees pr-2\">\n  <ng-container *ngIf=\"checkMenuItem?.PaymentsTendered && checkMenuItem?.PaymentsTendered.length\">\n    <ng-container *ngFor=\"let paymentsTenderedItem of checkMenuItem?.PaymentsTendered\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <div class=\"m-check-fees-titles\">\n            <div> {{paymentsTenderedItem.TenderTypeDescription}} </div>\n            <div *ngIf=\"paymentsTenderedItem.Gratuity\"> </div>\n          </div>\n        </div>\n        <div class=\"col-auto\">\n          <ng-container *ngIf=\"checkMenuItem?.PaymentsTendered && checkMenuItem?.PaymentsTendered.length\">\n            <div class=\"text-right\">{{paymentsTenderedItem.Amount | teiCurrencyTranslate}}</div>\n            <div class=\"text-right font-weight-light\" *ngIf=\"paymentsTenderedItem.Gratuity\">\n              {{paymentsTenderedItem.GratuityDescription}}\n              -{{paymentsTenderedItem.Gratuity | teiCurrencyTranslate}}</div>\n          </ng-container>\n        </div>\n      </div>\n    </ng-container>\n  </ng-container>\n  <div class=\"row\">\n    <div class=\"col\">\n      <div class=\"m-check-fees-titles\">\n        <strong *ngIf=\"remainingTotal > 0\">{{'PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL' | teiTextTranslate}}</strong>\n        <strong *ngIf=\"remainingTotal < 0\">{{'PAYMENT_PROCESSOR.PROCESS.RETURN_TOTAL' | teiTextTranslate}}</strong>\n      </div>\n    </div>\n    <div class=\"col-auto\">\n      <strong *ngIf=\"remainingTotal > 0\">{{remainingTotal | teiCurrencyTranslate}}</strong>\n      <strong *ngIf=\"remainingTotal < 0\">({{absAmount(remainingTotal) | teiCurrencyTranslate}})</strong>\n    </div>\n  </div>\n</div>",
      styles: [".m-check-fees{padding:10px 0;line-height:20px}.m-check-fees .m-check-fees-titles{padding-left:0}:host-context(.nb-theme-material-dark) .m-check-fees{border-top:1px solid rgba(255,255,255,.12)}@media (max-width: 992px){:host-context(.nb-theme-material-dark) .m-check-fees{border-bottom:none}}:host-context(.nb-theme-material-light) .m-check-fees{border-top:1px solid rgba(0,0,0,.12)}@media (max-width: 992px){:host-context(.nb-theme-material-light) .m-check-fees{border-bottom:none}}\n"]
    }]
  }], null, {
    checkMenuItem: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    remainingTotal: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    gratuity: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class CheckMenuItemComponent {
  constructor() {
    this.isReturn = false;
    this.menuItem = new SummaryDetailItem();
  }
  get subItemType() {
    return SubItemType;
  }
}
CheckMenuItemComponent.ɵfac = function CheckMenuItemComponent_Factory(t) {
  return new (t || CheckMenuItemComponent)();
};
CheckMenuItemComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: CheckMenuItemComponent,
  selectors: [["tei-check-menu-item"]],
  inputs: {
    isReturn: "isReturn",
    menuItem: "menuItem"
  },
  decls: 8,
  vars: 4,
  consts: [[1, "d-flex", "flex-row", "my-1"], [1, "flex-fill"], [1, "d-flex", "flex-row", "justify-content-between", "align-items-center"], [4, "ngIf"], ["class", "pl-3", 4, "ngFor", "ngForOf"], [1, "pl-3"], ["class", "d-flex flex-row justify-content-between", 4, "ngIf"], ["class", "pl-3 d-flex flex-row justify-content-between", 4, "ngIf"], [1, "d-flex", "flex-row", "justify-content-between"], [1, "pl-3", "d-flex", "flex-row", "justify-content-between"]],
  template: function CheckMenuItemComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, CheckMenuItemComponent_span_4_Template, 2, 1, "span", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, CheckMenuItemComponent_span_6_Template, 4, 5, "span", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, CheckMenuItemComponent_div_7_Template, 4, 3, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.menuItem.Quantity);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.menuItem.Description, "");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.menuItem.Quantity && ctx.menuItem.Quantity !== 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.menuItem == null ? null : ctx.menuItem.SubItems);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".a-seat-number[_ngcontent-%COMP%]{margin-right:10px}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckMenuItemComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-check-menu-item',
      template: "<div class=\"d-flex flex-row my-1\">\n  <div class=\"flex-fill\">\n    <div class=\"d-flex flex-row justify-content-between align-items-center\">\n      <span><span *ngIf=\"menuItem.Quantity\">{{menuItem.Quantity}}</span> {{menuItem.Description}}</span>\n      <span *ngIf=\"menuItem.Quantity && menuItem.Quantity !== 0\"> {{ menuItem.Quantity > 0 ? (menuItem.UnitPrice | teiCurrencyTranslate) : '(' +\n        (menuItem.UnitPrice | teiCurrencyTranslate) + ')' }} </span>\n    </div>\n    <div class=\"pl-3\" *ngFor=\"let subItem of menuItem?.SubItems\">\n      <div *ngIf=\"subItem?.Type === subItemType.Modifier\" class=\"d-flex flex-row justify-content-between\">\n        <span>{{subItem.Title}}</span>\n        <span>{{subItem.Price | teiCurrencyTranslate}}</span>\n      </div>\n      <div *ngIf=\"subItem?.Type === subItemType.Option\" class=\"pl-3 d-flex flex-row justify-content-between\">\n        <span>{{subItem.Title}}</span>\n        <span>{{subItem.Price | teiCurrencyTranslate}}</span>\n      </div>\n      <div *ngIf=\"subItem?.Type === subItemType.Alternative\" class=\"pl-3 d-flex flex-row justify-content-between\">\n        <span>{{subItem.Title}}</span>\n        <span>{{subItem.Price | teiCurrencyTranslate}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n",
      styles: [".a-seat-number{margin-right:10px}\n"]
    }]
  }], null, {
    isReturn: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    menuItem: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class CheckDetailComponent {
  constructor() {
    this.item = new ItemSummary();
  }
}
CheckDetailComponent.ɵfac = function CheckDetailComponent_Factory(t) {
  return new (t || CheckDetailComponent)();
};
CheckDetailComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: CheckDetailComponent,
  selectors: [["tei-common-payment-processor-check-detail"]],
  inputs: {
    paymentDetail: "paymentDetail",
    item: "item",
    remainingAmount: "remainingAmount"
  },
  decls: 4,
  vars: 3,
  consts: [[1, "d-flex", "flex-column", "m-check-details"], ["class", "m-check-menu-items-container pr-2", 4, "ngIf"], [3, "remainingTotal", "checkMenuItem"], [1, "m-check-menu-items-container", "pr-2"], [4, "ngFor", "ngForOf"], [1, "w-100", 3, "menuItem", "isReturn"]],
  template: function CheckDetailComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div")(1, "div", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, CheckDetailComponent_div_2_Template, 2, 1, "div", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](3, "tei-check-fees", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.item == null ? null : ctx.item.Items);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("remainingTotal", ctx.remainingAmount)("checkMenuItem", ctx.item == null ? null : ctx.item.PaymentSummary);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, CheckFeesComponent, CheckMenuItemComponent],
  styles: [".nb-theme-material-dark[_nghost-%COMP%]     .a-button-checknote:hover, .nb-theme-material-dark   [_nghost-%COMP%]     .a-button-checknote:hover{background-color:#ffffff14}.nb-theme-material-dark[_nghost-%COMP%]   .o-contact-container[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .o-contact-container[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.12)}.nb-theme-material-light[_nghost-%COMP%]     .a-button-checknote:hover, .nb-theme-material-light   [_nghost-%COMP%]     .a-button-checknote:hover{background-color:#00000014}.nb-theme-material-light[_nghost-%COMP%]   .o-contact-container[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .o-contact-container[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}.m-check-details[_ngcontent-%COMP%]   .m-check-menu-items-container[_ngcontent-%COMP%]{padding-bottom:10px}.m-check-details[_ngcontent-%COMP%]   .a-seat-number[_ngcontent-%COMP%]{margin-right:10px}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckDetailComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-check-detail',
      template: "<div>\n  <div class=\"d-flex flex-column m-check-details\">\n    <div *ngIf=\"item?.Items\" class=\"m-check-menu-items-container pr-2\">\n      <div *ngFor=\"let menuItem of item?.Items\">\n        <tei-check-menu-item [menuItem]=\"menuItem\" class=\"w-100\" [isReturn]=\"paymentDetail.Items[0].Remaining < 0\">\n        </tei-check-menu-item>\n      </div>\n    </div>\n\n    <tei-check-fees [remainingTotal]=\"remainingAmount\" [checkMenuItem]=\"item?.PaymentSummary\"></tei-check-fees>\n  </div>\n</div>\n",
      styles: [":host-context(.nb-theme-material-dark) ::ng-deep .a-button-checknote:hover{background-color:#ffffff14}:host-context(.nb-theme-material-dark) .o-contact-container{border-bottom:1px solid rgba(255,255,255,.12)}:host-context(.nb-theme-material-light) ::ng-deep .a-button-checknote:hover{background-color:#00000014}:host-context(.nb-theme-material-light) .o-contact-container{border-bottom:1px solid rgba(0,0,0,.12)}.m-check-details .m-check-menu-items-container{padding-bottom:10px}.m-check-details .a-seat-number{margin-right:10px}\n"]
    }]
  }], null, {
    paymentDetail: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    item: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    remainingAmount: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
const COMMEN_MODULES = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
const COMPONENTS$i = [CheckFeesComponent];
const TEI_CORE_MODULES$i = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule];
class CheckFeesModule {}
CheckFeesModule.ɵfac = function CheckFeesModule_Factory(t) {
  return new (t || CheckFeesModule)();
};
CheckFeesModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: CheckFeesModule
});
CheckFeesModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [COMMEN_MODULES, TEI_CORE_MODULES$i, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckFeesModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$i],
      imports: [...COMMEN_MODULES, ...TEI_CORE_MODULES$i],
      exports: [...COMMEN_MODULES, ...TEI_CORE_MODULES$i, ...COMPONENTS$i]
    }]
  }], null, null);
})();
const MATERIAL_MODULES$j = [_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.MatRippleModule];
const COMMON_MODULES$d = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
const TEI_CORE_MODULES$h = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule];
const COMPONENTS$h = [CheckMenuItemComponent];
class CheckMenuItemModule {}
CheckMenuItemModule.ɵfac = function CheckMenuItemModule_Factory(t) {
  return new (t || CheckMenuItemModule)();
};
CheckMenuItemModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: CheckMenuItemModule
});
CheckMenuItemModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [MATERIAL_MODULES$j, TEI_CORE_MODULES$h, COMMON_MODULES$d, _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.MatRippleModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckMenuItemModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$h],
      imports: [...MATERIAL_MODULES$j, ...TEI_CORE_MODULES$h, ...COMMON_MODULES$d],
      exports: [...MATERIAL_MODULES$j, ...TEI_CORE_MODULES$h, ...COMMON_MODULES$d, ...COMPONENTS$h]
    }]
  }], null, null);
})();
const BASE_COMPONENT$5 = [CheckDetailComponent];
const BASE_MODULE$5 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
const TEI_CONTACT_MODULES$1 = [_tei_office_contacts__WEBPACK_IMPORTED_MODULE_28__.ContactAvatarModule];
const MATERIAL_MODULES$i = [_angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule];
const TEI_CORE_MODULES$g = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule];
const PAYMENT_PROCESSOR_MODULES$3 = [CheckFeesModule, CheckMenuItemModule];
class CheckDetailModule {}
CheckDetailModule.ɵfac = function CheckDetailModule_Factory(t) {
  return new (t || CheckDetailModule)();
};
CheckDetailModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: CheckDetailModule
});
CheckDetailModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [BASE_MODULE$5, TEI_CONTACT_MODULES$1, MATERIAL_MODULES$i, TEI_CORE_MODULES$g, PAYMENT_PROCESSOR_MODULES$3, _tei_office_contacts__WEBPACK_IMPORTED_MODULE_28__.ContactAvatarModule, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, CheckFeesModule, CheckMenuItemModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckDetailModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...BASE_COMPONENT$5],
      imports: [...BASE_MODULE$5, ...TEI_CONTACT_MODULES$1, ...MATERIAL_MODULES$i, ...TEI_CORE_MODULES$g, ...PAYMENT_PROCESSOR_MODULES$3],
      exports: [...BASE_COMPONENT$5, ...TEI_CONTACT_MODULES$1, ...BASE_MODULE$5, ...MATERIAL_MODULES$i, ...PAYMENT_PROCESSOR_MODULES$3]
    }]
  }], null, null);
})();
class CheckDialogComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  constructor(errorStateMatcher, formBuilder, data, manageLoadingService, DialogRef, currencyService, paymentProcessGenericService) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.formBuilder = formBuilder;
    this.data = data;
    this.manageLoadingService = manageLoadingService;
    this.DialogRef = DialogRef;
    this.currencyService = currencyService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
  }
  ngOnInit() {
    var _this$data;
    this.currencySymbol = this.currencyService.getCurrencySymbol();
    this.form = this.formBuilder.group({
      paymentAmount: (_this$data = this.data) === null || _this$data === void 0 ? void 0 : _this$data.total
    });
    this.valueConversion();
  }
  get paymentAmountControl() {
    return this.form.controls.paymentAmount;
  }
  valueConversion() {
    const paymentAmount = Number(this.paymentAmountControl.value);
    this.paymentAmountControl.patchValue(paymentAmount.toFixed(2));
    this.paymentAmountControl.setErrors(null);
  }
  onApplyPayment() {
    var _this$data2, _this$data3, _this$paymentAmountCo;
    const request = new PaymentRequest();
    request.OrderID = (_this$data2 = this.data) === null || _this$data2 === void 0 ? void 0 : _this$data2.orderSeqID;
    request.PaymentItemID = (_this$data3 = this.data) === null || _this$data3 === void 0 ? void 0 : _this$data3.checkUID;
    request.PaymentMethodID = TenderTypeID.Check;
    request.Amount = (_this$paymentAmountCo = this.paymentAmountControl) === null || _this$paymentAmountCo === void 0 ? void 0 : _this$paymentAmountCo.value;
    this.subscription.add(this.paymentProcessGenericService.ProcessPayment(request, this.DialogRef).subscribe());
  }
  close() {
    this.DialogRef.close();
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
CheckDialogComponent.ɵfac = function CheckDialogComponent_Factory(t) {
  return new (t || CheckDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'));
};
CheckDialogComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: CheckDialogComponent,
  selectors: [["tei-common-payment-processor-check-dialog"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(CheckDialogComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 36,
  vars: 25,
  consts: [[1, "m-check-dialog", "h-100", 3, "formGroup"], [1, "o-dialog-container", "mx-auto"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col"], [1, "a-text-h3"], [1, "col-auto"], ["mat-icon-button", "", 1, "a-icon-close", 3, "disabled", "click"], [1, "m-dialog-content"], [1, "d-flex", "flex-column"], [1, "pb-3"], [1, "a-text-primary"], [1, "a-text-secondary"], [1, "a-text-label"], ["appearance", "outline", "floatLabel", "never", 1, "a-text-primary", "no-label"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "formControlName", "paymentAmount", 1, "a-input", "a-input-nolabel", 3, "tabIndex", "maxLength", "readonly", "blur"], [1, "m-dialog-actions", "m-dialog-actions-sm", "a-button-contained", "check-dialog-actions", "stepper-dialog-button"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", 3, "disabled", "click"], [1, "a-buttontext-right"]],
  template: function CheckDialogComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4)(5, "div", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div", 6)(9, "button", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CheckDialogComponent_Template_button_click_9_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](12, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "div", 8)(14, "div", 9)(15, "div", 10)(16, "div", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](18, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "div", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](21, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](22, "div", 9)(23, "mat-label", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](24);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](25, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](26, "mat-form-field", 14)(27, "input", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function CheckDialogComponent_Template_input_blur_27_listener() {
        return ctx.valueConversion();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](28, "div", 16)(29, "button", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CheckDialogComponent_Template_button_click_29_listener() {
        return ctx.onApplyPayment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](30, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](31);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](32, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](33, "span", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](34);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](35, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](7, 13, "PAYMENT_PROCESSOR.CHECK_DIALOG.CHECK"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](18, 15, (ctx.data == null ? null : ctx.data.total) || 0), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](21, 17, "PAYMENT_PROCESSOR.CHECK_DIALOG.REMAINING_TOTAL"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](25, 19, "PAYMENT_PROCESSOR.CHECK_DIALOG.PAYMENT_AMOUNT"), " (", ctx.currencySymbol, ") ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("tabIndex", 0)("maxLength", 10)("readonly", (ctx.data == null ? null : ctx.data.total) < 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.form.invalid || (ctx.paymentAmountControl == null ? null : ctx.paymentAmountControl.value) == 0 || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](32, 21, "PAYMENT_PROCESSOR.CHECK_DIALOG.APPLY_PAYMENT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](35, 23, ctx.paymentAmountControl == null ? null : ctx.paymentAmountControl.value));
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".check-dialog-actions[_ngcontent-%COMP%]   .payment-amount[_ngcontent-%COMP%]{position:absolute;right:20px}  .m-check-dialog .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){  .m-check-dialog .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}  .m-check-dialog mat-icon .mat-icon-gray{color:#959595}  .check-dialog .mat-dialog-container{overflow:hidden;padding-left:0;padding-right:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckDialogComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-check-dialog',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(CheckDialogComponent)],
      template: "<form class=\"m-check-dialog h-100\" [formGroup]=\"form\">\n  <div class=\"o-dialog-container mx-auto\">\n    <div class=\"m-dialog-header\">\n      <div class=\"row align-items-center\">\n        <div class=\"col\">\n          <div class=\"a-text-h3\">{{ 'PAYMENT_PROCESSOR.CHECK_DIALOG.CHECK' | teiTextTranslate}}</div>\n        </div>\n        <div class=\"col-auto\">\n          <button class=\"a-icon-close\" mat-icon-button (click)=\"close()\" [disabled]=\"manageLoadingService.isLoading\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </div>\n      </div>\n    </div>\n    <mat-divider></mat-divider>\n    <div class=\"m-dialog-content\">\n      <div class=\"d-flex flex-column\">\n        <div class=\"pb-3\">\n          <div class=\"a-text-primary\">\n            {{ (data?.total || 0) | teiCurrencyTranslate }}\n          </div>\n          <div class=\"a-text-secondary\">\n            {{ 'PAYMENT_PROCESSOR.CHECK_DIALOG.REMAINING_TOTAL' | teiTextTranslate }}\n          </div>\n        </div>\n        <div class=\"d-flex flex-column\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.CHECK_DIALOG.PAYMENT_AMOUNT' | teiTextTranslate}}\n            ({{currencySymbol}})\n          </mat-label>\n\n          <mat-form-field class=\"a-text-primary no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput type=\"tel\" autocomplete=\"off\" (blur)=\"valueConversion()\" teiTwoDigitDecimal [tabIndex]=\"0\"\n              [maxLength]=\"10\" class=\"a-input a-input-nolabel\"  [readonly]=\"data?.total < 0\" formControlName=\"paymentAmount\" />\n          </mat-form-field>\n        </div>\n      </div>\n    </div>\n    <div class=\"m-dialog-actions m-dialog-actions-sm a-button-contained check-dialog-actions stepper-dialog-button\">\n      <button mat-button type=\"submit\" mat-flat-button color=\"accent\" (click)=\"onApplyPayment()\"\n        [disabled]=\"form.invalid || paymentAmountControl?.value == 0 || manageLoadingService.isLoading\">\n        <span>\n          {{'PAYMENT_PROCESSOR.CHECK_DIALOG.APPLY_PAYMENT' | teiTextTranslate}}\n        </span>\n        <span class=\"a-buttontext-right\">{{ paymentAmountControl?.value | teiCurrencyTranslate }}</span>\n      </button>\n    </div>\n  </div>\n</form>\n",
      styles: [".check-dialog-actions .payment-amount{position:absolute;right:20px}::ng-deep .m-check-dialog .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){::ng-deep .m-check-dialog .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}::ng-deep .m-check-dialog mat-icon .mat-icon-gray{color:#959595}::ng-deep .check-dialog .mat-dialog-container{overflow:hidden;padding-left:0;padding-right:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }];
  }, null);
})();
const MATERIAL_MODULES$h = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule];
const COMPONENTS$g = [CheckDialogComponent];
const TEI_MATERIAL_MODULES$c = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarModule];
const COMMON_MODULES$c = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$f = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
class CheckDialogModule {}
CheckDialogModule.ɵfac = function CheckDialogModule_Factory(t) {
  return new (t || CheckDialogModule)();
};
CheckDialogModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: CheckDialogModule
});
CheckDialogModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [MATERIAL_MODULES$h, COMMON_MODULES$c, TEI_CORE_MODULES$f, TEI_MATERIAL_MODULES$c, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$g],
      imports: [...MATERIAL_MODULES$h, ...COMMON_MODULES$c, ...TEI_CORE_MODULES$f, ...TEI_MATERIAL_MODULES$c],
      exports: [...COMMON_MODULES$c, ...MATERIAL_MODULES$h, ...TEI_CORE_MODULES$f, ...COMPONENTS$g, ...TEI_MATERIAL_MODULES$c]
    }]
  }], null, null);
})();
var CreditDebitEnum;
(function (CreditDebitEnum) {
  CreditDebitEnum[CreditDebitEnum["Integrated"] = 0] = "Integrated";
  CreditDebitEnum[CreditDebitEnum["ManualEntry"] = 1] = "ManualEntry";
  CreditDebitEnum[CreditDebitEnum["PaymentDevice"] = 2] = "PaymentDevice";
})(CreditDebitEnum || (CreditDebitEnum = {}));
var CardTypeEnum;
(function (CardTypeEnum) {
  CardTypeEnum[CardTypeEnum["MasterCard"] = 0] = "MasterCard";
  CardTypeEnum[CardTypeEnum["AMEX"] = 1] = "AMEX";
  CardTypeEnum[CardTypeEnum["Discover"] = 2] = "Discover";
  CardTypeEnum[CardTypeEnum["DinersClub"] = 3] = "DinersClub";
  CardTypeEnum[CardTypeEnum["Visa"] = 4] = "Visa";
  CardTypeEnum[CardTypeEnum["JCB"] = 5] = "JCB";
  CardTypeEnum[CardTypeEnum["UnionPay"] = 6] = "UnionPay";
  CardTypeEnum[CardTypeEnum["Other"] = 7] = "Other";
})(CardTypeEnum || (CardTypeEnum = {}));
var CreditCardPaymentStatus;
(function (CreditCardPaymentStatus) {
  CreditCardPaymentStatus[CreditCardPaymentStatus["Approved"] = 0] = "Approved";
  CreditCardPaymentStatus[CreditCardPaymentStatus["Canceled"] = 1] = "Canceled";
  CreditCardPaymentStatus[CreditCardPaymentStatus["Failed"] = 2] = "Failed";
  CreditCardPaymentStatus[CreditCardPaymentStatus["Finalizing"] = 3] = "Finalizing";
  CreditCardPaymentStatus[CreditCardPaymentStatus["Succeeded"] = 4] = "Succeeded";
  CreditCardPaymentStatus[CreditCardPaymentStatus["Voided"] = 5] = "Voided";
})(CreditCardPaymentStatus || (CreditCardPaymentStatus = {}));
class PaymentCancelRequest {}
class PaymentCancelResponse {}
class PaymentDeviceComponent {}
PaymentDeviceComponent.ɵfac = function PaymentDeviceComponent_Factory(t) {
  return new (t || PaymentDeviceComponent)();
};
PaymentDeviceComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: PaymentDeviceComponent,
  selectors: [["tei-common-payment-processor-payment-device"]],
  inputs: {
    stepper: "stepper",
    amount: "amount",
    amountTitle: "amountTitle",
    progressTitle: "progressTitle",
    paymentDeviceID: "paymentDeviceID"
  },
  decls: 16,
  vars: 11,
  consts: [[1, "m-payment-device-content", "o-dialog-container"], [1, "d-flex", "flex-column", "payment-device-content-inner-data"], [1, ""], [1, "a-text-primary"], [1, "a-text-secondary"], [1, "a-text-secondary", "d-flex", "flex-column", "justify-content-center", "align-self-center", "mt-2"], [1, "a-text-secondary", "text-center"], ["class", "a-text-primary text-center mt-1", 4, "ngIf"], [1, "credit-debit-loading-container"], [3, "show"], [1, "a-text-primary", "text-center", "mt-1"]],
  template: function PaymentDeviceComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](8, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div", 5)(10, "span", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](12, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](13, PaymentDeviceComponent_span_13_Template, 3, 3, "span", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "div", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](15, "tei-loading", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 5, ctx.amount), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.amountTitle ? ctx.amountTitle : _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](8, 7, "PAYMENT_PROCESSOR.PAYMENT_DEVICE.AMOUNT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](12, 9, ctx.progressTitle), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.paymentDeviceID);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("show", true);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingComponent, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".m-payment-device-content .credit-debit-loading-container .backdrop{position:relative;width:100%;height:100%}  .m-payment-device-content .a-button-back{min-height:32px}  .m-payment-device-content .payment-device-content-inner-data{min-height:250px}  .m-payment-device-content .a-device-prompts-content{padding:5rem 1rem;width:100%}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentDeviceComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-payment-device',
      template: "<div class=\"m-payment-device-content o-dialog-container\">\n  <div class=\"d-flex flex-column payment-device-content-inner-data\">\n    <div class=\"\">\n      <div class=\"a-text-primary\">\n        {{ amount | teiCurrencyTranslate }}\n      </div>\n      <div class=\"a-text-secondary\">\n        {{ amountTitle ? amountTitle : ('PAYMENT_PROCESSOR.PAYMENT_DEVICE.AMOUNT' | teiTextTranslate )}}\n      </div>\n    </div>\n    <div class=\"a-text-secondary d-flex flex-column justify-content-center align-self-center mt-2\">\n      <span class=\"a-text-secondary text-center \">\n        {{ progressTitle | teiTextTranslate }}\n      </span>\n     <span class=\"a-text-primary text-center mt-1\" *ngIf=\"paymentDeviceID\">\n        {{ paymentDeviceID | teiTextTranslate }}\n      </span>\n      <div class=\"credit-debit-loading-container\">\n        <tei-loading [show]=\"true\" ></tei-loading>\n      </div>\n    </div>\n  </div>\n</div>\n",
      styles: ["::ng-deep .m-payment-device-content .credit-debit-loading-container .backdrop{position:relative;width:100%;height:100%}::ng-deep .m-payment-device-content .a-button-back{min-height:32px}::ng-deep .m-payment-device-content .payment-device-content-inner-data{min-height:250px}::ng-deep .m-payment-device-content .a-device-prompts-content{padding:5rem 1rem;width:100%}\n"]
    }]
  }], null, {
    stepper: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    amount: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    amountTitle: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    progressTitle: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    paymentDeviceID: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class IntegratedComponent {
  get cardTypeEnum() {
    return CardTypeEnum;
  }
  constructor(currencyService, manageLoadingService) {
    this.currencyService = currencyService;
    this.manageLoadingService = manageLoadingService;
    this.newCardSelected = true;
    this.selectedCard = new MockCardModel(); // todo: add type after API becomes ready
  }
  ngOnInit() {
    this.currencySymbol = this.currencyService.getCurrencySymbol();
    this.valueConversion();
    this.mockData();
  }
  valueConversion() {
    const price = Number(this.totalApproved.value);
    this.totalApproved.patchValue(price.toFixed(2));
  }
  onTotalApprovedValue(value) {
    this.totalApproved.setValue(value);
  }
  onSelectCard(value) {
    if (value) {
      this.selectedCard.Id = value;
      this.newCardSelected = false;
    } else {
      this.selectedCard.Id = null;
      this.newCardSelected = true;
    }
  }
  setImageName(value) {
    switch (value) {
      case this.cardTypeEnum.MasterCard:
        return 'MasterCard.svg';
      case this.cardTypeEnum.JCB:
        return 'JCS.svg';
      case this.cardTypeEnum.Visa:
        return 'Visa.svg';
      case this.cardTypeEnum.AMEX:
        return 'Amex.svg';
      case this.cardTypeEnum.DinersClub:
        return 'Diners.svg';
      case this.cardTypeEnum.Discover:
        return 'Discover.svg';
      case this.cardTypeEnum.Discover:
        return 'UnionPay.svg';
      default:
        return 'DefaultCard.svg';
    }
  }
  mockData() {
    this.cards = [{
      Id: '0',
      cardType: this.cardTypeEnum.Visa,
      Code: '0707',
      ExpireDate: '05/22'
    }, {
      Id: '2',
      cardType: this.cardTypeEnum.MasterCard,
      Code: '0001',
      ExpireDate: '05/22'
    }];
  }
}
IntegratedComponent.ɵfac = function IntegratedComponent_Factory(t) {
  return new (t || IntegratedComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService));
};
IntegratedComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: IntegratedComponent,
  selectors: [["tei-common-payment-processor-integrated"]],
  inputs: {
    creditDebitData: "creditDebitData",
    totalApproved: "totalApproved",
    paymentMassager: "paymentMassager"
  },
  decls: 15,
  vars: 16,
  consts: [[1, "m-integrated"], [1, "a-text-primary", "align-self-center"], [1, "a-text-secondary"], ["class", "m-credit-cards mt-3", 4, "ngIf"], [1, "d-flex", "flex-column", "mt-1"], [1, "a-text-label", "mt-3"], ["id", "a-integrated-payment-total-approved", "appearance", "outline", "floatLabel", "never", 1, "a-text-primary", "a-input", "no-label", "a-total-approved"], ["matInput", "", "type", "tel", "teiTwoDigitDecimal", "", "autocomplete", "off", 1, "", 3, "readonly", "tabIndex", "maxLength", "formControl", "blur"], [4, "ngIf"], [1, "m-credit-cards", "mt-3"], [1, "a-text-label", "mb-1"], [1, "d-flex", "mx-n1"], ["mat-stroked-button", "", 1, "d-flex", "flx-column", "justify-content-center", "align-items-center", 3, "disabled", "click"], [1, "a-icon"], [1, "a-text"], [1, "a-text-primary", "d-flex", "justify-content-center"], ["mat-stroked-button", "", "class", "d-flex flx-column justify-content-center align-items-center", 3, "selected", "disabled", "click", 4, "ngFor", "ngForOf"], [1, "a-icon", "a-icon-creditcard"], ["alt", "", 3, "src"], [1, "a-text-secondary", "d-flex", "justify-content-center"]],
  template: function IntegratedComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 0)(1, "div", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, IntegratedComponent_div_7_Template, 14, 10, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div", 4)(9, "mat-label", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](11, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "mat-form-field", 6)(13, "input", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function IntegratedComponent_Template_input_blur_13_listener() {
        return ctx.valueConversion();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](14, IntegratedComponent_mat_error_14_Template, 3, 3, "mat-error", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 10, ctx.creditDebitData.total), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 12, "PAYMENT_PROCESSOR.INTEGRATED.REMAINING_TOTAL"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", false);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](11, 14, "PAYMENT_PROCESSOR.INTEGRATED.TOTAL_APPROVED"), " (", ctx.currencySymbol, ") ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("readonly", ctx.creditDebitData.total < 0)("tabIndex", 0)("maxLength", 10)("formControl", ctx.totalApproved);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.totalApproved.hasError("exceedsRemainingTotal"));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgForm, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlDirective, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyError, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".m-integrated[_ngcontent-%COMP%]   .a-total-approved[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:16px;font-size:1rem}.m-integrated[_ngcontent-%COMP%]   .a-total-approved[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .mat-icon-gray[_ngcontent-%COMP%]{color:#959595}.m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{width:90px;height:90px;margin:0 .25rem;line-height:16px}.m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]{border-color:#028eb5;border-width:2px}.m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]   .a-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;height:40px}.m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;margin:0 auto 12px}.m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50px;border-radius:5px}.m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.nb-theme-material-dark[_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]{background:rgba(2,142,181,.12);color:#fff}.nb-theme-material-dark[_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]   .a-text-secondary[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]   .a-text-secondary[_ngcontent-%COMP%], .nb-theme-material-dark[_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]   .a-text-primary[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]   .a-text-primary[_ngcontent-%COMP%]{color:#fff}.nb-theme-material-light[_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]{background:rgba(2,142,181,.12);color:#028eb5}.nb-theme-material-light[_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]   .a-text-secondary[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]   .a-text-secondary[_ngcontent-%COMP%], .nb-theme-material-light[_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]   .a-text-primary[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .m-integrated[_ngcontent-%COMP%]   .m-credit-cards[_ngcontent-%COMP%]   .mat-stroked-button.selected[_ngcontent-%COMP%]   .a-text-primary[_ngcontent-%COMP%]{color:#028eb5}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](IntegratedComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-integrated',
      template: "<form class=\"m-integrated\">\n  <div class=\"a-text-primary align-self-center\">\n    {{ creditDebitData.total | teiCurrencyTranslate }}\n  </div>\n  <div class=\"a-text-secondary\">\n    {{ 'PAYMENT_PROCESSOR.INTEGRATED.REMAINING_TOTAL' | teiTextTranslate }}\n  </div>\n  <div class=\"m-credit-cards mt-3\" *ngIf=\"false\">\n    <div class=\"a-text-label mb-1\">\n      {{ 'PAYMENT_PROCESSOR.INTEGRATED.CARDS' | teiTextTranslate }}\n    </div>\n    <div class=\"d-flex mx-n1\">\n      <button mat-stroked-button [class.selected]=\"newCardSelected\" [disabled]=\"manageLoadingService.isLoading\" (click)=\"onSelectCard()\"\n        class=\"d-flex flx-column justify-content-center align-items-center\">\n        <div class=\"a-icon\">\n          <mat-icon>add</mat-icon>\n        </div>\n        <div class=\"a-text\">\n          <span class=\"a-text-primary d-flex justify-content-center\">\n            {{ 'PAYMENT_PROCESSOR.INTEGRATED.NEW_CARD' | teiTextTranslate }}</span>\n        </div>\n      </button>\n      <button mat-stroked-button *ngFor=\"let item of cards\" [class.selected]=\"selectedCard?.Id == item?.Id\" [disabled]=\"manageLoadingService.isLoading\"\n        (click)=\"onSelectCard(item?.Id)\" class=\"d-flex flx-column justify-content-center align-items-center\">\n        <div class=\"a-icon a-icon-creditcard\">\n          <img [src]=\"'https://cdn.totaleintegrated.net/assets/images/payment/' + setImageName(item?.cardType)\"\n            alt=\"\" />\n        </div>\n        <div class=\"a-text\">\n          <span class=\"a-text-primary d-flex justify-content-center\">{{item?.Code}}</span>\n          <span class=\"a-text-secondary d-flex justify-content-center\">{{item?.ExpireDate}}</span>\n        </div>\n      </button>\n    </div>\n  </div>\n  <div class=\"d-flex flex-column mt-1\">\n    <mat-label class=\"a-text-label mt-3\">{{'PAYMENT_PROCESSOR.INTEGRATED.TOTAL_APPROVED' | teiTextTranslate}} ({{currencySymbol}})\n    </mat-label>\n    <mat-form-field id=\"a-integrated-payment-total-approved\" class=\"a-text-primary a-input no-label a-total-approved\" appearance=\"outline\" floatLabel=\"never\">\n      <input matInput type=\"tel\" (blur)=\"valueConversion()\" [readonly]=\"creditDebitData.total < 0\" teiTwoDigitDecimal [tabIndex]=\"0\" [maxLength]=\"10\" class=\"\"\n        [formControl]=\"totalApproved\" autocomplete=\"off\" />\n        <mat-error *ngIf=\"totalApproved.hasError('exceedsRemainingTotal')\"> {{\n          'PAYMENT_PROCESSOR.PROCESS.PAYMENT_AMOUNT_EXCEED_ERROR' | teiTextTranslate }} </mat-error>\n    </mat-form-field>\n  </div>\n</form>\n",
      styles: [".m-integrated .a-total-approved mat-icon{width:16px;font-size:1rem}.m-integrated .a-total-approved mat-icon .mat-icon-gray{color:#959595}.m-integrated .m-credit-cards .mat-stroked-button{width:90px;height:90px;margin:0 .25rem;line-height:16px}.m-integrated .m-credit-cards .mat-stroked-button.selected{border-color:#028eb5;border-width:2px}.m-integrated .m-credit-cards .mat-stroked-button .a-icon{display:flex;justify-content:center;height:40px}.m-integrated .m-credit-cards .mat-stroked-button mat-icon{display:flex;margin:0 auto 12px}.m-integrated .m-credit-cards .mat-stroked-button img{max-width:50px;border-radius:5px}.m-integrated .m-credit-cards ::ng-deep .mat-form-field-wrapper{padding-bottom:0}:host-context(.nb-theme-material-dark) .m-integrated .m-credit-cards .mat-stroked-button.selected{background:rgba(2,142,181,.12);color:#fff}:host-context(.nb-theme-material-dark) .m-integrated .m-credit-cards .mat-stroked-button.selected .a-text-secondary,:host-context(.nb-theme-material-dark) .m-integrated .m-credit-cards .mat-stroked-button.selected .a-text-primary{color:#fff}:host-context(.nb-theme-material-light) .m-integrated .m-credit-cards .mat-stroked-button.selected{background:rgba(2,142,181,.12);color:#028eb5}:host-context(.nb-theme-material-light) .m-integrated .m-credit-cards .mat-stroked-button.selected .a-text-secondary,:host-context(.nb-theme-material-light) .m-integrated .m-credit-cards .mat-stroked-button.selected .a-text-primary{color:#028eb5}\n"]
    }]
  }], function () {
    return [{
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }];
  }, {
    creditDebitData: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    totalApproved: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    paymentMassager: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class MockCardModel {}
class NonIntegratedComponent {
  constructor(currencyService) {
    this.currencyService = currencyService;
    this.typeList = [];
  }
  get formControls() {
    return this.form.controls;
  }
  onTotalApprovedBlur() {
    var _this$formControls3, _this$formControls3$t, _this$formControls4, _this$formControls4$s, _this$formControls5, _this$formControls5$s;
    const remainingTotal = this.returnValidValue((_this$formControls3 = this.formControls) === null || _this$formControls3 === void 0 ? void 0 : (_this$formControls3$t = _this$formControls3.totalApproved) === null || _this$formControls3$t === void 0 ? void 0 : _this$formControls3$t.value);
    let subtotalPaid = this.returnValidValue((_this$formControls4 = this.formControls) === null || _this$formControls4 === void 0 ? void 0 : (_this$formControls4$s = _this$formControls4.subtotalPaid) === null || _this$formControls4$s === void 0 ? void 0 : _this$formControls4$s.value);
    if (subtotalPaid > remainingTotal) {
      subtotalPaid = remainingTotal;
    }
    (_this$formControls5 = this.formControls) === null || _this$formControls5 === void 0 ? void 0 : (_this$formControls5$s = _this$formControls5.subtotalPaid) === null || _this$formControls5$s === void 0 ? void 0 : _this$formControls5$s.setValue(subtotalPaid.toFixed(2));
    this.onSubTotalPaidAndGratuityInput();
  }
  ngOnInit() {
    this.currencySymbol = this.currencyService.getCurrencySymbol();
    const PaymentMethodsList = this.creditDebitData.tenderType.PaymentMethods.find(item => item.PaymentMethodID === 2);
    this.typeList = PaymentMethodsList.Options;
  }
  valueConversion(field) {
    const control = this.form.get(field);
    control.patchValue(Number(control.value).toFixed(2));
  }
  onSubtotalPaidInput() {
    var _this$formControls6, _this$formControls6$s, _this$formControls7, _this$formControls7$g, _this$formControls8, _this$formControls8$t;
    const subtotalPaid = this.returnValidValue((_this$formControls6 = this.formControls) === null || _this$formControls6 === void 0 ? void 0 : (_this$formControls6$s = _this$formControls6.subtotalPaid) === null || _this$formControls6$s === void 0 ? void 0 : _this$formControls6$s.value);
    const gratuityValue = this.returnValidValue((_this$formControls7 = this.formControls) === null || _this$formControls7 === void 0 ? void 0 : (_this$formControls7$g = _this$formControls7.gratuityAmount) === null || _this$formControls7$g === void 0 ? void 0 : _this$formControls7$g.value);
    (_this$formControls8 = this.formControls) === null || _this$formControls8 === void 0 ? void 0 : (_this$formControls8$t = _this$formControls8.totalPaid) === null || _this$formControls8$t === void 0 ? void 0 : _this$formControls8$t.setValue((subtotalPaid + gratuityValue).toFixed(2));
    this.onSubTotalPaidAndGratuityInput();
  }
  onGratuityAmountInput() {
    var _this$formControls9, _this$formControls9$s, _this$formControls10, _this$formControls10$, _this$formControls11, _this$formControls11$, _this$formControls12, _this$formControls12$;
    const subtotalPaid = this.returnValidValue((_this$formControls9 = this.formControls) === null || _this$formControls9 === void 0 ? void 0 : (_this$formControls9$s = _this$formControls9.subtotalPaid) === null || _this$formControls9$s === void 0 ? void 0 : _this$formControls9$s.value);
    const gratuityAmount = this.returnValidValue((_this$formControls10 = this.formControls) === null || _this$formControls10 === void 0 ? void 0 : (_this$formControls10$ = _this$formControls10.gratuityAmount) === null || _this$formControls10$ === void 0 ? void 0 : _this$formControls10$.value);
    const percent = subtotalPaid ? (gratuityAmount / subtotalPaid * 100).toFixed(2) : '0.00';
    (_this$formControls11 = this.formControls) === null || _this$formControls11 === void 0 ? void 0 : (_this$formControls11$ = _this$formControls11.gratuityPercent) === null || _this$formControls11$ === void 0 ? void 0 : _this$formControls11$.setValue(percent);
    (_this$formControls12 = this.formControls) === null || _this$formControls12 === void 0 ? void 0 : (_this$formControls12$ = _this$formControls12.totalPaid) === null || _this$formControls12$ === void 0 ? void 0 : _this$formControls12$.setValue((subtotalPaid + gratuityAmount).toFixed(2));
  }
  onSubTotalPaidAndGratuityInput() {
    var _this$formControls13, _this$formControls13$, _this$formControls14, _this$formControls14$, _this$formControls15, _this$formControls15$, _this$formControls16, _this$formControls16$;
    const subtotalPaid = this.returnValidValue((_this$formControls13 = this.formControls) === null || _this$formControls13 === void 0 ? void 0 : (_this$formControls13$ = _this$formControls13.subtotalPaid) === null || _this$formControls13$ === void 0 ? void 0 : _this$formControls13$.value);
    const gratuityPercent = this.returnValidValue((_this$formControls14 = this.formControls) === null || _this$formControls14 === void 0 ? void 0 : (_this$formControls14$ = _this$formControls14.gratuityPercent) === null || _this$formControls14$ === void 0 ? void 0 : _this$formControls14$.value);
    const gratuityValue = Number((subtotalPaid * gratuityPercent / 100).toFixed(2));
    (_this$formControls15 = this.formControls) === null || _this$formControls15 === void 0 ? void 0 : (_this$formControls15$ = _this$formControls15.gratuityAmount) === null || _this$formControls15$ === void 0 ? void 0 : _this$formControls15$.setValue(gratuityValue.toFixed(2));
    (_this$formControls16 = this.formControls) === null || _this$formControls16 === void 0 ? void 0 : (_this$formControls16$ = _this$formControls16.totalPaid) === null || _this$formControls16$ === void 0 ? void 0 : _this$formControls16$.setValue((subtotalPaid + gratuityValue).toFixed(2));
  }
  returnValidValue(value) {
    if (!value) {
      value = '0.00';
    }
    return Number(value.toString().replace(/[%]/g, ''));
  }
}
NonIntegratedComponent.ɵfac = function NonIntegratedComponent_Factory(t) {
  return new (t || NonIntegratedComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService));
};
NonIntegratedComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: NonIntegratedComponent,
  selectors: [["tei-common-payment-processor-non-integrated"]],
  inputs: {
    creditDebitData: "creditDebitData",
    form: "form",
    configuration: "configuration"
  },
  decls: 26,
  vars: 23,
  consts: [[1, "m-integrated", 3, "formGroup"], [1, "pb-3", "d-flex", "flex-row"], [1, ""], [1, "a-text-primary", "align-self-center"], [1, "a-text-secondary"], [1, "d-flex", "flex-column"], [1, "a-text-label"], ["appearance", "outline", 1, "no-label", "a-dropdown"], ["formControlName", "type", "floatLabel", "never", 3, "placeholder"], [3, "value", 4, "ngFor", "ngForOf"], ["class", "d-flex flex-column", 4, "ngIf"], ["class", "row", 4, "ngIf"], ["id", "a-non-integrated-payment-total-paid", "appearance", "outline", "floatLabel", "never", 1, "a-text-primary", "a-input", "no-label", "a-total-approved"], ["matInput", "", "teiTwoDigitDecimal", "", "formControlName", "totalPaid", "autocomplete", "off", 1, "", 3, "readonly", "tabIndex", "maxLength", "blur"], [4, "ngIf"], [3, "value"], ["appearance", "outline", "floatLabel", "never", 1, "a-input", "no-label", "a-total-approved"], ["matInput", "", "teiTwoDigitDecimal", "", "formControlName", "subtotalPaid", "autocomplete", "off", 3, "tabIndex", "maxLength", "blur", "input"], [1, "row"], [1, "col-6", "d-flex", "flex-column", "custom-input"], ["appearance", "outline", "floatLabel", "never", 1, "no-label"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "formControlName", "gratuityAmount", 1, "a-input", "a-input-nolabel", 3, "maxLength", "blur", "input"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "formControlName", "gratuityPercent", 1, "a-input", "a-input-nolabel", 3, "blur", "input"]],
  template: function NonIntegratedComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](8, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div", 5)(10, "div", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](12, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "mat-form-field", 7)(14, "mat-select", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](15, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](16, NonIntegratedComponent_mat_option_16_Template, 2, 2, "mat-option", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](17, NonIntegratedComponent_div_17_Template, 6, 5, "div", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](18, NonIntegratedComponent_div_18_Template, 13, 8, "div", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "div", 5)(20, "mat-label", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](22, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](23, "mat-form-field", 12)(24, "input", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function NonIntegratedComponent_Template_input_blur_24_listener() {
        return ctx.valueConversion("totalPaid");
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](25, NonIntegratedComponent_mat_error_25_Template, 3, 3, "mat-error", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 13, ctx.creditDebitData == null ? null : ctx.creditDebitData.total), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](8, 15, "PAYMENT_PROCESSOR.INTEGRATED.REMAINING_TOTAL"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](12, 17, "PAYMENT_PROCESSOR.NON_INTEGRATED.TYPE"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](15, 19, "PAYMENT_PROCESSOR.NON_INTEGRATED.PLEASE_SELECT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.typeList);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.configuration.NonIntegratedCreditTenderTypeModel.AllowSubtotalPaid);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.configuration.NonIntegratedCreditTenderTypeModel.AllowGratuity);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](22, 21, "PAYMENT_PROCESSOR.NON_INTEGRATED.TOTAL_PAID"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("readonly", ctx.configuration.NonIntegratedCreditTenderTypeModel.AllowSubtotalPaid || ctx.formControls.totalPaid.value < 0)("tabIndex", 1)("maxLength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.totalPaid.hasError("exceedsRemainingTotal"));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyError, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelect, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_31__.MatLegacyOption, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NonIntegratedComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-non-integrated',
      template: "<form class=\" m-integrated\" [formGroup]=\"form\">\n  <div class=\"pb-3 d-flex flex-row \">\n    <div class=\"\">\n      <div class=\"a-text-primary align-self-center\">\n        {{ creditDebitData?.total | teiCurrencyTranslate }}\n      </div>\n      <div class=\"a-text-secondary\">\n        {{ 'PAYMENT_PROCESSOR.INTEGRATED.REMAINING_TOTAL' | teiTextTranslate }}\n      </div>\n    </div>\n  </div>\n  <div class=\"d-flex flex-column\">\n    <div class=\"a-text-label\">{{\"PAYMENT_PROCESSOR.NON_INTEGRATED.TYPE\" | teiTextTranslate}}</div>\n    <mat-form-field class=\"no-label a-dropdown\" appearance=\"outline\">\n      <mat-select formControlName=\"type\"\n        placeholder=\"{{'PAYMENT_PROCESSOR.NON_INTEGRATED.PLEASE_SELECT' | teiTextTranslate}}\" floatLabel=\"never\">\n        <mat-option *ngFor=\"let type of typeList\" [value]=\"type?.CreditCardID\">\n          {{type?.Description}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n  </div>\n  <div class=\"d-flex flex-column\" *ngIf=\"configuration.NonIntegratedCreditTenderTypeModel.AllowSubtotalPaid\">\n    <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.NON_INTEGRATED.SUBTOTAL_PAID' | teiTextTranslate}}\n    </mat-label>\n    <mat-form-field class=\"a-input no-label a-total-approved\" appearance=\"outline\" floatLabel=\"never\">\n      <input matInput (blur)=\"onTotalApprovedBlur()\" teiTwoDigitDecimal [tabIndex]=\"0\" [maxLength]=\"10\"\n        formControlName=\"subtotalPaid\" autocomplete=\"off\" (input)=\"onSubtotalPaidInput()\" />\n    </mat-form-field>\n  </div>\n  <!-- Gratuity -->\n  <div class=\"row\" *ngIf=\"configuration.NonIntegratedCreditTenderTypeModel.AllowGratuity\">\n    <!-- GratuityValue -->\n    <div class=\"col-6 d-flex flex-column custom-input\">\n      <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.NON_INTEGRATED.GRATUITY' | teiTextTranslate}}\n        ({{currencySymbol}})\n      </mat-label>\n      <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n        <input matInput type=\"tel\" autocomplete=\"off\" (blur)=\"valueConversion('gratuityAmount')\" teiTwoDigitDecimal\n          [maxLength]=\"10\" class=\"a-input a-input-nolabel\" formControlName=\"gratuityAmount\"\n          (input)=\"onGratuityAmountInput()\" />\n      </mat-form-field>\n    </div>\n    <!-- GratuityPercent -->\n    <div class=\"col-6 d-flex flex-column custom-input\">\n      <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.NON_INTEGRATED.GRATUITY' | teiTextTranslate}} (%)\n      </mat-label>\n      <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n        <input matInput type=\"tel\" autocomplete=\"off\" (blur)=\"valueConversion('gratuityPercent')\" teiTwoDigitDecimal\n          class=\"a-input a-input-nolabel\" formControlName=\"gratuityPercent\"\n          (input)=\"onSubTotalPaidAndGratuityInput()\" />\n      </mat-form-field>\n    </div>\n  </div>\n  <div class=\"d-flex flex-column\">\n    <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.NON_INTEGRATED.TOTAL_PAID' | teiTextTranslate}}\n    </mat-label>\n    <mat-form-field id=\"a-non-integrated-payment-total-paid\" class=\"a-text-primary a-input no-label a-total-approved\"\n      appearance=\"outline\" floatLabel=\"never\">\n      <input matInput\n        [readonly]=\"configuration.NonIntegratedCreditTenderTypeModel.AllowSubtotalPaid || formControls.totalPaid.value < 0\"\n        (blur)=\"valueConversion('totalPaid')\" teiTwoDigitDecimal [tabIndex]=\"1\" [maxLength]=\"10\" class=\"\"\n        formControlName=\"totalPaid\" autocomplete=\"off\" />\n      <mat-error *ngIf=\"formControls.totalPaid.hasError('exceedsRemainingTotal')\"> {{\n        'PAYMENT_PROCESSOR.PROCESS.PAYMENT_AMOUNT_EXCEED_ERROR' |\n        teiTextTranslate }}\n      </mat-error>\n    </mat-form-field>\n  </div>\n</form>\n"
    }]
  }], function () {
    return [{
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }];
  }, {
    creditDebitData: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    form: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    configuration: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class CreditDebitDialog {
  constructor() {
    this.printerList = [];
  }
}
class CreditDebitComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  constructor(errorStateMatcher, formBuilder, creditDebitData, paymentProcessGenericService, cancelPaymentService, signalRMessagingClientService, translate, snackBarService, manageLoadingService, DialogRef, dialog) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.formBuilder = formBuilder;
    this.creditDebitData = creditDebitData;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.cancelPaymentService = cancelPaymentService;
    this.signalRMessagingClientService = signalRMessagingClientService;
    this.translate = translate;
    this.snackBarService = snackBarService;
    this.manageLoadingService = manageLoadingService;
    this.DialogRef = DialogRef;
    this.dialog = dialog;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.deviceContainerTitle = '';
    this.cancelAmount = 0;
    this.successPayment = false;
    this.creditDebitEnum = CreditDebitEnum;
    this.checkDetails = this.paymentProcessGenericService.changeCheckDetailsSubject.getValue();
  }
  get isNotIntegrated() {
    var _this$checkDetails9, _this$checkDetails9$T;
    return ((_this$checkDetails9 = this.checkDetails) === null || _this$checkDetails9 === void 0 ? void 0 : (_this$checkDetails9$T = _this$checkDetails9.TerminalTenderType) === null || _this$checkDetails9$T === void 0 ? void 0 : _this$checkDetails9$T.Type) === ProcessorType.NotIntegrated;
  }
  get isIntegrated() {
    var _this$checkDetails10, _this$checkDetails10$;
    return ((_this$checkDetails10 = this.checkDetails) === null || _this$checkDetails10 === void 0 ? void 0 : (_this$checkDetails10$ = _this$checkDetails10.TerminalTenderType) === null || _this$checkDetails10$ === void 0 ? void 0 : _this$checkDetails10$.Type) !== ProcessorType.NotIntegrated;
  }
  get controls() {
    return this.form.controls;
  }
  get notIntegratedFormControls() {
    return this.controls.nonIntegratedEntry.controls;
  }
  get getTotalApproved() {
    var _this$controls;
    return (_this$controls = this.controls) === null || _this$controls === void 0 ? void 0 : _this$controls.totalApproved.value;
  }
  get getNonIntegratedTotalApproved() {
    if (this.configuration.NonIntegratedCreditTenderTypeModel.AllowSubtotalPaid) {
      var _this$notIntegratedFo, _this$notIntegratedFo2;
      return Number((_this$notIntegratedFo = this.notIntegratedFormControls) === null || _this$notIntegratedFo === void 0 ? void 0 : _this$notIntegratedFo.subtotalPaid.value) + Number((_this$notIntegratedFo2 = this.notIntegratedFormControls) === null || _this$notIntegratedFo2 === void 0 ? void 0 : _this$notIntegratedFo2.gratuityAmount.value);
    } else {
      var _this$notIntegratedFo3;
      return Number((_this$notIntegratedFo3 = this.notIntegratedFormControls) === null || _this$notIntegratedFo3 === void 0 ? void 0 : _this$notIntegratedFo3.totalPaid.value);
    }
  }
  ngOnInit() {
    var _this$creditDebitData, _this$creditDebitData2, _this$creditDebitData3, _this$creditDebitData4;
    this.configuration = this.paymentProcessGenericService.configuration;
    this.resetTabSetting();
    this.createSignalRListener();
    this.subscription.add(this.DialogRef.backdropClick().subscribe(() => {
      // Close the dialog
      this.close();
    }));
    this.subscription.add(this.paymentProcessGenericService.changeCheckDetailsSubject.subscribe(checkDetails => {
      this.successPayment = false;
      this.checkDetails = checkDetails;
      if (this.isIntegrated) {
        this.PaymentDeviceDialogOnCurrentTransaction();
      }
    }));
    this.form = this.formBuilder.group({
      totalApproved: [(_this$creditDebitData = this.creditDebitData) === null || _this$creditDebitData === void 0 ? void 0 : _this$creditDebitData.total, [this.exceedsRemainingTotalValidator.bind(this)]],
      manualEntry: this.formBuilder.group({
        cardPresent: [false],
        street: [''],
        zipPostal: []
      }),
      nonIntegratedEntry: this.formBuilder.group({
        totalApproved: [(_this$creditDebitData2 = this.creditDebitData) === null || _this$creditDebitData2 === void 0 ? void 0 : _this$creditDebitData2.total],
        type: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required],
        subtotalPaid: [(_this$creditDebitData3 = this.creditDebitData) === null || _this$creditDebitData3 === void 0 ? void 0 : _this$creditDebitData3.total],
        gratuityAmount: ['0.00'],
        gratuityPercent: ['0.00'],
        totalPaid: [(_this$creditDebitData4 = this.creditDebitData) === null || _this$creditDebitData4 === void 0 ? void 0 : _this$creditDebitData4.total, [this.exceedsRemainingTotalValidator.bind(this)]]
      })
    });
    this.handleConnectedState();
  }
  exceedsRemainingTotalValidator(control) {
    var _this$creditDebitData5;
    const totalPaid = Number(control.value);
    const remainingTotal = (_this$creditDebitData5 = this.creditDebitData) === null || _this$creditDebitData5 === void 0 ? void 0 : _this$creditDebitData5.total;
    if (this.isIntegrated || totalPaid > remainingTotal && !this.configuration.NonIntegratedCreditTenderTypeModel.AllowGratuity && this.isNotIntegrated) {
      return totalPaid > remainingTotal ? {
        exceedsRemainingTotal: true
      } : null;
    }
    return null;
  }
  handleConnectedState() {
    if (this.signalRMessagingClientService.connectionId) {
      this.paymentMassagerStatus = true;
    }
    this.signalRMessagingClientService.connected.subscribe(value => {
      this.paymentMassagerStatus = !!value;
    });
  }
  PaymentDeviceDialogOnCurrentTransaction() {
    const paymentTendered = this.checkDetails.PaymentsTendered.find(p => p.TenderTypeID === TenderTypeID.CreditCard && p.Status === PaymentsTenderedStatus.Approved);
    if (paymentTendered) {
      this.cancelAmount = paymentTendered.Amount;
      this.TrxUID = paymentTendered.TrxUID;
      this.onTabChange(CreditDebitEnum.PaymentDevice);
    }
  }
  onTabChange(value) {
    if (this.activeTab === this.creditDebitEnum.PaymentDevice) {
      this.DialogRef.disableClose = true;
    } else {
      this.DialogRef.disableClose = false;
    }
    this.activeTab = value;
  }
  startPayment() {
    var _this$controls2, _this$controls2$total;
    const request = new PaymentRequest();
    request.ConnectionID = this.signalRMessagingClientService.connectionId;
    this.connectionId = request.ConnectionID;
    request.Amount = (_this$controls2 = this.controls) === null || _this$controls2 === void 0 ? void 0 : (_this$controls2$total = _this$controls2.totalApproved) === null || _this$controls2$total === void 0 ? void 0 : _this$controls2$total.value;
    request.PaymentItemID = this.checkDetails.CheckUID;
    request.PaymentMethodID = TenderTypeID.CreditCard;
    this.deviceContainerTitle = this.translate.instant('PAYMENT_PROCESSOR.PAYMENT_DEVICE.DEVICE_PROMPTS_CONTENT');
    request.IntegratedCreditCard = this.creditDebitData.tenderType.IntegratedCreditCard;
    request.IntegratedDebitCard = this.creditDebitData.tenderType.IntegratedDebitCard;
    request.CCName = this.creditDebitData.paymentMethod.PaidTenderID;
    request.PaymentUID = this.creditDebitData.paymentMethod.SourcePaymentUID;
    this.subscription.add(this.paymentProcessGenericService.ProcessPayment(request, null, false, false).subscribe({
      next: response => {
        if (response !== null && response !== void 0 && response.Success) {
          this.successPayment = true;
          this.TrxUID = response.TrxID;
          this.paymentDeviceID = response.PaymentDeviceID;
          if (this.isIntegrated) {
            this.PaymentDeviceDialogOnCurrentTransaction();
          }
          this.deviceContainerTitle = this.translate.instant('PAYMENT_PROCESSOR.PAYMENT_DEVICE.DEVICE_FINALIZING_PAYMENT');
        } else if (response !== null && response !== void 0 && response.ErrorMsg) {
          this.snackBarService.showError(response.ErrorMsg, '', null, 'left');
          this.resetTabSetting();
        }
      }
    }));
  }
  applyPayment() {
    var _this$notIntegratedFo4, _this$notIntegratedFo5, _this$notIntegratedFo6, _this$notIntegratedFo7, _this$notIntegratedFo8, _this$notIntegratedFo9, _this$creditDebitData6;
    if (this.configuration.NonIntegratedCreditTenderTypeModel.AllowGratuity && (_this$notIntegratedFo4 = this.notIntegratedFormControls) !== null && _this$notIntegratedFo4 !== void 0 && _this$notIntegratedFo4.invalid || (_this$notIntegratedFo5 = this.notIntegratedFormControls) !== null && _this$notIntegratedFo5 !== void 0 && (_this$notIntegratedFo6 = _this$notIntegratedFo5.type) !== null && _this$notIntegratedFo6 !== void 0 && _this$notIntegratedFo6.invalid || (_this$notIntegratedFo7 = this.notIntegratedFormControls) !== null && _this$notIntegratedFo7 !== void 0 && (_this$notIntegratedFo8 = _this$notIntegratedFo7.totalPaid) !== null && _this$notIntegratedFo8 !== void 0 && _this$notIntegratedFo8.errors) {
      return;
    }
    const request = new PaymentRequest();
    request.CCName = (_this$notIntegratedFo9 = this.notIntegratedFormControls) === null || _this$notIntegratedFo9 === void 0 ? void 0 : _this$notIntegratedFo9.type.value;
    request.PaymentItemID = this.checkDetails.CheckUID;
    request.OrderID = this.checkDetails.OrderSeqID;
    request.PaymentMethodID = TenderTypeID.CreditCard;
    if ((_this$creditDebitData6 = this.creditDebitData.printerList) !== null && _this$creditDebitData6 !== void 0 && _this$creditDebitData6.length) {
      request.PrinterID = this.creditDebitData.printerList[0].PrinterID;
    }
    request.Amount = this.getNonIntegratedTotalApproved;
    if (this.configuration.NonIntegratedCreditTenderTypeModel.AllowGratuity) {
      var _this$notIntegratedFo10;
      request.TipAmount = Number((_this$notIntegratedFo10 = this.notIntegratedFormControls) === null || _this$notIntegratedFo10 === void 0 ? void 0 : _this$notIntegratedFo10.gratuityAmount.value);
    } else {
      request.TipAmount = 0;
    }
    request.IntegratedCreditCard = this.creditDebitData.tenderType.IntegratedCreditCard;
    request.IntegratedDebitCard = this.creditDebitData.tenderType.IntegratedDebitCard;
    this.subscription.add(this.paymentProcessGenericService.ProcessPayment(request, this.DialogRef, false).subscribe());
  }
  close() {
    if (this.activeTab === this.creditDebitEnum.PaymentDevice) {
      this.cancelTransaction(true);
      return;
    }
    this.DialogRef.close();
  }
  cancelTransaction(shouldCloseDialog = false) {
    const dialogRef = this.dialog.open(_tei_material__WEBPACK_IMPORTED_MODULE_11__.CardDialogComponent, {
      panelClass: ['move-item-dialog-wrapper', 'o-dialog-md-fullscreen'],
      data: {
        component: _tei_material__WEBPACK_IMPORTED_MODULE_11__.ConfirmationDialogComponent,
        dialogData: {
          title: this.isIntegrated ? 'PAYMENT_PROCESSOR.CREDIT_DEBIT.CANCEL_PAYMENT' : 'PAYMENT_PROCESSOR.CREDIT_DEBIT.CANCEL_REFUND',
          content: this.isIntegrated ? 'PAYMENT_PROCESSOR.CREDIT_DEBIT.CANCEL_DIALOG_DESCRIPTION' : 'PAYMENT_PROCESSOR.CREDIT_DEBIT.CANCEL_REFUND_DIALOG_DESCRIPTION',
          submitButtonLabel: 'PAYMENT_PROCESSOR.CREDIT_DEBIT.YES_CANCEL',
          cancelButtonLabel: 'PAYMENT_PROCESSOR.CREDIT_DEBIT.No'
        }
      },
      width: '350px'
    });
    this.subscription.add(dialogRef.afterClosed().subscribe(result => {
      if (result) {
        const request = new PaymentCancelRequest();
        request.PaymentItemID = this.checkDetails.CheckUID;
        request.TrxID = this.TrxUID;
        request.PaymentInitiatorUID = this.checkDetails.PaymentRecordUID;
        this.manageLoadingService.startLoading();
        this.cancelPaymentService.Post(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
          this.manageLoadingService.finishLoading();
          this.paymentProcessGenericService.dialogUpdateMessageEvent.emit();
        })).subscribe({
          next: response => {
            if (!(response !== null && response !== void 0 && response.Success)) {
              this.snackBarService.showError(this.translate.instant('PAYMENT_PROCESSOR.CREDIT_DEBIT.CANCEL_PAYMENT_ERROR'), '', null, 'left');
              return;
            }
            this.snackBarService.showSuccess(this.translate.instant('PAYMENT_PROCESSOR.INTEGRATED.CANCEL_PAYMENT'), '', null, 'left');
            if (shouldCloseDialog) {
              this.DialogRef.close();
            } else {
              this.resetTabSetting();
            }
          },
          error: error => {
            this.DialogRef.close();
          }
        });
      }
    }));
  }
  createSignalRListener() {
    this.subscription.add(this.signalRMessagingClientService.messageReceived.subscribe({
      next: message => {
        const paymentMessage = JSON.parse(message.SerializedMessage);
        if (message.MessageType === 'PaymentResponse' && paymentMessage.ConnectionID === this.connectionId) {
          if (paymentMessage.PaymentStatus === CreditCardPaymentStatus.Failed) {
            this.snackBarService.showError(paymentMessage.ResponseMessage, '', null, 'left');
            this.resetTabSetting();
            return;
          }
          if (paymentMessage.PaymentStatus !== CreditCardPaymentStatus.Finalizing && this.TrxUID === paymentMessage.Summary.OrigTrxUID) {
            return;
          }
          this.paymentProcessGenericService.dialogUpdateMessageEvent.emit();
          if (paymentMessage.Approved) {
            this.snackBarService.showSuccess(this.translate.instant('PAYMENT_PROCESSOR.INTEGRATED.APPROVED_PAYMENT'), '', null, 'left');
            this.DialogRef.close();
          }
          if (paymentMessage.Canceled) {
            this.snackBarService.showError(this.translate.instant('PAYMENT_PROCESSOR.INTEGRATED.CANCEL_PAYMENT'), '', null, 'left');
            this.resetTabSetting();
          }
        }
      },
      error: () => {
        this.resetTabSetting();
      }
    }));
  }
  resetTabSetting() {
    this.activeTab = this.creditDebitEnum.Integrated;
    if (this.isNotIntegrated) {
      this.activeTab = CreditDebitEnum.ManualEntry;
    }
  }
  onGoToCreditDebit() {
    this.cancelTransaction();
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
CreditDebitComponent.ɵfac = function CreditDebitComponent_Factory(t) {
  return new (t || CreditDebitComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('ICancelPaymentService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_signalr__WEBPACK_IMPORTED_MODULE_27__.SignalrMessagingClientService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialog));
};
CreditDebitComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: CreditDebitComponent,
  selectors: [["tei-common-payment-processor-credit-debit"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 26,
  vars: 21,
  consts: [[1, "o-dialog-container", "overflow-hidden", "o-credit-debit-container", "credit-debit-dialog", 3, "formGroup"], [1, "m-dialog-header"], [1, "align-items-center", "justify-content-between", "d-flex"], [1, "d-flex", "align-items-center"], ["class", "a-button-back ml-n2", 4, "ngIf"], [1, "a-text-h3"], ["mat-icon-button", "", "id", "a-close-payment-credit-debit", 3, "disabled", "click"], [1, "m-dialog-content", "d-flex", "flex-column", "align-items-start", "justify-content-start", "p-3"], [1, "credit-card-terminal-stepper", "w-100", 3, "selectedIndex"], ["stepperDebit", ""], [3, "creditDebitData", "totalApproved", "paymentMassager"], [3, "form", "creditDebitData", "configuration"], [3, "stepper", "amount", "paymentDeviceID", "progressTitle"], [1, "m-dialog-actions", "stepper-dialog-button", "m-dialog-actions-sm", "a-button-contained"], [4, "ngIf"], [1, "a-button-back", "ml-n2"], ["mat-icon-button", "", "id", "a-go-to-credit-debit", 3, "disabled", "click"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", "id", "a-start-payment-credit-debit", "class", "w-100", 3, "disabled", "click", 4, "ngIf"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", "class", "w-100", "id", "a-apply-payment-credit-debit", 3, "disabled", "click", 4, "ngIf"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", "id", "a-start-payment-credit-debit", 1, "w-100", 3, "disabled", "click"], ["class", "process-manual-entry", 4, "ngIf"], [1, "a-buttontext-right"], [1, "process-manual-entry"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", "id", "a-apply-payment-credit-debit", 1, "w-100", 3, "disabled", "click"], ["type", "submit", "mat-flat-button", "", "color", "warn", "id", "a-cancel-payment-credit-debit", 1, "w-100", 3, "disabled", "click"]],
  template: function CreditDebitComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, CreditDebitComponent_div_4_Template, 4, 1, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div")(9, "button", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CreditDebitComponent_Template_button_click_9_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](12, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "div", 7)(14, "mat-horizontal-stepper", 8, 9)(16, "mat-step");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](17, "tei-common-payment-processor-integrated", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "mat-step");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](19, "tei-common-payment-processor-non-integrated", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "mat-step");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](21, "tei-common-payment-processor-payment-device", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](22, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](23, "div", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](24, CreditDebitComponent_ng_container_24_Template, 3, 2, "ng-container", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](25, CreditDebitComponent_ng_container_25_Template, 4, 4, "ng-container", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    }
    if (rf & 2) {
      const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.activeTab === ctx.creditDebitEnum.PaymentDevice);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](7, 17, ctx.activeTab === ctx.creditDebitEnum.PaymentDevice ? "PAYMENT_PROCESSOR.PAYMENT_DEVICE.PAYMENT_DEVICE" : "PAYMENT_PROCESSOR.CREDIT_DEBIT.CREDIT_DEBIT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("selectedIndex", ctx.activeTab);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("creditDebitData", ctx.creditDebitData)("totalApproved", ctx.controls == null ? null : ctx.controls.totalApproved)("paymentMassager", ctx.paymentMassagerStatus);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("form", ctx.controls == null ? null : ctx.controls.nonIntegratedEntry)("creditDebitData", ctx.creditDebitData)("configuration", ctx.configuration);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("stepper", _r1)("amount", ctx.cancelAmount)("paymentDeviceID", ctx.paymentDeviceID)("progressTitle", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](22, 19, "PAYMENT_PROCESSOR.CREDIT_DEBIT.PAYMENT_IN_PROGRESS"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.activeTab !== ctx.creditDebitEnum.PaymentDevice);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.activeTab === ctx.creditDebitEnum.PaymentDevice);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, PaymentDeviceComponent, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStep, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepper, IntegratedComponent, NonIntegratedComponent, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".payment-amount[_ngcontent-%COMP%]{position:absolute;right:20px}  .credit-debit-dialog .mat-dialog-container{overflow:hidden}  .credit-debit-dialog .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){  .credit-debit-dialog .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}  .credit-debit-dialog .mat-horizontal-stepper-header-container{display:none}  .credit-debit-dialog .mat-horizontal-content-container{padding:unset}  .credit-debit-dialog .mat-horizontal-content-container .o-dialog-container{margin:unset;-webkit-user-select:none;-moz-user-select:none;user-select:none}  .tei-material-theme .m-dialog-actions.a-button-contained .mat-flat-button{line-height:48px;width:100%;border-radius:0 0 4px 4px;font-size:16px}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CreditDebitComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-credit-debit',
      template: "<form class=\"o-dialog-container overflow-hidden o-credit-debit-container credit-debit-dialog\" [formGroup]=\"form\">\n  <div class=\"m-dialog-header\">\n    <div class=\"align-items-center justify-content-between d-flex\">\n      <div class=\"d-flex align-items-center\">\n        <div class=\"a-button-back ml-n2\" *ngIf=\"activeTab=== creditDebitEnum.PaymentDevice\">\n          <button mat-icon-button (click)=\"onGoToCreditDebit()\" id=\"a-go-to-credit-debit\" [disabled]=\"manageLoadingService.isLoading\">\n            <mat-icon>arrow_back</mat-icon>\n          </button>\n        </div>\n        <div class=\"a-text-h3\">{{ (activeTab===\n          creditDebitEnum.PaymentDevice?'PAYMENT_PROCESSOR.PAYMENT_DEVICE.PAYMENT_DEVICE':'PAYMENT_PROCESSOR.CREDIT_DEBIT.CREDIT_DEBIT')\n          | teiTextTranslate}}</div>\n      </div>\n      <div>\n        <button mat-icon-button id=\"a-close-payment-credit-debit\" (click)=\"close()\" [disabled]=\"manageLoadingService.isLoading\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-content d-flex flex-column align-items-start justify-content-start p-3\">\n    <mat-horizontal-stepper #stepperDebit class=\"credit-card-terminal-stepper w-100\" [selectedIndex]=\"activeTab\">\n      <!-- Integrated/NoneIntegrated -->\n      <mat-step>\n\n        <tei-common-payment-processor-integrated [creditDebitData]=\"creditDebitData\"\n          [totalApproved]=\"controls?.totalApproved\" [paymentMassager]=\"paymentMassagerStatus\">\n        </tei-common-payment-processor-integrated>\n\n      </mat-step>\n      <!-- ManualEntry -->\n      <mat-step>\n        <tei-common-payment-processor-non-integrated [form]=\"controls?.nonIntegratedEntry\"\n          [creditDebitData]=\"creditDebitData\" [configuration]=\"configuration\">\n        </tei-common-payment-processor-non-integrated>\n\n      </mat-step>\n      <!-- PaymentDevice -->\n      <mat-step>\n        <tei-common-payment-processor-payment-device [stepper]=\"stepperDebit\" [amount]=\"cancelAmount\"\n          [paymentDeviceID]=\"paymentDeviceID\"\n          [progressTitle]=\"'PAYMENT_PROCESSOR.CREDIT_DEBIT.PAYMENT_IN_PROGRESS'| teiTextTranslate\">\n        </tei-common-payment-processor-payment-device>\n      </mat-step>\n    </mat-horizontal-stepper>\n\n  </div>\n  <div class=\"m-dialog-actions stepper-dialog-button m-dialog-actions-sm a-button-contained\">\n    <ng-container *ngIf=\"activeTab !== creditDebitEnum.PaymentDevice\">\n      <button *ngIf=\"isIntegrated\" mat-button type=\"submit\" mat-flat-button color=\"accent\" id=\"a-start-payment-credit-debit\" (click)=\"startPayment()\"\n        [disabled]=\"successPayment || manageLoadingService.isLoading || getNonIntegratedTotalApproved===0 || controls?.totalApproved.hasError('exceedsRemainingTotal')\" class=\"w-100\">\n        <span *ngIf=\"activeTab === creditDebitEnum.Integrated\">\n          {{'PAYMENT_PROCESSOR.CREDIT_DEBIT.START_PAYMENT' | teiTextTranslate}}\n        </span>\n        <span *ngIf=\"activeTab === creditDebitEnum.ManualEntry\" class=\"process-manual-entry\">\n          {{'PAYMENT_PROCESSOR.CREDIT_DEBIT.START_PAYMENT' | teiTextTranslate}}\n        </span>\n        <span class=\"a-buttontext-right\">\n          {{ getTotalApproved | teiCurrencyTranslate }}</span>\n      </button>\n      <button *ngIf=\"isNotIntegrated\" mat-button type=\"submit\" mat-flat-button color=\"accent\" class=\"w-100\" id=\"a-apply-payment-credit-debit\"\n        [disabled]=\"successPayment || manageLoadingService.isLoading ||notIntegratedFormControls?.type?.invalid || notIntegratedFormControls?.totalPaid.hasError('exceedsRemainingTotal')\"\n        (click)=\"applyPayment()\">\n        <span>\n          {{'PAYMENT_PROCESSOR.CREDIT_DEBIT.APPLY_PAYMENT' | teiTextTranslate}}\n        </span>\n        <span class=\"a-buttontext-right\">\n          {{ getNonIntegratedTotalApproved | teiCurrencyTranslate }}</span>\n      </button>\n    </ng-container>\n    <ng-container *ngIf=\"activeTab === creditDebitEnum.PaymentDevice\">\n      <button type=\"submit\" mat-flat-button color=\"warn\" id=\"a-cancel-payment-credit-debit\" (click)=\"cancelTransaction()\"\n        [disabled]=\"manageLoadingService.isLoading\" class=\"w-100\">\n        {{'PAYMENT_PROCESSOR.PAYMENT_DEVICE.CANCEL_TRANSACTION' | teiTextTranslate}}\n      </button>\n    </ng-container>\n  </div>\n</form>\n",
      styles: [".payment-amount{position:absolute;right:20px}::ng-deep .credit-debit-dialog .mat-dialog-container{overflow:hidden}::ng-deep .credit-debit-dialog .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){::ng-deep .credit-debit-dialog .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}::ng-deep .credit-debit-dialog .mat-horizontal-stepper-header-container{display:none}::ng-deep .credit-debit-dialog .mat-horizontal-content-container{padding:unset}::ng-deep .credit-debit-dialog .mat-horizontal-content-container .o-dialog-container{margin:unset;-webkit-user-select:none;-moz-user-select:none;user-select:none}::ng-deep .tei-material-theme .m-dialog-actions.a-button-contained .mat-flat-button{line-height:48px;width:100%;border-radius:0 0 4px 4px;font-size:16px}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: CreditDebitDialog,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['ICancelPaymentService']
      }]
    }, {
      type: _tei_core_signalr__WEBPACK_IMPORTED_MODULE_27__.SignalrMessagingClientService
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialog
    }];
  }, null);
})();
class CancelPaymentService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor/payment/Cancel';
  }
  Post(request) {
    const apiUrl = this.serviceUrl;
    return this.http.post(apiUrl, request);
  }
}
CancelPaymentService.ɵfac = function CancelPaymentService_Factory(t) {
  return new (t || CancelPaymentService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
CancelPaymentService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: CancelPaymentService,
  factory: CancelPaymentService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CancelPaymentService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
const COMPONENTS$f = [PaymentDeviceComponent];
const MATERIAL_MODULES$g = [_angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule];
const COMMON_MODULES$b = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
const TEI_MATERIAL_MODULES$b = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const TEI_CORE_MODULES$e = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule];
class PaymentDeviceModule {}
PaymentDeviceModule.ɵfac = function PaymentDeviceModule_Factory(t) {
  return new (t || PaymentDeviceModule)();
};
PaymentDeviceModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: PaymentDeviceModule
});
PaymentDeviceModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [COMMON_MODULES$b, TEI_MATERIAL_MODULES$b, TEI_CORE_MODULES$e, MATERIAL_MODULES$g, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentDeviceModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$f],
      imports: [...COMMON_MODULES$b, ...TEI_MATERIAL_MODULES$b, ...TEI_CORE_MODULES$e, ...MATERIAL_MODULES$g],
      exports: [...COMMON_MODULES$b, ...TEI_MATERIAL_MODULES$b, ...MATERIAL_MODULES$g, ...TEI_CORE_MODULES$e, ...COMPONENTS$f]
    }]
  }], null, null);
})();
const BASE_COMPONENT$4 = [CreditDebitComponent, IntegratedComponent, NonIntegratedComponent];
const BASE_MODULE$4 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule];
const TEI_PAYMENT_MODULES = [PaymentDeviceModule];
const MATERIAL_MODULES$f = [_angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepperModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_tabs__WEBPACK_IMPORTED_MODULE_33__.MatLegacyTabsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_checkbox__WEBPACK_IMPORTED_MODULE_34__.MatLegacyCheckboxModule];
const TEI_CORE_MODULES$d = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPreventDoubleClickModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
class CreditDebitModule {}
CreditDebitModule.ɵfac = function CreditDebitModule_Factory(t) {
  return new (t || CreditDebitModule)();
};
CreditDebitModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: CreditDebitModule
});
CreditDebitModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }, {
    provide: 'ICancelPaymentService',
    useClass: CancelPaymentService
  }, {
    provide: 'IProcessService',
    useClass: ProcessService
  }],
  imports: [BASE_MODULE$4, TEI_PAYMENT_MODULES, MATERIAL_MODULES$f, TEI_CORE_MODULES$d, PaymentDeviceModule, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepperModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_tabs__WEBPACK_IMPORTED_MODULE_33__.MatLegacyTabsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_checkbox__WEBPACK_IMPORTED_MODULE_34__.MatLegacyCheckboxModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPreventDoubleClickModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CreditDebitModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...BASE_COMPONENT$4],
      imports: [...BASE_MODULE$4, ...TEI_PAYMENT_MODULES, ...MATERIAL_MODULES$f, ...TEI_CORE_MODULES$d],
      exports: [...BASE_COMPONENT$4, ...TEI_PAYMENT_MODULES, ...BASE_MODULE$4, ...MATERIAL_MODULES$f, ...TEI_CORE_MODULES$d],
      providers: [{
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }, {
        provide: 'ICancelPaymentService',
        useClass: CancelPaymentService
      }, {
        provide: 'IProcessService',
        useClass: ProcessService
      }]
    }]
  }], null, null);
})();
class GetGiftCardRequest {}
class GetGiftCardResponse {}
let Contact$1 = class Contact {};
class SelectedData {}
class GiftCardApproveComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  constructor(errorStateMatcher, service, formBuilder, manageLoadingService, paymentProcessGenericService, translate) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.service = service;
    this.formBuilder = formBuilder;
    this.manageLoadingService = manageLoadingService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.translate = translate;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.printerList = [];
    this.selectedDataEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.closeEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.cardIsValid = false;
    this.previousCardNumber = null;
  }
  ngOnInit() {
    const defaultPrinter = this.printerList.filter(printer => printer.Type === PrinterType.Primary);
    this.allowApprove = this.paymentProcessGenericService.configuration.GiftCardTenderTypeModel.AllowApprove;
    this.allowPrint = this.paymentProcessGenericService.configuration.GiftCardTenderTypeModel.AllowPrint;
    this.form = this.formBuilder.group({
      totalApproved: [this.totalApproved, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]],
      remainingTotal: [this.totalApproved],
      cardNumber: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]],
      balance: ['0.00'],
      printerID: [defaultPrinter.length > 0 ? defaultPrinter[0].PrinterID : null, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]],
      giftCardUID: ['']
    });
    this.form.markAllAsTouched();
  }
  ngAfterViewInit() {
    setTimeout(() => {
      this.CardNumberInput.nativeElement.focus();
    });
  }
  onCardNumberBlurred() {
    var _this$form$get;
    const value = (_this$form$get = this.form.get('cardNumber')) === null || _this$form$get === void 0 ? void 0 : _this$form$get.value;
    if (value && value !== this.previousCardNumber) {
      this.onBarcodeScanned(value);
    }
  }
  onCardNumberEntered() {
    var _this$CardNumberInput;
    (_this$CardNumberInput = this.CardNumberInput.nativeElement) === null || _this$CardNumberInput === void 0 ? void 0 : _this$CardNumberInput.blur();
  }
  getPrinterName(printerID) {
    var _this$printerList, _this$printerList$fil;
    return (_this$printerList = this.printerList) === null || _this$printerList === void 0 ? void 0 : (_this$printerList$fil = _this$printerList.filter(item => item.PrinterID === Number(printerID))[0]) === null || _this$printerList$fil === void 0 ? void 0 : _this$printerList$fil.Name;
  }
  onLoadBalanceOfCardNumber(selectedData) {
    var _this$formControls17, _this$formControls17$;
    this.form.updateValueAndValidity();
    const request = new GetGiftCardRequest();
    request.GiftCardID = (_this$formControls17 = this.formControls) === null || _this$formControls17 === void 0 ? void 0 : (_this$formControls17$ = _this$formControls17.cardNumber) === null || _this$formControls17$ === void 0 ? void 0 : _this$formControls17$.value;
    if (!request.GiftCardID) {
      return;
    }
    this.cardIsValid = false;
    this.manageLoadingService.startLoading();
    this.subscription.add(this.service.Get(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).subscribe({
      next: response => {
        if (response.GiftCardUID === '00000000-0000-0000-0000-000000000000') {
          this.formControls.cardNumber.setErrors({
            notFound: true
          });
        } else {
          this.cardIsValid = true;
          this.formControls.cardNumber.setErrors(null);
          this.form.patchValue({
            balance: response.RemainingAmount.toFixed(2),
            giftCardUID: response.GiftCardUID
          });
          if (selectedData) {
            selectedData.Balance = this.formControls.balance.value;
            selectedData.GiftCardUID = response.GiftCardUID;
            this.selectedDataEmitter.emit(selectedData);
            if (this.enableTipsOnGiftCard) {
              this.stepper.next();
            }
          }
        }
      },
      complete: () => this.checkPaymentTotalValidation()
    }));
  }
  get formControls() {
    return this.form.controls;
  }
  onChangeCardNumber() {
    this.cardIsValid = false;
    this.formControls.balance.setValue('0.00');
  }
  onBarcodeScanned(scannedString) {
    if (!scannedString) {
      return;
    }
    if (this.convertedBarcode(scannedString)) {
      var _this$formControls18;
      (_this$formControls18 = this.formControls) === null || _this$formControls18 === void 0 ? void 0 : _this$formControls18.cardNumber.setValue(this.convertedBarcode(scannedString), {
        emitEvent: false
      });
      this.previousCardNumber = this.convertedBarcode(scannedString);
    } else {
      this.previousCardNumber = scannedString;
    }
    this.onLoadBalanceOfCardNumber();
  }
  convertedBarcode(input) {
    const teggcIndex = input.indexOf("TEGGC");
    if (teggcIndex === -1) {
      return null;
    }
    const firstCaretIndex = input.indexOf("^", teggcIndex);
    if (firstCaretIndex === -1) {
      return null;
    }
    const secondCaretIndex = input.indexOf("^", firstCaretIndex + 1);
    if (secondCaretIndex === -1) {
      return null;
    }
    return input.substring(firstCaretIndex + 1, secondCaretIndex);
  }
  onlyNumber(event) {
    return event.charCode === 8 || event.charCode === 0 ? null : event.charCode >= 48 && event.charCode <= 57;
  }
  onTotalApprovedBlur() {
    var _this$formControls19, _this$formControls19$, _this$formControls20, _this$formControls20$, _this$formControls21, _this$formControls21$;
    const remainingTotal = this.returnValidValue((_this$formControls19 = this.formControls) === null || _this$formControls19 === void 0 ? void 0 : (_this$formControls19$ = _this$formControls19.remainingTotal) === null || _this$formControls19$ === void 0 ? void 0 : _this$formControls19$.value);
    let totalApproved = this.returnValidValue((_this$formControls20 = this.formControls) === null || _this$formControls20 === void 0 ? void 0 : (_this$formControls20$ = _this$formControls20.totalApproved) === null || _this$formControls20$ === void 0 ? void 0 : _this$formControls20$.value);
    if (totalApproved > remainingTotal) {
      totalApproved = remainingTotal;
    }
    (_this$formControls21 = this.formControls) === null || _this$formControls21 === void 0 ? void 0 : (_this$formControls21$ = _this$formControls21.totalApproved) === null || _this$formControls21$ === void 0 ? void 0 : _this$formControls21$.setValue(totalApproved.toFixed(2));
    this.checkPaymentTotalValidation();
  }
  returnValidValue(value) {
    if (!value) {
      value = '0.00';
    }
    return Number(value.toString().replace(/[%]/g, ''));
  }
  checkPaymentTotalValidation() {
    var _this$formControls22, _this$formControls22$, _this$formControls23, _this$formControls23$;
    const totalApproved = this.returnValidValue((_this$formControls22 = this.formControls) === null || _this$formControls22 === void 0 ? void 0 : (_this$formControls22$ = _this$formControls22.totalApproved) === null || _this$formControls22$ === void 0 ? void 0 : _this$formControls22$.value);
    const balance = this.returnValidValue((_this$formControls23 = this.formControls) === null || _this$formControls23 === void 0 ? void 0 : (_this$formControls23$ = _this$formControls23.balance) === null || _this$formControls23$ === void 0 ? void 0 : _this$formControls23$.value);
    this.formControls.totalApproved.setErrors(null);
    this.form.markAllAsTouched();
    if (totalApproved > balance) {
      this.formControls.totalApproved.setErrors({
        exceedError: true
      });
      return true;
    }
    return false;
  }
  onApprove() {
    var _this$formControls24, _this$formControls24$;
    if (this.formInValid || !((_this$formControls24 = this.formControls) !== null && _this$formControls24 !== void 0 && (_this$formControls24$ = _this$formControls24.giftCardUID) !== null && _this$formControls24$ !== void 0 && _this$formControls24$.value) || this.manageLoadingService.isLoading) {
      return;
    }
    const totalApproved = this.returnValidValue(this.formControls.totalApproved.value);
    const remainingTotal = this.returnValidValue(this.formControls.remainingTotal.value);
    this.manageLoadingService.startLoading();
    this.subscription.add(this.ProcessPayment(null, !this.allowApprove, this.allowPrint).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).subscribe(response => {
      if (!(response !== null && response !== void 0 && response.Success)) {
        return;
      }
      if (!this.enableTipsOnGiftCard) {
        this.closeEmitter.emit();
      }
      if (!this.showGratuity && this.allowApprove) {
        if (remainingTotal <= totalApproved) {
          this.subscription.add(this.ProcessPayment(response === null || response === void 0 ? void 0 : response.TrxID, true, false).subscribe(result => {
            if (result !== null && result !== void 0 && result.Success) {
              this.closeEmitter.emit();
            }
          }));
        } else {
          this.closeEmitter.emit();
        }
      } else if (this.allowApprove) {
        const selectedData = new SelectedData();
        selectedData.CardNumber = this.formControls.cardNumber.value;
        selectedData.Balance = this.formControls.balance.value;
        selectedData.TotalApproved = this.formControls.totalApproved.value;
        selectedData.TransactionID = response === null || response === void 0 ? void 0 : response.TrxID;
        selectedData.GiftCardUID = this.formControls.giftCardUID.value;
        this.onLoadBalanceOfCardNumber(selectedData);
      } else {
        this.closeEmitter.emit();
      }
    }));
  }
  ProcessPayment(transactionID, isApproved, needPrint) {
    var _this$formControls25, _this$formControls25$, _this$checkDetails11, _this$checkDetails11$, _this$formControls26, _this$formControls26$, _this$formControls27, _this$formControls27$, _this$formControls28, _this$formControls28$;
    if (!((_this$formControls25 = this.formControls) !== null && _this$formControls25 !== void 0 && (_this$formControls25$ = _this$formControls25.giftCardUID) !== null && _this$formControls25$ !== void 0 && _this$formControls25$.value)) {
      return;
    }
    const request = new PaymentRequest();
    request.ContactID = (_this$checkDetails11 = this.checkDetails) === null || _this$checkDetails11 === void 0 ? void 0 : (_this$checkDetails11$ = _this$checkDetails11.Contact) === null || _this$checkDetails11$ === void 0 ? void 0 : _this$checkDetails11$.ContactID;
    request.PrinterID = (_this$formControls26 = this.formControls) === null || _this$formControls26 === void 0 ? void 0 : (_this$formControls26$ = _this$formControls26.printerID) === null || _this$formControls26$ === void 0 ? void 0 : _this$formControls26$.value;
    if (request.PrinterID && this.printerList.length) {
      request.PrinterID = this.printerList[0].PrinterID;
    }
    request.PaymentItemID = this.checkDetails.CheckUID;
    request.PaymentMethodID = TenderTypeID.GiftCertificate;
    if (transactionID) {
      request.ApprovedTransactionID = transactionID;
    }
    request.Amount = this.returnValidValue((_this$formControls27 = this.formControls) === null || _this$formControls27 === void 0 ? void 0 : (_this$formControls27$ = _this$formControls27.totalApproved) === null || _this$formControls27$ === void 0 ? void 0 : _this$formControls27$.value);
    request.IsApproved = isApproved;
    request.OrderID = this.checkDetails.OrderSeqID;
    request.GiftCardID = (_this$formControls28 = this.formControls) === null || _this$formControls28 === void 0 ? void 0 : (_this$formControls28$ = _this$formControls28.giftCardUID) === null || _this$formControls28$ === void 0 ? void 0 : _this$formControls28$.value;
    this.manageLoadingService.startLoading();
    return this.paymentProcessGenericService.ProcessPayment(request, null, needPrint).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading()));
  }
  get paymentButtonTitle() {
    if (this.formInValid) {
      return 'PAYMENT_PROCESSOR.GIFT_CARD.DETAILS_REQUIRED';
    }
    if (this.allowApprove && this.allowPrint) {
      return 'PAYMENT_PROCESSOR.GIFT_CARD.APPROVE_PRINT';
    }
    return 'PAYMENT_PROCESSOR.GIFT_CARD.APPLY_PAYMENT';
  }
  get formInValid() {
    if (this.allowApprove && this.allowPrint) {
      return this.form.invalid;
    }
    return this.formControls.cardNumber.invalid || !this.cardIsValid || this.formControls.totalApproved.invalid;
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
GiftCardApproveComponent.ɵfac = function GiftCardApproveComponent_Factory(t) {
  return new (t || GiftCardApproveComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IGiftCardService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService));
};
GiftCardApproveComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: GiftCardApproveComponent,
  selectors: [["tei-common-payment-processor-gift-card-approve"]],
  viewQuery: function GiftCardApproveComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 5, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.CardNumberInput = _t.first);
    }
  },
  inputs: {
    printerList: "printerList",
    totalApproved: "totalApproved",
    stepper: "stepper",
    showGratuity: "showGratuity",
    enableTipsOnGiftCard: "enableTipsOnGiftCard",
    checkDetails: "checkDetails"
  },
  outputs: {
    selectedDataEmitter: "selectedDataEmitter",
    closeEmitter: "closeEmitter"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(GiftCardApproveComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 43,
  vars: 31,
  consts: [[1, "d-flex", "flex-column", "gift-card-approved-step", 3, "formGroup"], [1, "m-dialog-content"], [1, "d-flex", "flex-column"], [1, "pt-2", "pb-3"], [1, "a-text-primary"], [1, "a-text-secondary"], [1, "row", "px-2"], [1, "col-xs-12", "col-sm-12", "col-md-8", "col-lg-9", "d-flex", "flex-column", "px-1"], [1, "a-text-label"], ["appearance", "outline", "floatLabel", "never", 1, "no-label", "a-button-inside-input"], ["matInput", "", "type", "text", "formControlName", "cardNumber", "id", "a-gift-card-number-input", 1, "a-input", "a-input-nolabel", 3, "blur", "keydown.enter"], ["CardNumberInput", ""], [4, "ngIf"], [1, "col-xs-12", "col-sm-12", "col-md-4", "col-lg-3", "d-flex", "flex-column", "px-1", "balance-input"], ["appearance", "outline", "floatLabel", "never", 1, "no-label"], ["matInput", "", "type", "tel", "readonly", "", "teiTwoDigitDecimal", "", "id", "a-gift-card-balance-input", "formControlName", "balance", 1, "a-input", "a-input-nolabel"], ["class", "row px-2", 4, "ngIf"], [1, "row", "px-2", "mb-1"], [1, "d-flex", "flex-column", "col-xs-12", "col-sm-12", "px-1"], ["appearance", "outline", "floatLabel", "never", 1, "a-text-primary", "a-input", "no-label"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "id", "a-gift-card-total-approved-input", "formControlName", "totalApproved", 1, "a-input", "a-input-nolabel", 3, "readonly", "placeholder", "maxLength", "blur"], [1, "m-dialog-actions", "stepper-dialog-button", "a-button-contained", "m-dialog-actions-sm"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", "id", "a-gift-card-submit", 3, "disabled", "click"], [1, "a-buttontext-right"], ["appearance", "outline", 1, "a-dropdown", "no-label"], ["formControlName", "printerID", "required", "", "id", "a-gift-card-printer-id-selection"], ["class", "a-dropdown-multiline_options", 3, "id", "value", 4, "ngFor", "ngForOf"], [1, "a-dropdown-multiline_options", 3, "id", "value"], [1, "d-flex", "w-100", "flex-column"], [1, "d-flex", "w-100", "justify-content-start", "align-items-center"], [1, "a-text-secondary", "mr-2"], ["class", "a-text-small printer-type", 4, "ngIf"], [1, "a-text-small"], [1, "a-text-small", "printer-type"]],
  template: function GiftCardApproveComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](9, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "div", 6)(11, "div", 7)(12, "mat-label", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](14, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](15, "mat-form-field", 9)(16, "input", 10, 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function GiftCardApproveComponent_Template_input_blur_16_listener() {
        return ctx.onCardNumberBlurred();
      })("keydown.enter", function GiftCardApproveComponent_Template_input_keydown_enter_16_listener() {
        return ctx.onCardNumberEntered();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](18, GiftCardApproveComponent_mat_error_18_Template, 3, 3, "mat-error", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "div", 13)(20, "mat-label", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](22, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](23, "mat-form-field", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](24, "input", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](25, GiftCardApproveComponent_div_25_Template, 11, 6, "div", 16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](26, "div", 17)(27, "div", 18)(28, "mat-label", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](29);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](30, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](31, "mat-form-field", 19)(32, "input", 20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function GiftCardApproveComponent_Template_input_blur_32_listener() {
        return ctx.onTotalApprovedBlur();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](33, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](34, GiftCardApproveComponent_mat_error_34_Template, 3, 3, "mat-error", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](35, "div", 21)(36, "button", 22);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function GiftCardApproveComponent_Template_button_click_36_listener() {
        return ctx.onApprove();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](37, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](38);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](39, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](40, "span", 23);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](41);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](42, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 15, ctx.formControls == null ? null : ctx.formControls.remainingTotal == null ? null : ctx.formControls.remainingTotal.value), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](9, 17, "PAYMENT_PROCESSOR.GIFT_CARD.REMAINING_TOTAL"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](14, 19, "PAYMENT_PROCESSOR.GIFT_CARD.CARD_NUMBER"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.cardNumber.hasError("notFound"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](22, 21, "PAYMENT_PROCESSOR.GIFT_CARD.BALANCE"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.allowApprove && ctx.allowPrint);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](30, 23, "PAYMENT_PROCESSOR.GIFT_CARD.TOTAL_APPROVED"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](33, 25, "PAYMENT_PROCESSOR.GIFT_CARD.TOTAL_APPROVED"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("readonly", (ctx.formControls == null ? null : ctx.formControls.remainingTotal == null ? null : ctx.formControls.remainingTotal.value) < 0)("maxLength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.totalApproved.hasError("exceedError"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.formInValid || !(ctx.formControls == null ? null : ctx.formControls.giftCardUID == null ? null : ctx.formControls.giftCardUID.value) || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](39, 27, ctx.paymentButtonTitle));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](42, 29, ctx.formControls == null ? null : ctx.formControls.totalApproved == null ? null : ctx.formControls.totalApproved.value));
    }
  },
  dependencies: [_angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyError, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelect, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectTrigger, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_31__.MatLegacyOption, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.RequiredValidator, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: ["@media only screen and (max-width: 575px){  .gift-card-approved-step .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}  .gift-card-approved-step .a-button-inside-input .mat-form-field-flex{padding-right:0}  .gift-card-approved-step .a-button-inside-input .mat-form-field-suffix{top:0}  .gift-card-approved-step .a-button-inside-input .mat-button{border-radius:0 4px 4px 0;height:100%;line-height:40px}.nb-theme-material-dark[_nghost-%COMP%]     .a-button-inside-input .mat-button, .nb-theme-material-dark   [_nghost-%COMP%]     .a-button-inside-input .mat-button{border-left:solid 1px rgba(255,255,255,.08)}.nb-theme-material-light[_nghost-%COMP%]     .a-button-inside-input .mat-button, .nb-theme-material-light   [_nghost-%COMP%]     .a-button-inside-input .mat-button{border-left:solid 1px rgba(0,0,0,.19)}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](GiftCardApproveComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-gift-card-approve',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(GiftCardApproveComponent)],
      template: "<form class=\"d-flex flex-column gift-card-approved-step\" [formGroup]=\"form\">\n  <div class=\"m-dialog-content\">\n    <div class=\"d-flex flex-column\">\n      <!-- Remaining Total -->\n      <div class=\"pt-2 pb-3\">\n        <div class=\"a-text-primary\">\n          {{ formControls?.remainingTotal?.value | teiCurrencyTranslate }}\n        </div>\n        <div class=\"a-text-secondary\">\n          {{ 'PAYMENT_PROCESSOR.GIFT_CARD.REMAINING_TOTAL' | teiTextTranslate }}\n        </div>\n      </div>\n      <div class=\"row px-2\">\n        <div class=\"col-xs-12 col-sm-12 col-md-8 col-lg-9 d-flex flex-column px-1\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.CARD_NUMBER' | teiTextTranslate}}\n          </mat-label>\n          <mat-form-field class=\"no-label a-button-inside-input\" appearance=\"outline\" floatLabel=\"never\">\n            <input #CardNumberInput matInput type=\"text\" class=\"a-input a-input-nolabel\" formControlName=\"cardNumber\"\n            (blur)=\"onCardNumberBlurred()\" (keydown.enter)=\"onCardNumberEntered()\" id=\"a-gift-card-number-input\" />\n            <mat-error *ngIf=\"formControls.cardNumber.hasError('notFound')\"> {{\n              'PAYMENT_PROCESSOR.GIFT_CARD.GIFT_CARD_NOT_FOUND' | teiTextTranslate }}\n            </mat-error>\n          </mat-form-field>\n        </div>\n        <div class=\"col-xs-12 col-sm-12 col-md-4 col-lg-3 d-flex flex-column px-1 balance-input\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.BALANCE' | teiTextTranslate}}\n          </mat-label>\n          <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput type=\"tel\" readonly teiTwoDigitDecimal class=\"a-input a-input-nolabel\" id=\"a-gift-card-balance-input\"\n              formControlName=\"balance\" />\n          </mat-form-field>\n        </div>\n      </div>\n      <!-- ApprovedSlipPrinter -->\n      <div class=\"row px-2\" *ngIf=\"allowApprove && allowPrint\">\n        <div class=\"d-flex flex-column col-xs-12 col-sm-12 px-1\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.APPROVAL_SLIP_PRINTER' | teiTextTranslate}}\n          </mat-label>\n          <mat-form-field class=\"a-dropdown  no-label\" appearance=\"outline\">\n            <mat-select formControlName=\"printerID\" required id=\"a-gift-card-printer-id-selection\">\n              <mat-select-trigger>\n                {{getPrinterName(formControls?.printerID?.value)}}\n              </mat-select-trigger>\n              <mat-option class=\"a-dropdown-multiline_options\" *ngFor=\"let printer of printerList\" [id]=\"'a-gift-card-printer-option'+ printer.PrinterID\"\n                [value]=\"printer.PrinterID\">\n                <div class=\"d-flex w-100 flex-column\">\n                  <div class=\"d-flex w-100 justify-content-start align-items-center\">\n                    <span class=\"a-text-secondary mr-2\">{{printer?.Name}}</span>\n                    <span *ngIf=\"printer.Type === 0\"\n                      class=\"a-text-small printer-type\">{{\"PAYMENT_PROCESSOR.RECEIPT.PRIMARY\" |\n                      teiTextTranslate}}</span>\n                    <span *ngIf=\"printer.Type === 1\"\n                      class=\"a-text-small printer-type\">{{\"PAYMENT_PROCESSOR.RECEIPT.BACKUP\" | teiTextTranslate}}</span>\n                  </div>\n                  <span class=\"a-text-small\">{{printer?.PrinterModel}}</span>\n                </div>\n              </mat-option>\n            </mat-select>\n            <mat-error *ngIf=\"formControls.printerID.invalid\">\n              {{'PAYMENT_PROCESSOR.GIFT_CARD.APPROVAL_SLIP_PRINTER_ERROR' | teiTextTranslate}}\n            </mat-error>\n          </mat-form-field>\n        </div>\n      </div>\n      <!-- TotalApproved -->\n      <div class=\"row px-2 mb-1\">\n        <div class=\"d-flex flex-column col-xs-12 col-sm-12 px-1\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.TOTAL_APPROVED' | teiTextTranslate}}\n          </mat-label>\n          <mat-form-field class=\"a-text-primary a-input no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput type=\"tel\" autocomplete=\"off\" [readonly]=\"formControls?.remainingTotal?.value < 0\" (blur)=\"onTotalApprovedBlur()\" teiTwoDigitDecimal\n              placeholder=\"{{'PAYMENT_PROCESSOR.GIFT_CARD.TOTAL_APPROVED' | teiTextTranslate}}\" [maxLength]=\"10\" id=\"a-gift-card-total-approved-input\"\n              class=\"a-input a-input-nolabel\" formControlName=\"totalApproved\" />\n            <mat-error *ngIf=\"formControls.totalApproved.hasError('exceedError')\">\n              {{ 'PAYMENT_PROCESSOR.GIFT_CARD.EXCEED_SIMPLE_ERROR' | teiTextTranslate }}\n            </mat-error>\n          </mat-form-field>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Actions :  approvedPrint -->\n  <div class=\"m-dialog-actions stepper-dialog-button a-button-contained m-dialog-actions-sm\">\n    <button mat-button type=\"submit\" mat-flat-button color=\"accent\" (click)=\"onApprove()\" id=\"a-gift-card-submit\"\n      [disabled]=\"formInValid||!formControls?.giftCardUID?.value || manageLoadingService.isLoading\">\n      <span>{{ paymentButtonTitle | teiTextTranslate }}</span>\n      <span class=\"a-buttontext-right\">{{formControls?.totalApproved?.value | teiCurrencyTranslate }}</span>\n    </button>\n  </div>\n</form>\n",
      styles: ["@media only screen and (max-width: 575px){::ng-deep .gift-card-approved-step .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}::ng-deep .gift-card-approved-step .a-button-inside-input .mat-form-field-flex{padding-right:0}::ng-deep .gift-card-approved-step .a-button-inside-input .mat-form-field-suffix{top:0}::ng-deep .gift-card-approved-step .a-button-inside-input .mat-button{border-radius:0 4px 4px 0;height:100%;line-height:40px}:host-context(.nb-theme-material-dark) ::ng-deep .a-button-inside-input .mat-button{border-left:solid 1px rgba(255,255,255,.08)}:host-context(.nb-theme-material-light) ::ng-deep .a-button-inside-input .mat-button{border-left:solid 1px rgba(0,0,0,.19)}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IGiftCardService']
      }]
    }, {
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: PaymentProcessGenericService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService
    }];
  }, {
    CardNumberInput: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['CardNumberInput', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
      }]
    }],
    printerList: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    totalApproved: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    stepper: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    showGratuity: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    enableTipsOnGiftCard: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    checkDetails: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    selectedDataEmitter: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }],
    closeEmitter: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
class GiftCardReturnComponent {
  constructor(dialogRef, service, data, manageLoadingService, paymentProcessGenericService, translate, currencyService) {
    this.dialogRef = dialogRef;
    this.service = service;
    this.data = data;
    this.manageLoadingService = manageLoadingService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.translate = translate;
    this.currencyService = currencyService;
    this.closeEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.form = new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroup({
      totalAmount: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControl(this.data.totalAmount, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required),
      cardNumber: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControl(null, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required),
      balance: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControl(null, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required),
      giftCardUID: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControl(null, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required)
    });
    this.cardIsValid = false;
  }
  ngOnInit() {
    this.currencySymbol = this.currencyService.getCurrencySymbol();
  }
  ngAfterViewInit() {
    setTimeout(() => {
      this.CardNumberInput.nativeElement.focus();
    });
  }
  absAmount(amount) {
    return Math.abs(amount);
  }
  onCardNumberBlurred() {
    this.onLoadBalanceOfCardNumber();
  }
  onCardNumberEntered() {
    var _this$CardNumberInput2;
    (_this$CardNumberInput2 = this.CardNumberInput.nativeElement) === null || _this$CardNumberInput2 === void 0 ? void 0 : _this$CardNumberInput2.blur();
  }
  onLoadBalanceOfCardNumber(selectedData) {
    var _this = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      var _this$form$value;
      _this.form.updateValueAndValidity();
      const request = new GetGiftCardRequest();
      request.GiftCardID = +((_this$form$value = _this.form.value) === null || _this$form$value === void 0 ? void 0 : _this$form$value.cardNumber);
      if (!request.GiftCardID) {
        return;
      }
      _this.cardIsValid = false;
      _this.manageLoadingService.startLoading();
      try {
        const response = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_35__.firstValueFrom)(_this.service.Get(request));
        if (response.GiftCardUID === '00000000-0000-0000-0000-000000000000') {
          _this.form.controls.cardNumber.setErrors({
            notFound: true
          });
        } else {
          _this.cardIsValid = true;
          _this.form.controls.cardNumber.setErrors(null);
          _this.form.patchValue({
            balance: response.RemainingAmount.toFixed(2),
            giftCardUID: response.GiftCardUID
          });
        }
      } catch (error) {} finally {
        _this.manageLoadingService.finishLoading();
      }
    })();
  }
  onBarcodeScanned(scannedString) {
    if (!scannedString) {
      return;
    }
    if (this.convertedBarcode(scannedString)) {
      var _this$form2;
      (_this$form2 = this.form) === null || _this$form2 === void 0 ? void 0 : _this$form2.controls.cardNumber.setValue(this.convertedBarcode(scannedString), {
        emitEvent: false
      });
    }
    this.onLoadBalanceOfCardNumber();
  }
  convertedBarcode(input) {
    const teggcIndex = input.indexOf("TEGGC");
    if (teggcIndex === -1) {
      return null;
    }
    const firstCaretIndex = input.indexOf("^", teggcIndex);
    if (firstCaretIndex === -1) {
      return null;
    }
    const secondCaretIndex = input.indexOf("^", firstCaretIndex + 1);
    if (secondCaretIndex === -1) {
      return null;
    }
    return input.substring(firstCaretIndex + 1, secondCaretIndex);
  }
  onlyNumber(event) {
    return event.charCode === 8 || event.charCode === 0 ? null : event.charCode >= 48 && event.charCode <= 57;
  }
  close() {
    this.dialogRef.close();
  }
  ProcessPayment() {
    var _this2 = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      var _this2$data$checkDeta, _this2$data$checkDeta2, _this2$data$checkDeta3, _this2$form;
      const request = new PaymentRequest();
      request.PaymentItemID = _this2.data.checkDetails.CheckUID;
      request.PaymentMethodID = TenderTypeID.GiftCertificate;
      request.ApprovedTransactionID = (_this2$data$checkDeta = _this2.data.checkDetails) === null || _this2$data$checkDeta === void 0 ? void 0 : _this2$data$checkDeta.TrxUID;
      request.Amount = _this2.form.value.totalAmount ? Number(_this2.form.value.totalAmount) : 0;
      request.IsApproved = true;
      request.OrderID = _this2.data.checkDetails.OrderSeqID;
      request.ContactID = (_this2$data$checkDeta2 = _this2.data.checkDetails) === null || _this2$data$checkDeta2 === void 0 ? void 0 : (_this2$data$checkDeta3 = _this2$data$checkDeta2.Contact) === null || _this2$data$checkDeta3 === void 0 ? void 0 : _this2$data$checkDeta3.ContactID;
      request.PaymentItemID = _this2.data.checkDetails.CheckUID;
      request.OrderID = _this2.data.checkDetails.OrderSeqID;
      request.GiftCardID = (_this2$form = _this2.form) === null || _this2$form === void 0 ? void 0 : _this2$form.value.giftCardUID;
      _this2.manageLoadingService.startLoading();
      try {
        yield (0,rxjs__WEBPACK_IMPORTED_MODULE_35__.firstValueFrom)(_this2.paymentProcessGenericService.ProcessPayment(request, _this2.dialogRef));
      } catch (error) {} finally {
        _this2.manageLoadingService.finishLoading();
      }
    })();
  }
}
GiftCardReturnComponent.ɵfac = function GiftCardReturnComponent_Factory(t) {
  return new (t || GiftCardReturnComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IGiftCardService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService));
};
GiftCardReturnComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: GiftCardReturnComponent,
  selectors: [["tei-common-payment-processor-gift-card-return"]],
  viewQuery: function GiftCardReturnComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, 5, _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.CardNumberInput = _t.first);
    }
  },
  outputs: {
    closeEmitter: "closeEmitter"
  },
  decls: 45,
  vars: 24,
  consts: [[1, "o-dialog-container", "overflow-hidden"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col", "a-text-h3"], [1, "col-auto"], ["mat-icon-button", "", 1, "a-icon-close", 3, "disabled", "click"], [1, "d-flex", "flex-column", "o-gift-card-return", 3, "formGroup"], [1, "m-dialog-content"], [1, "d-flex", "flex-column"], [1, "row", "px-2"], [1, "col-xs-12", "col-sm-12", "col-md-8", "col-lg-9", "d-flex", "flex-column", "px-1"], [1, "a-text-label"], ["appearance", "outline", "floatLabel", "never", 1, "no-label", "a-button-inside-input"], ["matInput", "", "type", "text", "formControlName", "cardNumber", "id", "a-gift-card-number-input", 1, "a-input", "a-input-nolabel", 3, "blur", "keydown.enter"], ["CardNumberInput", ""], [4, "ngIf"], [1, "col-xs-12", "col-sm-12", "col-md-4", "col-lg-3", "d-flex", "flex-column", "px-1", "balance-input"], ["appearance", "outline", "floatLabel", "never", 1, "no-label"], ["matInput", "", "type", "tel", "readonly", "", "teiTwoDigitDecimal", "", "id", "a-gift-card-balance-input", "formControlName", "balance", 1, "a-input", "a-input-nolabel"], [1, "row", "px-2", "mb-1"], [1, "d-flex", "flex-column", "col-xs-12", "col-sm-12", "px-1"], [1, "d-flex", "a-text-label", "mt-3"], ["appearance", "outline", "floatLabel", "never", 1, "a-text-primary", "a-input", "no-label"], ["matInput", "", "autocomplete", "off", "readonly", "", "teiTwoDigitDecimal", "", "id", "a-gift-card-total-approved-input", "formControlName", "totalAmount", 1, "a-input", "a-input-nolabel", 3, "placeholder", "maxLength"], [1, "m-dialog-actions", "stepper-dialog-button", "a-button-contained", "m-dialog-actions-sm"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", "id", "a-gift-card-submit", 3, "disabled", "click"], [1, "a-buttontext-right"]],
  template: function GiftCardReturnComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4, " Gift Card ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div", 4)(6, "button", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function GiftCardReturnComponent_Template_button_click_6_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](9, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "form", 6)(11, "div", 7)(12, "div", 8)(13, "div", 9)(14, "div", 10)(15, "mat-label", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](17, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "mat-form-field", 12)(19, "input", 13, 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function GiftCardReturnComponent_Template_input_blur_19_listener() {
        return ctx.onCardNumberBlurred();
      })("keydown.enter", function GiftCardReturnComponent_Template_input_keydown_enter_19_listener() {
        return ctx.onCardNumberEntered();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](21, GiftCardReturnComponent_mat_error_21_Template, 3, 3, "mat-error", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](22, "div", 16)(23, "mat-label", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](24);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](25, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](26, "mat-form-field", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](27, "input", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](28, "div", 19)(29, "div", 20)(30, "mat-label", 11)(31, "span", 21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](32);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](33, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](34, "mat-form-field", 22);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](35, "input", 23);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](36, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](37, "div", 24)(38, "button", 25);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function GiftCardReturnComponent_Template_button_click_38_listener() {
        return ctx.ProcessPayment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](39, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](40);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](41, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](42, "span", 26);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](43);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](44, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](17, 12, "PAYMENT_PROCESSOR.GIFT_CARD.CARD_NUMBER"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.form.controls.cardNumber.hasError("notFound"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](25, 14, "PAYMENT_PROCESSOR.GIFT_CARD.BALANCE"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](33, 16, "PAYMENT_PROCESSOR.PROCESS.RETURN_AMOUNT"), "(", ctx.currencySymbol, ")");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](36, 18, "PAYMENT_PROCESSOR.GIFT_CARD.TOTAL_APPROVED"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("maxLength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.form.invalid || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](41, 20, "PAYMENT_PROCESSOR.PROCESS.CONFIRM_RETURN"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("(", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](44, 22, ctx.absAmount(ctx.form == null ? null : ctx.form.value == null ? null : ctx.form.value.totalAmount)), ")");
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyError, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".o-gift-card-return .a-button-inside-input .mat-form-field-flex{padding-right:0}  .o-gift-card-return .a-button-inside-input .mat-form-field-suffix{top:0}  .o-gift-card-return .a-button-inside-input .mat-button{border-radius:0 4px 4px 0;height:100%;line-height:40px}.nb-theme-material-dark[_nghost-%COMP%]     .a-button-inside-input .mat-button, .nb-theme-material-dark   [_nghost-%COMP%]     .a-button-inside-input .mat-button{border-left:solid 1px rgba(255,255,255,.08)}.nb-theme-material-light[_nghost-%COMP%]     .a-button-inside-input .mat-button, .nb-theme-material-light   [_nghost-%COMP%]     .a-button-inside-input .mat-button{border-left:solid 1px rgba(0,0,0,.19)}.a-buttontext-right[_ngcontent-%COMP%]{top:2px}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](GiftCardReturnComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-gift-card-return',
      template: "<div class=\"o-dialog-container overflow-hidden\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col a-text-h3\">\n        Gift Card\n      </div>\n      <div class=\"col-auto\">\n        <button mat-icon-button class=\"a-icon-close\" (click)=\"close()\" [disabled]=\"manageLoadingService.isLoading\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <form class=\"d-flex flex-column  o-gift-card-return\" [formGroup]=\"form\">\n    <div class=\"m-dialog-content\">\n      <div class=\"d-flex flex-column\">\n\n        <div class=\"row px-2\">\n          <div class=\"col-xs-12 col-sm-12 col-md-8 col-lg-9 d-flex flex-column px-1\">\n            <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.CARD_NUMBER' | teiTextTranslate}}\n            </mat-label>\n            <mat-form-field class=\"no-label a-button-inside-input\" appearance=\"outline\" floatLabel=\"never\">\n              <input #CardNumberInput matInput type=\"text\" class=\"a-input a-input-nolabel\" formControlName=\"cardNumber\"\n                (blur)=\"onCardNumberBlurred()\" (keydown.enter)=\"onCardNumberEntered()\" id=\"a-gift-card-number-input\" />\n              <mat-error *ngIf=\"form.controls.cardNumber.hasError('notFound')\"> {{\n                'PAYMENT_PROCESSOR.GIFT_CARD.GIFT_CARD_NOT_FOUND' | teiTextTranslate }}\n              </mat-error>\n            </mat-form-field>\n          </div>\n\n          <div class=\"col-xs-12 col-sm-12 col-md-4 col-lg-3 d-flex flex-column px-1 balance-input\">\n            <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.BALANCE' | teiTextTranslate}}\n            </mat-label>\n            <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n              <input matInput type=\"tel\" readonly teiTwoDigitDecimal class=\"a-input a-input-nolabel\"\n                id=\"a-gift-card-balance-input\" formControlName=\"balance\" />\n            </mat-form-field>\n          </div>\n        </div>\n\n        <div class=\"row px-2 mb-1\">\n          <div class=\"d-flex flex-column col-xs-12 col-sm-12 px-1\">\n            <mat-label class=\"a-text-label\"><span class=\"d-flex a-text-label mt-3\">{{\n                'PAYMENT_PROCESSOR.PROCESS.RETURN_AMOUNT' | teiTextTranslate }}({{currencySymbol}})</span>\n            </mat-label>\n            <mat-form-field class=\"a-text-primary a-input no-label\" appearance=\"outline\" floatLabel=\"never\">\n              <input matInput autocomplete=\"off\" readonly teiTwoDigitDecimal\n                placeholder=\"{{'PAYMENT_PROCESSOR.GIFT_CARD.TOTAL_APPROVED' | teiTextTranslate}}\" [maxLength]=\"10\"\n                id=\"a-gift-card-total-approved-input\" class=\"a-input a-input-nolabel\" formControlName=\"totalAmount\" />\n\n            </mat-form-field>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"m-dialog-actions stepper-dialog-button a-button-contained m-dialog-actions-sm\">\n      <button mat-button type=\"submit\" mat-flat-button color=\"accent\" (click)=\"ProcessPayment()\" id=\"a-gift-card-submit\"\n        [disabled]=\"form.invalid || manageLoadingService.isLoading\">\n        <span>{{ 'PAYMENT_PROCESSOR.PROCESS.CONFIRM_RETURN' | teiTextTranslate }}</span>\n        <span class=\"a-buttontext-right\">({{absAmount(form?.value?.totalAmount) | teiCurrencyTranslate }})</span>\n      </button>\n    </div>\n  </form>\n</div>\n",
      styles: ["::ng-deep .o-gift-card-return .a-button-inside-input .mat-form-field-flex{padding-right:0}::ng-deep .o-gift-card-return .a-button-inside-input .mat-form-field-suffix{top:0}::ng-deep .o-gift-card-return .a-button-inside-input .mat-button{border-radius:0 4px 4px 0;height:100%;line-height:40px}:host-context(.nb-theme-material-dark) ::ng-deep .a-button-inside-input .mat-button{border-left:solid 1px rgba(255,255,255,.08)}:host-context(.nb-theme-material-light) ::ng-deep .a-button-inside-input .mat-button{border-left:solid 1px rgba(0,0,0,.19)}.a-buttontext-right{top:2px}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IGiftCardService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: PaymentProcessGenericService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService
    }, {
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }];
  }, {
    CardNumberInput: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['CardNumberInput', {
        read: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef
      }]
    }],
    closeEmitter: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
class PaymentVoidRequest {}
class PaymentVoidResponse {}
var VoidPaymentPages;
(function (VoidPaymentPages) {
  VoidPaymentPages[VoidPaymentPages["VoidPayment"] = 0] = "VoidPayment";
  VoidPaymentPages[VoidPaymentPages["PaymentDevice"] = 1] = "PaymentDevice";
})(VoidPaymentPages || (VoidPaymentPages = {}));
class GiftCardCommitComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  constructor(errorStateMatcher, formBuilder, currencyService, manageLoadingService, service, paymentProcessGenericService) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.formBuilder = formBuilder;
    this.currencyService = currencyService;
    this.manageLoadingService = manageLoadingService;
    this.service = service;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.closeEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
  }
  ngOnInit() {
    var _this$selectedData, _this$selectedData2, _this$selectedData3, _this$selectedData4;
    this.currencySymbol = this.currencyService.getCurrencySymbol();
    this.form = this.formBuilder.group({
      totalApproved: [(_this$selectedData = this.selectedData) === null || _this$selectedData === void 0 ? void 0 : _this$selectedData.TotalApproved, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required],
      cardNumber: [(_this$selectedData2 = this.selectedData) === null || _this$selectedData2 === void 0 ? void 0 : _this$selectedData2.CardNumber],
      balance: [(_this$selectedData3 = this.selectedData) === null || _this$selectedData3 === void 0 ? void 0 : _this$selectedData3.Balance],
      gratuityValue: ['0.00'],
      gratuityPercent: ['0.00'],
      paymentTotal: [(_this$selectedData4 = this.selectedData) === null || _this$selectedData4 === void 0 ? void 0 : _this$selectedData4.TotalApproved, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required],
      giftCardUID: ['']
    });
    if (!this.selectedData) {
      this.onLoadBalanceOfCardNumber();
    }
  }
  onLoadBalanceOfCardNumber() {
    var _this$approvedPayment;
    const request = new GetGiftCardRequest();
    request.GiftCardID = (_this$approvedPayment = this.approvedPaymentsTendered) === null || _this$approvedPayment === void 0 ? void 0 : _this$approvedPayment.GiftCardID;
    if (!request.GiftCardID) {
      return;
    }
    this.manageLoadingService.startLoading();
    this.subscription.add(this.service.Get(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).subscribe({
      next: response => {
        if (response.GiftCardUID === '00000000-0000-0000-0000-000000000000') {
          this.formControls.cardNumber.setErrors({
            notFound: true
          });
        } else {
          var _this$approvedPayment2, _this$approvedPayment3, _this$approvedPayment4;
          this.selectedData = new SelectedData();
          this.selectedData.Balance = response.RemainingAmount + ((_this$approvedPayment2 = this.approvedPaymentsTendered) === null || _this$approvedPayment2 === void 0 ? void 0 : _this$approvedPayment2.Amount);
          this.selectedData.CardNumber = request.GiftCardID.toString();
          this.selectedData.TotalApproved = (_this$approvedPayment3 = this.approvedPaymentsTendered) === null || _this$approvedPayment3 === void 0 ? void 0 : _this$approvedPayment3.Amount;
          this.selectedData.TransactionID = (_this$approvedPayment4 = this.approvedPaymentsTendered) === null || _this$approvedPayment4 === void 0 ? void 0 : _this$approvedPayment4.TrxUID;
          this.selectedData.GiftCardUID = response.GiftCardUID;
          this.setForm();
        }
      }
    }));
  }
  ngOnChanges(changes) {
    if (changes.selectedData && !changes.firstChange) {
      if (!this.selectedData) {
        this.onLoadBalanceOfCardNumber();
      } else {
        this.setForm();
      }
    }
  }
  setForm() {
    var _this$selectedData5;
    this.form.patchValue({
      totalApproved: this.selectedData.TotalApproved,
      cardNumber: this.selectedData.CardNumber,
      balance: this.selectedData.Balance,
      paymentTotal: this.selectedData.TotalApproved,
      giftCardUID: (_this$selectedData5 = this.selectedData) === null || _this$selectedData5 === void 0 ? void 0 : _this$selectedData5.GiftCardUID
    });
  }
  onlyNumber(event) {
    return event.charCode === 8 || event.charCode === 0 ? null : event.charCode >= 48 && event.charCode <= 57;
  }
  get formControls() {
    var _this$form3;
    return (_this$form3 = this.form) === null || _this$form3 === void 0 ? void 0 : _this$form3.controls;
  }
  valueConversion(field) {
    const control = this.form.get(field);
    control.patchValue(Number(control.value).toFixed(2));
    control.setErrors(null);
  }
  onGratuityValueInput() {
    var _this$formControls29, _this$formControls29$, _this$formControls30, _this$formControls30$, _this$formControls31, _this$formControls31$, _this$formControls32, _this$formControls32$;
    const totalApproved = this.returnValidValue((_this$formControls29 = this.formControls) === null || _this$formControls29 === void 0 ? void 0 : (_this$formControls29$ = _this$formControls29.totalApproved) === null || _this$formControls29$ === void 0 ? void 0 : _this$formControls29$.value);
    const gratuityValue = this.returnValidValue((_this$formControls30 = this.formControls) === null || _this$formControls30 === void 0 ? void 0 : (_this$formControls30$ = _this$formControls30.gratuityValue) === null || _this$formControls30$ === void 0 ? void 0 : _this$formControls30$.value);
    const percent = totalApproved ? (gratuityValue / totalApproved * 100).toFixed(2) : '0.00';
    (_this$formControls31 = this.formControls) === null || _this$formControls31 === void 0 ? void 0 : (_this$formControls31$ = _this$formControls31.gratuityPercent) === null || _this$formControls31$ === void 0 ? void 0 : _this$formControls31$.setValue(percent);
    (_this$formControls32 = this.formControls) === null || _this$formControls32 === void 0 ? void 0 : (_this$formControls32$ = _this$formControls32.paymentTotal) === null || _this$formControls32$ === void 0 ? void 0 : _this$formControls32$.setValue((totalApproved + gratuityValue).toFixed(2));
    this.checkPaymentTotalValidation();
  }
  onTotalApprovedAndGratuityInput() {
    var _this$formControls33, _this$formControls33$, _this$formControls34, _this$formControls34$, _this$formControls35, _this$formControls35$, _this$formControls36, _this$formControls36$;
    const totalApproved = this.returnValidValue((_this$formControls33 = this.formControls) === null || _this$formControls33 === void 0 ? void 0 : (_this$formControls33$ = _this$formControls33.totalApproved) === null || _this$formControls33$ === void 0 ? void 0 : _this$formControls33$.value);
    const gratuityPercent = this.returnValidValue((_this$formControls34 = this.formControls) === null || _this$formControls34 === void 0 ? void 0 : (_this$formControls34$ = _this$formControls34.gratuityPercent) === null || _this$formControls34$ === void 0 ? void 0 : _this$formControls34$.value);
    const gratuityValue = Number((totalApproved * gratuityPercent / 100).toFixed(2));
    (_this$formControls35 = this.formControls) === null || _this$formControls35 === void 0 ? void 0 : (_this$formControls35$ = _this$formControls35.gratuityValue) === null || _this$formControls35$ === void 0 ? void 0 : _this$formControls35$.setValue(gratuityValue.toFixed(2));
    (_this$formControls36 = this.formControls) === null || _this$formControls36 === void 0 ? void 0 : (_this$formControls36$ = _this$formControls36.paymentTotal) === null || _this$formControls36$ === void 0 ? void 0 : _this$formControls36$.setValue((totalApproved + gratuityValue).toFixed(2));
    this.checkPaymentTotalValidation();
  }
  returnValidValue(value) {
    if (!value) {
      value = '0.00';
    }
    return Number(value.toString().replace(/[%]/g, ''));
  }
  checkPaymentTotalValidation() {
    var _this$formControls37, _this$formControls37$;
    (_this$formControls37 = this.formControls) === null || _this$formControls37 === void 0 ? void 0 : (_this$formControls37$ = _this$formControls37.paymentTotal) === null || _this$formControls37$ === void 0 ? void 0 : _this$formControls37$.setErrors(null);
    if (this.hasExceedError) {
      var _this$formControls38, _this$formControls38$;
      (_this$formControls38 = this.formControls) === null || _this$formControls38 === void 0 ? void 0 : (_this$formControls38$ = _this$formControls38.paymentTotal) === null || _this$formControls38$ === void 0 ? void 0 : _this$formControls38$.setErrors({
        exceedError: true
      });
    }
    this.form.markAllAsTouched();
  }
  onCommit() {
    var _this$formControls39, _this$formControls39$, _this$approvedPayment5, _this$formControls40, _this$formControls40$, _this$formControls41, _this$formControls41$;
    if (this.form.invalid) {
      return;
    }
    if (!((_this$formControls39 = this.formControls) !== null && _this$formControls39 !== void 0 && (_this$formControls39$ = _this$formControls39.giftCardUID) !== null && _this$formControls39$ !== void 0 && _this$formControls39$.value)) {
      return;
    }
    const request = new PaymentRequest();
    request.PaymentItemID = this.checkDetails.CheckUID;
    request.PaymentMethodID = TenderTypeID.GiftCertificate;
    request.ApprovedTransactionID = (_this$approvedPayment5 = this.approvedPaymentsTendered) === null || _this$approvedPayment5 === void 0 ? void 0 : _this$approvedPayment5.TrxUID;
    request.Amount = this.returnValidValue(this.formControls.paymentTotal.value);
    request.TipAmount = this.returnValidValue((_this$formControls40 = this.formControls) === null || _this$formControls40 === void 0 ? void 0 : (_this$formControls40$ = _this$formControls40.gratuityValue) === null || _this$formControls40$ === void 0 ? void 0 : _this$formControls40$.value);
    request.GiftCardID = (_this$formControls41 = this.formControls) === null || _this$formControls41 === void 0 ? void 0 : (_this$formControls41$ = _this$formControls41.giftCardUID) === null || _this$formControls41$ === void 0 ? void 0 : _this$formControls41$.value;
    request.IsApproved = true;
    request.OrderID = this.checkDetails.OrderSeqID;
    this.manageLoadingService.startLoading();
    this.subscription.add(this.paymentProcessGenericService.ProcessPayment(request, null, false).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).subscribe(result => {
      if (result !== null && result !== void 0 && result.Success) {
        this.closeEmitter.emit();
      }
    }));
  }
  onVoid() {
    var _this$checkDetails12;
    const request = new PaymentVoidRequest();
    request.TrxIDs = [this.selectedData.TransactionID];
    request.PaymentItemID = (_this$checkDetails12 = this.checkDetails) === null || _this$checkDetails12 === void 0 ? void 0 : _this$checkDetails12.CheckUID;
    request.PaymentInitiatorUID = this.checkDetails.PaymentRecordUID;
    this.manageLoadingService.startLoading();
    this.subscription.add(this.paymentProcessGenericService.voidPayments(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).subscribe(result => {
      if (result) {
        this.closeEmitter.emit();
      }
    }));
  }
  get hasExceedError() {
    var _this$formControls42, _this$formControls42$, _this$formControls43, _this$formControls43$;
    const totalApproved = this.returnValidValue((_this$formControls42 = this.formControls) === null || _this$formControls42 === void 0 ? void 0 : (_this$formControls42$ = _this$formControls42.paymentTotal) === null || _this$formControls42$ === void 0 ? void 0 : _this$formControls42$.value);
    const balance = this.returnValidValue((_this$formControls43 = this.formControls) === null || _this$formControls43 === void 0 ? void 0 : (_this$formControls43$ = _this$formControls43.balance) === null || _this$formControls43$ === void 0 ? void 0 : _this$formControls43$.value);
    return totalApproved > balance;
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
GiftCardCommitComponent.ɵfac = function GiftCardCommitComponent_Factory(t) {
  return new (t || GiftCardCommitComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IGiftCardService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'));
};
GiftCardCommitComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: GiftCardCommitComponent,
  selectors: [["tei-common-payment-processor-gift-card-commit"]],
  inputs: {
    stepper: "stepper",
    showGratuity: "showGratuity",
    checkDetails: "checkDetails",
    selectedData: "selectedData",
    enableTipsOnGiftCard: "enableTipsOnGiftCard",
    approvedPaymentsTendered: "approvedPaymentsTendered"
  },
  outputs: {
    closeEmitter: "closeEmitter"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(GiftCardCommitComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
  decls: 45,
  vars: 32,
  consts: [[1, "d-flex", "flex-column", "gift-card-commit-step", 3, "formGroup"], [1, "m-dialog-content"], [1, "d-flex", "flex-column"], [1, "pt-2", "pb-3", "d-flex", "flex-row"], [1, "d-flex", "flex-column", "flex-grow-1"], [1, "a-text-primary"], [1, "a-text-secondary"], ["type", "button", "mat-stroked-button", "", 3, "disabled", "click"], [1, "row", "px-2"], [1, "col-xs-12", "col-sm-12", "col-md-8", "col-lg-9", "d-flex", "flex-column", "px-1"], [1, "a-text-label"], ["appearance", "outline", "floatLabel", "never", 1, "no-label"], ["matInput", "", "type", "tel", "readonly", "", "formControlName", "cardNumber", 1, "a-input", "a-input-nolabel"], [1, "col-xs-12", "col-sm-12", "col-md-4", "col-lg-3", "d-flex", "flex-column", "px-1", "balance-input"], ["matInput", "", "type", "tel", "readonly", "", "teiTwoDigitDecimal", "", "formControlName", "balance", 1, "a-input", "a-input-nolabel", 3, "maxLength", "blur"], ["class", "row px-2", 4, "ngIf"], [1, "d-flex", "flex-column", "col-xs-12", "col-sm-12", "px-1"], ["matInput", "", "type", "tel", "readonly", "", "teiTwoDigitDecimal", "", "formControlName", "paymentTotal", 1, "a-input", "a-input-nolabel", 3, "blur"], [4, "ngIf"], [1, "m-dialog-actions", "stepper-dialog-button", "a-button-contained", "m-dialog-actions-sm"], ["mat-button", "", "type", "button", "mat-flat-button", "", "color", "accent", 3, "disabled", "click"], [1, "a-buttontext-right"], [1, "col-xs-12", "col-sm-12", "col-md-6", "col-lg-6", "d-flex", "flex-column", "px-1", "custom-input"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "formControlName", "gratuityValue", 1, "a-input", "a-input-nolabel", 3, "placeholder", "maxLength", "blur", "input"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "formControlName", "gratuityPercent", 1, "a-input", "a-input-nolabel", 3, "placeholder", "blur", "input"]],
  template: function GiftCardCommitComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4)(5, "div", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](10, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "button", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function GiftCardCommitComponent_Template_button_click_11_listener() {
        return ctx.onVoid();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](13, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "div", 8)(15, "div", 9)(16, "mat-label", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](18, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "mat-form-field", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](20, "input", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](21, "div", 13)(22, "mat-label", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](23);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](24, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](25, "mat-form-field", 11)(26, "input", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function GiftCardCommitComponent_Template_input_blur_26_listener() {
        return ctx.valueConversion("balance");
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](27, GiftCardCommitComponent_div_27_Template, 15, 14, "div", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](28, "div", 8)(29, "div", 16)(30, "mat-label", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](31);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](32, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](33, "mat-form-field", 11)(34, "input", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function GiftCardCommitComponent_Template_input_blur_34_listener() {
        return ctx.valueConversion("paymentTotal");
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](35, GiftCardCommitComponent_mat_error_35_Template, 3, 3, "mat-error", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](36, "div")(37, "div", 19)(38, "button", 20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function GiftCardCommitComponent_Template_button_click_38_listener() {
        return ctx.onCommit();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](39, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](40);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](41, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](42, "span", 21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](43);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](44, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](7, 16, ctx.formControls == null ? null : ctx.formControls.totalApproved == null ? null : ctx.formControls.totalApproved.value), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](10, 18, "PAYMENT_PROCESSOR.GIFT_CARD.TOTAL_APPROVED"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](13, 20, "PAYMENT_PROCESSOR.GIFT_CARD.VOID"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](18, 22, "PAYMENT_PROCESSOR.GIFT_CARD.CARD_NUMBER"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](24, 24, "PAYMENT_PROCESSOR.GIFT_CARD.BALANCE"), " (", ctx.currencySymbol, ") ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("maxLength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.showGratuity);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](32, 26, "PAYMENT_PROCESSOR.GIFT_CARD.PAYMENT_TOTAL"), " (", ctx.currencySymbol, ") ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls == null ? null : ctx.formControls.paymentTotal == null ? null : ctx.formControls.paymentTotal.hasError("exceedError"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.form.invalid || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](41, 28, "PAYMENT_PROCESSOR.ON_ACCOUNT.COMMIT_PAYMENT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](44, 30, ctx.formControls == null ? null : ctx.formControls.paymentTotal == null ? null : ctx.formControls.paymentTotal.value));
    }
  },
  dependencies: [_angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyError, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: ["@media only screen and (max-width: 575px){  .gift-card-commit-step .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](GiftCardCommitComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-gift-card-commit',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(GiftCardCommitComponent)],
      template: "<form class=\"d-flex flex-column gift-card-commit-step\" [formGroup]=\"form\">\n  <div class=\"m-dialog-content\">\n    <div class=\"d-flex flex-column\">\n      <!-- Total Approved -->\n      <div class=\"pt-2 pb-3 d-flex flex-row \">\n        <div class=\"d-flex flex-column flex-grow-1\">\n          <div class=\"a-text-primary\">\n            {{ formControls?.totalApproved?.value | teiCurrencyTranslate }}\n          </div>\n          <div class=\"a-text-secondary\">\n            {{ 'PAYMENT_PROCESSOR.GIFT_CARD.TOTAL_APPROVED' | teiTextTranslate }}\n          </div>\n        </div>\n        <button type=\"button\" mat-stroked-button (click)=\"onVoid()\" [disabled]=\"manageLoadingService.isLoading\">\n          {{'PAYMENT_PROCESSOR.GIFT_CARD.VOID' | teiTextTranslate}}\n        </button>\n      </div>\n      <div class=\"row px-2\">\n        <div class=\"col-xs-12 col-sm-12 col-md-8 col-lg-9 d-flex flex-column px-1\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.CARD_NUMBER' | teiTextTranslate}}\n          </mat-label>\n          <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput type=\"tel\" readonly class=\"a-input a-input-nolabel\" formControlName=\"cardNumber\" />\n          </mat-form-field>\n        </div>\n        <div class=\"col-xs-12 col-sm-12 col-md-4 col-lg-3 d-flex flex-column px-1 balance-input\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.BALANCE' | teiTextTranslate}} ({{currencySymbol}})\n          </mat-label>\n          <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput type=\"tel\" readonly teiTwoDigitDecimal [maxLength]=\"10\" class=\"a-input a-input-nolabel\"\n              formControlName=\"balance\" (blur)=\"valueConversion('balance')\" />\n          </mat-form-field>\n        </div>\n      </div>\n      <!-- Gratuity -->\n      <div class=\"row px-2\" *ngIf=\"showGratuity\">\n        <!-- GratuityValue -->\n        <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6 d-flex flex-column px-1 custom-input\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.GRATUITY' | teiTextTranslate}} ({{currencySymbol}})\n          </mat-label>\n          <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput type=\"tel\" autocomplete=\"off\" (blur)=\"valueConversion('gratuityValue')\"\n              placeholder=\"{{'PAYMENT_PROCESSOR.GIFT_CARD.GRATUITY' | teiTextTranslate}}\" teiTwoDigitDecimal\n              [maxLength]=\"10\" class=\"a-input a-input-nolabel\" formControlName=\"gratuityValue\"\n              (input)=\"onGratuityValueInput()\" />\n          </mat-form-field>\n        </div>\n        <!-- GratuityPercent -->\n        <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6 d-flex flex-column px-1 custom-input\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.GRATUITY' | teiTextTranslate}} (%)\n          </mat-label>\n          <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput type=\"tel\" autocomplete=\"off\" (blur)=\"valueConversion('gratuityValue')\"\n              placeholder=\"{{'PAYMENT_PROCESSOR.GIFT_CARD.GRATUITY' | teiTextTranslate}}\" teiTwoDigitDecimal\n              class=\"a-input a-input-nolabel\" formControlName=\"gratuityPercent\"\n              (input)=\"onTotalApprovedAndGratuityInput()\" />\n          </mat-form-field>\n        </div>\n      </div>\n      <!-- PaymentTotal -->\n      <div class=\"row px-2\">\n        <div class=\"d-flex flex-column col-xs-12 col-sm-12 px-1\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.GIFT_CARD.PAYMENT_TOTAL' | teiTextTranslate}} ({{currencySymbol}})\n          </mat-label>\n          <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput type=\"tel\" readonly (blur)=\"valueConversion('paymentTotal')\" teiTwoDigitDecimal\n              class=\"a-input a-input-nolabel\" formControlName=\"paymentTotal\" />\n            <mat-error *ngIf=\"formControls?.paymentTotal?.hasError('exceedError')\">\n              {{ 'PAYMENT_PROCESSOR.GIFT_CARD.EXCEED_REMAINING_BALANCE_ERROR' | teiTextTranslate }}\n            </mat-error>\n          </mat-form-field>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Actions :  -->\n  <div>\n    <div class=\"m-dialog-actions stepper-dialog-button a-button-contained m-dialog-actions-sm\">\n      <button mat-button type=\"button\" mat-flat-button color=\"accent\" (click)=\"onCommit()\"\n        [disabled]=\"form.invalid || manageLoadingService.isLoading\">\n        <span>\n          {{'PAYMENT_PROCESSOR.ON_ACCOUNT.COMMIT_PAYMENT' | teiTextTranslate}}\n        </span>\n        <span class=\"a-buttontext-right\">{{formControls?.paymentTotal?.value | teiCurrencyTranslate }}</span>\n      </button>\n    </div>\n  </div>\n</form>\n",
      styles: ["@media only screen and (max-width: 575px){::ng-deep .gift-card-commit-step .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IGiftCardService']
      }]
    }, {
      type: PaymentProcessGenericService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }];
  }, {
    stepper: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    showGratuity: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    checkDetails: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    selectedData: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    enableTipsOnGiftCard: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    approvedPaymentsTendered: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    closeEmitter: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
class GiftCardPayComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  get approvedPaymentsTendered() {
    var _this$checkDetails13;
    return (_this$checkDetails13 = this.checkDetails) === null || _this$checkDetails13 === void 0 ? void 0 : _this$checkDetails13.PaymentsTendered.filter(p => p.TenderTypeID === TenderTypeID.GiftCertificate && p.Status === PaymentsTenderedStatus.Approved)[0];
  }
  constructor(errorStateMatcher, giftCardData, manageLoadingService, dialogRef, paymentProcessGenericService) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.giftCardData = giftCardData;
    this.manageLoadingService = manageLoadingService;
    this.dialogRef = dialogRef;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.printerList = [];
    this.enableTipsOnGiftCard = false;
  }
  ngOnInit() {
    this.loadDataFromDialogInput();
  }
  loadDataFromDialogInput() {
    if (!this.giftCardData) {
      return;
    }
    this.showGratuity = this.giftCardData.showGratuity;
    this.totalApproved = this.giftCardData.total;
    this.printerList = this.giftCardData.printerList;
    this.enableTipsOnGiftCard = this.giftCardData.enableTipsOnGiftCard;
    this.subscription.add(this.paymentProcessGenericService.changeCheckDetailsSubject.subscribe(checkDetail => {
      this.checkDetails = checkDetail;
    }));
  }
  close() {
    this.dialogRef.close();
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
GiftCardPayComponent.ɵfac = function GiftCardPayComponent_Factory(t) {
  return new (t || GiftCardPayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'));
};
GiftCardPayComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: GiftCardPayComponent,
  selectors: [["tei-common-payment-processor-gift-card-pay"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(GiftCardPayComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 18,
  vars: 16,
  consts: [[1, "m-auto", "o-dialog-container", "d-flex", "flex-column"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col"], [1, "a-text-h3"], [1, "col-auto"], ["type", "button", "mat-icon-button", "", 1, "a-icon-close", 3, "disabled", "click"], [1, "gift-card-stepper", 3, "selectedIndex"], ["stepper", ""], [3, "stepper", "printerList", "totalApproved", "checkDetails", "showGratuity", "enableTipsOnGiftCard", "selectedDataEmitter", "closeEmitter"], [3, "stepper", "showGratuity", "checkDetails", "selectedData", "approvedPaymentsTendered", "closeEmitter"]],
  template: function GiftCardPayComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "section", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 5)(8, "button", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function GiftCardPayComponent_Template_button_click_8_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](11, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "mat-horizontal-stepper", 7, 8)(14, "mat-step")(15, "tei-common-payment-processor-gift-card-approve", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("selectedDataEmitter", function GiftCardPayComponent_Template_tei_common_payment_processor_gift_card_approve_selectedDataEmitter_15_listener($event) {
        return ctx.selectedData = $event;
      })("closeEmitter", function GiftCardPayComponent_Template_tei_common_payment_processor_gift_card_approve_closeEmitter_15_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "mat-step")(17, "tei-common-payment-processor-gift-card-commit", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("closeEmitter", function GiftCardPayComponent_Template_tei_common_payment_processor_gift_card_commit_closeEmitter_17_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
    }
    if (rf & 2) {
      const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 14, "PAYMENT_PROCESSOR.GIFT_CARD.GIFT_CARD"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("selectedIndex", ctx.approvedPaymentsTendered ? 1 : 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("stepper", _r0)("printerList", ctx.printerList)("totalApproved", ctx.totalApproved)("checkDetails", ctx.checkDetails)("showGratuity", ctx.showGratuity)("enableTipsOnGiftCard", ctx.enableTipsOnGiftCard);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("stepper", _r0)("showGratuity", ctx.showGratuity)("checkDetails", ctx.checkDetails)("selectedData", ctx.selectedData)("approvedPaymentsTendered", ctx.approvedPaymentsTendered);
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStep, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepper, GiftCardApproveComponent, GiftCardCommitComponent, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe],
  styles: [".gift-card-pay-actions[_ngcontent-%COMP%]   .payment-amount[_ngcontent-%COMP%]{position:absolute;right:20px}.m-gift-card[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .mat-icon-gray[_ngcontent-%COMP%]{color:#959595}  .gift-card-pay-dialog .mat-dialog-container{overflow:hidden;padding:0}  .gift-card-pay-dialog .balance-input .mat-form-field-infix{width:100px}  .gift-card-pay-dialog .custom-input .mat-form-field-infix{width:100%}  .printer-type{padding:2px;border-radius:3px;background:rgb(14,149,202)}  .gift-card-pay-dialog .mat-horizontal-stepper-header-container{display:none}  .gift-card-pay-dialog .mat-horizontal-content-container{padding:unset}  .gift-card-pay-dialog .mat-horizontal-content-container .o-dialog-container{margin:unset;-webkit-user-select:none;-moz-user-select:none;user-select:none}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](GiftCardPayComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-gift-card-pay',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(GiftCardPayComponent)],
      template: "<section class=\"m-auto o-dialog-container d-flex flex-column\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col\">\n        <div class=\"a-text-h3\">{{ 'PAYMENT_PROCESSOR.GIFT_CARD.GIFT_CARD' | teiTextTranslate}}</div>\n      </div>\n      <div class=\"col-auto\">\n        <button type=\"button\" class=\"a-icon-close\" mat-icon-button (click)=\"close()\"\n          [disabled]=\"manageLoadingService.isLoading\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <mat-horizontal-stepper #stepper class=\"gift-card-stepper\" [selectedIndex]=\"approvedPaymentsTendered ? 1 : 0\">\n    <mat-step>\n      <tei-common-payment-processor-gift-card-approve [stepper]=\"stepper\" [printerList]=\"printerList\"\n        [totalApproved]=\"totalApproved\" [checkDetails]=\"checkDetails\" [showGratuity]=\"showGratuity\" [enableTipsOnGiftCard]=\"enableTipsOnGiftCard\"\n        (selectedDataEmitter)=\"selectedData = $event\" (closeEmitter)=\"close()\">\n      </tei-common-payment-processor-gift-card-approve>\n    </mat-step>\n    <mat-step>\n      <tei-common-payment-processor-gift-card-commit [stepper]=\"stepper\" [showGratuity]=\"showGratuity\"\n        [checkDetails]=\"checkDetails\" [selectedData]=\"selectedData\"\n        [approvedPaymentsTendered]=\"approvedPaymentsTendered\" (closeEmitter)=\"close()\">\n      </tei-common-payment-processor-gift-card-commit>\n    </mat-step>\n  </mat-horizontal-stepper>\n</section>",
      styles: [".gift-card-pay-actions .payment-amount{position:absolute;right:20px}.m-gift-card mat-icon .mat-icon-gray{color:#959595}::ng-deep .gift-card-pay-dialog .mat-dialog-container{overflow:hidden;padding:0}::ng-deep .gift-card-pay-dialog .balance-input .mat-form-field-infix{width:100px}::ng-deep .gift-card-pay-dialog .custom-input .mat-form-field-infix{width:100%}::ng-deep .printer-type{padding:2px;border-radius:3px;background:rgb(14,149,202)}::ng-deep .gift-card-pay-dialog .mat-horizontal-stepper-header-container{display:none}::ng-deep .gift-card-pay-dialog .mat-horizontal-content-container{padding:unset}::ng-deep .gift-card-pay-dialog .mat-horizontal-content-container .o-dialog-container{margin:unset;-webkit-user-select:none;-moz-user-select:none;user-select:none}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }];
  }, null);
})();
class GiftCardService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor/GiftCards';
  }
  Get(request) {
    const apiUrl = this.serviceUrl + '';
    return this.http.get(apiUrl, {
      params: request
    });
  }
}
GiftCardService.ɵfac = function GiftCardService_Factory(t) {
  return new (t || GiftCardService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
GiftCardService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: GiftCardService,
  factory: GiftCardService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](GiftCardService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
class VoidPaymentService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor/payment/void';
  }
  Post(request) {
    const apiUrl = this.serviceUrl;
    return this.http.post(apiUrl, request);
  }
  CreditCard(request) {
    const apiUrl = this.serviceUrl + '/CreditCard';
    return this.http.post(apiUrl, request);
  }
}
VoidPaymentService.ɵfac = function VoidPaymentService_Factory(t) {
  return new (t || VoidPaymentService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
VoidPaymentService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: VoidPaymentService,
  factory: VoidPaymentService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](VoidPaymentService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
const MATERIAL_MODULES$e = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepperModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule];
const COMPONENTS$e = [GiftCardPayComponent, GiftCardApproveComponent, GiftCardCommitComponent, GiftCardReturnComponent];
const COMMON_MODULES$a = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$c = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
const TEI_MATERIAL_MODULES$a = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.BarcodeScannerModule];
class GiftCardPayModule {}
GiftCardPayModule.ɵfac = function GiftCardPayModule_Factory(t) {
  return new (t || GiftCardPayModule)();
};
GiftCardPayModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: GiftCardPayModule
});
GiftCardPayModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IGiftCardService',
    useClass: GiftCardService
  }, {
    provide: 'IVoidPaymentService',
    useClass: VoidPaymentService
  }, {
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }],
  imports: [MATERIAL_MODULES$e, COMMON_MODULES$a, TEI_MATERIAL_MODULES$a, TEI_CORE_MODULES$c, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepperModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.BarcodeScannerModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](GiftCardPayModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$e],
      imports: [...MATERIAL_MODULES$e, ...COMMON_MODULES$a, ...TEI_MATERIAL_MODULES$a, ...TEI_CORE_MODULES$c],
      exports: [...COMMON_MODULES$a, ...MATERIAL_MODULES$e, ...TEI_MATERIAL_MODULES$a, ...TEI_CORE_MODULES$c, ...COMPONENTS$e],
      providers: [{
        provide: 'IGiftCardService',
        useClass: GiftCardService
      }, {
        provide: 'IVoidPaymentService',
        useClass: VoidPaymentService
      }, {
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }]
    }]
  }], null, null);
})();
class AccountQuickSearchComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  constructor(errorStateMatcher, formBuilder) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.formBuilder = formBuilder;
    this.quickSearchValue = {};
    this.accountList = Array();
    this.accountItemClickEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.removeAccountItemClickEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.selectedAccountItemEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    super.writeValue(this.selectedAccountItem);
  }
  valueConversion(field) {
    const control = this.form.get(field);
    if (control.invalid) {
      this.onAccountItemChange(null);
    }
  }
  ngOnInit() {
    this.form = this.formBuilder.group({
      quickSearchValue: [null],
      accountName: [this.getTitle(this.selectedAccountItem), [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]]
    });
    setTimeout(() => {
      this.formControls.accountName.markAsTouched();
    }, 0);
  }
  getTitle(item) {
    if (!item) {
      return '';
    }
    const AccountName = item.AccountName.trim();
    const MemberID = item.MemberID.trim();
    if (!AccountName || AccountName === '') {
      return MemberID;
    }
    if (!MemberID || MemberID === '') {
      return AccountName;
    }
    return AccountName + ' - ' + MemberID;
  }
  loadAccount(accounts) {
    if (this.accountItemQuickSearch) {
      this.accountList = accounts;
    }
    if (this.accountList.length === 1) {
      this.onAccountItemChange(this.accountList[0]);
    } else if (this.accountList.length > 1) {
      let defaultAccount = this.accountList.filter(a => a.isDefault && a.AllowAR);
      if (!defaultAccount.length) {
        defaultAccount = this.accountList.filter(a => a.AllowAR);
      }
      if (defaultAccount.length) {
        this.onAccountItemChange(defaultAccount[0]);
      }
    }
    if (!this.selectedAccountItem) {
      this.openQuickSearch();
    }
  }
  get formControls() {
    return this.form.controls;
  }
  onAccountItemChange(item) {
    if (item && !item.AllowAR) {
      return;
    }
    this.onChange(item);
    this.accountItemClickEvent.emit(item);
    this.passSelectedAccountItem(item);
    if (item) {
      this.formControls.accountName.setValue(this.getTitle(this.selectedAccountItem));
      this.closeQuickSearch();
    } else {
      this.formControls.accountName.setValue(null);
    }
  }
  onAccountItemRemove(event) {
    this.removeAccountItemClickEvent.emit(event);
    this.onChange(null);
  }
  passSelectedAccountItem(item) {
    this.selectedAccountItem = item;
    this.selectedAccountItemEvent.emit(item);
  }
  openQuickSearch() {
    this.accountItemQuickSearch.openQuickSearch();
  }
  closeQuickSearch() {
    this.accountItemQuickSearch.closeQuickSearch();
  }
}
AccountQuickSearchComponent.ɵfac = function AccountQuickSearchComponent_Factory(t) {
  return new (t || AccountQuickSearchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder));
};
AccountQuickSearchComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: AccountQuickSearchComponent,
  selectors: [["tei-common-payment-processor-account-quick-search"]],
  viewQuery: function AccountQuickSearchComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c1, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.accountItemQuickSearch = _t.first);
    }
  },
  inputs: {
    selectedAccountItem: "selectedAccountItem",
    accountList: "accountList",
    ContactID: "ContactID"
  },
  outputs: {
    accountItemClickEvent: "accountItemClickEvent",
    removeAccountItemClickEvent: "removeAccountItemClickEvent",
    selectedAccountItemEvent: "selectedAccountItemEvent"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(AccountQuickSearchComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 15,
  vars: 17,
  consts: [[3, "formGroup"], ["formControlName", "quickSearchValue", "bindLabel", "AccountName", 3, "items", "customClass", "menuCustomClass", "loading", "minTermLength", "closeOnSelect", "quickSearchConfig", "qucikSearchOptionTmp", "onItemChangeEvent", "onItemRemoveEvent"], ["accountItemQuickSearch", ""], [1, "on-account-quick-search-mat-form", "mx-n2"], [1, "d-flex", "flex-column", "col-xs-12", "col-sm-12", "px-1"], [1, "a-text-label"], ["appearance", "outline", "floatLabel", "never", 1, "no-label", "position-relative"], ["matInput", "", "type", "text", "formControlName", "accountName", "inputmode", "none", "readonly", "true", "autocomplete", "off", 1, "a-input", "a-input-nolabel", 3, "placeholder", "blur"], [4, "ngIf"], ["role", "button", 1, "mobile-mode-clickable", 3, "click"], ["qsOptionTmp", ""], [1, "a-quicksearch-resultitem"], [1, "a-quicksearch-accountitem-result"], [1, "a-quicksearch-accountitem", "w-100", "p-0", "d-flex", "align-items-center"], [1, "a-text-primary", "d-flex", "justify-content-between", "align-items-center"], [1, "a-quicksearch-accountitem-description"], ["class", "a-text-primary a-text-small ml-1 account-item-disable-button", 4, "ngIf"], [1, "a-text-primary", "a-text-small", "ml-1", "account-item-disable-button"]],
  template: function AccountQuickSearchComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0, 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "tei-quick-search", 1, 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("onItemChangeEvent", function AccountQuickSearchComponent_Template_tei_quick_search_onItemChangeEvent_1_listener($event) {
        return ctx.onAccountItemChange($event);
      })("onItemRemoveEvent", function AccountQuickSearchComponent_Template_tei_quick_search_onItemRemoveEvent_1_listener($event) {
        return ctx.onAccountItemRemove($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "div", 3)(4, "div", 4)(5, "mat-label", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "mat-form-field", 6)(9, "input", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function AccountQuickSearchComponent_Template_input_blur_9_listener() {
        return ctx.valueConversion("accountName");
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](10, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](11, AccountQuickSearchComponent_mat_error_11_Template, 3, 3, "mat-error", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function AccountQuickSearchComponent_Template_div_click_12_listener() {
        return ctx.openQuickSearch;
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](13, AccountQuickSearchComponent_ng_template_13_Template, 7, 4, "ng-template", null, 10, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
    }
    if (rf & 2) {
      const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("items", ctx.accountList)("customClass", "a-account-quick-search-custom")("menuCustomClass", "o-account-item-search")("loading", true)("minTermLength", 0)("closeOnSelect", false)("quickSearchConfig", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction0"](16, _c2))("qucikSearchOptionTmp", _r2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](7, 12, "PAYMENT_PROCESSOR.ON_ACCOUNT.ACCOUNT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](10, 14, "PAYMENT_PROCESSOR.ON_ACCOUNT.ACCOUNT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.accountName.invalid);
    }
  },
  dependencies: [_angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyError, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_material__WEBPACK_IMPORTED_MODULE_11__.QuickSearchComponent, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe],
  styles: [".nb-theme-material-dark[_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field input[readonly], .nb-theme-material-dark   [_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field input[readonly], .nb-theme-material-dark[_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field textarea[readonly], .nb-theme-material-dark   [_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field textarea[readonly], .nb-theme-material-dark[_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field.a-disabled .mat-icon, .nb-theme-material-dark   [_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field.a-disabled .mat-icon{color:#fff;cursor:pointer;transition:background-color 5000s ease-in-out 0s;-webkit-text-fill-color:#ffffff;opacity:1}.nb-theme-material-light[_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field input[readonly], .nb-theme-material-light   [_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field input[readonly], .nb-theme-material-light[_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field textarea[readonly], .nb-theme-material-light   [_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field textarea[readonly], .nb-theme-material-light[_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field.a-disabled .mat-icon, .nb-theme-material-light   [_nghost-%COMP%]   .on-account-quick-search-mat-form[_ngcontent-%COMP%]     .mat-form-field.a-disabled .mat-icon{color:#000000de;cursor:pointer;transition:background-color 5000s ease-in-out 0s;-webkit-text-fill-color:rgba(0,0,0,.87);opacity:1}  .mobile-mode-clickable{cursor:pointer;position:absolute;inset:0}  .o-quicksearch .a-account-quick-search-custom{max-width:350px;width:100%;cursor:pointer}  .mat-list-text{padding-right:0!important}  .o-account-item-search{margin-top:-22px}  .account-item-disable{opacity:.6}  .account-item-disable-button{padding:5px 10px;background:rgba(0,0,0,.6);border-radius:5px}"],
  changeDetection: 0
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AccountQuickSearchComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-account-quick-search',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(AccountQuickSearchComponent)],
      changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectionStrategy.OnPush,
      template: "<ng-container [formGroup]=\"form\">\n\n  <tei-quick-search #accountItemQuickSearch [items]=\"accountList\" formControlName=\"quickSearchValue\"\n    [customClass]=\"'a-account-quick-search-custom'\" [menuCustomClass]=\"'o-account-item-search'\" bindLabel=\"AccountName\"\n    [loading]=\"true\" [minTermLength]=\"0\" [closeOnSelect]=\"false\" [quickSearchConfig]=\"{\n              quickSearchHeaderTitle: 'Accounts',\n              addItemContainerVisible: false,\n              advancedSearchContainerVisible: false\n          }\" [qucikSearchOptionTmp]=\"qsOptionTmp\" (onItemChangeEvent)=\"onAccountItemChange($event)\"\n    (onItemRemoveEvent)=\"onAccountItemRemove($event)\">\n    <div class=\"row px-2\" class=\"on-account-quick-search-mat-form mx-n2\">\n      <div class=\"d-flex flex-column col-xs-12 col-sm-12 px-1\">\n        <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.ON_ACCOUNT.ACCOUNT' |\n          teiTextTranslate}}\n        </mat-label>\n        <mat-form-field class=\"no-label position-relative\" appearance=\"outline\" floatLabel=\"never\">\n\n          <input matInput type=\"text\" class=\"a-input a-input-nolabel\" formControlName=\"accountName\" inputmode=\"none\"\n            readonly=\"true\" placeholder=\"{{'PAYMENT_PROCESSOR.ON_ACCOUNT.ACCOUNT' | teiTextTranslate}}\"\n            autocomplete=\"off\" (blur)=\"valueConversion('accountName')\" />\n\n          <mat-error *ngIf=\"formControls.accountName.invalid\">\n            {{'PAYMENT_PROCESSOR.ON_ACCOUNT.ACCOUNT_REQUIRED_ERROR' | teiTextTranslate}}\n          </mat-error>\n          <div class=\"mobile-mode-clickable\" role=\"button\" (click)=\"openQuickSearch\"></div>\n        </mat-form-field>\n      </div>\n    </div>\n    <ng-template #qsOptionTmp let-item=\"item\">\n      <div class=\"a-quicksearch-resultitem\">\n        <div class=\"a-quicksearch-accountitem-result\">\n          <div class=\"a-quicksearch-accountitem w-100 p-0 d-flex align-items-center\"\n            [class.account-item-disable]=\"!item.AllowAR\">\n            <div class=\"a-text-primary d-flex justify-content-between align-items-center\">\n              <span class=\"a-quicksearch-accountitem-description\">{{this.getTitle(item)}}</span>\n            </div>\n\n            <span *ngIf=\"!item.AllowAR\" class=\"a-text-primary a-text-small ml-1 account-item-disable-button\">No\n              A/R</span>\n\n          </div>\n        </div>\n      </div>\n    </ng-template>\n  </tei-quick-search>\n</ng-container>\n",
      styles: [":host-context(.nb-theme-material-dark) .on-account-quick-search-mat-form ::ng-deep .mat-form-field input[readonly],:host-context(.nb-theme-material-dark) .on-account-quick-search-mat-form ::ng-deep .mat-form-field textarea[readonly],:host-context(.nb-theme-material-dark) .on-account-quick-search-mat-form ::ng-deep .mat-form-field.a-disabled .mat-icon{color:#fff;cursor:pointer;transition:background-color 5000s ease-in-out 0s;-webkit-text-fill-color:#ffffff;opacity:1}:host-context(.nb-theme-material-light) .on-account-quick-search-mat-form ::ng-deep .mat-form-field input[readonly],:host-context(.nb-theme-material-light) .on-account-quick-search-mat-form ::ng-deep .mat-form-field textarea[readonly],:host-context(.nb-theme-material-light) .on-account-quick-search-mat-form ::ng-deep .mat-form-field.a-disabled .mat-icon{color:#000000de;cursor:pointer;transition:background-color 5000s ease-in-out 0s;-webkit-text-fill-color:rgba(0,0,0,.87);opacity:1}::ng-deep .mobile-mode-clickable{cursor:pointer;position:absolute;inset:0}::ng-deep .o-quicksearch .a-account-quick-search-custom{max-width:350px;width:100%;cursor:pointer}::ng-deep .mat-list-text{padding-right:0!important}::ng-deep .o-account-item-search{margin-top:-22px}::ng-deep .account-item-disable{opacity:.6}::ng-deep .account-item-disable-button{padding:5px 10px;background:rgba(0,0,0,.6);border-radius:5px}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }];
  }, {
    accountItemQuickSearch: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['accountItemQuickSearch']
    }],
    selectedAccountItem: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    accountList: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    ContactID: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    accountItemClickEvent: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }],
    removeAccountItemClickEvent: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }],
    selectedAccountItemEvent: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
const MATERIAL_MODULES$d = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule];
const COMPONENTS$d = [AccountQuickSearchComponent];
const COMMON_MODULES$9 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$b = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
const TEI_MATERIAL_MODULES$9 = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.QuickSearchModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
class AccountQuickSearchModule {}
AccountQuickSearchModule.ɵfac = function AccountQuickSearchModule_Factory(t) {
  return new (t || AccountQuickSearchModule)();
};
AccountQuickSearchModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: AccountQuickSearchModule
});
AccountQuickSearchModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [MATERIAL_MODULES$d, COMMON_MODULES$9, TEI_CORE_MODULES$b, TEI_MATERIAL_MODULES$9, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.QuickSearchModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AccountQuickSearchModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$d],
      imports: [...MATERIAL_MODULES$d, ...COMMON_MODULES$9, ...TEI_CORE_MODULES$b, ...TEI_MATERIAL_MODULES$9],
      exports: [...COMMON_MODULES$9, ...MATERIAL_MODULES$d, ...TEI_CORE_MODULES$b, ...COMPONENTS$d, ...TEI_MATERIAL_MODULES$9]
    }]
  }], null, null);
})();
class GetAccountsRequest {}
class GetAccountsResponse {}
class Account {}
var CreditLimitType;
(function (CreditLimitType) {
  CreditLimitType[CreditLimitType["NoCredit"] = 0] = "NoCredit";
  CreditLimitType[CreditLimitType["Unlimited"] = 1] = "Unlimited";
  CreditLimitType[CreditLimitType["Amount"] = 2] = "Amount";
})(CreditLimitType || (CreditLimitType = {}));
class OnAccountApprovePrintComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  constructor(errorStateMatcher, data, DialogRef, currencyService, paymentProcessGenericService, changeDetectorRef, manageLoadingService) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.data = data;
    this.DialogRef = DialogRef;
    this.currencyService = currencyService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.changeDetectorRef = changeDetectorRef;
    this.manageLoadingService = manageLoadingService;
    this.printerList = [];
    this.accountList = Array();
    this.approvedApplyEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
  }
  ngOnInit() {
    this.currencySymbol = this.currencyService.getCurrencySymbol();
  }
  ngAfterViewInit() {
    this.subscription.add(this.DialogRef.afterOpened().subscribe(() => {
      this.onTotalApprovedBlur();
      if (!this.hasSelectedAccount()) {
        var _this$accountItemQuic;
        (_this$accountItemQuic = this.accountItemQuickSearch) === null || _this$accountItemQuic === void 0 ? void 0 : _this$accountItemQuic.loadAccount(this.accountList);
      }
    }));
    this.changeDetectorRef.detectChanges();
  }
  onlyNumber(event) {
    return event.charCode === 8 || event.charCode === 0 ? null : event.charCode >= 48 && event.charCode <= 57;
  }
  get formControls() {
    return this.form.controls;
  }
  onTotalApprovedBlur() {
    var _this$formControls44, _this$formControls44$, _this$formControls45, _this$formControls45$, _this$formControls46, _this$formControls46$;
    const remainingTotal = this.returnValidValue((_this$formControls44 = this.formControls) === null || _this$formControls44 === void 0 ? void 0 : (_this$formControls44$ = _this$formControls44.remainingTotal) === null || _this$formControls44$ === void 0 ? void 0 : _this$formControls44$.value);
    let totalApproved = this.returnValidValue((_this$formControls45 = this.formControls) === null || _this$formControls45 === void 0 ? void 0 : (_this$formControls45$ = _this$formControls45.totalApproved) === null || _this$formControls45$ === void 0 ? void 0 : _this$formControls45$.value);
    if (totalApproved > remainingTotal) {
      totalApproved = remainingTotal;
    }
    (_this$formControls46 = this.formControls) === null || _this$formControls46 === void 0 ? void 0 : (_this$formControls46$ = _this$formControls46.totalApproved) === null || _this$formControls46$ === void 0 ? void 0 : _this$formControls46$.setValue(totalApproved.toFixed(2));
    this.validateTotalApprovedControl();
  }
  getPrinterName(printerID) {
    var _this$printerList2, _this$printerList2$fi;
    return (_this$printerList2 = this.printerList) === null || _this$printerList2 === void 0 ? void 0 : (_this$printerList2$fi = _this$printerList2.filter(item => item.PrinterID === Number(printerID))[0]) === null || _this$printerList2$fi === void 0 ? void 0 : _this$printerList2$fi.Name;
  }
  validateTotalApprovedControl() {
    var _this$formControls47;
    const control = (_this$formControls47 = this.formControls) === null || _this$formControls47 === void 0 ? void 0 : _this$formControls47.totalApproved;
    control.setErrors(null);
    if (this.hasExceedError) {
      control.setErrors({
        exceedError: true
      });
    }
    if (this.hasFullPaymentError) {
      control.setErrors({
        fullPaymentError: true
      });
    }
    this.form.markAllAsTouched();
  }
  returnValidValue(value) {
    if (!value) {
      value = '0.00';
    }
    return Number(value.toString().replace(/[%]/g, ''));
  }
  close() {
    this.DialogRef.close();
  }
  approvedPrintDone() {
    var _this$paymentProcessG5, _this$paymentProcessG6, _this$paymentProcessG7, _this$checkDetails14, _this$checkDetails14$, _this$selectedAccount, _this$paymentProcessG8, _this$paymentProcessG9, _this$paymentProcessG10;
    if (!this.selectedAccount || this.hasExceedError || this.hasFullPaymentError || this.formControls.printerID.invalid && (_this$paymentProcessG5 = this.paymentProcessGenericService) !== null && _this$paymentProcessG5 !== void 0 && (_this$paymentProcessG6 = _this$paymentProcessG5.configuration) !== null && _this$paymentProcessG6 !== void 0 && (_this$paymentProcessG7 = _this$paymentProcessG6.OnAccountTenderTypeModel) !== null && _this$paymentProcessG7 !== void 0 && _this$paymentProcessG7.AllowPrint) {
      this.validateTotalApprovedControl();
      return;
    }
    const request = new PaymentRequest();
    request.PaymentItemID = this.checkDetails.CheckUID;
    request.PaymentMethodID = this.tenderTypeID;
    request.ContactID = (_this$checkDetails14 = this.checkDetails) === null || _this$checkDetails14 === void 0 ? void 0 : (_this$checkDetails14$ = _this$checkDetails14.Contact) === null || _this$checkDetails14$ === void 0 ? void 0 : _this$checkDetails14$.ContactID;
    request.AccountID = (_this$selectedAccount = this.selectedAccount) === null || _this$selectedAccount === void 0 ? void 0 : _this$selectedAccount.AccountID;
    request.Amount = this.returnValidValue(this.formControls.paymentTotal.value);
    request.PrinterID = this.formControls.printerID.value;
    request.IsApproved = false;
    request.OrderID = this.checkDetails.OrderSeqID;
    this.subscription.add(this.paymentProcessGenericService.ProcessPayment(request, null, (_this$paymentProcessG8 = this.paymentProcessGenericService) === null || _this$paymentProcessG8 === void 0 ? void 0 : (_this$paymentProcessG9 = _this$paymentProcessG8.configuration) === null || _this$paymentProcessG9 === void 0 ? void 0 : (_this$paymentProcessG10 = _this$paymentProcessG9.OnAccountTenderTypeModel) === null || _this$paymentProcessG10 === void 0 ? void 0 : _this$paymentProcessG10.AllowPrint, false).subscribe(response => {
      if (!response) {
        return;
      }
      this.approvedApplyEvent.emit({
        selectedAccount: this.selectedAccount,
        result: response
      });
    }));
  }
  onSelectAccount(account) {
    this.selectedAccount = account;
    this.onTotalApprovedBlur();
  }
  get hasFullPaymentError() {
    var _this$formControls48, _this$formControls48$, _this$formControls49, _this$formControls49$;
    return ((_this$formControls48 = this.formControls) === null || _this$formControls48 === void 0 ? void 0 : (_this$formControls48$ = _this$formControls48.totalApproved) === null || _this$formControls48$ === void 0 ? void 0 : _this$formControls48$.value) < ((_this$formControls49 = this.formControls) === null || _this$formControls49 === void 0 ? void 0 : (_this$formControls49$ = _this$formControls49.remainingTotal) === null || _this$formControls49$ === void 0 ? void 0 : _this$formControls49$.value);
  }
  get exceedErrorMessage() {
    if (!this.selectedAccount) {
      return '';
    }
    return this.selectedAccount.CreditLimitType === CreditLimitType.NoCredit ? 'PAYMENT_PROCESSOR.ON_ACCOUNT.HAS_NO_CREDIT_ERROR' : 'PAYMENT_PROCESSOR.ON_ACCOUNT.EXCEED_SIMPLE_ERROR';
  }
  get hasExceedError() {
    var _this$formControls50, _this$formControls50$;
    if (!this.selectedAccount) {
      return false;
    }
    if (this.selectedAccount.CreditLimitType === CreditLimitType.Unlimited) {
      return false;
    }
    if (this.selectedAccount.CreditLimitType === CreditLimitType.NoCredit) {
      return true;
    }
    const paymentTotal = this.returnValidValue((_this$formControls50 = this.formControls) === null || _this$formControls50 === void 0 ? void 0 : (_this$formControls50$ = _this$formControls50.paymentTotal) === null || _this$formControls50$ === void 0 ? void 0 : _this$formControls50$.value);
    if (paymentTotal > this.selectedAccount.CreditLimitAmount) {
      return true;
    }
    return false;
  }
  validateForm() {
    var _this$paymentProcessG11, _this$paymentProcessG12, _this$paymentProcessG13, _this$formControls51, _this$formControls51$;
    return (!((_this$paymentProcessG11 = this.paymentProcessGenericService) !== null && _this$paymentProcessG11 !== void 0 && (_this$paymentProcessG12 = _this$paymentProcessG11.configuration) !== null && _this$paymentProcessG12 !== void 0 && (_this$paymentProcessG13 = _this$paymentProcessG12.OnAccountTenderTypeModel) !== null && _this$paymentProcessG13 !== void 0 && _this$paymentProcessG13.AllowPrint) || ((_this$formControls51 = this.formControls) === null || _this$formControls51 === void 0 ? void 0 : (_this$formControls51$ = _this$formControls51.printerID) === null || _this$formControls51$ === void 0 ? void 0 : _this$formControls51$.valid)) && this.hasSelectedAccount() && !this.hasExceedError && !this.hasFullPaymentError;
  }
  hasSelectedAccount() {
    if (!this.selectedAccount) {
      return false;
    }
    if (this.selectedAccount.AccountID === undefined || !this.selectedAccount.AccountID) {
      return false;
    }
    return true;
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
OnAccountApprovePrintComponent.ɵfac = function OnAccountApprovePrintComponent_Factory(t) {
  return new (t || OnAccountApprovePrintComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService));
};
OnAccountApprovePrintComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: OnAccountApprovePrintComponent,
  selectors: [["tei-common-payment-processor-on-account-approve-print"]],
  viewQuery: function OnAccountApprovePrintComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c3, 7);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.accountItemQuickSearch = _t.first);
    }
  },
  inputs: {
    printerList: "printerList",
    stepper: "stepper",
    accountList: "accountList",
    form: "form",
    orderID: "orderID",
    selectedAccount: "selectedAccount",
    tenderTypeID: "tenderTypeID",
    checkDetails: "checkDetails"
  },
  outputs: {
    approvedApplyEvent: "approvedApplyEvent"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 42,
  vars: 32,
  consts: [[1, "mx-auto", "m-on-account", "o-dialog-container", "on-account-approve-stepper", "d-flex", "flex-column", 3, "formGroup"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col"], [1, "a-text-h3"], [1, "col-auto"], ["type", "button", "mat-icon-button", "", 1, "a-icon-close", 3, "disabled", "click"], [1, "m-dialog-content"], [1, "d-flex", "flex-column"], [1, "pt-2", "pb-3"], [1, "a-text-primary"], [1, "a-text-secondary"], [3, "accountList", "selectedAccountItem", "selectedAccountItemEvent"], ["accountQuickSearch", ""], ["class", "row px-2", 4, "ngIf"], [1, "row", "px-2", "mb-1"], [1, "d-flex", "flex-column", "col-xs-12", "col-sm-12", "px-1"], [1, "a-text-label"], ["appearance", "outline", "floatLabel", "never", 1, "a-text-primary", "a-input", "no-label"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "formControlName", "totalApproved", 1, "a-input", "a-input-nolabel", 3, "readonly", "placeholder", "maxLength", "blur"], [4, "ngIf"], [1, "m-dialog-actions", "stepper-dialog-button", "m-dialog-actions-sm", "a-button-contained", "on-account-pay-actions"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", 3, "disabled", "click"], [1, "a-buttontext-right"], [1, "row", "px-2"], ["appearance", "outline", 1, "a-dropdow", "no-label"], ["formControlName", "printerID", "required", ""], ["class", "a-dropdown-multiline_options", 3, "value", 4, "ngFor", "ngForOf"], [1, "a-dropdown-multiline_options", 3, "value"], [1, "d-flex", "w-100", "flex-column"], [1, "d-flex", "w-100", "justify-content-start", "align-items-center"], [1, "a-text-secondary", "mr-2"], ["class", "a-text-small printer-type", 4, "ngIf"], [1, "a-text-small"], [1, "a-text-small", "printer-type"]],
  template: function OnAccountApprovePrintComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 5)(8, "button", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function OnAccountApprovePrintComponent_Template_button_click_8_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](11, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div", 7)(13, "div", 8)(14, "div", 9)(15, "div", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](17, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "div", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](19);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](20, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](21, "tei-common-payment-processor-account-quick-search", 12, 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("selectedAccountItemEvent", function OnAccountApprovePrintComponent_Template_tei_common_payment_processor_account_quick_search_selectedAccountItemEvent_21_listener($event) {
        return ctx.onSelectAccount($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](23, OnAccountApprovePrintComponent_div_23_Template, 11, 6, "div", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](24, "div", 15)(25, "div", 16)(26, "mat-label", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](27);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](28, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](29, "mat-form-field", 18)(30, "input", 19);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function OnAccountApprovePrintComponent_Template_input_blur_30_listener() {
        return ctx.onTotalApprovedBlur();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](31, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](32, OnAccountApprovePrintComponent_mat_error_32_Template, 3, 3, "mat-error", 20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](33, OnAccountApprovePrintComponent_mat_error_33_Template, 3, 3, "mat-error", 20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](34, "div", 21)(35, "button", 22);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function OnAccountApprovePrintComponent_Template_button_click_35_listener() {
        return ctx.approvedPrintDone();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](36, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](37);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](38, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](39, "span", 23);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](40);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](41, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 18, "PAYMENT_PROCESSOR.ON_ACCOUNT.ON_ACCOUNT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](17, 20, ctx.formControls.remainingTotal.value), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](20, 22, "PAYMENT_PROCESSOR.ON_ACCOUNT.REMAINING_TOTAL"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("accountList", ctx.accountList)("selectedAccountItem", ctx.selectedAccount);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.paymentProcessGenericService == null ? null : ctx.paymentProcessGenericService.configuration == null ? null : ctx.paymentProcessGenericService.configuration.OnAccountTenderTypeModel == null ? null : ctx.paymentProcessGenericService.configuration.OnAccountTenderTypeModel.AllowPrint);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](28, 24, "PAYMENT_PROCESSOR.ON_ACCOUNT.TOTAL_APPROVED_DOLLAR"), " (", ctx.currencySymbol, ") ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](31, 26, "PAYMENT_PROCESSOR.ON_ACCOUNT.TOTAL_APPROVED"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("readonly", ctx.formControls.remainingTotal.value < 0)("maxLength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.totalApproved.hasError("exceedError"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.totalApproved.hasError("fullPaymentError"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", !ctx.validateForm() || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](38, 28, (ctx.paymentProcessGenericService == null ? null : ctx.paymentProcessGenericService.configuration == null ? null : ctx.paymentProcessGenericService.configuration.OnAccountTenderTypeModel == null ? null : ctx.paymentProcessGenericService.configuration.OnAccountTenderTypeModel.AllowPrint) ? "PAYMENT_PROCESSOR.ON_ACCOUNT.APPROVE_PRINT" : "PAYMENT_PROCESSOR.ON_ACCOUNT.APPROVE_PAYMENT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](41, 30, ctx.formControls == null ? null : ctx.formControls.paymentTotal == null ? null : ctx.formControls.paymentTotal.value));
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyError, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelect, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectTrigger, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_31__.MatLegacyOption, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.RequiredValidator, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, AccountQuickSearchComponent, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".on-account-commit-stepper .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){  .on-account-commit-stepper .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}  .on-account-commit-stepper .printer-type{padding:2px;border-radius:3px;background:rgb(14,149,202)}  .on-account-commit-stepper .approve-print-dialog .mat-dialog-container{padding-left:0;padding-right:0}.payment-amount[_ngcontent-%COMP%]{position:absolute;right:20px}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](OnAccountApprovePrintComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-on-account-approve-print',
      template: "<form class=\"mx-auto m-on-account o-dialog-container on-account-approve-stepper d-flex flex-column\" [formGroup]=\"form\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col\">\n        <div class=\"a-text-h3\">{{ 'PAYMENT_PROCESSOR.ON_ACCOUNT.ON_ACCOUNT' | teiTextTranslate}}</div>\n      </div>\n      <div class=\"col-auto\">\n        <button type=\"button\" class=\"a-icon-close\" mat-icon-button (click)=\"close()\"\n          [disabled]=\"manageLoadingService.isLoading\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-content\">\n    <div class=\"d-flex flex-column\">\n      <!-- Remaining Total -->\n      <div class=\"pt-2 pb-3\">\n        <div class=\"a-text-primary\">\n          {{ formControls.remainingTotal.value | teiCurrencyTranslate }}\n        </div>\n        <div class=\"a-text-secondary\">\n          {{ 'PAYMENT_PROCESSOR.ON_ACCOUNT.REMAINING_TOTAL' | teiTextTranslate }}\n        </div>\n      </div>\n      <!-- Account -->\n      <tei-common-payment-processor-account-quick-search #accountQuickSearch\n        (selectedAccountItemEvent)=\"onSelectAccount($event)\" [accountList]=\"accountList\"\n        [selectedAccountItem]=\"this.selectedAccount\">\n      </tei-common-payment-processor-account-quick-search>\n      <!-- ApprovedSlipPrinter -->\n      <div class=\"row px-2\" *ngIf=\"paymentProcessGenericService?.configuration?.OnAccountTenderTypeModel?.AllowPrint\">\n        <div class=\"d-flex flex-column col-xs-12 col-sm-12 px-1\">\n          <mat-label class=\"a-text-label\">\n            {{'PAYMENT_PROCESSOR.ON_ACCOUNT.APPROVAL_SLIP_PRINTER' | teiTextTranslate}}\n          </mat-label>\n          <mat-form-field class=\"a-dropdow no-label\" appearance=\"outline\">\n            <mat-select formControlName=\"printerID\" required>\n              <mat-select-trigger>\n                {{getPrinterName(formControls?.printerID?.value)}}\n              </mat-select-trigger>\n              <mat-option class=\"a-dropdown-multiline_options\" *ngFor=\"let printer of printerList\"\n                [value]=\"printer.PrinterID\">\n                <div class=\"d-flex w-100 flex-column\">\n                  <div class=\"d-flex w-100 justify-content-start align-items-center\">\n                    <span class=\"a-text-secondary mr-2\">{{printer?.Name}}</span>\n                    <span *ngIf=\"printer.Type === 0\" class=\"a-text-small printer-type\">\n                      {{ \"PAYMENT_PROCESSOR.RECEIPT.PRIMARY\" | teiTextTranslate }}\n                    </span>\n                    <span *ngIf=\"printer.Type === 1\" class=\"a-text-small printer-type\">\n                      {{ \"PAYMENT_PROCESSOR.RECEIPT.BACKUP\" | teiTextTranslate }}\n                    </span>\n                  </div>\n                  <span class=\"a-text-small\">{{printer?.PrinterModel}}</span>\n                </div>\n              </mat-option>\n            </mat-select>\n            <mat-error *ngIf=\"formControls.printerID.invalid\">\n              {{'PAYMENT_PROCESSOR.ON_ACCOUNT.APPROVAL_SLIP_PRINTER_ERROR' | teiTextTranslate}}\n            </mat-error>\n          </mat-form-field>\n        </div>\n      </div>\n      <!-- TotalApproved -->\n      <div class=\"row px-2 mb-1\">\n        <div class=\"d-flex flex-column col-xs-12 col-sm-12 px-1\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.ON_ACCOUNT.TOTAL_APPROVED_DOLLAR' | teiTextTranslate}}\n            ({{currencySymbol}})\n          </mat-label>\n          <mat-form-field class=\"a-text-primary a-input no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput type=\"tel\" autocomplete=\"off\" [readonly]=\"formControls.remainingTotal.value < 0\" (blur)=\"onTotalApprovedBlur()\" teiTwoDigitDecimal\n              placeholder=\"{{'PAYMENT_PROCESSOR.ON_ACCOUNT.TOTAL_APPROVED' | teiTextTranslate}}\" [maxLength]=\"10\"\n              class=\"a-input a-input-nolabel\" formControlName=\"totalApproved\" />\n            <mat-error *ngIf=\"formControls.totalApproved.hasError('exceedError')\">\n              {{ exceedErrorMessage | teiTextTranslate }}\n            </mat-error>\n            <mat-error *ngIf=\"formControls.totalApproved.hasError('fullPaymentError')\">\n              {{ 'PAYMENT_PROCESSOR.ON_ACCOUNT.FULL_PAYMENT_ERROR' | teiTextTranslate }}\n            </mat-error>\n          </mat-form-field>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- Actions :  approvedPrint -->\n  <div class=\"m-dialog-actions stepper-dialog-button m-dialog-actions-sm a-button-contained on-account-pay-actions\">\n    <button mat-button type=\"submit\" mat-flat-button color=\"accent\" (click)=\"approvedPrintDone()\"\n      [disabled]=\"!validateForm()|| manageLoadingService.isLoading\">\n      <span>\n        {{(this.paymentProcessGenericService?.configuration?.OnAccountTenderTypeModel?.AllowPrint ?\n        'PAYMENT_PROCESSOR.ON_ACCOUNT.APPROVE_PRINT' :\n        'PAYMENT_PROCESSOR.ON_ACCOUNT.APPROVE_PAYMENT') | teiTextTranslate}}\n      </span>\n\n      <span class=\"a-buttontext-right\">{{formControls?.paymentTotal?.value | teiCurrencyTranslate }}</span>\n    </button>\n  </div>\n</form>\n",
      styles: ["::ng-deep .on-account-commit-stepper .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){::ng-deep .on-account-commit-stepper .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}::ng-deep .on-account-commit-stepper .printer-type{padding:2px;border-radius:3px;background:rgb(14,149,202)}::ng-deep .on-account-commit-stepper .approve-print-dialog .mat-dialog-container{padding-left:0;padding-right:0}.payment-amount{position:absolute;right:20px}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }];
  }, {
    accountItemQuickSearch: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['accountQuickSearch', {
        static: true
      }]
    }],
    printerList: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    stepper: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    accountList: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    form: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    orderID: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    selectedAccount: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    tenderTypeID: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    checkDetails: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    approvedApplyEvent: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
const MATERIAL_MODULES$c = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule];
const TEI_MATERIAL_MODULES$8 = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const COMPONENTS$c = [OnAccountApprovePrintComponent];
const COMMON_MODULES$8 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$a = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
const ACCOUNT_MODULES = [AccountQuickSearchModule];
class OnAccountApprovePrintModule {}
OnAccountApprovePrintModule.ɵfac = function OnAccountApprovePrintModule_Factory(t) {
  return new (t || OnAccountApprovePrintModule)();
};
OnAccountApprovePrintModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: OnAccountApprovePrintModule
});
OnAccountApprovePrintModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }],
  imports: [MATERIAL_MODULES$c, COMMON_MODULES$8, TEI_CORE_MODULES$a, ACCOUNT_MODULES, TEI_MATERIAL_MODULES$8, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule, AccountQuickSearchModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](OnAccountApprovePrintModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$c],
      imports: [...MATERIAL_MODULES$c, ...COMMON_MODULES$8, ...TEI_CORE_MODULES$a, ...ACCOUNT_MODULES, ...TEI_MATERIAL_MODULES$8],
      exports: [...COMMON_MODULES$8, ...MATERIAL_MODULES$c, ...TEI_CORE_MODULES$a, ...COMPONENTS$c, ...ACCOUNT_MODULES, ...TEI_MATERIAL_MODULES$8],
      providers: [{
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }]
    }]
  }], null, null);
})();
class OnAccountCommitPaymentComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  get accountTitle() {
    var _this$selectedAccount2;
    return !this.selectedAccount ? '' : ((_this$selectedAccount2 = this.selectedAccount) === null || _this$selectedAccount2 === void 0 ? void 0 : _this$selectedAccount2.AccountName) + ' - ' + this.selectedAccount.MemberID;
  }
  constructor(errorStateMatcher, data, DialogRef, currencyService, manageLoadingService, paymentProcessGenericService) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.data = data;
    this.DialogRef = DialogRef;
    this.currencyService = currencyService;
    this.manageLoadingService = manageLoadingService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.showGratuity = false;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
  }
  ngOnInit() {
    this.currencySymbol = this.currencyService.getCurrencySymbol();
    this.valueConversion('totalApproved');
    this.valueConversion('paymentTotal');
  }
  onlyNumber(event) {
    return event.charCode === 8 || event.charCode === 0 ? null : event.charCode >= 48 && event.charCode <= 57;
  }
  get formControls() {
    return this.form.controls;
  }
  valueConversion(field) {
    var _this$form4;
    const control = (_this$form4 = this.form) === null || _this$form4 === void 0 ? void 0 : _this$form4.get(field);
    control === null || control === void 0 ? void 0 : control.patchValue(Number(control.value).toFixed(2));
    control === null || control === void 0 ? void 0 : control.setErrors(null);
  }
  onGratuityValueInput() {
    var _this$formControls52, _this$formControls52$, _this$formControls53, _this$formControls53$, _this$formControls54, _this$formControls54$, _this$formControls55, _this$formControls55$;
    const totalApproved = this.returnValidValue((_this$formControls52 = this.formControls) === null || _this$formControls52 === void 0 ? void 0 : (_this$formControls52$ = _this$formControls52.totalApproved) === null || _this$formControls52$ === void 0 ? void 0 : _this$formControls52$.value);
    const gratuityValue = this.returnValidValue((_this$formControls53 = this.formControls) === null || _this$formControls53 === void 0 ? void 0 : (_this$formControls53$ = _this$formControls53.gratuityValue) === null || _this$formControls53$ === void 0 ? void 0 : _this$formControls53$.value);
    const percent = totalApproved ? (gratuityValue / totalApproved * 100).toFixed(2) : '0.00';
    (_this$formControls54 = this.formControls) === null || _this$formControls54 === void 0 ? void 0 : (_this$formControls54$ = _this$formControls54.gratuityPercent) === null || _this$formControls54$ === void 0 ? void 0 : _this$formControls54$.setValue(percent);
    (_this$formControls55 = this.formControls) === null || _this$formControls55 === void 0 ? void 0 : (_this$formControls55$ = _this$formControls55.paymentTotal) === null || _this$formControls55$ === void 0 ? void 0 : _this$formControls55$.setValue((totalApproved + gratuityValue).toFixed(2));
  }
  onTotalApprovedAndGratuityInput() {
    var _this$formControls56, _this$formControls56$, _this$formControls57, _this$formControls57$, _this$formControls58, _this$formControls58$, _this$formControls59, _this$formControls59$;
    const totalApproved = this.returnValidValue((_this$formControls56 = this.formControls) === null || _this$formControls56 === void 0 ? void 0 : (_this$formControls56$ = _this$formControls56.totalApproved) === null || _this$formControls56$ === void 0 ? void 0 : _this$formControls56$.value);
    const gratuityPercent = this.returnValidValue((_this$formControls57 = this.formControls) === null || _this$formControls57 === void 0 ? void 0 : (_this$formControls57$ = _this$formControls57.gratuityPercent) === null || _this$formControls57$ === void 0 ? void 0 : _this$formControls57$.value);
    const gratuityValue = Number((totalApproved * gratuityPercent / 100).toFixed(2));
    (_this$formControls58 = this.formControls) === null || _this$formControls58 === void 0 ? void 0 : (_this$formControls58$ = _this$formControls58.gratuityValue) === null || _this$formControls58$ === void 0 ? void 0 : _this$formControls58$.setValue(gratuityValue.toFixed(2));
    (_this$formControls59 = this.formControls) === null || _this$formControls59 === void 0 ? void 0 : (_this$formControls59$ = _this$formControls59.paymentTotal) === null || _this$formControls59$ === void 0 ? void 0 : _this$formControls59$.setValue((totalApproved + gratuityValue).toFixed(2));
  }
  returnValidValue(value) {
    if (!value) {
      value = '0.00';
    }
    return Number(value.replace(/[%]/g, ''));
  }
  commitPayment() {
    var _this$formControls60, _this$formControls60$;
    const request = new PaymentRequest();
    request.PaymentItemID = this.checkDetails.CheckUID;
    request.PaymentMethodID = this.tenderTypeID;
    const paymentsTendered = this.getPaymentTendered();
    if (paymentsTendered) {
      request.ContactID = paymentsTendered === null || paymentsTendered === void 0 ? void 0 : paymentsTendered.ContactID;
      request.AccountID = paymentsTendered === null || paymentsTendered === void 0 ? void 0 : paymentsTendered.AccountID;
      request.ApprovedTransactionID = paymentsTendered === null || paymentsTendered === void 0 ? void 0 : paymentsTendered.TrxUID;
    } else {
      var _this$checkDetails15, _this$checkDetails15$;
      request.ContactID = (_this$checkDetails15 = this.checkDetails) === null || _this$checkDetails15 === void 0 ? void 0 : (_this$checkDetails15$ = _this$checkDetails15.Contact) === null || _this$checkDetails15$ === void 0 ? void 0 : _this$checkDetails15$.ContactID;
      request.AccountID = this.selectedAccount.AccountID;
      request.ApprovedTransactionID = this.result.TrxID;
    }
    request.Amount = this.returnValidValue(this.formControls.paymentTotal.value);
    request.TipAmount = this.returnValidValue((_this$formControls60 = this.formControls) === null || _this$formControls60 === void 0 ? void 0 : (_this$formControls60$ = _this$formControls60.gratuityValue) === null || _this$formControls60$ === void 0 ? void 0 : _this$formControls60$.value);
    request.IsApproved = true;
    request.OrderID = this.checkDetails.OrderSeqID;
    this.paymentProcessGenericService.ProcessPayment(request, this.DialogRef, false).subscribe();
  }
  getPaymentTendered() {
    var _this$checkDetails16, _this$checkDetails16$;
    return (_this$checkDetails16 = this.checkDetails) === null || _this$checkDetails16 === void 0 ? void 0 : (_this$checkDetails16$ = _this$checkDetails16.PaymentsTendered) === null || _this$checkDetails16$ === void 0 ? void 0 : _this$checkDetails16$.find(p => p.TenderTypeID === TenderTypeID.MemberAccount && p.Status !== PaymentsTenderedStatus.Voided);
  }
  close() {
    this.DialogRef.close(this.result);
  }
  voidPayment() {
    var _this$checkDetails17;
    const request = new PaymentVoidRequest();
    const paymentsTendered = this.getPaymentTendered();
    if (paymentsTendered) {
      request.TrxIDs = [paymentsTendered.TrxUID];
    } else {
      request.TrxIDs = [this.result.TrxID];
    }
    request.PaymentItemID = (_this$checkDetails17 = this.checkDetails) === null || _this$checkDetails17 === void 0 ? void 0 : _this$checkDetails17.CheckUID;
    request.PaymentInitiatorUID = this.checkDetails.PaymentRecordUID;
    this.paymentProcessGenericService.voidPayments(request).subscribe(result => {
      if (result) {
        this.DialogRef.close(Object.assign({}, new PaymentResponse()));
      }
    });
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
OnAccountCommitPaymentComponent.ɵfac = function OnAccountCommitPaymentComponent_Factory(t) {
  return new (t || OnAccountCommitPaymentComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'));
};
OnAccountCommitPaymentComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: OnAccountCommitPaymentComponent,
  selectors: [["tei-common-payment-processor-on-account-commit-payment"]],
  inputs: {
    form: "form",
    stepper: "stepper",
    showGratuity: "showGratuity",
    selectedAccount: "selectedAccount",
    tenderTypeID: "tenderTypeID",
    checkDetails: "checkDetails",
    result: "result"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 42,
  vars: 31,
  consts: [[1, "mx-auto", "m-on-account", "o-dialog-container", "d-flex", "flex-column", "on-account-commit-stepper", 3, "formGroup"], [1, "o-dialog-header"], [1, "align-items-center", "justify-content-between", "d-flex"], [1, "d-flex", "align-items-center"], [1, "a-text-h3"], ["type", "button", "mat-icon-button", "", 1, "a-icon-close", 3, "disabled", "click"], [1, "m-dialog-content"], [1, "d-flex", "flex-column"], [1, "pt-2", "pb-3", "d-flex", "flex-row"], [1, "d-flex", "flex-column", "flex-grow-1"], [1, "a-text-primary"], [1, "a-text-secondary"], ["type", "submit", "mat-stroked-button", "", 3, "disabled", "click"], [1, "row", "px-2"], [1, "d-flex", "flex-column", "col-xs-12", "col-sm-12", "px-1"], [1, "a-text-label"], ["appearance", "outline", "floatLabel", "never", 1, "no-label"], ["readonly", "", "matInput", "", "type", "text", 1, "a-input", "a-input-nolabel", 3, "value", "tabIndex", "placeholder"], [4, "ngIf"], [1, "m-dialog-actions", "m-dialog-actions-sm", "stepper-dialog-button", "a-button-contained", "on-account-pay-actions"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", 3, "disabled", "click"], [1, "a-buttontext-right"], [1, "col-xs-12", "col-sm-12", "col-md-6", "col-lg-6", "d-flex", "flex-column", "px-1", "custom-input"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "formControlName", "gratuityValue", 1, "a-input", "a-input-nolabel", 3, "placeholder", "maxLength", "blur", "input"], ["matInput", "", "type", "tel", "autocomplete", "off", "teiTwoDigitDecimal", "", "formControlName", "gratuityPercent", 1, "a-input", "a-input-nolabel", 3, "placeholder", "blur", "input"], ["matInput", "", "type", "tel", "readonly", "", "teiTwoDigitDecimal", "", "formControlName", "paymentTotal", 1, "a-input", "a-input-nolabel", 3, "placeholder", "maxLength", "blur"]],
  template: function OnAccountCommitPaymentComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "form", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div")(8, "button", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function OnAccountCommitPaymentComponent_Template_button_click_8_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](11, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div", 6)(13, "div", 7)(14, "div", 8)(15, "div", 9)(16, "div", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](18, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "div", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](21, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](22, "button", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function OnAccountCommitPaymentComponent_Template_button_click_22_listener() {
        return ctx.voidPayment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](23);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](24, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](25, "div", 13)(26, "div", 14)(27, "mat-label", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](28);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](29, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](30, "mat-form-field", 16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](31, "input", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](32, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](33, OnAccountCommitPaymentComponent_section_33_Template, 24, 21, "section", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](34, "div", 19)(35, "button", 20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function OnAccountCommitPaymentComponent_Template_button_click_35_listener() {
        return ctx.commitPayment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](36, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](37);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](38, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](39, "span", 21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](40);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](41, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 15, "PAYMENT_PROCESSOR.ON_ACCOUNT.ON_ACCOUNT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](18, 17, ctx.formControls.remainingTotal.value), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](21, 19, "PAYMENT_PROCESSOR.ON_ACCOUNT.TOTAL_APPROVED"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](24, 21, "PAYMENT_PROCESSOR.ON_ACCOUNT.VOID"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](29, 23, "PAYMENT_PROCESSOR.ON_ACCOUNT.ACCOUNT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](32, 25, "PAYMENT_PROCESSOR.ON_ACCOUNT.ACCOUNT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", ctx.accountTitle)("tabIndex", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.showGratuity);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](38, 27, "PAYMENT_PROCESSOR.ON_ACCOUNT.COMMIT_PAYMENT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](41, 29, ctx.formControls == null ? null : ctx.formControls.paymentTotal == null ? null : ctx.formControls.paymentTotal.value));
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".on-account-approve-stepper .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){  .on-account-approve-stepper .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}.on-account-pay-actions[_ngcontent-%COMP%]   .payment-amount[_ngcontent-%COMP%]{position:absolute;right:20px}.m-on-account[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .mat-icon-gray[_ngcontent-%COMP%]{color:#959595}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](OnAccountCommitPaymentComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-on-account-commit-payment',
      template: "<form class=\"mx-auto m-on-account o-dialog-container d-flex flex-column on-account-commit-stepper\" [formGroup]=\"form\">\n  <div class=\"o-dialog-header\">\n    <div class=\"align-items-center justify-content-between d-flex\">\n      <div class=\"d-flex align-items-center\">\n        <div class=\"a-text-h3\">{{ 'PAYMENT_PROCESSOR.ON_ACCOUNT.ON_ACCOUNT' | teiTextTranslate}}</div>\n      </div>\n      <div>\n        <button type=\"button\" class=\"a-icon-close\" mat-icon-button (click)=\"close()\" [disabled]=\"manageLoadingService.isLoading\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-content\">\n    <div class=\"d-flex flex-column\">\n      <!-- Total Approved -->\n      <div class=\"pt-2 pb-3 d-flex flex-row \">\n        <div class=\"d-flex flex-column flex-grow-1\">\n          <div class=\"a-text-primary\">\n            {{ formControls.remainingTotal.value | teiCurrencyTranslate }}\n          </div>\n          <div class=\"a-text-secondary\">\n            {{ 'PAYMENT_PROCESSOR.ON_ACCOUNT.TOTAL_APPROVED' | teiTextTranslate }}\n          </div>\n        </div>\n        <button type=\"submit\" mat-stroked-button (click)=\"voidPayment()\" [disabled]=\"manageLoadingService.isLoading\">\n          {{'PAYMENT_PROCESSOR.ON_ACCOUNT.VOID' | teiTextTranslate}}\n        </button>\n      </div>\n      <!-- Account -->\n      <div class=\"row px-2\">\n        <div class=\"d-flex flex-column col-xs-12 col-sm-12 px-1\">\n          <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.ON_ACCOUNT.ACCOUNT' | teiTextTranslate}}\n          </mat-label>\n          <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input readonly matInput type=\"text\" class=\"a-input a-input-nolabel\" [value]=\"accountTitle\" [tabIndex]=\"0\"\n              placeholder=\"{{'PAYMENT_PROCESSOR.ON_ACCOUNT.ACCOUNT' | teiTextTranslate}}\" />\n          </mat-form-field>\n        </div>\n      </div>\n      <!-- Gratuity & PaymentTotal -->\n      <section *ngIf=\"showGratuity\">\n        <!-- Gratuity -->\n        <div class=\"row px-2\">\n          <!-- GratuityValue -->\n          <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6 d-flex flex-column px-1 custom-input\">\n            <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.ON_ACCOUNT.GRATUITY' | teiTextTranslate}} ($)\n            </mat-label>\n            <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n              <input matInput type=\"tel\" autocomplete=\"off\" (blur)=\"valueConversion('gratuityValue')\"\n                placeholder=\"{{'PAYMENT_PROCESSOR.ON_ACCOUNT.GRATUITY' | teiTextTranslate}}\" teiTwoDigitDecimal\n                [maxLength]=\"10\" class=\"a-input a-input-nolabel\" formControlName=\"gratuityValue\"\n                (input)=\"onGratuityValueInput()\" />\n            </mat-form-field>\n          </div>\n          <!-- GratuityPercent -->\n          <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6 d-flex flex-column px-1 custom-input\">\n            <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.ON_ACCOUNT.GRATUITY' | teiTextTranslate}} (%)\n            </mat-label>\n            <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n              <input matInput type=\"tel\" autocomplete=\"off\" (blur)=\"valueConversion('gratuityValue')\"\n                placeholder=\"{{'PAYMENT_PROCESSOR.ON_ACCOUNT.GRATUITY' | teiTextTranslate}}\" teiTwoDigitDecimal\n                class=\"a-input a-input-nolabel\" formControlName=\"gratuityPercent\"\n                (input)=\"onTotalApprovedAndGratuityInput()\" />\n            </mat-form-field>\n          </div>\n        </div>\n        <!-- PaymentTotal -->\n        <div class=\"row px-2\">\n          <div class=\"d-flex flex-column col-xs-12 col-sm-12 px-1\">\n            <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.ON_ACCOUNT.PAYMENT_TOTAL' | teiTextTranslate}}\n              ({{currencySymbol}})\n            </mat-label>\n            <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n              <input matInput type=\"tel\" readonly (blur)=\"valueConversion('paymentTotal')\" teiTwoDigitDecimal\n                placeholder=\"{{'PAYMENT_PROCESSOR.ON_ACCOUNT.PAYMENT_TOTAL' | teiTextTranslate}}\" [maxLength]=\"10\"\n                class=\"a-input a-input-nolabel\" formControlName=\"paymentTotal\" />\n            </mat-form-field>\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n  <!-- Actions :  -->\n  <div class=\"m-dialog-actions m-dialog-actions-sm stepper-dialog-button a-button-contained on-account-pay-actions \">\n    <button mat-button type=\"submit\" mat-flat-button color=\"accent\" (click)=\"commitPayment()\" [disabled]=\"manageLoadingService.isLoading\">\n      <span>\n        {{'PAYMENT_PROCESSOR.ON_ACCOUNT.COMMIT_PAYMENT' | teiTextTranslate}}\n      </span>\n      <span class=\"a-buttontext-right\">{{formControls?.paymentTotal?.value | teiCurrencyTranslate }}</span>\n    </button>\n  </div>\n\n</form>",
      styles: ["::ng-deep .on-account-approve-stepper .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){::ng-deep .on-account-approve-stepper .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}.on-account-pay-actions .payment-amount{position:absolute;right:20px}.m-on-account mat-icon .mat-icon-gray{color:#959595}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }];
  }, {
    form: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    stepper: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    showGratuity: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    selectedAccount: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    tenderTypeID: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    checkDetails: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    result: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
const MATERIAL_MODULES$b = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule];
const TEI_MATERIAL_MODULES$7 = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarModule];
const COMPONENTS$b = [OnAccountCommitPaymentComponent];
const COMMON_MODULES$7 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$9 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
class OnAccountCommitPaymentModule {}
OnAccountCommitPaymentModule.ɵfac = function OnAccountCommitPaymentModule_Factory(t) {
  return new (t || OnAccountCommitPaymentModule)();
};
OnAccountCommitPaymentModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: OnAccountCommitPaymentModule
});
OnAccountCommitPaymentModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }, {
    provide: 'IVoidPaymentService',
    useClass: VoidPaymentService
  }],
  imports: [MATERIAL_MODULES$b, COMMON_MODULES$7, TEI_CORE_MODULES$9, TEI_MATERIAL_MODULES$7, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](OnAccountCommitPaymentModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$b],
      imports: [...MATERIAL_MODULES$b, ...COMMON_MODULES$7, ...TEI_CORE_MODULES$9, ...TEI_MATERIAL_MODULES$7],
      exports: [...COMMON_MODULES$7, ...MATERIAL_MODULES$b, ...TEI_CORE_MODULES$9, ...COMPONENTS$b, ...TEI_MATERIAL_MODULES$7],
      providers: [{
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }, {
        provide: 'IVoidPaymentService',
        useClass: VoidPaymentService
      }]
    }]
  }], null, null);
})();
class OnAccountPayComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  get approved() {
    return this.hasApproveTenderType(this.checkDetails);
  }
  constructor(errorStateMatcher, onAccountData, DialogRef, formBuilder, manageLoadingService, paymentProcessGenericService) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.onAccountData = onAccountData;
    this.DialogRef = DialogRef;
    this.formBuilder = formBuilder;
    this.manageLoadingService = manageLoadingService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.accountList = Array();
    this.showGratuity = false;
    this.printerList = [];
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
  }
  ngOnInit() {
    if (!this.onAccountData) {
      return;
    }
    this.initData();
    this.handleCheckDetailsChanged();
  }
  handleCheckDetailsChanged() {
    this.subscription.add(this.paymentProcessGenericService.changeCheckDetailsSubject.subscribe(checkDetails => {
      if (checkDetails.Remaining === 0 && !this.hasApproveTenderType(checkDetails)) {
        this.close();
      }
      this.checkDetails = checkDetails;
    }));
  }
  initData() {
    var _this$checkDetails18, _this$checkDetails18$;
    this.showGratuity = this.onAccountData.showGratuity;
    this.tenderTypeID = TenderTypeID.MemberAccount;
    this.checkDetails = this.onAccountData.checkDetails;
    if (this.onAccountData.accountList && this.onAccountData.accountList !== undefined && this.onAccountData.accountList.length > 0) {
      this.accountList = this.onAccountData.accountList;
    }
    this.printerList = this.onAccountData.printerList;
    const defaultPrinter = this.printerList.filter(printer => printer.Type === PrinterType.Primary);
    const paymentTendered = (_this$checkDetails18 = this.checkDetails) === null || _this$checkDetails18 === void 0 ? void 0 : (_this$checkDetails18$ = _this$checkDetails18.PaymentsTendered) === null || _this$checkDetails18$ === void 0 ? void 0 : _this$checkDetails18$.find(p => p.TenderTypeID === 5 && p.Status !== PaymentsTenderedStatus.Voided);
    const totalApproved = paymentTendered !== null && paymentTendered !== void 0 && paymentTendered.Amount ? paymentTendered === null || paymentTendered === void 0 ? void 0 : paymentTendered.Amount : this.onAccountData.total;
    this.form = this.formBuilder.group({
      totalApproved: [totalApproved, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]],
      remainingTotal: [totalApproved, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]],
      gratuityValue: ['0.00'],
      gratuityPercent: ['0.00'],
      paymentTotal: [totalApproved],
      printerID: [defaultPrinter.length > 0 ? defaultPrinter[0].PrinterID : null, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]]
    });
    const accountID = paymentTendered === null || paymentTendered === void 0 ? void 0 : paymentTendered.AccountID;
    if (accountID) {
      const defaultAccount = this.accountList.filter(a => a.AccountID === accountID);
      if (defaultAccount.length === 1) {
        this.selectedAccount = defaultAccount[0];
      }
    }
    this.form.markAllAsTouched();
  }
  close() {
    this.DialogRef.close();
  }
  approvedApplyHandler($event) {
    this.selectedAccount = $event === null || $event === void 0 ? void 0 : $event.selectedAccount;
    this.result = $event === null || $event === void 0 ? void 0 : $event.result;
  }
  hasApproveTenderType(checkDetails) {
    return checkDetails === null || checkDetails === void 0 ? void 0 : checkDetails.PaymentsTendered.some(p => p.TenderTypeID === 5 && p.Status === PaymentsTenderedStatus.Approved);
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
OnAccountPayComponent.ɵfac = function OnAccountPayComponent_Factory(t) {
  return new (t || OnAccountPayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'));
};
OnAccountPayComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: OnAccountPayComponent,
  selectors: [["tei-common-payment-processor-on-account-pay"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(OnAccountPayComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 6,
  vars: 15,
  consts: [[1, "on-account-stepper", 3, "selectedIndex"], ["stepper", ""], [3, "stepper", "accountList", "printerList", "form", "selectedAccount", "tenderTypeID", "checkDetails", "approvedApplyEvent"], [3, "stepper", "showGratuity", "form", "result", "selectedAccount", "tenderTypeID", "checkDetails"]],
  template: function OnAccountPayComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-horizontal-stepper", 0, 1)(2, "mat-step")(3, "tei-common-payment-processor-on-account-approve-print", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("approvedApplyEvent", function OnAccountPayComponent_Template_tei_common_payment_processor_on_account_approve_print_approvedApplyEvent_3_listener($event) {
        return ctx.approvedApplyHandler($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "mat-step");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](5, "tei-common-payment-processor-on-account-commit-payment", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    }
    if (rf & 2) {
      const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("selectedIndex", ctx.approved ? 1 : 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("stepper", _r0)("accountList", ctx.accountList)("printerList", ctx.printerList)("form", ctx.form)("selectedAccount", ctx.selectedAccount)("tenderTypeID", ctx.tenderTypeID)("checkDetails", ctx.checkDetails);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("stepper", _r0)("showGratuity", ctx.showGratuity)("form", ctx.form)("result", ctx.result)("selectedAccount", ctx.selectedAccount)("tenderTypeID", ctx.tenderTypeID)("checkDetails", ctx.checkDetails);
    }
  },
  dependencies: [_angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStep, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepper, OnAccountCommitPaymentComponent, OnAccountApprovePrintComponent],
  styles: [".on-account-pay-dialog .mat-dialog-container{overflow:hidden;padding:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}  .on-account-pay-dialog .balance-input .mat-form-field-infix{width:100px}  .on-account-pay-dialog .custom-input .mat-form-field-infix{width:100%}  .on-account-pay-dialog .mat-horizontal-stepper-header-container{display:none}  .on-account-pay-dialog .mat-horizontal-content-container{padding:unset}  .on-account-pay-dialog .mat-horizontal-content-container .o-dialog-container{margin:unset;-webkit-user-select:none;-moz-user-select:none;user-select:none}.nb-theme-material-light[_nghost-%COMP%]   .mat-stepper-vertical[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .mat-stepper-vertical[_ngcontent-%COMP%], .nb-theme-material-light[_nghost-%COMP%]   .mat-stepper-horizontal[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .mat-stepper-horizontal[_ngcontent-%COMP%]{background-color:#fff}.nb-theme-material-dark[_nghost-%COMP%]   .mat-stepper-vertical[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .mat-stepper-vertical[_ngcontent-%COMP%], .nb-theme-material-dark[_nghost-%COMP%]   .mat-stepper-horizontal[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .mat-stepper-horizontal[_ngcontent-%COMP%]{background-color:#303030}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](OnAccountPayComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-on-account-pay',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(OnAccountPayComponent)],
      template: "<mat-horizontal-stepper #stepper class=\"on-account-stepper\" [selectedIndex]=\"approved?1:0\">\n  <mat-step>\n    <tei-common-payment-processor-on-account-approve-print [stepper]=\"stepper\" [accountList]=\"accountList\"\n      [printerList]=\"printerList\" [form]=\"form\" [selectedAccount]=\"selectedAccount\" [tenderTypeID]=\"tenderTypeID\"\n      [checkDetails]=\"checkDetails\" (approvedApplyEvent)=\"approvedApplyHandler($event)\">\n    </tei-common-payment-processor-on-account-approve-print>\n  </mat-step>\n  <mat-step>\n    <tei-common-payment-processor-on-account-commit-payment [stepper]=\"stepper\" [showGratuity]=\"showGratuity\"\n      [form]=\"form\" [result]=\"result\" [selectedAccount]=\"selectedAccount\" [tenderTypeID]=\"tenderTypeID\"\n      [checkDetails]=\"checkDetails\">\n    </tei-common-payment-processor-on-account-commit-payment>\n  </mat-step>\n</mat-horizontal-stepper>",
      styles: ["::ng-deep .on-account-pay-dialog .mat-dialog-container{overflow:hidden;padding:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}::ng-deep .on-account-pay-dialog .balance-input .mat-form-field-infix{width:100px}::ng-deep .on-account-pay-dialog .custom-input .mat-form-field-infix{width:100%}::ng-deep .on-account-pay-dialog .mat-horizontal-stepper-header-container{display:none}::ng-deep .on-account-pay-dialog .mat-horizontal-content-container{padding:unset}::ng-deep .on-account-pay-dialog .mat-horizontal-content-container .o-dialog-container{margin:unset;-webkit-user-select:none;-moz-user-select:none;user-select:none}:host-context(.nb-theme-material-light) .mat-stepper-vertical,:host-context(.nb-theme-material-light) .mat-stepper-horizontal{background-color:#fff}:host-context(.nb-theme-material-dark) .mat-stepper-vertical,:host-context(.nb-theme-material-dark) .mat-stepper-horizontal{background-color:#303030}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }];
  }, null);
})();
class CashReturnComponent {
  constructor(DialogRef, paymentProcessGenericService, data, currencyService, manageLoadingService) {
    this.DialogRef = DialogRef;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.data = data;
    this.currencyService = currencyService;
    this.manageLoadingService = manageLoadingService;
    this.form = new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroup({
      TotalAmount: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControl(this.data.totalAmount, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required)
    });
  }
  ngOnInit() {
    this.currencySymbol = this.currencyService.getCurrencySymbol();
  }
  absAmount(amount) {
    return Math.abs(amount);
  }
  close() {
    this.DialogRef.close();
  }
  confirmReturn() {
    var _this3 = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const checkDetails = _this3.paymentProcessGenericService.changeCheckDetailsSubject.getValue();
      const paymentRequest = new PaymentRequest();
      paymentRequest.PaymentItemID = checkDetails.CheckUID;
      paymentRequest.PaymentMethodID = _this3.data.paymentMethod.PaymentMethodID;
      paymentRequest.Amount = Number(_this3.form.value.TotalAmount);
      paymentRequest.OrderID = checkDetails.OrderSeqID;
      switch (_this3.data.paymentMethod.PaymentMethodID) {
        case TenderTypeID.MemberAccount:
          paymentRequest.AccountID = _this3.data.paymentMethod.PaidTenderID;
          break;
        case TenderTypeID.CashEqCertificate:
          paymentRequest.CashEqItemUID = _this3.data.paymentMethod.PaidTenderID;
          break;
        case TenderTypeID.OnEvent:
          paymentRequest.EventUID = _this3.data.paymentMethod.PaidTenderID;
          break;
          break;
        case TenderTypeID.CreditCard:
          paymentRequest.CCName = _this3.data.paymentMethod.PaidTenderID;
          paymentRequest.IntegratedCreditCard = _this3.data.IntegratedCreditCard;
          paymentRequest.IntegratedDebitCard = _this3.data.IntegratedDebitCard;
          paymentRequest.PaymentUID = _this3.data.paymentMethod.SourcePaymentUID;
          break;
      }
      _this3.manageLoadingService.startLoading();
      try {
        yield (0,rxjs__WEBPACK_IMPORTED_MODULE_35__.firstValueFrom)(_this3.paymentProcessGenericService.ProcessPayment(paymentRequest, _this3.DialogRef));
      } catch (error) {} finally {
        _this3.manageLoadingService.finishLoading();
      }
    })();
  }
}
CashReturnComponent.ɵfac = function CashReturnComponent_Factory(t) {
  return new (t || CashReturnComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService));
};
CashReturnComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: CashReturnComponent,
  selectors: [["tei-common-payment-processor-cash-return"]],
  decls: 26,
  vars: 19,
  consts: [[1, "o-dialog-container", "overflow-hidden"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col", "a-text-h3"], [1, "col-auto"], ["mat-icon-button", "", 1, "a-icon-close", 3, "disabled", "click"], [1, "m-dialog-content", "d-flex", "flex-column", "align-items-start", "justify-content-start", "px-3"], [1, "d-flex", "a-text-label", "mt-3"], [1, "d-flex", "a-cash-field", "align-items-center", "w-100", 3, "formGroup"], ["appearance", "outline", "floatLabel", "never", 1, "a-text-primary", "a-input", "no-label", "w-100"], ["matInput", "", "type", "tel", "teiTwoDigitDecimal", "", "autocomplete", "off", "formControlName", "TotalAmount", 3, "readonly", "maxlength", "value"], [1, "m-dialog-actions", "stepper-dialog-button", "a-button-contained", "m-dialog-actions-sm"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", "id", "a-confirm-return-submit", 3, "disabled", "click"], [1, "a-buttontext-right"]],
  template: function CashReturnComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div", 4)(6, "button", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CashReturnComponent_Template_button_click_6_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](9, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "div", 6)(11, "span", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](13, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "div", 8)(15, "mat-form-field", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](16, "input", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](17, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "div", 11)(19, "button", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function CashReturnComponent_Template_button_click_19_listener() {
        return ctx.confirmReturn();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](22, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](23, "span", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](24);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](25, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.data.paymentMethod == null ? null : ctx.data.paymentMethod.DisplayName, " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](13, 11, "PAYMENT_PROCESSOR.PROCESS.RETURN_AMOUNT"), "(", ctx.currencySymbol, ")");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("value", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](17, 13, ctx.form.value.TotalAmount));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("readonly", true)("maxlength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.form.invalid);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](22, 15, "PAYMENT_PROCESSOR.PROCESS.CONFIRM_RETURN"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("(", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](25, 17, ctx.absAmount(ctx.form.value.TotalAmount)), ")");
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.MaxLengthValidator, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".a-buttontext-right[_ngcontent-%COMP%]{top:2px}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CashReturnComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-cash-return',
      template: "<div class=\"o-dialog-container overflow-hidden\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col a-text-h3\">\n        {{data.paymentMethod?.DisplayName}}\n      </div>\n      <div class=\"col-auto\">\n        <button mat-icon-button class=\"a-icon-close\" (click)=\"close()\" [disabled]=\"manageLoadingService.isLoading\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-content d-flex flex-column align-items-start justify-content-start px-3 \">\n\n    <span class=\"d-flex a-text-label mt-3\">{{ 'PAYMENT_PROCESSOR.PROCESS.RETURN_AMOUNT' | teiTextTranslate }}({{currencySymbol}})</span>\n    <div [formGroup]=\"form\" class=\"d-flex a-cash-field align-items-center w-100\">\n      <mat-form-field class=\"a-text-primary a-input no-label w-100\" appearance=\"outline\" floatLabel=\"never\">\n        <input matInput type=\"tel\" teiTwoDigitDecimal autocomplete=\"off\" [readonly]=\"true\" [maxlength]=\"10\"\n          formControlName=TotalAmount value=\"{{form.value.TotalAmount|teiCurrencyTranslate}}\">\n      </mat-form-field>\n    </div>\n\n  </div>\n\n  <div class=\"m-dialog-actions stepper-dialog-button a-button-contained m-dialog-actions-sm\">\n    <button mat-button type=\"submit\" mat-flat-button color=\"accent\" (click)=\"confirmReturn()\"\n      id=\"a-confirm-return-submit\" [disabled]=\"form.invalid\">\n      <span> {{ 'PAYMENT_PROCESSOR.PROCESS.CONFIRM_RETURN' | teiTextTranslate }} </span>\n      <span class=\"a-buttontext-right\">({{absAmount(form.value.TotalAmount)|teiCurrencyTranslate}})</span>\n    </button>\n  </div>\n</div>\n",
      styles: [".a-buttontext-right{top:2px}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }];
  }, null);
})();
const MATERIAL_MODULES$a = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const COMPONENTS$a = [CashReturnComponent];
const COMMON_MODULES$6 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$8 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
class CashReturnModule {}
CashReturnModule.ɵfac = function CashReturnModule_Factory(t) {
  return new (t || CashReturnModule)();
};
CashReturnModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: CashReturnModule
});
CashReturnModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IProcessService',
    useClass: ProcessService
  }, {
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }],
  imports: [MATERIAL_MODULES$a, COMMON_MODULES$6, TEI_CORE_MODULES$8, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CashReturnModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$a],
      imports: [...MATERIAL_MODULES$a, ...COMMON_MODULES$6, ...TEI_CORE_MODULES$8],
      exports: [...COMMON_MODULES$6, ...MATERIAL_MODULES$a, ...TEI_CORE_MODULES$8, ...COMPONENTS$a],
      providers: [{
        provide: 'IProcessService',
        useClass: ProcessService
      }, {
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }]
    }]
  }], null, null);
})();
const MATERIAL_MODULES$9 = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepperModule];
const COMPONENTS$9 = [OnAccountPayComponent];
const COMMON_MODULES$5 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$7 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.QuickSearchModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const TEI_ONACCOUNT_MODULES = [OnAccountCommitPaymentModule, OnAccountApprovePrintModule];
class OnAccountPayModule {}
OnAccountPayModule.ɵfac = function OnAccountPayModule_Factory(t) {
  return new (t || OnAccountPayModule)();
};
OnAccountPayModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: OnAccountPayModule
});
OnAccountPayModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }],
  imports: [MATERIAL_MODULES$9, TEI_ONACCOUNT_MODULES, COMMON_MODULES$5, TEI_CORE_MODULES$7, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, OnAccountCommitPaymentModule, OnAccountApprovePrintModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepperModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.QuickSearchModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](OnAccountPayModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$9],
      imports: [...MATERIAL_MODULES$9, ...TEI_ONACCOUNT_MODULES, ...COMMON_MODULES$5, ...TEI_CORE_MODULES$7],
      exports: [...COMMON_MODULES$5, ...TEI_ONACCOUNT_MODULES, ...MATERIAL_MODULES$9, ...TEI_CORE_MODULES$7, ...COMPONENTS$9],
      providers: [{
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }]
    }]
  }], null, null);
})();
class PostOnEventForm {}
class OnEventDialogData {}
class OnEventComponent {
  constructor(manageLoadingService, responsiveService, dialogRef, data, paymentProcessGenericService, translate) {
    this.manageLoadingService = manageLoadingService;
    this.responsiveService = responsiveService;
    this.dialogRef = dialogRef;
    this.data = data;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.translate = translate;
    this.isMobile = false;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.formErrorMassage = '';
  }
  ngOnInit() {
    this.getSmallDeviceSize();
    this.createForm();
  }
  createForm() {
    this.form = new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroup({
      RemainingTotal: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControl(0),
      EventID: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControl(''),
      PaymentAmount: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControl(this.data.PaymentAmount.toFixed(2), [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required])
    });
  }
  changeAmount() {
    const amountControl = this.form.get('PaymentAmount');
    amountControl.setErrors({
      minValue: false
    });
    amountControl.patchValue(Number(amountControl.value).toFixed(2));
    if (Number(amountControl.value) < 0.01) {
      amountControl.setErrors({
        minValue: true
      });
      this.formErrorMassage = this.translate.instant('PAYMENT_PROCESSOR.ON_EVENT.PAYMENT_AMOUNT_MIN_VALUE');
    } else if (Number(amountControl.value) < this.data.PaymentAmount) {
      amountControl.setErrors({
        minValue: true
      });
      this.formErrorMassage = this.translate.instant('PAYMENT_PROCESSOR.ON_EVENT.FULL_PAYMENT_REQUIRED');
    }
  }
  getSmallDeviceSize() {
    this.subscription.add(this.responsiveService.mediaBreakpoint.subscribe(screenSize => {
      this.isMobile = screenSize === 'xs' || screenSize === 'sm' || screenSize === 'md';
    }));
  }
  onClose() {
    this.dialogRef.close();
  }
  onApplyPayment() {
    const checkDetails = this.paymentProcessGenericService.changeCheckDetailsSubject.getValue();
    const paymentRequest = new PaymentRequest();
    paymentRequest.PaymentItemID = checkDetails.CheckUID;
    paymentRequest.PaymentMethodID = TenderTypeID.OnEvent;
    paymentRequest.Amount = Number(this.form.get('PaymentAmount').value);
    paymentRequest.OrderID = checkDetails.OrderSeqID;
    paymentRequest.CashBack = 0.0;
    paymentRequest.EventUID = this.data.EventUID;
    this.subscription.add(this.paymentProcessGenericService.ProcessPayment(paymentRequest, this.dialogRef).subscribe());
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
OnEventComponent.ɵfac = function OnEventComponent_Factory(t) {
  return new (t || OnEventComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ResponsiveService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService));
};
OnEventComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: OnEventComponent,
  selectors: [["tei-common-payment-processor-on-event"]],
  decls: 44,
  vars: 31,
  consts: [[1, "o-dialog-container", "d-flex", "flex-column", "a-on-event-payment", "overflow-hidden", "position-relative", "pb-5", 3, "formGroup"], [1, "m-dialog-header", "d-flex", "flex-column", "py-2", "pr-3", "pl-2"], [1, "row", "align-items-center"], [1, "col"], [1, "a-text-h3", "ml-2"], [1, "col-auto"], ["type", "button", "id", "a-on-event-payment-close-dialog", "mat-icon-button", "", 1, "a-icon-close", 3, "click"], [1, "m-dialog-content", "d-flex", "flex-column", "flex-grow-1", "pb-0", "overflow-hidden"], [1, "d-flex", "flex-column"], [1, "d-flex", "align-items-start", "justify-content-start", "flex-column"], [1, "a-text-primary"], [1, "a-text-secondary"], [1, "d-flex", "align-items-start", "justify-content-start", "mt-4", "flex-column"], [1, "d-flex", "flex-column", "mt-3", "w-100"], [1, "a-text-label"], ["appearance", "outline", 1, "a-dropdown", "no-label", "w-100", "a-on-event-payment-amount"], ["formControlName", "PaymentAmount", "id", "a-on-event-payment-amount", "matInput", "", "teiTwoDigitDecimal", "", "type", "tel", "autocomplete", "off", 3, "blur"], ["class", "mt-2", 4, "ngIf"], [1, "m-on-event-payment-mobile-actions-button", "m-dialog-actions", "m-dialog-actions-sm", "w-100", "d-flex", "align-items-center", "justify-content-between", "m-on-event-payment-action-button", 3, "ngClass"], ["mat-raised-button", "", "color", "accent", "id", "a-on-event-payment-submit", 1, "h-100", "position-absolute", "rounded-0", 3, "disabled", "click"], [1, "total-amount", "position-absolute"], [3, "show"], [1, "mt-2"]],
  template: function OnEventComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 5)(8, "button", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function OnEventComponent_Template_button_click_8_listener() {
        return ctx.onClose();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](11, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div", 7)(13, "div", 8)(14, "div", 9)(15, "span", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](17, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "span", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](19);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](20, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](21, "div", 12)(22, "span", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](23);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](24, "span", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](25);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](26, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](27, "div", 13)(28, "mat-label", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](29);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](30, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](31, "mat-form-field", 15)(32, "input", 16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("blur", function OnEventComponent_Template_input_blur_32_listener() {
        return ctx.changeAmount();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](33, OnEventComponent_mat_error_33_Template, 2, 1, "mat-error", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](34, "div", 18)(35, "button", 19);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function OnEventComponent_Template_button_click_35_listener() {
        return ctx.onApplyPayment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](36, "div");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](37, "div");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](38);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](39, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](40, "div", 20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](41);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](42, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](43, "tei-loading", 21);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("a-on-event-payment-mobile", ctx.isMobile);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 15, "PAYMENT_PROCESSOR.ON_EVENT.ON_EVENT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](17, 17, ctx.data == null ? null : ctx.data.PaymentAmount));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](20, 19, "PAYMENT_PROCESSOR.ON_EVENT.REMAINING_TOTAL"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.data == null ? null : ctx.data.EventName);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](26, 21, "PAYMENT_PROCESSOR.ON_EVENT.EVENT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](30, 23, "PAYMENT_PROCESSOR.ON_EVENT.PAYMENT_AMOUNT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.form.get("PaymentAmount").hasError("minValue"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](29, _c4, !ctx.isMobile));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.form.invalid);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](39, 25, "PAYMENT_PROCESSOR.ON_EVENT.APPLY_PAYMENT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](42, 27, ctx.form.get("PaymentAmount").value));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("show", ctx.manageLoadingService.isLoading);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyError, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingComponent, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: ["[_nghost-%COMP%]     .a-on-event-payment{width:400px}[_nghost-%COMP%]     .a-on-event-payment-mobile{width:100vw}[_nghost-%COMP%]     .mat-form-field-subscript-wrapper{padding-left:0}[_nghost-%COMP%]     .mat-form-field-subscript-wrapper .mat-error{transform:translateY(-8px)}[_nghost-%COMP%]     .m-on-event-payment-mobile-actions-button{position:absolute;bottom:0;left:0;padding:8px 0}[_nghost-%COMP%]     .m-on-event-payment-mobile-actions-button button{width:100%;font-size:16px}[_nghost-%COMP%]     .m-on-event-payment-mobile-actions-button .mat-button-wrapper{display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]     .m-on-event-payment-mobile-actions-button .mat-button-wrapper .total-amount{right:16px;font-size:16px}[_nghost-%COMP%]     .nb-theme-material-light-shadowcsshost-no-combinator .m-on-event-payment-action-button, .nb-theme-material-light   [_nghost-%COMP%]   .m-on-event-payment-action-button[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]     .nb-theme-material-dark-shadowcsshost-no-combinator .m-on-event-payment-action-button, .nb-theme-material-dark   [_nghost-%COMP%]   .m-on-event-payment-action-button[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.12)}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](OnEventComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-on-event',
      template: "<div class=\"o-dialog-container d-flex flex-column a-on-event-payment overflow-hidden position-relative pb-5\" [formGroup]=\"form\" [class.a-on-event-payment-mobile]=\"isMobile\">\n    <div class=\"m-dialog-header d-flex flex-column py-2 pr-3 pl-2\">\n      <div class=\"row align-items-center\">\n        <div class=\"col\">\n          <div class=\"a-text-h3 ml-2\">{{'PAYMENT_PROCESSOR.ON_EVENT.ON_EVENT' | teiTextTranslate}}</div>\n        </div>\n        <div class=\"col-auto\">\n          <button type=\"button\" id=\"a-on-event-payment-close-dialog\" class=\"a-icon-close\" mat-icon-button\n            (click)=\"onClose()\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </div>\n      </div>\n    </div>\n    <mat-divider></mat-divider>\n    <div class=\"m-dialog-content d-flex flex-column flex-grow-1 pb-0 overflow-hidden\">\n      <div class=\"d-flex flex-column\">\n        <div class=\"d-flex align-items-start justify-content-start flex-column\">\n            <span class=\"a-text-primary\">{{data?.PaymentAmount | teiCurrencyTranslate}}</span>\n            <span class=\"a-text-secondary\">{{\"PAYMENT_PROCESSOR.ON_EVENT.REMAINING_TOTAL\" | teiTextTranslate}}</span>\n        </div>\n        <div class=\"d-flex align-items-start justify-content-start mt-4 flex-column\">\n            <span class=\"a-text-primary\">{{data?.EventName}}</span>\n            <span class=\"a-text-secondary\">{{\"PAYMENT_PROCESSOR.ON_EVENT.EVENT\" | teiTextTranslate}}</span>\n        </div>\n        <div class=\"d-flex flex-column mt-3 w-100\">\n            <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.ON_EVENT.PAYMENT_AMOUNT' | teiTextTranslate}}\n            </mat-label>\n            <mat-form-field class=\"a-dropdown no-label w-100 a-on-event-payment-amount\" appearance=\"outline\">\n              <input formControlName=\"PaymentAmount\" id=\"a-on-event-payment-amount\" matInput teiTwoDigitDecimal type=\"tel\" autocomplete=\"off\" (blur)=\"changeAmount()\">\n              <mat-error class=\"mt-2\" *ngIf=\"form.get('PaymentAmount').hasError('minValue')\">\n                {{formErrorMassage}}\n              </mat-error>\n            </mat-form-field>\n          </div>\n      </div>\n    </div>\n    <div\n        class=\"m-on-event-payment-mobile-actions-button m-dialog-actions m-dialog-actions-sm w-100 d-flex align-items-center justify-content-between m-on-event-payment-action-button\"\n        [ngClass]=\"{'pr-3': !isMobile}\">\n        <button mat-raised-button (click)=\"onApplyPayment()\" [disabled]=\"form.invalid\" class=\"a-button-raised\" color=\"accent\"\n            id=\"a-on-event-payment-submit\" class=\"h-100 position-absolute rounded-0\">\n            <div></div>\n            <div>\n            {{'PAYMENT_PROCESSOR.ON_EVENT.APPLY_PAYMENT' | teiTextTranslate}}\n            </div>\n            <div class=\"total-amount position-absolute\">{{form.get('PaymentAmount').value | teiCurrencyTranslate}}</div>\n        </button>\n    </div>\n</div>\n<tei-loading [show]=\"manageLoadingService.isLoading\"></tei-loading>\n",
      styles: [":host ::ng-deep .a-on-event-payment{width:400px}:host ::ng-deep .a-on-event-payment-mobile{width:100vw}:host ::ng-deep .mat-form-field-subscript-wrapper{padding-left:0}:host ::ng-deep .mat-form-field-subscript-wrapper .mat-error{transform:translateY(-8px)}:host ::ng-deep .m-on-event-payment-mobile-actions-button{position:absolute;bottom:0;left:0;padding:8px 0}:host ::ng-deep .m-on-event-payment-mobile-actions-button button{width:100%;font-size:16px}:host ::ng-deep .m-on-event-payment-mobile-actions-button .mat-button-wrapper{display:flex;align-items:center;justify-content:center}:host ::ng-deep .m-on-event-payment-mobile-actions-button .mat-button-wrapper .total-amount{right:16px;font-size:16px}:host ::ng-deep :host-context(.nb-theme-material-light) .m-on-event-payment-action-button{border-top:1px solid rgba(0,0,0,.12)}:host ::ng-deep :host-context(.nb-theme-material-dark) .m-on-event-payment-action-button{border-top:1px solid rgba(255,255,255,.12)}\n"]
    }]
  }], function () {
    return [{
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ResponsiveService
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: OnEventDialogData,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService
    }];
  }, null);
})();
const MATERIAL_MODULES$8 = [_angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_checkbox__WEBPACK_IMPORTED_MODULE_34__.MatLegacyCheckboxModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_slide_toggle__WEBPACK_IMPORTED_MODULE_36__.MatLegacySlideToggleModule];
const BASE_MODULES$3 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_MODULES$1 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
const TEI_MATERIAL_MODULES$6 = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const COMPONENTS$8 = [OnEventComponent];
class OnEventModule {}
OnEventModule.ɵfac = function OnEventModule_Factory(t) {
  return new (t || OnEventModule)();
};
OnEventModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: OnEventModule
});
OnEventModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }],
  imports: [BASE_MODULES$3, MATERIAL_MODULES$8, TEI_MODULES$1, TEI_MATERIAL_MODULES$6]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](OnEventModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$8],
      imports: [...BASE_MODULES$3, ...MATERIAL_MODULES$8, ...TEI_MODULES$1, ...TEI_MATERIAL_MODULES$6],
      exports: [...COMPONENTS$8],
      providers: [{
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }]
    }]
  }], null, null);
})();
class GetRedeemablePointsRequest {}
class GetRedeemablePointsResponse {}
class PointPayDialogData {}
class PointPayDialogComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  constructor(errorStateMatcher, formBuilder, manageLoadingService, cashPayDialogData, dialogRef, currencyService, paymentProcessGenericService) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.formBuilder = formBuilder;
    this.manageLoadingService = manageLoadingService;
    this.cashPayDialogData = cashPayDialogData;
    this.dialogRef = dialogRef;
    this.currencyService = currencyService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.printerList = [];
  }
  ngOnInit() {
    this.currencySymbol = this.currencyService.getCurrencySymbol();
    this.subscription.add(this.paymentProcessGenericService.changeCheckDetailsSubject.subscribe(checkDetails => {
      this.checkDetails = checkDetails;
    }));
    const isNegativeTotal = this.cashPayDialogData.total < 0;
    const minValue = isNegativeTotal ? -Math.abs(this.lowestAmount()) : 1;
    this.form = this.formBuilder.group({
      paymentAmount: [this.lowestAmount(), [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.pattern(/^-?[0-9]*\.?[0-9]*$/), _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.min(minValue), _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.max(this.lowestAmount())]],
      paymentAmountValue: [this.lowestAmountValue(), [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.min(isNegativeTotal ? -Math.abs(this.lowestAmountValue()) : 0.01), _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.max(isNegativeTotal ? -0.01 : this.lowestAmountValue())]]
    });
    this.subscription.add(this.form.get('paymentAmount').valueChanges.subscribe(value => {
      var _this$cashPayDialogDa;
      this.dividedBy100('paymentAmountValue', value);
      if (value > this.lowestAmount() && ((_this$cashPayDialogDa = this.cashPayDialogData) === null || _this$cashPayDialogDa === void 0 ? void 0 : _this$cashPayDialogDa.total) > 0) {
        this.form.get('paymentAmount').setValue(this.lowestAmount(), {
          emitEvent: false
        });
      }
    }));
  }
  lowestAmount() {
    var _this$cashPayDialogDa2, _this$cashPayDialogDa3, _this$cashPayDialogDa4, _this$cashPayDialogDa5, _this$cashPayDialogDa6, _this$cashPayDialogDa7, _this$cashPayDialogDa8, _this$cashPayDialogDa9, _ref, _this$cashPayDialogDa10, _this$cashPayDialogDa11;
    let amount = ((_this$cashPayDialogDa2 = this.cashPayDialogData) === null || _this$cashPayDialogDa2 === void 0 ? void 0 : (_this$cashPayDialogDa3 = _this$cashPayDialogDa2.contactPoints) === null || _this$cashPayDialogDa3 === void 0 ? void 0 : _this$cashPayDialogDa3.RedeemablePoints) >= ((_this$cashPayDialogDa4 = this.cashPayDialogData) === null || _this$cashPayDialogDa4 === void 0 ? void 0 : (_this$cashPayDialogDa5 = _this$cashPayDialogDa4.contactPoints) === null || _this$cashPayDialogDa5 === void 0 ? void 0 : _this$cashPayDialogDa5.AvailablePoints) ? (_this$cashPayDialogDa6 = this.cashPayDialogData) === null || _this$cashPayDialogDa6 === void 0 ? void 0 : (_this$cashPayDialogDa7 = _this$cashPayDialogDa6.contactPoints) === null || _this$cashPayDialogDa7 === void 0 ? void 0 : _this$cashPayDialogDa7.AvailablePoints : (_this$cashPayDialogDa8 = this.cashPayDialogData) === null || _this$cashPayDialogDa8 === void 0 ? void 0 : (_this$cashPayDialogDa9 = _this$cashPayDialogDa8.contactPoints) === null || _this$cashPayDialogDa9 === void 0 ? void 0 : _this$cashPayDialogDa9.RedeemablePoints;
    return parseFloat((_ref = ((_this$cashPayDialogDa10 = this.cashPayDialogData) === null || _this$cashPayDialogDa10 === void 0 ? void 0 : _this$cashPayDialogDa10.total) * 100 < amount ? ((_this$cashPayDialogDa11 = this.cashPayDialogData) === null || _this$cashPayDialogDa11 === void 0 ? void 0 : _this$cashPayDialogDa11.total) * 100 : amount) === null || _ref === void 0 ? void 0 : _ref.toFixed(2));
  }
  lowestAmountValue() {
    var _this$cashPayDialogDa12, _this$cashPayDialogDa13, _this$cashPayDialogDa14, _this$cashPayDialogDa15, _this$cashPayDialogDa16, _this$cashPayDialogDa17, _this$cashPayDialogDa18, _this$cashPayDialogDa19, _this$cashPayDialogDa20, _this$cashPayDialogDa21;
    let amount = ((_this$cashPayDialogDa12 = this.cashPayDialogData) === null || _this$cashPayDialogDa12 === void 0 ? void 0 : (_this$cashPayDialogDa13 = _this$cashPayDialogDa12.contactPoints) === null || _this$cashPayDialogDa13 === void 0 ? void 0 : _this$cashPayDialogDa13.RedeemablePointsValue) >= ((_this$cashPayDialogDa14 = this.cashPayDialogData) === null || _this$cashPayDialogDa14 === void 0 ? void 0 : (_this$cashPayDialogDa15 = _this$cashPayDialogDa14.contactPoints) === null || _this$cashPayDialogDa15 === void 0 ? void 0 : _this$cashPayDialogDa15.AvailablePointsValue) ? (_this$cashPayDialogDa16 = this.cashPayDialogData) === null || _this$cashPayDialogDa16 === void 0 ? void 0 : (_this$cashPayDialogDa17 = _this$cashPayDialogDa16.contactPoints) === null || _this$cashPayDialogDa17 === void 0 ? void 0 : _this$cashPayDialogDa17.AvailablePointsValue : (_this$cashPayDialogDa18 = this.cashPayDialogData) === null || _this$cashPayDialogDa18 === void 0 ? void 0 : (_this$cashPayDialogDa19 = _this$cashPayDialogDa18.contactPoints) === null || _this$cashPayDialogDa19 === void 0 ? void 0 : _this$cashPayDialogDa19.RedeemablePointsValue;
    return parseFloat((((_this$cashPayDialogDa20 = this.cashPayDialogData) === null || _this$cashPayDialogDa20 === void 0 ? void 0 : _this$cashPayDialogDa20.total) < amount ? (_this$cashPayDialogDa21 = this.cashPayDialogData) === null || _this$cashPayDialogDa21 === void 0 ? void 0 : _this$cashPayDialogDa21.total : amount).toFixed(2));
  }
  close() {
    this.dialogRef.close();
  }
  dividedBy100(field, fromValue) {
    const control = this.form.get(field);
    control.patchValue(Number(fromValue / 100).toFixed(2));
  }
  passValuesOnClose() {
    this.dialogRef.close({
      TenderTypeID: TenderTypeID.PointsRedemption,
      Cash: this.form.controls.paymentAmountValue.value
    });
  }
  processPayment() {
    this.manageLoadingService.startLoading();
    const request = new PaymentRequest();
    request.RedeemedPoints = 0.0;
    request.PaymentMethodID = TenderTypeID.PointsRedemption;
    request.RedeemedPoints = parseFloat((this.form.controls.paymentAmountValue.value * 100).toFixed(2));
    request.Amount = this.form.controls.paymentAmountValue.value;
    request.OrderID = this.checkDetails.OrderSeqID;
    request.CashBack = 0.0;
    request.PaymentItemID = this.checkDetails.CheckUID;
    this.subscription.add(this.paymentProcessGenericService.ProcessPayment(request, this.dialogRef, false).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).subscribe());
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
PointPayDialogComponent.ɵfac = function PointPayDialogComponent_Factory(t) {
  return new (t || PointPayDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'));
};
PointPayDialogComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: PointPayDialogComponent,
  selectors: [["tei-common-payment-processor-point-pay-dialog"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(PointPayDialogComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 68,
  vars: 43,
  consts: [[1, "m-auto", "o-dialog-container"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col"], [1, "a-text-h3"], [1, "col-auto"], ["type", "button", "mat-icon-button", "", 1, "a-icon-close", 3, "disabled", "click"], [1, "m-dialog-content"], [1, "d-flex", "flex-column", 3, "formGroup"], [1, "d-flex", "flex-column"], [1, "pt-2", "pb-3"], [1, "a-text-primary"], [1, "a-text-secondary"], [1, "pt-3", "pb-3"], [1, "d-flex", "justify-content-between"], [1, "row", "px-2", "pt-3"], [1, "col-xs-12", "col-sm-12", "col-md-6", "col-lg-6", "d-flex", "flex-column", "px-1"], [1, "a-text-label"], ["appearance", "outline", "floatLabel", "never", 1, "no-label"], ["formControlName", "paymentAmount", "matInput", "", "type", "tel", 1, "a-input", "a-input-nolabel", 3, "readonly", "placeholder"], [1, "col-xs-12", "col-sm-12", "col-md-6", "col-lg-6", "d-flex", "flex-column", "px-1", "balance-input"], ["formControlName", "paymentAmountValue", "readonly", "", "matInput", "", "type", "tel", "teiTwoDigitDecimal", "", 1, "a-input", "a-input-nolabel"], [1, "m-dialog-actions", "a-button-contained", "m-dialog-actions-sm"], ["mat-button", "", "mat-flat-button", "", "color", "accent", 3, "disabled", "click"], [1, "a-buttontext-right"]],
  template: function PointPayDialogComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "section", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 5)(8, "button", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function PointPayDialogComponent_Template_button_click_8_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](11, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div", 7)(13, "form", 8)(14, "div", 9)(15, "div", 10)(16, "div", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](18, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "div", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](21, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](22, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](23, "div", 13)(24, "div", 11)(25, "div", 14)(26, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](27);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](28, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](29);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](30, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](31, "div", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](32);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](33, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](34, "div", 10)(35, "div", 11)(36, "div", 14)(37, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](38);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](39, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](40);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](41, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](42, "div", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](43);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](44, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](45, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](46, "div", 15)(47, "div", 16)(48, "mat-label", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](49);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](50, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](51, "mat-form-field", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](52, "input", 19);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](53, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](54, "div", 20)(55, "mat-label", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](56);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](57, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](58, "mat-form-field", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](59, "input", 21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](60, "div", 22)(61, "button", 23);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function PointPayDialogComponent_Template_button_click_61_listener() {
        return ctx.processPayment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](62, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](63);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](64, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](65, "span", 24);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](66);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](67, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
    }
    if (rf & 2) {
      let tmp_17_0;
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 19, "PAYMENT_PROCESSOR.PROCESS.POINTS"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](18, 21, ctx.cashPayDialogData == null ? null : ctx.cashPayDialogData.total), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](21, 23, "PAYMENT_PROCESSOR.POINTS.REMAINING_TOTAL"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.cashPayDialogData == null ? null : ctx.cashPayDialogData.contactPoints == null ? null : ctx.cashPayDialogData.contactPoints.AvailablePoints);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](30, 25, ctx.cashPayDialogData == null ? null : ctx.cashPayDialogData.contactPoints == null ? null : ctx.cashPayDialogData.contactPoints.AvailablePointsValue));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](33, 27, "PAYMENT_PROCESSOR.POINTS.POINT_BALANCE"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.cashPayDialogData == null ? null : ctx.cashPayDialogData.contactPoints == null ? null : ctx.cashPayDialogData.contactPoints.RedeemablePoints);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](41, 29, ctx.cashPayDialogData == null ? null : ctx.cashPayDialogData.contactPoints == null ? null : ctx.cashPayDialogData.contactPoints.RedeemablePointsValue));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](44, 31, "PAYMENT_PROCESSOR.POINTS.REDEEMABLE"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](50, 33, "PAYMENT_PROCESSOR.POINTS.PAYMENT_AMOUNT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](53, 35, "PAYMENT_PROCESSOR.POINTS.PAYMENT_AMOUNT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("readonly", (ctx.cashPayDialogData == null ? null : ctx.cashPayDialogData.total) < 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](57, 37, "PAYMENT_PROCESSOR.POINTS.VALUE"), " (", ctx.currencySymbol, ") ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", (ctx.form == null ? null : ctx.form.invalid) || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](64, 39, "PAYMENT_PROCESSOR.POINTS.APPLY_PAYMENT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](67, 41, ctx.form == null ? null : (tmp_17_0 = ctx.form.get("paymentAmountValue")) == null ? null : tmp_17_0.value));
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".point-pay-dialog .mat-dialog-container{overflow:hidden;padding:0}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PointPayDialogComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-point-pay-dialog',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(PointPayDialogComponent)],
      template: "<section class=\"m-auto o-dialog-container\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col\">\n        <div class=\"a-text-h3\">{{ 'PAYMENT_PROCESSOR.PROCESS.POINTS' | teiTextTranslate}}</div>\n      </div>\n      <div class=\"col-auto\">\n        <button type=\"button\" class=\"a-icon-close\" mat-icon-button (click)=\"close()\"\n          [disabled]=\"manageLoadingService.isLoading\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-content\">\n    <form class=\"d-flex flex-column\" [formGroup]=\"form\">\n      <div class=\"d-flex flex-column\">\n        <!-- Remaining Total -->\n        <div class=\"pt-2 pb-3\">\n          <div class=\"a-text-primary\">\n            {{ this.cashPayDialogData?.total | teiCurrencyTranslate}}\n          </div>\n          <div class=\"a-text-secondary\">\n            {{ 'PAYMENT_PROCESSOR.POINTS.REMAINING_TOTAL' | teiTextTranslate }}\n          </div>\n        </div>\n\n        <mat-divider></mat-divider>\n\n        <div class=\"pt-3 pb-3\">\n          <div class=\"a-text-primary\">\n            <div class=\"d-flex justify-content-between\">\n              <span>{{this.cashPayDialogData?.contactPoints?.AvailablePoints}}</span>\n              <span>{{this.cashPayDialogData?.contactPoints?.AvailablePointsValue | teiCurrencyTranslate}}</span>\n            </div>\n          </div>\n          <div class=\"a-text-secondary\">\n            {{ 'PAYMENT_PROCESSOR.POINTS.POINT_BALANCE' | teiTextTranslate }}\n          </div>\n        </div>\n\n        <div class=\"pt-2 pb-3\">\n          <div class=\"a-text-primary\">\n            <div class=\"d-flex justify-content-between\">\n              <span>{{this.cashPayDialogData?.contactPoints?.RedeemablePoints}}</span>\n              <span>{{this.cashPayDialogData?.contactPoints?.RedeemablePointsValue | teiCurrencyTranslate}}</span>\n            </div>\n          </div>\n          <div class=\"a-text-secondary\">\n            {{ 'PAYMENT_PROCESSOR.POINTS.REDEEMABLE' | teiTextTranslate }}\n          </div>\n        </div>\n\n        <mat-divider></mat-divider>\n\n        <div class=\"row px-2 pt-3\">\n          <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6 d-flex flex-column px-1\">\n            <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.POINTS.PAYMENT_AMOUNT' | teiTextTranslate}}\n            </mat-label>\n            <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n              <input formControlName=\"paymentAmount\" matInput [readonly]=\"cashPayDialogData?.total < 0\"  type=\"tel\" class=\"a-input a-input-nolabel\"\n                placeholder=\"{{'PAYMENT_PROCESSOR.POINTS.PAYMENT_AMOUNT' | teiTextTranslate}}\" />\n            </mat-form-field>\n          </div>\n          <div class=\"col-xs-12 col-sm-12 col-md-6 col-lg-6 d-flex flex-column px-1 balance-input\">\n            <mat-label class=\"a-text-label\">{{'PAYMENT_PROCESSOR.POINTS.VALUE' | teiTextTranslate}} ({{currencySymbol}})\n            </mat-label>\n            <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n              <input formControlName=\"paymentAmountValue\" readonly matInput type=\"tel\" teiTwoDigitDecimal\n                class=\"a-input a-input-nolabel\" />\n            </mat-form-field>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class=\"m-dialog-actions a-button-contained m-dialog-actions-sm\">\n    <button (click)=\"processPayment()\" [disabled]=\"form?.invalid || manageLoadingService.isLoading\" mat-button\n      mat-flat-button color=\"accent\">\n      <span>{{'PAYMENT_PROCESSOR.POINTS.APPLY_PAYMENT' | teiTextTranslate}}</span>\n      <span class=\"a-buttontext-right\">{{ form?.get('paymentAmountValue')?.value | teiCurrencyTranslate }}</span>\n    </button>\n  </div>\n</section>\n",
      styles: ["::ng-deep .point-pay-dialog .mat-dialog-container{overflow:hidden;padding:0}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: PointPayDialogData,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }];
  }, null);
})();
class UDFPayComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  constructor(formBuilder, errorStateMatcher, DialogRef, manageLoadingService, UDFDialogData, paymentProcessGenericService) {
    super(errorStateMatcher);
    this.formBuilder = formBuilder;
    this.errorStateMatcher = errorStateMatcher;
    this.DialogRef = DialogRef;
    this.manageLoadingService = manageLoadingService;
    this.UDFDialogData = UDFDialogData;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.totalAmount = 0;
  }
  getExactAmount() {
    const bucks = this.totalAmount * this.UDFDialogData.ExchangeRate;
    this.formControls.bucks.patchValue(bucks.toFixed(2));
    this.formControls.amount.patchValue(this.totalAmount.toFixed(2));
  }
  get formControls() {
    return this.form.controls;
  }
  ngOnInit() {
    this.subscription.add(this.paymentProcessGenericService.changeCheckDetailsSubject.subscribe(checkDetails => {
      this.checkDetails = checkDetails;
    }));
    this.totalAmount = this.UDFDialogData.total;
    this.form = this.formBuilder.group({
      bucks: [0, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, this.validateBucks.bind(this)]],
      exchangeRate: this.UDFDialogData.ExchangeRate,
      amount: [0, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, this.validateAmount.bind(this)]]
    });
    this.bucksConversion();
  }
  validateBucks(control) {
    if (this.totalAmount < 0 && control.value >= 0) {
      return {
        mustBeNegative: true
      };
    }
    if (this.totalAmount >= 0 && control.value < 0) {
      return {
        mustBePositive: true
      };
    }
    return null;
  }
  validateAmount(control) {
    if (this.totalAmount < 0 && control.value >= 0) {
      return {
        mustBeNegative: true
      };
    }
    if (this.totalAmount >= 0 && control.value < 0) {
      return {
        mustBePositive: true
      };
    }
    return null;
  }
  bucksConversion() {
    const bucks = Number(this.formControls.bucks.value);
    const amount = Number(this.formControls.bucks.value) / this.UDFDialogData.ExchangeRate;
    const amountControl = this.formControls.amount;
    const bucksControl = this.formControls.bucks;
    amountControl.patchValue(amount.toFixed(2));
    bucksControl.patchValue(bucks.toFixed(2));
  }
  close() {
    this.DialogRef.close();
  }
  processPayment() {
    const request = new PaymentRequest();
    request.RedeemedPoints = 0.0;
    request.PaymentMethodID = this.UDFDialogData.PaymentMethodID;
    if (request.PaymentMethodID === 8) {
      request.RedeemedPoints = this.form.controls.amount.value * 100;
    }
    request.Amount = this.form.controls.amount.value;
    request.OrderID = this.checkDetails.OrderSeqID;
    request.CashBack = 0.0;
    request.PaymentItemID = this.checkDetails.CheckUID;
    request.ExchangeRate = this.form.controls.exchangeRate.value;
    this.paymentProcessGenericService.ProcessPayment(request, this.DialogRef, false).subscribe();
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
UDFPayComponent.ɵfac = function UDFPayComponent_Factory(t) {
  return new (t || UDFPayComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'));
};
UDFPayComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: UDFPayComponent,
  selectors: [["tei-common-payment-processor-udf-pay"]],
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(UDFPayComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 47,
  vars: 31,
  consts: [[1, "o-dialog-container", "overflow-auto"], [1, "m-dialog-header"], [1, "row", "align-items-center"], [1, "col", "a-text-h3"], [1, "col-auto"], ["mat-icon-button", "", 1, "a-icon-close", 3, "disabled", "click"], [1, "m-dialog-content", "d-flex", "flex-column", "align-items-start", "justify-content-start", "p-3"], [1, "d-flex", "a-text-primary"], [1, "d-flex", "a-text-secondary"], [1, "d-flex", "a-text-label", "mt-3"], [1, "a-bucks-field", "align-items-center", "w-100", 3, "formGroup"], [1, "d-flex", "a-bucks-field", "align-items-center", "w-100"], ["appearance", "outline", "floatLabel", "never", 1, "a-text-primary", "a-input", "no-label", "w-100"], ["matInput", "", "teiTwoDigitDecimal", "", "type", "tel", "autocomplete", "off", "formControlName", "bucks", 3, "readonly", "maxlength", "change"], ["mat-stroked-button", "", 1, "a-button-exact", "d-flex", "justify-content-center", "align-items-center", "ml-3", "p-2", 3, "disabled", "click"], [1, ""], [1, "row", "mt-4"], [1, "col-6", "pr-1", "d-flex", "flex-column", "custom-input"], [1, "a-text-label"], ["appearance", "outline", "floatLabel", "never", 1, "no-label"], ["matInput", "", "teiTwoDigitDecimal", "", "type", "tel", "autocomplete", "off", "formControlName", "exchangeRate", "readonly", "", 3, "maxlength"], [1, "col-6", "pl-1", "d-flex", "flex-column", "custom-input"], ["matInput", "", "teiTwoDigitDecimal", "", "type", "tel", "autocomplete", "off", "formControlName", "amount", "readonly", "", 3, "maxlength"], [1, "m-dialog-actions", "a-button-contained", "m-dialog-actions-sm", "stepper-dialog-button"], ["mat-button", "", "mat-flat-button", "", "color", "accent", 1, "w-100", 3, "disabled", "click"], [4, "ngIf", "ngIfElse"], ["confirm", ""], ["class", "a-buttontext-right", 4, "ngIf"], [1, "a-buttontext-right"]],
  template: function UDFPayComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div", 4)(6, "button", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function UDFPayComponent_Template_button_click_6_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](9, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "div", 6)(11, "span", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](13, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "span", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](16, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](17, "span", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](19, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "div", 10)(21, "div", 11)(22, "mat-form-field", 12)(23, "input", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("change", function UDFPayComponent_Template_input_change_23_listener() {
        return ctx.bucksConversion();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](24, "button", 14);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function UDFPayComponent_Template_button_click_24_listener() {
        return ctx.getExactAmount();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](25, "span", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](26);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](27, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](28, "div", 16)(29, "div", 17)(30, "mat-label", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](31);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](32, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](33, "mat-form-field", 19);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](34, "input", 20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](35, "div", 21)(36, "mat-label", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](37);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](38, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](39, "mat-form-field", 19);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](40, "input", 22);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](41, "div", 23)(42, "button", 24);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function UDFPayComponent_Template_button_click_42_listener() {
        return ctx.processPayment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](43, UDFPayComponent_ng_container_43_Template, 3, 3, "ng-container", 25);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](44, UDFPayComponent_ng_template_44_Template, 2, 3, "ng-template", null, 26, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](46, UDFPayComponent_span_46_Template, 3, 3, "span", 27);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    }
    if (rf & 2) {
      const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](45);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.UDFDialogData.DisplayName, " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](13, 19, ctx.totalAmount));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](16, 21, "PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", ctx.UDFDialogData.DisplayName, " ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](19, 23, "PAYMENT_PROCESSOR.PROCESS.EXCHANGE_AMOUNT"), "");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("readonly", ctx.totalAmount < 0)("maxlength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](27, 25, "PAYMENT_PROCESSOR.PROCESS.EXACT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](32, 27, "PAYMENT_PROCESSOR.PROCESS.EXCHANGE_RATE"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("maxlength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](38, 29, "PAYMENT_PROCESSOR.PROCESS.PAYMENT_AMOUNT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("maxlength", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.form.invalid || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.form.invalid)("ngIfElse", _r1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.form.valid);
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInput, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.MaxLengthValidator, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalDirective, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".UDF-dialog .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){  .UDF-dialog .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}  .UDF-dialog .mat-form-field-wrapper{padding-bottom:0}  .UDF-dialog .m-change-container{height:36px}  .UDF-dialog .a-button-exact{height:54px}  .UDF-dialog .bucks-item mat-icon{width:10px;font-size:.8rem!important;transform:translateY(6px)}  .UDF-dialog .bucks-item mat-icon .mat-icon-gray{color:#fff}  .UDF-dialog .a-bucks-field mat-icon{width:13px;font-size:1.15rem!important;transform:translateY(-1px)}  .UDF-dialog .a-bucks-field mat-icon .mat-icon-gray{color:#fff}@media (max-width: 992px){  .UDF-dialog .a-bucks-field .mat-form-field .mat-form-field-infix{width:unset}}.nb-theme-material-dark[_nghost-%COMP%]     .UDF-dialog .a-button-exact, .nb-theme-material-dark   [_nghost-%COMP%]     .UDF-dialog .a-button-exact{border-color:#ffffff4d}.nb-theme-material-dark.UDF-dialog[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-dark.UDF-dialog   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-dark   .UDF-dialog[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-dark   .UDF-dialog   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .UDF-dialog   .nb-theme-material-dark[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .UDF-dialog   .nb-theme-material-dark   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%]{border-color:#ffffff4d}.nb-theme-material-light[_nghost-%COMP%]     .UDF-dialog .a-button-exact, .nb-theme-material-light   [_nghost-%COMP%]     .UDF-dialog .a-button-exact{border-color:#0000001f}.nb-theme-material-light.UDF-dialog[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-light.UDF-dialog   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-light   .UDF-dialog[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .nb-theme-material-light   .UDF-dialog   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .UDF-dialog   .nb-theme-material-light[_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%], .UDF-dialog   .nb-theme-material-light   [_nghost-%COMP%]   .a-button-exact[_ngcontent-%COMP%]{border-color:#0000001f}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](UDFPayComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-udf-pay',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(UDFPayComponent)],
      template: "<div class=\"o-dialog-container  overflow-auto\">\n  <div class=\"m-dialog-header\">\n    <div class=\"row align-items-center\">\n      <div class=\"col a-text-h3\">\n        {{ UDFDialogData.DisplayName }}\n      </div>\n      <div class=\"col-auto\">\n        <button mat-icon-button class=\"a-icon-close\" (click)=\"close()\" [disabled]=\"manageLoadingService.isLoading\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n    </div>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"m-dialog-content d-flex flex-column align-items-start justify-content-start p-3\">\n    <span class=\"d-flex a-text-primary\">{{totalAmount | teiCurrencyTranslate}}</span>\n    <span class=\"d-flex a-text-secondary\">{{'PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL' | teiTextTranslate}}</span>\n\n    <span class=\"d-flex a-text-label mt-3\">{{ UDFDialogData.DisplayName }} {{'PAYMENT_PROCESSOR.PROCESS.EXCHANGE_AMOUNT'\n      | teiTextTranslate}}</span>\n    <div [formGroup]=\"form\" class=\"a-bucks-field align-items-center w-100\">\n      <div class=\"d-flex a-bucks-field align-items-center w-100\">\n        <mat-form-field class=\"a-text-primary a-input no-label w-100\" appearance=\"outline\" floatLabel=\"never\">\n          <input matInput [readonly]=\"totalAmount < 0\" teiTwoDigitDecimal type=\"tel\" autocomplete=\"off\" [maxlength]=\"10\" (change)=\"bucksConversion()\"\n            formControlName='bucks'>\n        </mat-form-field>\n        <button (click)=\"getExactAmount()\" mat-stroked-button [disabled]=\"manageLoadingService.isLoading\"\n          class=\"a-button-exact d-flex justify-content-center align-items-center ml-3 p-2\">\n          <span class=\"\">{{'PAYMENT_PROCESSOR.PROCESS.EXACT' | teiTextTranslate}}</span>\n        </button>\n      </div>\n\n      <div class=\"row mt-4\">\n        <div class=\"col-6 pr-1 d-flex flex-column custom-input\">\n          <mat-label class=\"a-text-label\">{{\"PAYMENT_PROCESSOR.PROCESS.EXCHANGE_RATE\" | teiTextTranslate}}\n          </mat-label>\n          <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput teiTwoDigitDecimal type=\"tel\" autocomplete=\"off\" [maxlength]=\"10\"\n              formControlName='exchangeRate' readonly>\n          </mat-form-field>\n        </div>\n        <div class=\"col-6 pl-1 d-flex flex-column custom-input\">\n          <mat-label class=\"a-text-label\">{{\"PAYMENT_PROCESSOR.PROCESS.PAYMENT_AMOUNT\" | teiTextTranslate}}\n          </mat-label>\n          <mat-form-field class=\"no-label\" appearance=\"outline\" floatLabel=\"never\">\n            <input matInput teiTwoDigitDecimal type=\"tel\" autocomplete=\"off\" [maxlength]=\"10\" formControlName='amount'\n              readonly>\n          </mat-form-field>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"m-dialog-actions a-button-contained m-dialog-actions-sm stepper-dialog-button\">\n    <button (click)=\"processPayment()\" [disabled]=\"form.invalid || manageLoadingService.isLoading\" class=\"w-100\"\n      mat-button mat-flat-button color=\"accent\">\n      <ng-container *ngIf=\"form.invalid; else confirm\">\n        {{'PAYMENT_PROCESSOR.PROCESS.AMOUNT_REQUIRED' | teiTextTranslate}}\n      </ng-container>\n      <ng-template #confirm>\n        {{'PAYMENT_PROCESSOR.PROCESS.CONFIRM_PAYMENT' | teiTextTranslate}}\n      </ng-template>\n      <span *ngIf=\"form.valid\" class=\"a-buttontext-right\">{{form.invalid ? '' :\n        form.get('amount').value | teiCurrencyTranslate}}</span>\n    </button>\n  </div>\n</div>\n",
      styles: ["::ng-deep .UDF-dialog .m-dialog-content{max-height:50vh}@media only screen and (max-width: 767px){::ng-deep .UDF-dialog .stepper-dialog-button{position:absolute;bottom:0;left:0;right:0}}::ng-deep .UDF-dialog .mat-form-field-wrapper{padding-bottom:0}::ng-deep .UDF-dialog .m-change-container{height:36px}::ng-deep .UDF-dialog .a-button-exact{height:54px}::ng-deep .UDF-dialog .bucks-item mat-icon{width:10px;font-size:.8rem!important;transform:translateY(6px)}::ng-deep .UDF-dialog .bucks-item mat-icon .mat-icon-gray{color:#fff}::ng-deep .UDF-dialog .a-bucks-field mat-icon{width:13px;font-size:1.15rem!important;transform:translateY(-1px)}::ng-deep .UDF-dialog .a-bucks-field mat-icon .mat-icon-gray{color:#fff}@media (max-width: 992px){::ng-deep .UDF-dialog .a-bucks-field .mat-form-field .mat-form-field-infix{width:unset}}:host-context(.nb-theme-material-dark) ::ng-deep .UDF-dialog .a-button-exact{border-color:#ffffff4d}:host-context(.nb-theme-material-dark) :host-context(.UDF-dialog) .a-button-exact{border-color:#ffffff4d}:host-context(.nb-theme-material-light) ::ng-deep .UDF-dialog .a-button-exact{border-color:#0000001f}:host-context(.nb-theme-material-light) :host-context(.UDF-dialog) .a-button-exact{border-color:#0000001f}\n"]
    }]
  }], function () {
    return [{
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: UDFPaymentMethodsDialogData,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }];
  }, null);
})();
class AccountService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Office/Contacts/Accounts';
  }
  Get(request) {
    const apiUrl = this.serviceUrl + '';
    return this.http.get(apiUrl, {
      params: request
    });
  }
}
AccountService.ɵfac = function AccountService_Factory(t) {
  return new (t || AccountService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
AccountService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: AccountService,
  factory: AccountService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AccountService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
class PaymentMethodComponent {
  constructor(dialog, accountService, paymentProcessGenericService, translate, manageLoadingService, snackBarService) {
    this.dialog = dialog;
    this.accountService = accountService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.translate = translate;
    this.manageLoadingService = manageLoadingService;
    this.snackBarService = snackBarService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.printerList = [];
    this.isReturn = false;
    this.enableReturnToGiftCard = false;
    this.openContactDialogEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.methodList = [];
    this.hasARAccount = false;
    this.accountList = new Array();
  }
  ngOnInit() {
    this.subscription.add(this.paymentProcessGenericService.changeCheckDetailsSubject.subscribe(checkDetails => {
      var _this$checkDetails19, _this$checkDetails19$, _this$checkDetails19$2, _this$checkDetails20;
      this.checkDetails = checkDetails;
      this.invalidTenderType = (_this$checkDetails19 = this.checkDetails) === null || _this$checkDetails19 === void 0 ? void 0 : (_this$checkDetails19$ = _this$checkDetails19.PaymentItem) === null || _this$checkDetails19$ === void 0 ? void 0 : (_this$checkDetails19$2 = _this$checkDetails19$[0]) === null || _this$checkDetails19$2 === void 0 ? void 0 : _this$checkDetails19$2.InValidTenderTypes;
      if (!((_this$checkDetails20 = this.checkDetails) !== null && _this$checkDetails20 !== void 0 && _this$checkDetails20.Contact)) {
        this.hasARAccount = false;
        this.accountList = [];
        return;
      }
      this.loadAccounts();
    }));
    this.loadAccounts();
  }
  loadAccounts() {
    var _this$checkDetails21, _this$checkDetails22, _this$checkDetails22$;
    if (!((_this$checkDetails21 = this.checkDetails) !== null && _this$checkDetails21 !== void 0 && _this$checkDetails21.Contact)) {
      return;
    }
    this.manageLoadingService.startLoading();
    this.subscription.add(this.accountService.Get({
      ContactID: (_this$checkDetails22 = this.checkDetails) === null || _this$checkDetails22 === void 0 ? void 0 : (_this$checkDetails22$ = _this$checkDetails22.Contact) === null || _this$checkDetails22$ === void 0 ? void 0 : _this$checkDetails22$.ContactID
    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).subscribe(result => {
      this.accountList = result.Accounts;
      this.hasARAccount = this.accountList.some(p => p.AllowAR === true);
    }));
  }
  ngOnChanges(changes) {
    if (changes.tenderType && changes.tenderType.currentValue) {
      const tender = changes.tenderType.currentValue;
      // this.isReturn = tender.EnableReturnToGiftCard != null ? true : false;
      this.createMethodList();
    }
  }
  createMethodList() {
    var _this$tenderType, _this$tenderType2, _this$UDFPaymentMetho;
    const normalPaymentMethods = ((_this$tenderType = this.tenderType) === null || _this$tenderType === void 0 ? void 0 : _this$tenderType.PaymentMethods.filter(item => item.Type === PaymentMethodType.Normal)) || [];
    this.UDFPaymentMethods = (_this$tenderType2 = this.tenderType) === null || _this$tenderType2 === void 0 ? void 0 : _this$tenderType2.PaymentMethods.filter(item => item.Type === PaymentMethodType.UserDefined);
    const firstThreeUDFPaymentMethods = ((_this$UDFPaymentMetho = this.UDFPaymentMethods) === null || _this$UDFPaymentMetho === void 0 ? void 0 : _this$UDFPaymentMetho.slice(0, 3)) || [];
    this.methodList = [...normalPaymentMethods, ...firstThreeUDFPaymentMethods];
  }
  createDialog(paymentMethod, tenderType) {
    const errorMessage = this.checkPaymentStateError(paymentMethod.PaymentMethodID);
    if (errorMessage) {
      this.snackBarService.showError(errorMessage, '', null, 'left');
      return;
    }
    if (this.isReturn && paymentMethod.IsReturned) {
      return;
    }
    if (!this.isReturn) {
      if (this.UDFPaymentMethods.some(UDFPaymentMethod => UDFPaymentMethod.PaymentMethodID === paymentMethod.PaymentMethodID)) {
        return this.onUDFPaymentMethods(this.UDFPaymentMethods.find(UDFPaymentMethod => UDFPaymentMethod.PaymentMethodID === paymentMethod.PaymentMethodID));
      }
      switch (paymentMethod.PaymentMethodID) {
        case TenderTypeID.Cash:
          return this.onPayByCash();
        case TenderTypeID.CreditCard:
          return this.openCreditDebitDialog(paymentMethod);
        case TenderTypeID.Check:
          return this.openCheckDialog();
        case TenderTypeID.GiftCertificate:
          return this.onPayByGiftCard();
        case TenderTypeID.MemberAccount:
          return this.onPayByAccount();
        case TenderTypeID.PointsRedemption:
          return this.onPayByPoints();
        case TenderTypeID.CashEqCertificate:
          return this.onPayByCashEQ();
        case TenderTypeID.OnEvent:
          return this.openOnEvent();
        default:
          return;
      }
    } else {
      paymentMethod.PaymentMethodID == TenderTypeID.GiftCertificate ? this.onReturnByGiftCard(paymentMethod) : this.onReturnByTenderType(paymentMethod, tenderType);
    }
  }
  openDialog(paymentMethod, tenderType) {
    const dialog = this.createDialog(paymentMethod, tenderType);
    if (dialog) {
      this.subscription.add(dialog.backdropClick().subscribe(() => {
        dialog.disableClose = this.manageLoadingService.isLoading;
        return !dialog.disableClose;
      }));
    }
  }
  onPayByPoints() {
    return this.dialog.open(PointPayDialogComponent, {
      disableClose: true,
      panelClass: ['point-pay-dialog', 'o-dialog-md-fullscreen'],
      width: '400px',
      data: {
        contactPoints: this.contactPoints,
        total: this.total
      }
    });
  }
  checkPaymentStateError(tenderTypeId) {
    var _this$checkDetails23, _this$checkDetails24, _this$checkDetails24$, _this$checkDetails26;
    if (tenderTypeId === TenderTypeID.OnEvent && this.checkDetails.Status === PaymentStatus.PartiallyPaid) {
      return this.translate.instant('PAYMENT_PROCESSOR.ON_EVENT.METHOD_NOT_ALLOWED');
    }
    if (!this.checkDetails) {
      return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.NO_CHECK_SELECTED_ERROR');
    }
    if ((_this$checkDetails23 = this.checkDetails) !== null && _this$checkDetails23 !== void 0 && _this$checkDetails23.CheckErrorMessage) {
      return this.translate.instant(this.checkDetails.CheckErrorMessage);
    }
    if (((_this$checkDetails24 = this.checkDetails) === null || _this$checkDetails24 === void 0 ? void 0 : (_this$checkDetails24$ = _this$checkDetails24.PaymentsTendered) === null || _this$checkDetails24$ === void 0 ? void 0 : _this$checkDetails24$.length) > 0) {
      var _this$checkDetails25, _this$checkDetails25$;
      const errorMessage = this.checkForApprovedTenderType([TenderTypeID.CreditCard, TenderTypeID.MemberAccount], tenderTypeId);
      if (errorMessage) {
        return errorMessage;
      }
      const cashPaymentsTendered = (_this$checkDetails25 = this.checkDetails) === null || _this$checkDetails25 === void 0 ? void 0 : (_this$checkDetails25$ = _this$checkDetails25.PaymentsTendered) === null || _this$checkDetails25$ === void 0 ? void 0 : _this$checkDetails25$.find(p => p.TenderTypeID !== TenderTypeID.MemberAccount && p.Status !== PaymentsTenderedStatus.Voided);
      if (cashPaymentsTendered && tenderTypeId === TenderTypeID.MemberAccount) {
        return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.ACCOUNT_PAYMENT_NOT_ALLOWED_ERROR');
      }
    } else if (((_this$checkDetails26 = this.checkDetails) === null || _this$checkDetails26 === void 0 ? void 0 : _this$checkDetails26.Remaining) === 0 && this.total === 0 && tenderTypeId !== TenderTypeID.Cash) {
      return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.ACCOUNT_PAYMENT_NOT_ALLOWED_ERROR');
    }
    if (tenderTypeId === TenderTypeID.MemberAccount) {
      return this.onAccountValidation(tenderTypeId);
    }
    const errMessage = this.PointValidation(tenderTypeId);
    if (errMessage) {
      return errMessage;
    }
    if (this.total === 0) {
      var _this$checkDetails27, _this$checkDetails27$;
      if (tenderTypeId === TenderTypeID.GiftCertificate && this.showGratuity && this.enableTipsOnGiftCard && (_this$checkDetails27 = this.checkDetails) !== null && _this$checkDetails27 !== void 0 && (_this$checkDetails27$ = _this$checkDetails27.PaymentsTendered) !== null && _this$checkDetails27$ !== void 0 && _this$checkDetails27$.some(p => p.TenderTypeID === TenderTypeID.GiftCertificate && p.Status === PaymentsTenderedStatus.Approved)) {
        return null;
      }
      if (this.checkDetails.Status === PaymentStatus.Paid || tenderTypeId !== TenderTypeID.Cash) {
        var _this$checkDetails$Ti, _this$checkDetails28;
        return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.ALREADY_PAID_ERROR', {
          title: (_this$checkDetails$Ti = (_this$checkDetails28 = this.checkDetails) === null || _this$checkDetails28 === void 0 ? void 0 : _this$checkDetails28.Title) !== null && _this$checkDetails$Ti !== void 0 ? _this$checkDetails$Ti : '-'
        });
      }
    }
    if (tenderTypeId !== TenderTypeID.GiftCertificate) {
      // Some conditions for enable/disable payment method
      return this.onGiftCardValidation(tenderTypeId);
    }
    return null;
  }
  PointValidation(tenderTypeId) {
    if (tenderTypeId === TenderTypeID.PointsRedemption) {
      var _this$checkDetails29, _this$checkDetails29$, _this$checkDetails30, _this$checkDetails30$;
      if ((_this$checkDetails29 = this.checkDetails) !== null && _this$checkDetails29 !== void 0 && (_this$checkDetails29$ = _this$checkDetails29.PaymentsTendered) !== null && _this$checkDetails29$ !== void 0 && _this$checkDetails29$.some(p => p.Status === PaymentsTenderedStatus.Paid && p.TenderTypeID === TenderTypeID.PointsRedemption)) {
        if (this.checkDetails.isSingleCheck) {
          var _this$checkDetails$Ti2;
          return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.SINGLE_CHECK_PONT_PAID_ERROR', {
            title: (_this$checkDetails$Ti2 = this.checkDetails.Title) !== null && _this$checkDetails$Ti2 !== void 0 ? _this$checkDetails$Ti2 : '-'
          });
        } else {
          var _this$checkDetails$Ti3;
          return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.CHECK_PONT_PAID_ERROR', {
            title: (_this$checkDetails$Ti3 = this.checkDetails.Title) !== null && _this$checkDetails$Ti3 !== void 0 ? _this$checkDetails$Ti3 : '-'
          });
        }
      }
      if ((_this$checkDetails30 = this.checkDetails) !== null && _this$checkDetails30 !== void 0 && (_this$checkDetails30$ = _this$checkDetails30.PaymentsTendered) !== null && _this$checkDetails30$ !== void 0 && _this$checkDetails30$.some(p => p.TenderTypeID === TenderTypeID.MemberAccount)) {
        return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.PAYMENT_NOT_ALLOWED_ERROR');
      }
      if (this.total !== 0) {
        var _this$checkDetails31, _this$checkDetails31$, _this$contactPoints, _this$contactPoints2;
        if (!((_this$checkDetails31 = this.checkDetails) !== null && _this$checkDetails31 !== void 0 && (_this$checkDetails31$ = _this$checkDetails31.Contact) !== null && _this$checkDetails31$ !== void 0 && _this$checkDetails31$.ContactID)) {
          return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.NO_CONTACT_ASSIGNED');
        }
        if (!((_this$contactPoints = this.contactPoints) !== null && _this$contactPoints !== void 0 && _this$contactPoints.AvailablePoints)) {
          return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.NO_CONTACT_POINTS');
        }
        if (!((_this$contactPoints2 = this.contactPoints) !== null && _this$contactPoints2 !== void 0 && _this$contactPoints2.RedeemablePoints)) {
          return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.NO_CONTACT_PURCHASE_POINTS');
        }
      }
    }
    return null;
  }
  checkForApprovedTenderType(theTenderType, tenderTypeId) {
    let errorMessage = '';
    theTenderType === null || theTenderType === void 0 ? void 0 : theTenderType.forEach(tenderType => {
      var _this$checkDetails32, _this$checkDetails32$;
      const paymentsTendered = (_this$checkDetails32 = this.checkDetails) === null || _this$checkDetails32 === void 0 ? void 0 : (_this$checkDetails32$ = _this$checkDetails32.PaymentsTendered) === null || _this$checkDetails32$ === void 0 ? void 0 : _this$checkDetails32$.find(p => p.TenderTypeID === tenderType && p.Status === PaymentsTenderedStatus.Approved);
      if (paymentsTendered && tenderTypeId !== tenderType) {
        var _this$methodList$find;
        const displayName = (_this$methodList$find = this.methodList.find(p => p.PaymentMethodID === paymentsTendered.TenderTypeID)) === null || _this$methodList$find === void 0 ? void 0 : _this$methodList$find.DisplayName;
        errorMessage = this.translate.instant('PAYMENT_PROCESSOR.PROCESS.PAYMENT_METHOD_WRONG_ERROR', {
          paymentMethod: displayName
        });
        return;
      }
    });
    return errorMessage;
  }
  onGiftCardValidation(tenderTypeId) {
    var _this$checkDetails33, _this$checkDetails33$;
    if ((_this$checkDetails33 = this.checkDetails) !== null && _this$checkDetails33 !== void 0 && (_this$checkDetails33$ = _this$checkDetails33.PaymentsTendered) !== null && _this$checkDetails33$ !== void 0 && _this$checkDetails33$.some(p => p.TenderTypeID === TenderTypeID.GiftCertificate && p.Status === PaymentsTenderedStatus.Approved) && this.enableTipsOnGiftCard && this.showGratuity && tenderTypeId !== TenderTypeID.GiftCertificate) {
      return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.HAVE_UNCOMMITTED_GIFT_CARD');
    }
    return null;
  }
  onAccountValidation(tenderTypeId) {
    var _this$checkDetails34, _this$checkDetails34$, _this$checkDetails35, _this$checkDetails35$;
    if (this.invalidTenderType) {
      return this.invalidTenderType["MemberAccount"];
    }
    if ((_this$checkDetails34 = this.checkDetails) !== null && _this$checkDetails34 !== void 0 && (_this$checkDetails34$ = _this$checkDetails34.PaymentsTendered) !== null && _this$checkDetails34$ !== void 0 && _this$checkDetails34$.some(p => p.Status === PaymentsTenderedStatus.Paid)) {
      var _this$checkDetails$Ti4;
      if (tenderTypeId !== TenderTypeID.MemberAccount) {
        return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.PAYMENT_NOT_ALLOWED_ERROR');
      }
      return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.ALREADY_PAID_ERROR', {
        title: (_this$checkDetails$Ti4 = this.checkDetails.Title) !== null && _this$checkDetails$Ti4 !== void 0 ? _this$checkDetails$Ti4 : '-'
      });
    }
    if ((_this$checkDetails35 = this.checkDetails) !== null && _this$checkDetails35 !== void 0 && (_this$checkDetails35$ = _this$checkDetails35.PaymentsTendered) !== null && _this$checkDetails35$ !== void 0 && _this$checkDetails35$.some(p => p.TenderTypeID === TenderTypeID.MemberAccount && p.Status === PaymentsTenderedStatus.Approved) && this.enableTipsOnGiftCard && this.showGratuity && tenderTypeId !== TenderTypeID.MemberAccount) {
      return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.HAVE_UNCOMMITTED_ON_ACCOUNT');
    }
    return null;
  }
  onPayByCash() {
    return this.dialog.open(CashPayComponent, {
      disableClose: true,
      panelClass: ['cash-pay-dialog', 'o-dialog-md-fullscreen'],
      width: '400px',
      data: this.total
    });
  }
  onPayByCashEQ() {
    return this.dialog.open(CashEqPayComponent, {
      disableClose: true,
      panelClass: ['cash-eq-pay-dialog', 'o-dialog-md-fullscreen'],
      width: '400px',
      data: this.checkDetails
    });
  }
  onUDFPaymentMethods(paymentMethod) {
    const data = {
      total: this.total,
      ExchangeRate: paymentMethod.ExchangeRate,
      PaymentMethodID: paymentMethod.PaymentMethodID,
      DisplayName: paymentMethod.DisplayName
    };
    return this.dialog.open(UDFPayComponent, {
      disableClose: true,
      panelClass: ['UDF-dialog', 'o-dialog-md-fullscreen'],
      width: '400px',
      data
    });
  }
  openCheckDialog() {
    return this.dialog.open(CheckDialogComponent, {
      disableClose: true,
      panelClass: ['check-dialog', 'o-dialog-md-fullscreen'],
      width: '400px',
      data: {
        total: this.total,
        checkUID: this.checkDetails.CheckUID,
        orderSeqID: this.checkDetails.OrderSeqID
      }
    });
  }
  openCreditDebitDialog(paymentMethod = null) {
    return this.dialog.open(CreditDebitComponent, {
      disableClose: true,
      panelClass: ['credit-debit-dialog', 'o-dialog-md-fullscreen'],
      width: '400px',
      data: {
        checkUID: this.checkDetails.CheckUID,
        total: this.total,
        printerList: this.printerList,
        tenderType: this.tenderType,
        paymentMethod: paymentMethod
      }
    });
  }
  getPayAmountByTenderType(paymentMethod) {
    if (!this.isReturn) {
      return this.total.toFixed(2);
    } else {
      return Math.max(this.total, -paymentMethod.Amount).toFixed(2);
    }
  }
  onPayByGiftCard() {
    return this.dialog.open(GiftCardPayComponent, {
      disableClose: true,
      panelClass: ['gift-card-pay-dialog', 'o-dialog-md-fullscreen'],
      width: '400px',
      data: {
        total: this.total.toFixed(2),
        showGratuity: this.showGratuity,
        printerList: this.printerList,
        checkDetails: this.checkDetails,
        enableTipsOnGiftCard: this.enableTipsOnGiftCard
      },
      autoFocus: false
    });
  }
  onReturnByGiftCard(paymentMethod) {
    return this.dialog.open(GiftCardReturnComponent, {
      disableClose: true,
      panelClass: ['gift-card-return-dialog'],
      width: '400px',
      data: {
        checkDetails: this.checkDetails,
        totalAmount: this.getPayAmountByTenderType(paymentMethod)
      },
      autoFocus: false
    });
  }
  onReturnByTenderType(paymentMethod, tenderType) {
    var _paymentMethod$Credit;
    if (!((_paymentMethod$Credit = paymentMethod.CreditCardID) !== null && _paymentMethod$Credit !== void 0 && _paymentMethod$Credit.length)) {
      return this.dialog.open(CashReturnComponent, {
        disableClose: true,
        panelClass: ['cash-return-dialog'],
        width: '400px',
        data: {
          totalAmount: this.getPayAmountByTenderType(paymentMethod),
          paymentMethod: paymentMethod,
          IntegratedCreditCard: tenderType.IntegratedCreditCard,
          IntegratedDebitCard: tenderType.IntegratedDebitCard
        },
        autoFocus: false
      });
    } else {
      return this.dialog.open(CreditDebitComponent, {
        disableClose: true,
        panelClass: ['credit-debit-dialog', 'o-dialog-md-fullscreen'],
        width: '400px',
        data: {
          checkUID: this.checkDetails.CheckUID,
          total: this.total,
          printerList: this.printerList,
          tenderType: this.tenderType,
          paymentMethod: paymentMethod,
          IntegratedCreditCard: tenderType.IntegratedCreditCard,
          IntegratedDebitCard: tenderType.IntegratedDebitCard
        }
      });
    }
  }
  onPayByAccount() {
    var _this$checkDetails36, _this$checkDetails37, _this$checkDetails37$;
    if (!this.checkDetails || !((_this$checkDetails36 = this.checkDetails) !== null && _this$checkDetails36 !== void 0 && _this$checkDetails36.Contact) || !((_this$checkDetails37 = this.checkDetails) !== null && _this$checkDetails37 !== void 0 && (_this$checkDetails37$ = _this$checkDetails37.Contact) !== null && _this$checkDetails37$ !== void 0 && _this$checkDetails37$.ContactID)) {
      this.snackBarService.showError(this.translate.instant('PAYMENT_PROCESSOR.PROCESS.SELECT_CONTACT'), '', null, 'left');
      this.openContactDialogEvent.emit();
      return;
    }
    if (!this.hasARAccount) {
      this.snackBarService.showError(this.translate.instant('PAYMENT_PROCESSOR.PROCESS.NO_ACCOUNT_ERROR'), '', null, 'left');
      return;
    }
    return this.dialog.open(OnAccountPayComponent, {
      disableClose: true,
      panelClass: ['on-account-pay-dialog', 'o-dialog-md-fullscreen'],
      width: '400px',
      data: {
        total: this.total,
        accountList: this.accountList,
        showGratuity: this.showGratuity,
        printerList: this.printerList,
        checkDetails: this.checkDetails
      }
    });
  }
  openOnEvent() {
    const dialog = this.dialog.open(_tei_office_event_management__WEBPACK_IMPORTED_MODULE_37__.EventListComponent, {
      panelClass: ['o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen'],
      data: {
        isEventRegistration: false,
        searchHeaderConfig: {
          startDate: new Date(),
          endDate: new Date()
        }
      }
    });
    this.subscription.add(dialog.afterClosed().subscribe(result => {
      if (result) {
        this.openOnEventPayment(result);
      }
    }));
  }
  openOnEventPayment(event) {
    const dialog = this.dialog.open(OnEventComponent, {
      panelClass: ['o-dialog-sm-fullscreen', 'o-dialog-md-fullscreen'],
      data: {
        EventName: event.EventName,
        PaymentAmount: this.total,
        EventUID: event.EventUID
      }
    });
  }
  hasGiftCardMethod() {
    var _this$methodList;
    return (_this$methodList = this.methodList) === null || _this$methodList === void 0 ? void 0 : _this$methodList.some(a => a.PaymentMethodID === TenderTypeID.GiftCertificate);
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
PaymentMethodComponent.ɵfac = function PaymentMethodComponent_Factory(t) {
  return new (t || PaymentMethodComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialog), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IAccountService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService));
};
PaymentMethodComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: PaymentMethodComponent,
  selectors: [["tei-common-payment-processor-payment-method"]],
  inputs: {
    total: "total",
    showGratuity: "showGratuity",
    tenderType: "tenderType",
    checkDetails: "checkDetails",
    printerList: "printerList",
    enableTipsOnGiftCard: "enableTipsOnGiftCard",
    contactPoints: "contactPoints",
    isReturn: "isReturn",
    enableReturnToGiftCard: "enableReturnToGiftCard"
  },
  outputs: {
    openContactDialogEvent: "openContactDialogEvent"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
  decls: 1,
  vars: 1,
  consts: [["class", "row mx-n2 mt-n2 justify-content-start align-items-center flex-wrap", 4, "ngIf"], [1, "row", "mx-n2", "mt-n2", "justify-content-start", "align-items-center", "flex-wrap"], [4, "ngFor", "ngForOf"], ["class", "col-6 col-sm-4 col-md-6 p-2", 4, "ngIf"], [1, "col-6", "col-sm-4", "col-md-6", "p-2"], ["mat-stroked-button", "", 1, "pay-method-item", "d-flex", "justify-content-center", "align-items-center", 3, "id", "disabled", "click"], [1, "a-text-primary", "a-item-text-wrap"], [4, "ngIf"], [1, "a-text-secondary", "a-item-text-wrap", "credit-card-id"], [1, "a-item-text-wrap", "a-text-default", "mt-1"], [3, "text-line-through", 4, "ngIf"], ["class", "ml-2", 4, "ngIf"], [1, "ml-2"], ["mat-stroked-button", "", "id", "payment-method-process-button", 1, "pay-method-item", "d-flex", "justify-content-center", "align-items-center", 3, "disabled"], [3, "disabled"], [3, "value", "id", "click", 4, "ngIf"], [3, "value", "id", "click"]],
  template: function PaymentMethodComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, PaymentMethodComponent_div_0_Template, 3, 2, "div", 0);
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.methodList.length > 0);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyLabel, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelect, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_31__.MatLegacyOption, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".pay-method-item[_ngcontent-%COMP%]{width:100%;height:7vh;line-height:16px;white-space:break-spaces;word-wrap:break-word;overflow-wrap:break-word;word-break:break-word;padding:5px}.pay-method-item[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1;top:0;left:0}.pay-method-item[_ngcontent-%COMP%]     .mat-select-arrow-wrapper, .pay-method-item[_ngcontent-%COMP%]     .mat-select-value{display:none}.pay-method-item[_ngcontent-%COMP%]     .mat-select-trigger{width:100%;height:100%}.credit-card-id[_ngcontent-%COMP%]{font-size:x-small}.a-item-text-wrap[_ngcontent-%COMP%]{white-space:break-spaces;word-wrap:break-word;overflow-wrap:break-word;word-break:break-word;display:block}.text-line-through[_ngcontent-%COMP%]{text-decoration:line-through}@media (max-width: 959px){  .pay-method-item{height:11vh!important}}@media (min-width: 960px) and (max-width: 1200.98px){  .pay-method-item{height:5.9vh!important}}@media (min-width: 1201px) and (max-width: 1400.98px){  .pay-method-item{height:7.9vh!important}}@media (min-width: 1400px){  .pay-method-item{height:8.7vh!important}}.tei-material-theme[_nghost-%COMP%]   .pay-method-item.mat-stroked-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%], .tei-material-theme   [_nghost-%COMP%]   .pay-method-item.mat-stroked-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%]{opacity:.5}.nb-theme-material-dark[_nghost-%COMP%]   .pay-method-item.mat-stroked-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .pay-method-item.mat-stroked-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%]{color:#ffffff1f}.nb-theme-material-light[_nghost-%COMP%]   .pay-method-item.mat-stroked-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .pay-method-item.mat-stroked-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%]{color:#0000001f}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentMethodComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-payment-method',
      template: "<div class=\"row mx-n2 mt-n2 justify-content-start align-items-center flex-wrap\" *ngIf=\"methodList.length > 0\">\n  <ng-container *ngFor=\"let method of methodList\">\n    <div *ngIf=\"method?.Display\" class=\"col-6 col-sm-4 col-md-6 p-2\">\n      <button mat-stroked-button (click)=\"openDialog(method, tenderType)\"\n        [id]=\"'payment-method-' + method?.PaymentMethodID\" [disabled]=\"manageLoadingService.isLoading\"\n        [class.mat-button-disabled]=\"checkPaymentStateError(method?.PaymentMethodID)\"\n        class=\"pay-method-item d-flex justify-content-center align-items-center \">\n        <span class=\"a-text-primary a-item-text-wrap\">{{method?.DisplayName}}</span>\n        <div *ngIf=\"isReturn\">\n          <span class=\"a-text-secondary a-item-text-wrap credit-card-id\">{{method?.CreditCardID}}</span>\n          <span class=\"a-item-text-wrap  a-text-default mt-1\">\n            <span *ngIf=\"method?.Amount\" [class.text-line-through]=\"method.IsReturned\">{{method?.Amount |\n              teiCurrencyTranslate}}</span>\n            <span *ngIf=\"method.IsReturned\" class=\"ml-2\">{{method?.Remaining | teiCurrencyTranslate}}</span>\n          </span>\n\n        </div>\n      </button>\n    </div>\n  </ng-container>\n  <div *ngIf=\"this.UDFPaymentMethods.length > 3\" class=\"col-6 col-sm-4 col-md-6 p-2\">\n    <button mat-stroked-button class=\"pay-method-item d-flex justify-content-center align-items-center\"\n      id=\"payment-method-process-button\" [disabled]=\"checkPaymentStateError(-1) || manageLoadingService.isLoading\">\n      <mat-label class=\"a-text-primary a-item-text-wrap\">{{'PAYMENT_PROCESSOR.PROCESS.MORE' |\n        teiTextTranslate}}</mat-label>\n      <mat-select [disabled]=\"checkPaymentStateError(-1)\">\n        <div *ngFor=\"let method of this.UDFPaymentMethods.slice(3, this.UDFPaymentMethods.length)\">\n          <mat-option *ngIf=\"method?.Display\" [value]=\"method?.PaymentMethodID\"\n            [id]=\"'payment-method-option-' + method?.PaymentMethodID\" (click)=\"openDialog(method, tenderType)\">{{\n            method?.DisplayName }}\n          </mat-option>\n        </div>\n      </mat-select>\n    </button>\n  </div>\n</div>",
      styles: [".pay-method-item{width:100%;height:7vh;line-height:16px;white-space:break-spaces;word-wrap:break-word;overflow-wrap:break-word;word-break:break-word;padding:5px}.pay-method-item mat-select{position:absolute;width:100%;height:100%;z-index:1;top:0;left:0}.pay-method-item ::ng-deep .mat-select-arrow-wrapper,.pay-method-item ::ng-deep .mat-select-value{display:none}.pay-method-item ::ng-deep .mat-select-trigger{width:100%;height:100%}.credit-card-id{font-size:x-small}.a-item-text-wrap{white-space:break-spaces;word-wrap:break-word;overflow-wrap:break-word;word-break:break-word;display:block}.text-line-through{text-decoration:line-through}@media (max-width: 959px){::ng-deep .pay-method-item{height:11vh!important}}@media (min-width: 960px) and (max-width: 1200.98px){::ng-deep .pay-method-item{height:5.9vh!important}}@media (min-width: 1201px) and (max-width: 1400.98px){::ng-deep .pay-method-item{height:7.9vh!important}}@media (min-width: 1400px){::ng-deep .pay-method-item{height:8.7vh!important}}:host-context(.tei-material-theme) .pay-method-item.mat-stroked-button.mat-button-disabled.mat-button-disabled{opacity:.5}:host-context(.nb-theme-material-dark) .pay-method-item.mat-stroked-button.mat-button-disabled.mat-button-disabled{color:#ffffff1f}:host-context(.nb-theme-material-light) .pay-method-item.mat-stroked-button.mat-button-disabled.mat-button-disabled{color:#0000001f}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialog
    }, {
      type: AccountService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAccountService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService
    }];
  }, {
    total: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    showGratuity: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    tenderType: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    checkDetails: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    printerList: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    enableTipsOnGiftCard: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    contactPoints: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    isReturn: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    enableReturnToGiftCard: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    openContactDialogEvent: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
class PointsService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor/Transaction/';
  }
  GetRedeemablePoints(request) {
    const apiUrl = this.serviceUrl + 'RedeemablePoints';
    return this.http.get(apiUrl, {
      params: request
    });
  }
}
PointsService.ɵfac = function PointsService_Factory(t) {
  return new (t || PointsService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
PointsService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: PointsService,
  factory: PointsService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PointsService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
const MATERIAL_MODULES$7 = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepperModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule];
const COMPONENTS$7 = [PointPayDialogComponent];
const COMMON_MODULES$4 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$6 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
const TEI_MATERIAL_MODULES$5 = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
class PointPayDialogModule {}
PointPayDialogModule.ɵfac = function PointPayDialogModule_Factory(t) {
  return new (t || PointPayDialogModule)();
};
PointPayDialogModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: PointPayDialogModule
});
PointPayDialogModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IPointsService',
    useClass: PointsService
  }, {
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }],
  imports: [MATERIAL_MODULES$7, COMMON_MODULES$4, TEI_MATERIAL_MODULES$5, TEI_CORE_MODULES$6, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepperModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PointPayDialogModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$7],
      imports: [...MATERIAL_MODULES$7, ...COMMON_MODULES$4, ...TEI_MATERIAL_MODULES$5, ...TEI_CORE_MODULES$6],
      exports: [...COMMON_MODULES$4, ...MATERIAL_MODULES$7, ...TEI_MATERIAL_MODULES$5, ...TEI_CORE_MODULES$6, ...COMPONENTS$7],
      providers: [{
        provide: 'IPointsService',
        useClass: PointsService
      }, {
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }]
    }]
  }], null, null);
})();
const MATERIAL_MODULES$6 = [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule];
const COMPONENTS$6 = [UDFPayComponent];
const COMMON_MODULES$3 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$5 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule];
class UDFPayModule {}
UDFPayModule.ɵfac = function UDFPayModule_Factory(t) {
  return new (t || UDFPayModule)();
};
UDFPayModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: UDFPayModule
});
UDFPayModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [MATERIAL_MODULES$6, COMMON_MODULES$3, TEI_CORE_MODULES$5, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](UDFPayModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$6],
      imports: [...MATERIAL_MODULES$6, ...COMMON_MODULES$3, ...TEI_CORE_MODULES$5],
      exports: [...COMMON_MODULES$3, ...MATERIAL_MODULES$6, ...TEI_CORE_MODULES$5, ...COMPONENTS$6]
    }]
  }], null, null);
})();
const COMPONENTS$5 = [PaymentMethodComponent];
const MATERIAL_MODULES$5 = [_angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule];
const COMMON_MODULES$2 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
const TEI_MATERIAL_MODULES$4 = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const PAYMENT_PROCESSOR_MODULES$2 = [CashPayModule, CashReturnModule, GiftCardPayModule, PointPayDialogModule, OnAccountPayModule, CreditDebitModule, CashEqPayModule, CheckDialogModule, UDFPayModule, OnEventModule];
const TEI_CORE_MODULES$4 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule];
class PaymentMethodModule {}
PaymentMethodModule.ɵfac = function PaymentMethodModule_Factory(t) {
  return new (t || PaymentMethodModule)();
};
PaymentMethodModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: PaymentMethodModule
});
PaymentMethodModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IAccountService',
    useClass: AccountService
  }],
  imports: [COMMON_MODULES$2, TEI_MATERIAL_MODULES$4, TEI_CORE_MODULES$4, PAYMENT_PROCESSOR_MODULES$2, MATERIAL_MODULES$5, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, CashPayModule, CashReturnModule, GiftCardPayModule, PointPayDialogModule, OnAccountPayModule, CreditDebitModule, CashEqPayModule, CheckDialogModule, UDFPayModule, OnEventModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentMethodModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$5],
      imports: [...COMMON_MODULES$2, ...TEI_MATERIAL_MODULES$4, ...TEI_CORE_MODULES$4, ...PAYMENT_PROCESSOR_MODULES$2, ...MATERIAL_MODULES$5],
      exports: [...COMMON_MODULES$2, ...TEI_MATERIAL_MODULES$4, ...MATERIAL_MODULES$5, ...TEI_CORE_MODULES$4, ...PAYMENT_PROCESSOR_MODULES$2, ...COMPONENTS$5],
      providers: [{
        provide: 'IAccountService',
        useClass: AccountService
      }]
    }]
  }], null, null);
})();
class ReceiptComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  constructor(formBuilder, errorStateMatcher, manageLoadingService, paymentProcessGenericService) {
    super(errorStateMatcher);
    this.formBuilder = formBuilder;
    this.errorStateMatcher = errorStateMatcher;
    this.manageLoadingService = manageLoadingService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.paymentCompleted = false;
    this.remaining = 0;
    this.printerList = [];
    this.printConfigurations = [];
    this.receiptData = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.receiptActionEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.emails = [];
    this.defaultValueList = [];
    this.receiptType = ReceiptType;
    this.copyCount = 1;
    this.separatorKeysCodes = [_angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_38__.ENTER, _angular_cdk_keycodes__WEBPACK_IMPORTED_MODULE_38__.COMMA];
    this.selectable = true;
    this.removable = true;
    this.counterEvents = CounterEvents;
    this.disabledPayButton = true;
  }
  ngOnInit() {
    const defaultPrinter = this.printerList.filter(printer => printer.Type === PrinterType.Primary);
    this.createForm(defaultPrinter);
    this.handlePrinterIDChange();
  }
  handlePrinterIDChange() {
    var _this$form$get2;
    this.paymentProcessGenericService.selectedPrinterID = Number((_this$form$get2 = this.form.get('PrinterID')) === null || _this$form$get2 === void 0 ? void 0 : _this$form$get2.value);
    this.subscription.add(this.form.get('PrinterID').valueChanges.subscribe(printerID => this.paymentProcessGenericService.selectedPrinterID = Number(printerID)));
  }
  createForm(defaultPrinter) {
    this.form = this.formBuilder.group({
      Type: [ReceiptType.Print],
      CopyCount: [this.copyCount],
      PrinterID: [defaultPrinter.length > 0 ? defaultPrinter[0].PrinterID : null],
      PrintConfigurations: this.formBuilder.array(this.printConfigurations.map(item => {
        return this.formBuilder.group({
          Name: [item.Name],
          Title: [item.Title],
          checked: [false]
        });
      }))
    });
  }
  addEmailChip(emails) {
    this.emails = emails;
  }
  getPrinterName(printerID) {
    var _this$printerList3, _this$printerList3$fi;
    return (_this$printerList3 = this.printerList) === null || _this$printerList3 === void 0 ? void 0 : (_this$printerList3$fi = _this$printerList3.filter(item => item.PrinterID === Number(printerID))[0]) === null || _this$printerList3$fi === void 0 ? void 0 : _this$printerList3$fi.Name;
  }
  ngOnChanges(changes) {
    var _this$contact;
    if (!changes) {
      return;
    }
    if (changes !== null && changes !== void 0 && changes.contact && (_this$contact = this.contact) !== null && _this$contact !== void 0 && _this$contact.Email) {
      var _this$contact2;
      this.defaultValueList = [(_this$contact2 = this.contact) === null || _this$contact2 === void 0 ? void 0 : _this$contact2.Email];
    }
    if (this.printerList) {
      var _this$formControls61, _this$printerList$;
      (_this$formControls61 = this.formControls) === null || _this$formControls61 === void 0 ? void 0 : _this$formControls61.PrinterID.setValue((_this$printerList$ = this.printerList[0]) === null || _this$printerList$ === void 0 ? void 0 : _this$printerList$.PrinterID);
    }
  }
  get formControls() {
    var _this$form5;
    return (_this$form5 = this.form) === null || _this$form5 === void 0 ? void 0 : _this$form5.controls;
  }
  get printConfigurationsControl() {
    return this.form.controls.PrintConfigurations;
  }
  changeReceiptData() {
    this.disabledPayButton = this.emails.length === 0;
    this.receiptData.emit(this.form.value);
  }
  changeCopyCount(event) {
    var _this$formControls$Co;
    let count = Number((_this$formControls$Co = this.formControls.CopyCount) === null || _this$formControls$Co === void 0 ? void 0 : _this$formControls$Co.value);
    if (event === this.counterEvents.Minus) {
      if (count > 1) {
        count--;
        this.formControls.CopyCount.setValue(count);
      } else if (count === 1) {
        this.formControls.CopyCount.setValue(1);
      }
    }
    if (event === this.counterEvents.Plus) {
      count++;
      this.formControls.CopyCount.setValue(count);
    }
  }
  receiptAction() {
    const receiptModel = Object.assign(new ReceiptModel(), this.form.value);
    if (receiptModel.Type === ReceiptType.Email) {
      receiptModel.Emails = this.emails;
    }
    receiptModel.PrintConfigurations = receiptModel.PrintConfigurations.reduce((accumulator, currentValue) => {
      if (currentValue.checked) {
        accumulator.push({
          Name: currentValue.Name,
          Title: currentValue.Title
        });
      }
      return accumulator;
    }, []);
    this.receiptActionEvent.emit(receiptModel);
  }
  setPayButtonDisabled(event) {
    this.disabledPayButton = event;
  }
  ngOnDestroy() {
    var _this$subscription;
    (_this$subscription = this.subscription) === null || _this$subscription === void 0 ? void 0 : _this$subscription.unsubscribe();
  }
}
ReceiptComponent.ɵfac = function ReceiptComponent_Factory(t) {
  return new (t || ReceiptComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'));
};
ReceiptComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: ReceiptComponent,
  selectors: [["tei-common-payment-processor-receipt"]],
  inputs: {
    paymentCompleted: "paymentCompleted",
    remaining: "remaining",
    printerList: "printerList",
    printConfigurations: "printConfigurations",
    contact: "contact"
  },
  outputs: {
    receiptData: "receiptData",
    receiptActionEvent: "receiptActionEvent"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(ReceiptComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
  decls: 17,
  vars: 17,
  consts: [[1, "o-section-receipt", "d-flex", "flex-column", "align-items-start", "justify-content-start", 3, "formGroup"], ["formControlName", "Type", "name", "receipt"], ["value", "Print", 3, "click"], ["value", "Email", 3, "click"], [4, "ngIf"], ["class", "w-100", 3, "selectable", "shouldUnique", "removable", "defaultValueList", "type", "label", "value", "invalidChipState", 4, "ngIf"], ["type", "button", "mat-button", "", "mat-raised-button", "", 1, "w-100", "reciept-print-button", "a-payment-label", "mb-1", "d-flex", "justify-content-center", "mt-2", 3, "color", "disabled", "click"], [4, "ngIf", "ngIfThen", "ngIfElse"], ["class", "a-remaining-check", 4, "ngIf"], ["paymentCompletedBlock", ""], ["paymentNotCompletedBlock", ""], ["class", "m-container-copies d-flex flex-row align-items-center my-2", 4, "ngIf"], [1, "m-container-printer", "d-flex", "align-items-center", "justify-content-start"], [1, "a-text-default"], ["appearance", "outline", 1, "no-label", "pb-0", "a-dropdown"], ["formControlName", "PrinterID"], ["class", "a-dropdown-multiline_options", 3, "value", "click", 4, "ngFor", "ngForOf"], ["formArrayName", "PrintConfigurations", 1, "my-2"], [4, "ngFor", "ngForOf"], [1, "m-container-copies", "d-flex", "flex-row", "align-items-center", "my-2"], ["mat-icon-button", "", 1, "mat-blue", 3, "disabled", "click"], [1, "a-text-primary", "mx-2"], [1, "a-dropdown-multiline_options", 3, "value", "click"], [1, "d-flex", "w-100", "flex-column"], [1, "d-flex", "w-100", "justify-content-start", "align-items-center"], [1, "a-text-secondary", "mr-2"], ["class", "a-text-small printer-type", 4, "ngIf"], ["class", "a-text-small receipt-desc-printer", 4, "ngIf"], [1, "a-text-small", "printer-type"], [1, "a-text-small", "receipt-desc-printer"], [3, "formGroup"], ["formControlName", "checked"], [1, "w-100", 3, "selectable", "shouldUnique", "removable", "defaultValueList", "type", "label", "value", "invalidChipState"], [1, "a-remaining-check"], ["class", "reciept-print-button", 4, "ngIf"], [1, "reciept-print-button"]],
  template: function ReceiptComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "mat-button-toggle-group", 1)(2, "mat-button-toggle", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ReceiptComponent_Template_mat_button_toggle_click_2_listener() {
        return ctx.changeReceiptData();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "mat-button-toggle", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ReceiptComponent_Template_mat_button_toggle_click_5_listener() {
        return ctx.changeReceiptData();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, ReceiptComponent_section_8_Template, 13, 7, "section", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, ReceiptComponent_tei_multi_chip_9_Template, 2, 8, "tei-multi-chip", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "button", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ReceiptComponent_Template_button_click_10_listener() {
        return ctx.receiptAction();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](11, ReceiptComponent_span_11_Template, 1, 0, "span", 7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](12, ReceiptComponent_span_12_Template, 3, 3, "span", 8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](13, ReceiptComponent_ng_template_13_Template, 2, 2, "ng-template", null, 9, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](15, ReceiptComponent_ng_template_15_Template, 3, 3, "ng-template", null, 10, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplateRefExtractor"]);
    }
    if (rf & 2) {
      const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](14);
      const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 13, "PAYMENT_PROCESSOR.RECEIPT.PRINT"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](7, 15, "PAYMENT_PROCESSOR.RECEIPT.EMAIL"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.Type.value === ctx.receiptType.Print);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.formControls.Type.value === ctx.receiptType.Email);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("a-payment-required", !ctx.paymentCompleted);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("color", ctx.paymentCompleted ? "primary" : "secondary")("disabled", ctx.manageLoadingService.isLoading || ctx.disabledPayButton && ctx.formControls.Type.value === ctx.receiptType.Email || !ctx.paymentCompleted || ctx.formControls.Type.value === ctx.receiptType.Email && (!ctx.emails || ctx.emails.length == 0));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.paymentCompleted)("ngIfThen", _r4)("ngIfElse", _r6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.remaining);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormArrayName, _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_39__.MatButtonToggleGroup, _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_39__.MatButtonToggle, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelect, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectTrigger, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_31__.MatLegacyOption, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_material_legacy_checkbox__WEBPACK_IMPORTED_MODULE_34__.MatLegacyCheckbox, _tei_material__WEBPACK_IMPORTED_MODULE_11__.MultiChipComponent, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".printer-type{padding:2px;border-radius:3px;background:rgb(14,149,202)}  .mat-chip-list-wrapper{margin-left:0}  .o-section-receipt .a-remaining-check{position:absolute;right:1rem}  .o-section-receipt .reciept-print-button{color:#fff}  .o-section-receipt .a-button-copy{width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none}  .o-section-receipt .copy-input{border:none;height:26px;background-color:transparent;width:60px;outline:none;text-align:center;color:#fff}  .o-section-receipt .m-container-copies .a-text-default,   .o-section-receipt .m-container-printer .a-text-default{width:68px}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ReceiptComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-receipt',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(ReceiptComponent)],
      template: "<div [formGroup]=\"form\" class=\"o-section-receipt d-flex flex-column align-items-start justify-content-start \">\n  <mat-button-toggle-group formControlName=\"Type\" name=\"receipt\">\n    <mat-button-toggle (click)=\"changeReceiptData()\" value=\"Print\">\n      {{\"PAYMENT_PROCESSOR.RECEIPT.PRINT\" | teiTextTranslate}}\n    </mat-button-toggle>\n    <mat-button-toggle (click)=\"changeReceiptData()\" value=\"Email\">\n      {{\"PAYMENT_PROCESSOR.RECEIPT.EMAIL\" | teiTextTranslate}}\n    </mat-button-toggle>\n  </mat-button-toggle-group>\n  <section *ngIf=\"formControls.Type.value===receiptType.Print\">\n    <div *ngIf=\"formControls.Type.value===receiptType.Print\"\n      class=\"m-container-copies d-flex flex-row align-items-center my-2\">\n      <div class=\"a-text-default\">{{\"PAYMENT_PROCESSOR.RECEIPT.COPIES\" | teiTextTranslate}}</div>\n      <button mat-icon-button (click)=\"changeCopyCount(counterEvents.Minus); changeReceiptData()\"\n        [disabled]=\"manageLoadingService.isLoading\" class=\"mat-blue\">\n        <mat-icon>\n          remove\n        </mat-icon>\n      </button>\n      <div class=\"a-text-primary mx-2\">{{formControls?.CopyCount?.value}}</div>\n      <button mat-icon-button (click)=\"changeCopyCount(counterEvents.Plus); changeReceiptData()\"\n        [disabled]=\"manageLoadingService.isLoading\" class=\"mat-blue\">\n        <mat-icon>\n          add\n        </mat-icon>\n      </button>\n    </div>\n    <div class=\"m-container-printer d-flex align-items-center justify-content-start\">\n      <div class=\"a-text-default\">{{\"PAYMENT_PROCESSOR.RECEIPT.PRINTER\" | teiTextTranslate}}</div>\n      <mat-form-field class=\"no-label pb-0 a-dropdown\" appearance=\"outline\">\n        <mat-select formControlName=\"PrinterID\">\n          <mat-select-trigger>\n            {{getPrinterName(formControls?.PrinterID?.value)}}\n          </mat-select-trigger>\n          <mat-option class=\"a-dropdown-multiline_options\" (click)=\"changeReceiptData()\"\n            *ngFor=\"let printer of printerList\" [value]=\"printer?.PrinterID\">\n            <div class=\"d-flex w-100 flex-column\">\n              <div class=\"d-flex w-100 justify-content-start align-items-center\">\n                <span class=\"a-text-secondary mr-2\">{{printer?.Name}}</span>\n                <span *ngIf=\"printer.Type === 0\" class=\"a-text-small printer-type\">\n                  {{\"PAYMENT_PROCESSOR.RECEIPT.PRIMARY\" | teiTextTranslate}}\n                </span>\n                <span *ngIf=\"printer.Type === 1\" class=\"a-text-small printer-type\">\n                  {{\"PAYMENT_PROCESSOR.RECEIPT.BACKUP\" | teiTextTranslate}}\n                </span>\n              </div>\n              <span *ngIf=\"!formControls?.PrinterID?.value\"\n                class=\"a-text-small receipt-desc-printer\">{{printer?.PrinterModel}}</span>\n            </div>\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n    </div>\n    <div class=\"my-2\" formArrayName=\"PrintConfigurations\">\n      <ng-container *ngFor=\"let printConfiguration of printConfigurationsControl.controls; let i = index\">\n        <ng-container [formGroup]=\"printConfiguration\">\n          <mat-checkbox formControlName=\"checked\">\n            {{printConfiguration?.controls?.Title?.value}}\n          </mat-checkbox>\n        </ng-container>\n      </ng-container>\n    </div>\n  </section>\n  <tei-multi-chip *ngIf=\"formControls.Type.value===receiptType.Email\" class=\"w-100\" [selectable]=\"selectable\"\n    [shouldUnique]=\"'true'\" [removable]=\"removable\" (value)=\"addEmailChip($event)\" [defaultValueList]=\"defaultValueList\"\n    (invalidChipState)=\"setPayButtonDisabled($event)\" [type]=\"receiptType.Email\"\n    [label]=\"'PAYMENT_PROCESSOR.RECEIPT.EMAIL' | teiTextTranslate\">\n  </tei-multi-chip>\n  <button type=\"button\" mat-button mat-raised-button [color]=\"paymentCompleted ?  'primary':'secondary'\"\n    class=\"w-100 reciept-print-button a-payment-label mb-1 d-flex justify-content-center mt-2\"\n    [class.a-payment-required]=\"!paymentCompleted\"\n    [disabled]=\"manageLoadingService.isLoading || ((disabledPayButton && formControls.Type.value===receiptType.Email) || !paymentCompleted || (formControls.Type.value===receiptType.Email && (!emails||emails.length==0)))\"\n    (click)=\"receiptAction()\">\n    <span *ngIf=\"paymentCompleted; then paymentCompletedBlock else paymentNotCompletedBlock\"></span>\n    <span class=\"a-remaining-check\" *ngIf=\"remaining\">\n      {{remaining | teiCurrencyTranslate}}\n    </span>\n  </button>\n</div>\n<ng-template #paymentCompletedBlock>\n  <span class=\"reciept-print-button\" *ngIf=\"formControls.Type.value===receiptType.Email\">\n    {{\"PAYMENT_PROCESSOR.RECEIPT.EMAIL_RECEIPT\" | teiTextTranslate}}\n  </span>\n  <span class=\"reciept-print-button\"\n    *ngIf=\"formControls.Type.value===receiptType.Print\">{{\"PAYMENT_PROCESSOR.RECEIPT.PRINT_RECEIPT\" |\n    teiTextTranslate}}</span>\n</ng-template>\n<ng-template #paymentNotCompletedBlock><span class=\"reciept-print-button\">{{\"PAYMENT_PROCESSOR.RECEIPT.PAYMENT_REQUIRED\"\n    | teiTextTranslate}}</span></ng-template>",
      styles: ["::ng-deep .printer-type{padding:2px;border-radius:3px;background:rgb(14,149,202)}::ng-deep .mat-chip-list-wrapper{margin-left:0}::ng-deep .o-section-receipt .a-remaining-check{position:absolute;right:1rem}::ng-deep .o-section-receipt .reciept-print-button{color:#fff}::ng-deep .o-section-receipt .a-button-copy{width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none}::ng-deep .o-section-receipt .copy-input{border:none;height:26px;background-color:transparent;width:60px;outline:none;text-align:center;color:#fff}::ng-deep .o-section-receipt .m-container-copies .a-text-default,::ng-deep .o-section-receipt .m-container-printer .a-text-default{width:68px}\n"]
    }]
  }], function () {
    return [{
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }];
  }, {
    paymentCompleted: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    remaining: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    printerList: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    printConfigurations: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    contact: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    receiptData: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }],
    receiptActionEvent: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
const COMPONENTS$4 = [ReceiptComponent];
const MATERIAL_MODULES$4 = [_angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_39__.MatButtonToggleModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_checkbox__WEBPACK_IMPORTED_MODULE_34__.MatLegacyCheckboxModule];
const TEI_CORE_MODULES$3 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule];
const TEI_MATERIAL_MODULES$3 = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.MultiChipModule];
const MODULES$1 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
class ReceiptModule {}
ReceiptModule.ɵfac = function ReceiptModule_Factory(t) {
  return new (t || ReceiptModule)();
};
ReceiptModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: ReceiptModule
});
ReceiptModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [MODULES$1, MATERIAL_MODULES$4, TEI_CORE_MODULES$3, TEI_MATERIAL_MODULES$3, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_39__.MatButtonToggleModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_checkbox__WEBPACK_IMPORTED_MODULE_34__.MatLegacyCheckboxModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.MultiChipModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ReceiptModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$4],
      imports: [...MODULES$1, ...MATERIAL_MODULES$4, ...TEI_CORE_MODULES$3, ...TEI_MATERIAL_MODULES$3],
      exports: [...MODULES$1, ...MATERIAL_MODULES$4, ...COMPONENTS$4, ...TEI_MATERIAL_MODULES$3, ...TEI_CORE_MODULES$3]
    }]
  }], null, null);
})();
class RetailSaleItemComponent {
  constructor() {
    this.saleItem = new SummaryDetailItem();
  }
}
RetailSaleItemComponent.ɵfac = function RetailSaleItemComponent_Factory(t) {
  return new (t || RetailSaleItemComponent)();
};
RetailSaleItemComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: RetailSaleItemComponent,
  selectors: [["tei-common-payment-processor-retail-sale-item"]],
  inputs: {
    saleItem: "saleItem"
  },
  decls: 12,
  vars: 7,
  consts: [[1, "m-sale-item", "d-flex", "flex-row", "py-2"], [1, "a-quantity-number", "align-self-start"], [1, "flex-fill"], [1, "d-flex", "flex-row", "justify-content-between", "align-items-center"], [1, "d-flex", "a-text-secondary", "a-text-itemuofm"]],
  template: function RetailSaleItemComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "span", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "div", 2)(4, "div", 3)(5, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](9, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.saleItem == null ? null : ctx.saleItem.Quantity, " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.saleItem.Description);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](9, 5, ctx.saleItem.UnitPrice));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"](" ", ctx.saleItem.UofM ? "" + ctx.saleItem.UofM + " \xB7 " : "", "", ctx.saleItem.ItemID, " ");
    }
  },
  dependencies: [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".m-sale-item[_ngcontent-%COMP%]{line-height:normal;font-weight:700;-webkit-user-select:none;-moz-user-select:none;user-select:none}.m-sale-item[_ngcontent-%COMP%]   .a-text-secondary.a-text-itemuofm[_ngcontent-%COMP%]{font-size:11px;font-weight:400}.a-quantity-number[_ngcontent-%COMP%]{margin-right:10px}.nb-theme-material-dark[_nghost-%COMP%]     .a-button-itemnote:hover, .nb-theme-material-dark   [_nghost-%COMP%]     .a-button-itemnote:hover{background-color:#ffffff14}.nb-theme-material-light[_nghost-%COMP%]     .a-button-itemnote:hover, .nb-theme-material-light   [_nghost-%COMP%]     .a-button-itemnote:hover{background-color:#00000014}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RetailSaleItemComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-retail-sale-item',
      template: "<div class=\"m-sale-item d-flex flex-row py-2\">\n  <span class=\"a-quantity-number align-self-start\">\n    {{saleItem?.Quantity}}\n  </span>\n  <div class=\"flex-fill\">\n    <div class=\"d-flex flex-row justify-content-between align-items-center\">\n      <span>{{saleItem.Description}}</span>\n      <span>{{saleItem.UnitPrice | teiCurrencyTranslate}}</span>\n    </div>\n    <div class=\"d-flex a-text-secondary a-text-itemuofm\">\n      {{saleItem.UofM ? '' + saleItem.UofM + ' \u00B7 ' : ''}}{{saleItem.ItemID}}\n    </div>\n  </div>\n</div>\n",
      styles: [".m-sale-item{line-height:normal;font-weight:700;-webkit-user-select:none;-moz-user-select:none;user-select:none}.m-sale-item .a-text-secondary.a-text-itemuofm{font-size:11px;font-weight:400}.a-quantity-number{margin-right:10px}:host-context(.nb-theme-material-dark) ::ng-deep .a-button-itemnote:hover{background-color:#ffffff14}:host-context(.nb-theme-material-light) ::ng-deep .a-button-itemnote:hover{background-color:#00000014}\n"]
    }]
  }], null, {
    saleItem: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
class RetailSaleCardComponent {
  constructor() {
    this.item = new ItemSummary();
  }
}
RetailSaleCardComponent.ɵfac = function RetailSaleCardComponent_Factory(t) {
  return new (t || RetailSaleCardComponent)();
};
RetailSaleCardComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: RetailSaleCardComponent,
  selectors: [["tei-common-payment-processor-retail-sale-card"]],
  inputs: {
    paymentDetail: "paymentDetail",
    item: "item"
  },
  decls: 4,
  vars: 2,
  consts: [[1, "d-flex", "flex-column", "m-check-details"], ["class", "m-check-menu-items-container", 4, "ngIf"], [3, "checkMenuItem"], [1, "m-check-menu-items-container"], [4, "ngFor", "ngForOf"], [1, "w-100", 3, "saleItem"]],
  template: function RetailSaleCardComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div")(1, "div", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, RetailSaleCardComponent_div_2_Template, 2, 1, "div", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](3, "tei-check-fees", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.item == null ? null : ctx.item.Items);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("checkMenuItem", ctx.item == null ? null : ctx.item.PaymentSummary);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, CheckFeesComponent, RetailSaleItemComponent],
  styles: [_c5]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RetailSaleCardComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-retail-sale-card',
      template: "<div>\n  <div class=\"d-flex flex-column m-check-details\">\n    <div *ngIf=\"item?.Items\" class=\"m-check-menu-items-container\">\n      <div *ngFor=\"let saleItem of item?.Items\">\n        <tei-common-payment-processor-retail-sale-item [saleItem]=\"saleItem\" class=\"w-100\">\n        </tei-common-payment-processor-retail-sale-item>\n      </div>\n    </div>\n\n    <tei-check-fees [checkMenuItem]=\"item?.PaymentSummary\"></tei-check-fees>\n  </div>\n</div>\n",
      styles: [":host-context(.nb-theme-material-dark) ::ng-deep .a-button-checknote:hover{background-color:#ffffff14}:host-context(.nb-theme-material-dark) .o-contact-container{border-bottom:1px solid rgba(255,255,255,.12)}:host-context(.nb-theme-material-light) ::ng-deep .a-button-checknote:hover{background-color:#00000014}:host-context(.nb-theme-material-light) .o-contact-container{border-bottom:1px solid rgba(0,0,0,.12)}.m-check-details .m-check-menu-items-container{padding-bottom:10px}.m-check-details .a-seat-number{margin-right:10px}\n"]
    }]
  }], null, {
    paymentDetail: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    item: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }]
  });
})();
const COMMON_MODULES$1 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
const TEI_CORE_MODULES$2 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule];
const COMPONENTS$3 = [RetailSaleItemComponent];
class RetailSaleItemModule {}
RetailSaleItemModule.ɵfac = function RetailSaleItemModule_Factory(t) {
  return new (t || RetailSaleItemModule)();
};
RetailSaleItemModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: RetailSaleItemModule
});
RetailSaleItemModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [TEI_CORE_MODULES$2, COMMON_MODULES$1, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RetailSaleItemModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$3],
      imports: [...TEI_CORE_MODULES$2, ...COMMON_MODULES$1],
      exports: [...TEI_CORE_MODULES$2, ...COMMON_MODULES$1, ...COMPONENTS$3]
    }]
  }], null, null);
})();
const BASE_COMPONENT$3 = [RetailSaleCardComponent];
const BASE_MODULE$3 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
const PAYMENT_PROCESSOR_MODULES$1 = [CheckFeesModule, RetailSaleItemModule];
class RetailSaleCardModule {}
RetailSaleCardModule.ɵfac = function RetailSaleCardModule_Factory(t) {
  return new (t || RetailSaleCardModule)();
};
RetailSaleCardModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: RetailSaleCardModule
});
RetailSaleCardModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [BASE_MODULE$3, PAYMENT_PROCESSOR_MODULES$1, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, CheckFeesModule, RetailSaleItemModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](RetailSaleCardModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...BASE_COMPONENT$3],
      imports: [...BASE_MODULE$3, ...PAYMENT_PROCESSOR_MODULES$1],
      exports: [...BASE_COMPONENT$3, ...BASE_MODULE$3, ...PAYMENT_PROCESSOR_MODULES$1]
    }]
  }], null, null);
})();
class VoidPaymentDialogRequest {}
class VoidPaymentDialogRequestForm extends _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormGroup {
  constructor(PaymentInitiatorUID, PaymentItemID, TrxIDs, PaymentUID) {
    super({
      PaymentInitiatorUID: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormControl(PaymentInitiatorUID, []),
      PaymentItemID: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormControl(PaymentItemID, []),
      TrxIDs: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormControl(TrxIDs, []),
      PaymentUID: new _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormControl(PaymentUID, [])
    });
  }
  setValue(value, options) {
    super.setValue(value, options);
  }
}
class VoidTenderPaymentsComponent extends _tei_core__WEBPACK_IMPORTED_MODULE_2__.ModelDrivenFormGroupControlValueAccessor {
  get CreditCardPaymentSelected() {
    var _this$form6, _this$form6$value;
    return (_this$form6 = this.form) === null || _this$form6 === void 0 ? void 0 : (_this$form6$value = _this$form6.value) === null || _this$form6$value === void 0 ? void 0 : _this$form6$value.PaymentUID;
  }
  get allSelected() {
    return this.selection.selected.length !== 0 && this.selection.selected.length === this.payments.length;
  }
  constructor(errorStateMatcher, paymentProcessGenericService, responsiveService, manageLoadingService) {
    super(errorStateMatcher);
    this.errorStateMatcher = errorStateMatcher;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.responsiveService = responsiveService;
    this.manageLoadingService = manageLoadingService;
    this.payments = new Array();
    this.integratedCreditPayments = new Array();
    this.selection = new _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_40__.SelectionModel(true, []);
    this.isMobile = false;
    this.voidCreditCardPaymentEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter();
    this.TenderTypeEnum = TenderTypeID;
  }
  ngOnInit() {
    var _this$integratedCredi;
    const paymentUID = (_this$integratedCredi = this.integratedCreditPayments) !== null && _this$integratedCredi !== void 0 && _this$integratedCredi.length ? this.integratedCreditPayments[0].TrxUID : null;
    this.form = new VoidPaymentDialogRequestForm(this.checkDetails.PaymentRecordUID, this.checkDetails.CheckUID, [], paymentUID);
    this.form.markAllAsTouched();
    this.responsiveService.mediaBreakpoint.subscribe(screenSize => {
      this.isMobile = false;
      this.isMobile = window.innerWidth <= 767 || screenSize === 'xs' || screenSize === 'sm';
    });
  }
  toggleMasterSelection($event) {
    $event.preventDefault();
    $event.stopPropagation();
    if (this.allSelected) {
      this.selection.clear();
    } else {
      this.selection.select(...this.payments);
    }
  }
  itemChanged($event, item) {
    var _this$selection;
    $event === null || $event === void 0 ? void 0 : $event.stopPropagation();
    $event === null || $event === void 0 ? void 0 : $event.preventDefault();
    (_this$selection = this.selection) === null || _this$selection === void 0 ? void 0 : _this$selection.toggle(item);
    const request = this.form.value;
    request.TrxIDs = this.selection.selected.map(a => a.TrxUID);
    this.form.setValue(request);
  }
  voidCreditCardPayment() {
    if (this.form.value.PaymentUID) {
      this.voidCreditCardPaymentEvent.emit(this.form.value);
    }
  }
}
VoidTenderPaymentsComponent.ɵfac = function VoidTenderPaymentsComponent_Factory(t) {
  return new (t || VoidTenderPaymentsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ResponsiveService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService));
};
VoidTenderPaymentsComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: VoidTenderPaymentsComponent,
  selectors: [["tei-common-payment-processor-void-tender-payments"]],
  inputs: {
    payments: "payments",
    integratedCreditPayments: "integratedCreditPayments",
    selection: "selection",
    checkDetails: "checkDetails"
  },
  outputs: {
    voidCreditCardPaymentEvent: "voidCreditCardPaymentEvent"
  },
  features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵProvidersFeature"]([(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(VoidTenderPaymentsComponent)]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]],
  decls: 36,
  vars: 28,
  consts: [[1, "d-flex", "flex-column", "align-items-start", "justify-content-start", 3, "formGroup"], [1, "mb-3"], [1, "d-flex", "a-text-primary"], [1, "d-flex", "a-text-secondary"], [1, "d-flex", "flex-column", "mt-2", "w-100"], [1, "a-text-label"], [1, "pt-2", "pb-3", "d-flex", "flex-row"], [1, "d-flex", "flex-column", "flex-grow-1"], ["appearance", "outline", 1, "no-label", "a-dropdown"], ["formControlName", "PaymentUID", "floatLabel", "never", 3, "disabled", "placeholder"], [3, "value", 4, "ngFor", "ngForOf"], ["type", "submit", "mat-stroked-button", "", 1, "cc-void-button", 3, "disabled", "click"], [1, "d-flex", "flex-column", "w-100"], [1, "mat-card", "o-card", "o-card-list", "py-0", "mt-1", "w-100", "o-list-void-payment"], ["matRipple", ""], [1, "w-100", "d-flex", "align-items-center", "justify-content-between", 3, "click"], [1, "a-text-secondary", "py-2", "w-100", "d-flex", "align-items-center"], ["mat-list-icon", "", 3, "checked", "indeterminate", "change"], ["matRipple", "", 4, "ngFor", "ngForOf"], [3, "value"], [1, "w-100", "d-flex", "align-items-center", "justify-content-between", 3, "ngClass", "click"], [1, "a-text-secondary", "py-2", "align-items-center", 3, "matTooltip"], ["mat-list-icon", "", 3, "checked", "change"], [4, "ngIf"], [1, "d-flex", "align-items-center", "overflow-hidden", 3, "ngClass", "matTooltip"], [1, "a-text-secondary"], ["class", "a-tip a-text-secondary text-truncate", 4, "ngIf"], [1, "a-tip", "a-text-secondary", "text-truncate"]],
  template: function VoidTenderPaymentsComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "span", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "teiCurrencyTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "span", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](8, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div", 4)(10, "div", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](12, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "div", 6)(14, "div", 7)(15, "mat-form-field", 8)(16, "mat-select", 9);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](17, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](18, VoidTenderPaymentsComponent_mat_option_18_Template, 4, 5, "mat-option", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "button", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function VoidTenderPaymentsComponent_Template_button_click_19_listener() {
        return ctx.voidCreditCardPayment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](21, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](22, "div", 12)(23, "div", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](24);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](25, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](26, "mat-list", 13)(27, "mat-list-item", 14)(28, "div", 15);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function VoidTenderPaymentsComponent_Template_div_click_28_listener($event) {
        return ctx.toggleMasterSelection($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](29, "div", 16)(30, "mat-checkbox", 17);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("change", function VoidTenderPaymentsComponent_Template_mat_checkbox_change_30_listener($event) {
        return ctx.toggleMasterSelection($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](31, "span");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](32);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](33, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](34, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](35, VoidTenderPaymentsComponent_mat_list_item_35_Template, 17, 29, "mat-list-item", 18);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx.form);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 14, ctx.checkDetails.Remaining));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](7, 16, "PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](12, 18, "PAYMENT_PROCESSOR.VOID_PAYMENT.INTEGRATED_CREDIT_CARD"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](17, 20, ctx.integratedCreditPayments.length ? "PAYMENT_PROCESSOR.VOID_PAYMENT.PLEASE_SELECT" : "PAYMENT_PROCESSOR.VOID_PAYMENT.NONE_FOUND"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", !ctx.integratedCreditPayments.length);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.integratedCreditPayments);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", !ctx.integratedCreditPayments.length || !ctx.CreditCardPaymentSelected || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](21, 22, "PAYMENT_PROCESSOR.VOID_PAYMENT.VOID"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](25, 24, "PAYMENT_PROCESSOR.VOID_PAYMENT.OTHER_TENDER_TYPES"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("checked", ctx.allSelected)("indeterminate", !!ctx.selection.selected.length && !ctx.allSelected);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](33, 26, "PAYMENT_PROCESSOR.VOID_PAYMENT.LIST_TITLE"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.payments);
    }
  },
  dependencies: [_angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltip, _angular_material_legacy_checkbox__WEBPACK_IMPORTED_MODULE_34__.MatLegacyCheckbox, _angular_material_legacy_list__WEBPACK_IMPORTED_MODULE_41__.MatLegacyList, _angular_material_legacy_list__WEBPACK_IMPORTED_MODULE_41__.MatLegacyListItem, _angular_material_legacy_list__WEBPACK_IMPORTED_MODULE_41__.MatLegacyListIconCssMatStyler, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormField, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelect, _angular_material_legacy_core__WEBPACK_IMPORTED_MODULE_31__.MatLegacyOption, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".void-overflow-auto[_ngcontent-%COMP%]{overflow-y:hidden;overflow-x:auto}.a-tip[_ngcontent-%COMP%]{max-width:80px}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](VoidTenderPaymentsComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-void-tender-payments',
      providers: [(0,_tei_core__WEBPACK_IMPORTED_MODULE_2__.ngFormGroupControlValueAccessorProviders)(VoidTenderPaymentsComponent)],
      template: "<div class=\" d-flex flex-column align-items-start justify-content-start\" [formGroup]=\"form\">\n  <div class=\"mb-3\">\n    <span class=\"d-flex a-text-primary\">{{ checkDetails.Remaining | teiCurrencyTranslate }}</span>\n    <span class=\"d-flex a-text-secondary\">{{'PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL' | teiTextTranslate}}</span>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"d-flex flex-column mt-2 w-100\">\n    <div class=\"a-text-label\">{{\"PAYMENT_PROCESSOR.VOID_PAYMENT.INTEGRATED_CREDIT_CARD\" | teiTextTranslate}}</div>\n    <div class=\"pt-2 pb-3 d-flex flex-row \">\n      <div class=\"d-flex flex-column flex-grow-1\">\n        <mat-form-field class=\"no-label a-dropdown\" appearance=\"outline\">\n          <mat-select formControlName=\"PaymentUID\" [disabled]=\"!integratedCreditPayments.length\"\n            placeholder=\"{{((integratedCreditPayments.length)?'PAYMENT_PROCESSOR.VOID_PAYMENT.PLEASE_SELECT':'PAYMENT_PROCESSOR.VOID_PAYMENT.NONE_FOUND') | teiTextTranslate}}\"\n            floatLabel=\"never\">\n            <mat-option *ngFor=\"let payment of integratedCreditPayments\" [value]=\"payment.TrxUID\">\n              <span>\n                {{payment.TenderTypeDescription}} - {{payment.Amount??0| teiCurrencyTranslate}}\n              </span>\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n      </div>\n      <button type=\"submit\" mat-stroked-button (click)=\"voidCreditCardPayment()\" class=\"cc-void-button\"\n        [disabled]=\"!integratedCreditPayments.length || !CreditCardPaymentSelected || manageLoadingService.isLoading\">\n        {{'PAYMENT_PROCESSOR.VOID_PAYMENT.VOID' | teiTextTranslate}}\n      </button>\n    </div>\n  </div>\n  <!-- Payment List -->\n  <div class=\"d-flex flex-column w-100\">\n    <div class=\"a-text-label\">{{\"PAYMENT_PROCESSOR.VOID_PAYMENT.OTHER_TENDER_TYPES\" | teiTextTranslate}}</div>\n    <!-- Payment List -->\n    <mat-list class=\"mat-card o-card o-card-list py-0 mt-1 w-100 o-list-void-payment\">\n      <mat-list-item matRipple>\n        <div class=\"w-100 d-flex align-items-center justify-content-between\" (click)=\"toggleMasterSelection($event)\">\n          <div class=\"a-text-secondary py-2 w-100 d-flex align-items-center \">\n            <mat-checkbox mat-list-icon [checked]=\"allSelected\" (change)=\"toggleMasterSelection($event)\"\n              [indeterminate]=\"!!selection.selected.length && !allSelected\">\n              <span>{{'PAYMENT_PROCESSOR.VOID_PAYMENT.LIST_TITLE' | teiTextTranslate}}\n              </span>\n            </mat-checkbox>\n          </div>\n        </div>\n        <mat-divider></mat-divider>\n      </mat-list-item>\n      <mat-list-item matRipple *ngFor=\"let item of payments\">\n        <div class=\"w-100 d-flex align-items-center justify-content-between\" [ngClass]=\"{'void-overflow-auto':isMobile}\"\n          (click)=\"itemChanged($event,item)\">\n          <div class=\"a-text-secondary py-2 align-items-center\"\n            matTooltip=\"{{item.TenderTypeDescription}} {{item.Amount??0| teiCurrencyTranslate}} - {{item.Gratuity??0|teiCurrencyTranslate}} {{item.GratuityDescription}}\">\n            <mat-checkbox mat-list-icon [checked]=\"selection.isSelected(item)\" (change)=\"itemChanged($event,item)\">\n              <span> {{item.TenderTypeDescription}} </span>\n              <span *ngIf=\"item.TenderTypeID === TenderTypeEnum.CreditCard\">Credit Card</span>\n            </mat-checkbox>\n          </div>\n          <div class=\"d-flex align-items-center  overflow-hidden\" [ngClass]=\"{'overflow-hidden':!isMobile}\"\n            matTooltip=\"{{item.TenderTypeDescription}} {{item.Amount??0| teiCurrencyTranslate}} - {{item.Gratuity??0|teiCurrencyTranslate}} {{item.GratuityDescription}}\">\n            <span class=\"a-text-secondary\">{{item.Amount??0| teiCurrencyTranslate}}</span>\n            <span *ngIf=\"item?.Gratuity>0\" class=\"a-tip a-text-secondary text-truncate\"> - {{item.Gratuity|\n              teiCurrencyTranslate}} {{item.GratuityDescription}} </span>\n          </div>\n        </div>\n        <mat-divider></mat-divider>\n      </mat-list-item>\n    </mat-list>\n  </div>\n</div>",
      styles: [".void-overflow-auto{overflow-y:hidden;overflow-x:auto}.a-tip{max-width:80px}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ResponsiveService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }];
  }, {
    payments: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    integratedCreditPayments: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    selection: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    checkDetails: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Input
    }],
    voidCreditCardPaymentEvent: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Output
    }]
  });
})();
class VoidPaymentComponent {
  get paymentToVoid() {
    let amount = 0;
    this.selection.selected.forEach(selected => amount += selected.Amount);
    return amount;
  }
  constructor(errorStateMatcher, voidPaymentData, dialog, DialogRef, translate, snackBarService, manageLoadingService, signalRMessagingClientService, paymentProcessGenericService, cancelPaymentService) {
    this.errorStateMatcher = errorStateMatcher;
    this.voidPaymentData = voidPaymentData;
    this.dialog = dialog;
    this.DialogRef = DialogRef;
    this.translate = translate;
    this.snackBarService = snackBarService;
    this.manageLoadingService = manageLoadingService;
    this.signalRMessagingClientService = signalRMessagingClientService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.cancelPaymentService = cancelPaymentService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.payments = new Array();
    this.integratedCreditPayments = new Array();
    this.selection = new _angular_cdk_collections__WEBPACK_IMPORTED_MODULE_40__.SelectionModel(true, []);
    this.activeTab = VoidPaymentPages.VoidPayment;
    this.voidPaymentPages = VoidPaymentPages;
  }
  ngOnInit() {
    this.createSignalRListener();
    this.changeCheckDetailsEventHandler();
    this.backdropClose();
    if (!this.voidPaymentData) {
      return;
    }
  }
  backdropClose() {
    var _this$DialogRef;
    this.subscription.add((_this$DialogRef = this.DialogRef) === null || _this$DialogRef === void 0 ? void 0 : _this$DialogRef.backdropClick().subscribe(() => {
      this.close();
    }));
  }
  changeCheckDetailsEventHandler() {
    this.subscription.add(this.paymentProcessGenericService.changeCheckDetailsSubject.subscribe(value => {
      var _value$PaymentsTender;
      if (!(value !== null && value !== void 0 && (_value$PaymentsTender = value.PaymentsTendered) !== null && _value$PaymentsTender !== void 0 && _value$PaymentsTender.length)) {
        this.close();
        return;
      }
      this.checkDetails = value;
      if (this.checkDetails.TerminalTenderType.IntegratedCreditCard) {
        var _this$checkDetails38, _this$checkDetails38$, _this$checkDetails39, _this$checkDetails39$;
        this.payments = (_this$checkDetails38 = this.checkDetails) === null || _this$checkDetails38 === void 0 ? void 0 : (_this$checkDetails38$ = _this$checkDetails38.PaymentsTendered) === null || _this$checkDetails38$ === void 0 ? void 0 : _this$checkDetails38$.filter(payment => !(payment !== null && payment !== void 0 && payment.IsIntegratedCCPayment));
        this.integratedCreditPayments = (_this$checkDetails39 = this.checkDetails) === null || _this$checkDetails39 === void 0 ? void 0 : (_this$checkDetails39$ = _this$checkDetails39.PaymentsTendered) === null || _this$checkDetails39$ === void 0 ? void 0 : _this$checkDetails39$.filter(payment => payment === null || payment === void 0 ? void 0 : payment.IsIntegratedCCPayment);
      } else {
        var _this$checkDetails40;
        this.payments = (_this$checkDetails40 = this.checkDetails) === null || _this$checkDetails40 === void 0 ? void 0 : _this$checkDetails40.PaymentsTendered;
        this.integratedCreditPayments = new Array();
      }
      this.selection.clear();
    }));
  }
  close() {
    this.DialogRef.close();
  }
  validateForm() {
    return this.selection.selected.length > 0;
  }
  voidCreditCardPayment(voidPaymentDialogRequest) {
    this.PaymentUID = voidPaymentDialogRequest.PaymentUID;
    this.connectionId = this.signalRMessagingClientService.connectionId;
    const request = {
      PaymentItemID: voidPaymentDialogRequest.PaymentItemID,
      PaymentInitiatorUID: voidPaymentDialogRequest.PaymentInitiatorUID,
      PaymentUID: voidPaymentDialogRequest.PaymentUID,
      ConnectionID: this.connectionId
    };
    const paymentTendered = this.checkDetails.PaymentsTendered.find(p => p.TrxUID === voidPaymentDialogRequest.PaymentUID);
    const paymentTenderedTitle = `${paymentTendered.TenderTypeDescription} - $${paymentTendered.Amount.toFixed(2)}`;
    this.paymentRefundAmount = paymentTendered.Amount;
    const dialogRef = this.dialog.open(_tei_material__WEBPACK_IMPORTED_MODULE_11__.CardDialogComponent, {
      panelClass: ['move-item-dialog-wrapper', 'o-dialog-md-fullscreen'],
      data: {
        component: _tei_material__WEBPACK_IMPORTED_MODULE_11__.ConfirmationDialogComponent,
        dialogData: {
          title: 'PAYMENT_PROCESSOR.VOID_PAYMENT.CONFIRM_VOID',
          content: this.translate.instant('PAYMENT_PROCESSOR.VOID_PAYMENT.CONFIRM_VOID_DIALOG_DESCRIPTION', {
            paymentTitle: paymentTenderedTitle
          }),
          submitButtonLabel: 'PAYMENT_PROCESSOR.VOID_PAYMENT.CONFIRM_VOID',
          cancelButtonLabel: 'PAYMENT_PROCESSOR.VOID_PAYMENT.CANCEL'
        }
      },
      width: '350px'
    });
    dialogRef.afterClosed().subscribe(result => {
      if (result) {
        this.tryToVoidCreditCardPayment(request);
      }
    });
  }
  tryToVoidCreditCardPayment(request) {
    this.paymentProcessGenericService.voidCreditCardPayment(request).subscribe(result => {
      if (result !== null && result !== void 0 && result.ErrorMsg) {
        this.snackBarService.showError(result.ErrorMsg, '', null, 'left');
        return;
      } else if (!(result !== null && result !== void 0 && result.Success)) {
        this.snackBarService.showError('PAYMENT_PROCESSOR.VOID_PAYMENT.VOID_ERROR', '', null, 'left');
        return;
      }
      this.paymentDeviceID = result.PaymentDeviceID;
      this.activeTab = VoidPaymentPages.PaymentDevice;
    });
  }
  voidPayment() {
    const trxUIDs = this.selection.selected.map(selected => selected.TrxUID);
    if (trxUIDs.length === 0) {
      this.snackBarService.showError(this.translate.instant('PAYMENT_PROCESSOR.VOID_PAYMENT.SELECT_TENDER_TYPE'), '', null, 'left');
      return;
    }
    const request = {
      PaymentItemID: this.checkDetails.CheckUID,
      PaymentInitiatorUID: this.checkDetails.PaymentRecordUID,
      TrxIDs: trxUIDs
    };
    this.paymentProcessGenericService.voidPayments(request).subscribe({
      next: result => {
        if (result) {
          this.selection.clear();
          this.payments = this.payments.filter(a => !trxUIDs.some(b => b === a.TrxUID));
        }
      }
    });
  }
  onGoToVoidPayment() {
    this.cancelRefundPayment();
  }
  cancelRefundPayment() {
    const dialogRef = this.dialog.open(_tei_material__WEBPACK_IMPORTED_MODULE_11__.CardDialogComponent, {
      panelClass: ['move-item-dialog-wrapper', 'o-dialog-md-fullscreen'],
      data: {
        component: _tei_material__WEBPACK_IMPORTED_MODULE_11__.ConfirmationDialogComponent,
        dialogData: {
          title: 'PAYMENT_PROCESSOR.VOID_PAYMENT.CANCEL_REFUND',
          content: 'PAYMENT_PROCESSOR.VOID_PAYMENT.CANCEL_REFUND_DIALOG_DESCRIPTION',
          submitButtonLabel: 'PAYMENT_PROCESSOR.CREDIT_DEBIT.YES_CANCEL',
          cancelButtonLabel: 'PAYMENT_PROCESSOR.CREDIT_DEBIT.No'
        }
      },
      width: '350px'
    });
    dialogRef.afterClosed().subscribe(result => {
      if (result) {
        this.cancelPayment();
      }
    });
  }
  cancelPayment() {
    const request = new PaymentCancelRequest();
    request.PaymentItemID = this.checkDetails.CheckUID;
    request.TrxID = this.PaymentUID;
    request.PaymentInitiatorUID = this.checkDetails.PaymentRecordUID;
    request.IsRefund = true;
    this.manageLoadingService.startLoading();
    this.cancelPaymentService.Post(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).subscribe(response => {
      if (!(response !== null && response !== void 0 && response.Success)) {
        this.snackBarService.showError(this.translate.instant('PAYMENT_PROCESSOR.VOID_PAYMENT.CANCEL_REFUND_PAYMENT_ERROR'), '', null, 'left');
        return;
      }
      this.paymentProcessGenericService.dialogUpdateMessageEvent.emit();
      this.snackBarService.showSuccess(this.translate.instant('PAYMENT_PROCESSOR.VOID_PAYMENT.CANCEL_REFUND_PAYMENT'), '', null, 'left');
      this.activeTab = VoidPaymentPages.VoidPayment;
    });
  }
  createSignalRListener() {
    this.subscription.add(this.signalRMessagingClientService.messageReceived.subscribe({
      next: message => {
        const paymentMessage = JSON.parse(message.SerializedMessage);
        if (message.MessageType === 'PaymentResponse' && paymentMessage.ConnectionID === this.connectionId) {
          if (paymentMessage.PaymentStatus === CreditCardPaymentStatus.Failed) {
            this.snackBarService.showError(paymentMessage.ResponseMessage, '', null, 'left');
            this.activeTab = VoidPaymentPages.VoidPayment;
            return;
          }
          if (paymentMessage.PaymentStatus === CreditCardPaymentStatus.Voided) {
            if (paymentMessage.ResponseMessage && paymentMessage.ResponseMessage.toLowerCase() !== 'success') {
              this.snackBarService.showError(paymentMessage.ResponseMessage, '', null, 'left');
            } else {
              this.snackBarService.showSuccess(this.translate.instant('PAYMENT_PROCESSOR.VOID_PAYMENT.VOIDED_SUCCESSFULLY'), '', null, 'left');
            }
            this.paymentProcessGenericService.dialogUpdateMessageEvent.emit();
            this.activeTab = VoidPaymentPages.VoidPayment;
          }
          if (paymentMessage.Canceled) {
            this.snackBarService.showError(this.translate.instant('PAYMENT_PROCESSOR.VOID_PAYMENT.CANCEL_REFUND'), '', null, 'left');
            this.activeTab = VoidPaymentPages.VoidPayment;
          }
        }
      }
    }));
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
VoidPaymentComponent.ɵfac = function VoidPaymentComponent_Factory(t) {
  return new (t || VoidPaymentComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher, 4), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialog), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_signalr__WEBPACK_IMPORTED_MODULE_27__.SignalrMessagingClientService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('ICancelPaymentService'));
};
VoidPaymentComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: VoidPaymentComponent,
  selectors: [["tei-common-payment-processor-void-payment"]],
  decls: 28,
  vars: 21,
  consts: [[1, "m-void-payment-dialog", "o-dialog-container"], [1, "o-dialog-header"], [1, "align-items-center", "justify-content-between", "d-flex"], [1, "d-flex", "align-items-center"], ["class", "a-button-back ml-n2", 4, "ngIf"], [1, "a-text-h3"], ["mat-icon-button", "", 3, "disabled", "click"], [1, "m-dialog-container", "m-dialog-content"], [1, "credit-card-terminal-stepper", 3, "selectedIndex"], ["stepperDebit", ""], [3, "payments", "integratedCreditPayments", "checkDetails", "selection", "voidCreditCardPaymentEvent"], [3, "stepper", "amount", "amountTitle", "paymentDeviceID", "progressTitle"], [1, "m-dialog-actions", "m-dialog-actions-sm", "a-button-contained"], [4, "ngIf"], [1, "a-button-back", "ml-n2"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "accent", 3, "disabled", "click"], [1, "a-buttontext-right"], ["mat-button", "", "type", "submit", "mat-flat-button", "", "color", "warn", 3, "disabled", "click"]],
  template: function VoidPaymentComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div")(2, "div", 1)(3, "div", 2)(4, "div", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, VoidPaymentComponent_div_5_Template, 4, 1, "div", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](8, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div")(10, "button", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function VoidPaymentComponent_Template_button_click_10_listener() {
        return ctx.close();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12, "close");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](13, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "div", 7)(15, "mat-horizontal-stepper", 8, 9)(17, "mat-step")(18, "tei-common-payment-processor-void-tender-payments", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("voidCreditCardPaymentEvent", function VoidPaymentComponent_Template_tei_common_payment_processor_void_tender_payments_voidCreditCardPaymentEvent_18_listener($event) {
        return ctx.voidCreditCardPayment($event);
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "mat-step");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](20, "tei-common-payment-processor-payment-device", 11);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](21, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](22, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](23, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](24, "div")(25, "div", 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](26, VoidPaymentComponent_ng_container_26_Template, 7, 6, "ng-container", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](27, VoidPaymentComponent_ng_container_27_Template, 4, 4, "ng-container", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    }
    if (rf & 2) {
      const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.activeTab === ctx.voidPaymentPages.PaymentDevice);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](8, 15, ctx.activeTab === ctx.voidPaymentPages.PaymentDevice ? "PAYMENT_PROCESSOR.PAYMENT_DEVICE.PAYMENT_DEVICE" : "PAYMENT_PROCESSOR.VOID_PAYMENT.VOID_PAYMENT"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("selectedIndex", ctx.activeTab);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("payments", ctx.payments)("integratedCreditPayments", ctx.integratedCreditPayments)("checkDetails", ctx.checkDetails)("selection", ctx.selection);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("stepper", _r1)("amount", ctx.paymentRefundAmount)("amountTitle", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](21, 17, "PAYMENT_PROCESSOR.VOID_PAYMENT.REFUND_AMOUNT"))("paymentDeviceID", ctx.paymentDeviceID)("progressTitle", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](22, 19, "PAYMENT_PROCESSOR.VOID_PAYMENT.REFUND_AMOUNT_IN_PROGRESS"));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.activeTab !== ctx.voidPaymentPages.PaymentDevice);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.activeTab === ctx.voidPaymentPages.PaymentDevice);
    }
  },
  dependencies: [_angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStep, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepper, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, PaymentDeviceComponent, VoidTenderPaymentsComponent, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".void-payment-dialog-actions[_ngcontent-%COMP%]   .payment-amount[_ngcontent-%COMP%]{position:absolute;right:20px}.m-void-payment-dialog[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .mat-icon-gray[_ngcontent-%COMP%]{color:#959595}.m-void-payment-dialog[_ngcontent-%COMP%]   .o-list-void-payment[_ngcontent-%COMP%]{min-height:40vh;margin-bottom:16px;overflow-y:auto;overflow-x:hidden}  .void-payment-dialog .mat-dialog-container{overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none}  .void-payment-dialog .mat-dialog-container .mat-horizontal-stepper-header-container{display:none}  .void-payment-dialog .mat-dialog-container .mat-horizontal-content-container{padding:unset}  .void-payment-dialog .mat-dialog-container .mat-horizontal-content-container .o-dialog-container{margin:unset;-webkit-user-select:none;-moz-user-select:none;user-select:none}  .void-payment-dialog .mat-dialog-container .mat-list-item-content{margin:0 -16px;padding:0 16px;cursor:pointer}  .void-payment-dialog .mat-dialog-container .header{display:flex;justify-content:flex-start;align-items:center;padding:0 20px}  .void-payment-dialog .mat-dialog-container .header>mat-checkbox{margin-right:10px}  .void-payment-dialog .mat-dialog-container .tip{white-space:nowrap;margin-left:5px}  .void-payment-dialog .mat-dialog-container .cc-void-button{max-height:44px;margin-top:3px;margin-left:5px}.nb-theme-material-light[_nghost-%COMP%]   .m-void-payment-dialog[_ngcontent-%COMP%]     .mat-list-item-content, .nb-theme-material-light   [_nghost-%COMP%]   .m-void-payment-dialog[_ngcontent-%COMP%]     .mat-list-item-content{background-color:#fff}.nb-theme-material-dark[_nghost-%COMP%]   .m-void-payment-dialog[_ngcontent-%COMP%]     .mat-list-item-content, .nb-theme-material-dark   [_nghost-%COMP%]   .m-void-payment-dialog[_ngcontent-%COMP%]     .mat-list-item-content{background-color:#303030}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](VoidPaymentComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-void-payment',
      template: "<div class=\"m-void-payment-dialog o-dialog-container \">\n  <div>\n    <div class=\"o-dialog-header\">\n      <div class=\"align-items-center justify-content-between d-flex\">\n        <div class=\"d-flex align-items-center\">\n          <div class=\"a-button-back ml-n2\" *ngIf=\"activeTab=== voidPaymentPages.PaymentDevice\">\n            <button mat-icon-button (click)=\"onGoToVoidPayment()\" [disabled]=\"manageLoadingService.isLoading\">\n              <mat-icon>arrow_back</mat-icon>\n            </button>\n          </div>\n          <div class=\"a-text-h3\">{{ (activeTab===\n            voidPaymentPages.PaymentDevice?'PAYMENT_PROCESSOR.PAYMENT_DEVICE.PAYMENT_DEVICE':'PAYMENT_PROCESSOR.VOID_PAYMENT.VOID_PAYMENT')\n            | teiTextTranslate}}</div>\n        </div>\n        <div>\n          <button mat-icon-button (click)=\"close()\" [disabled]=\"manageLoadingService.isLoading\">\n            <mat-icon>close</mat-icon>\n          </button>\n        </div>\n      </div>\n    </div>\n    <mat-divider></mat-divider>\n    <div class=\"m-dialog-container m-dialog-content\">\n      <mat-horizontal-stepper #stepperDebit class=\"credit-card-terminal-stepper\" [selectedIndex]=\"activeTab\">\n        <!--VoidTenderPayment -->\n        <mat-step>\n          <tei-common-payment-processor-void-tender-payments [payments]=\"payments\"\n            [integratedCreditPayments]=\"integratedCreditPayments\" [checkDetails]=\"checkDetails\"\n            (voidCreditCardPaymentEvent)=\"voidCreditCardPayment($event)\" [selection]=\"selection\">\n          </tei-common-payment-processor-void-tender-payments>\n        </mat-step>\n\n        <!-- PaymentDevice -->\n        <mat-step>\n          <tei-common-payment-processor-payment-device [stepper]=\"stepperDebit\" [amount]=\"paymentRefundAmount\"\n            [amountTitle]=\"'PAYMENT_PROCESSOR.VOID_PAYMENT.REFUND_AMOUNT' | teiTextTranslate\"\n            [paymentDeviceID]=\"paymentDeviceID\"\n            [progressTitle]=\"'PAYMENT_PROCESSOR.VOID_PAYMENT.REFUND_AMOUNT_IN_PROGRESS' | teiTextTranslate\">\n          </tei-common-payment-processor-payment-device>\n        </mat-step>\n      </mat-horizontal-stepper>\n\n    </div>\n\n    <mat-divider></mat-divider>\n  </div>\n\n  <div>\n    <div class=\"m-dialog-actions m-dialog-actions-sm a-button-contained\">\n      <ng-container *ngIf=\"activeTab !== voidPaymentPages.PaymentDevice\">\n        <button mat-button type=\"submit\" mat-flat-button color=\"accent\" (click)=\"voidPayment()\"\n          [disabled]=\"manageLoadingService.isLoading\">\n          <span *ngIf=\"validateForm()\">\n            {{'PAYMENT_PROCESSOR.VOID_PAYMENT.CONFIRM_VOID' | teiTextTranslate}}\n          </span>\n          <span *ngIf=\"!validateForm()\">\n            {{'PAYMENT_PROCESSOR.VOID_PAYMENT.SELECTION_REQUIRED' | teiTextTranslate}}\n          </span>\n          <span class=\"a-buttontext-right\">\n            {{ paymentToVoid | teiCurrencyTranslate}}</span>\n        </button>\n      </ng-container>\n      <ng-container *ngIf=\"activeTab === voidPaymentPages.PaymentDevice\">\n        <button mat-button type=\"submit\" mat-flat-button color=\"warn\" (click)=\"cancelRefundPayment()\"\n          [disabled]=\"manageLoadingService.isLoading\">\n          {{'PAYMENT_PROCESSOR.VOID_PAYMENT.CANCEL_REFUND' | teiTextTranslate}}\n        </button>\n      </ng-container>\n    </div>\n  </div>\n</div>",
      styles: [".void-payment-dialog-actions .payment-amount{position:absolute;right:20px}.m-void-payment-dialog mat-icon .mat-icon-gray{color:#959595}.m-void-payment-dialog .o-list-void-payment{min-height:40vh;margin-bottom:16px;overflow-y:auto;overflow-x:hidden}::ng-deep .void-payment-dialog .mat-dialog-container{overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none}::ng-deep .void-payment-dialog .mat-dialog-container .mat-horizontal-stepper-header-container{display:none}::ng-deep .void-payment-dialog .mat-dialog-container .mat-horizontal-content-container{padding:unset}::ng-deep .void-payment-dialog .mat-dialog-container .mat-horizontal-content-container .o-dialog-container{margin:unset;-webkit-user-select:none;-moz-user-select:none;user-select:none}::ng-deep .void-payment-dialog .mat-dialog-container .mat-list-item-content{margin:0 -16px;padding:0 16px;cursor:pointer}::ng-deep .void-payment-dialog .mat-dialog-container .header{display:flex;justify-content:flex-start;align-items:center;padding:0 20px}::ng-deep .void-payment-dialog .mat-dialog-container .header>mat-checkbox{margin-right:10px}::ng-deep .void-payment-dialog .mat-dialog-container .tip{white-space:nowrap;margin-left:5px}::ng-deep .void-payment-dialog .mat-dialog-container .cc-void-button{max-height:44px;margin-top:3px;margin-left:5px}:host-context(.nb-theme-material-light) .m-void-payment-dialog ::ng-deep .mat-list-item-content{background-color:#fff}:host-context(.nb-theme-material-dark) .m-void-payment-dialog ::ng-deep .mat-list-item-content{background-color:#303030}\n"]
    }]
  }], function () {
    return [{
      type: _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.ErrorStateMatcher,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialog
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: _tei_core_signalr__WEBPACK_IMPORTED_MODULE_27__.SignalrMessagingClientService
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['ICancelPaymentService']
      }]
    }];
  }, null);
})();
const MATERIAL_MODULES$3 = [_angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule, _angular_material_legacy_checkbox__WEBPACK_IMPORTED_MODULE_34__.MatLegacyCheckboxModule, _angular_material_legacy_list__WEBPACK_IMPORTED_MODULE_41__.MatLegacyListModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepperModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule];
const COMPONENTS$2 = [VoidPaymentComponent, VoidTenderPaymentsComponent];
const COMMON_MODULES = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule];
const TEI_CORE_MODULES$1 = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const TEI_MODULES = [PaymentDeviceModule];
class VoidPaymentModule {}
VoidPaymentModule.ɵfac = function VoidPaymentModule_Factory(t) {
  return new (t || VoidPaymentModule)();
};
VoidPaymentModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: VoidPaymentModule
});
VoidPaymentModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }, {
    provide: 'IVoidPaymentService',
    useClass: VoidPaymentService
  }, {
    provide: 'ICancelPaymentService',
    useClass: CancelPaymentService
  }],
  imports: [MATERIAL_MODULES$3, COMMON_MODULES, TEI_CORE_MODULES$1, TEI_MODULES, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule, _angular_material_legacy_checkbox__WEBPACK_IMPORTED_MODULE_34__.MatLegacyCheckboxModule, _angular_material_legacy_list__WEBPACK_IMPORTED_MODULE_41__.MatLegacyListModule, _angular_material_legacy_select__WEBPACK_IMPORTED_MODULE_30__.MatLegacySelectModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_form_field__WEBPACK_IMPORTED_MODULE_15__.MatLegacyFormFieldModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_stepper__WEBPACK_IMPORTED_MODULE_32__.MatStepperModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiPercentageInputModule, _tei_core__WEBPACK_IMPORTED_MODULE_2__.TeiTwoDigitDecimalModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](VoidPaymentModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$2],
      imports: [...MATERIAL_MODULES$3, ...COMMON_MODULES, ...TEI_CORE_MODULES$1, ...TEI_MODULES],
      exports: [...COMMON_MODULES, ...MATERIAL_MODULES$3, ...TEI_CORE_MODULES$1, ...COMPONENTS$2],
      providers: [{
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }, {
        provide: 'IVoidPaymentService',
        useClass: VoidPaymentService
      }, {
        provide: 'ICancelPaymentService',
        useClass: CancelPaymentService
      }]
    }]
  }], null, null);
})();
class NoteService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor';
  }
  PostNote(request) {
    const apiUrl = this.serviceUrl + '/AdjustDetails';
    return this.http.post(apiUrl, request);
  }
}
NoteService.ɵfac = function NoteService_Factory(t) {
  return new (t || NoteService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
NoteService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: NoteService,
  factory: NoteService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NoteService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
class PostNoteRequest {}
class PostNoteDetail {}
class PostNoteResponse {}
class GetNoteRequest {}
class NoteComponent {
  constructor(service, noteData, snackBarService, translate, manageLoadingService, noteComponentRef) {
    this.service = service;
    this.noteData = noteData;
    this.snackBarService = snackBarService;
    this.translate = translate;
    this.manageLoadingService = manageLoadingService;
    this.noteComponentRef = noteComponentRef;
    this.maxLengthNote = 255;
    this.printOnReceipt = null;
    this.IsEditable = true;
    this.IsAdmin = true;
    this.showDialog = false;
  }
  ngOnInit() {
    if (this.noteData) {
      var _this$noteData$Note$N, _this$noteData$Note$N2, _this$noteData$Note$N3, _this$noteData$Note$N4;
      this.type = this.noteData.Note.Type;
      this.label = this.noteData.Note.Type == NoteType.RetailTrxNote ? "Transaction Notes" : this.noteData.Note.Label;
      this.itemID = this.noteData.ItemID;
      this.value = this.noteData.Note.Value;
      this.enableReceiptCheckComments = (_this$noteData$Note$N = (_this$noteData$Note$N2 = this.noteData.Note.NoteDetails) === null || _this$noteData$Note$N2 === void 0 ? void 0 : _this$noteData$Note$N2.some(p => p.NoteDetailType === NoteDetailType.FoodAndBeverageShowOnReceipt)) !== null && _this$noteData$Note$N !== void 0 ? _this$noteData$Note$N : false;
      this.printOnReceipt = (_this$noteData$Note$N3 = this.noteData.Note.NoteDetails) === null || _this$noteData$Note$N3 === void 0 ? void 0 : (_this$noteData$Note$N4 = _this$noteData$Note$N3.filter(p => p.NoteDetailType === NoteDetailType.FoodAndBeverageShowOnReceipt)[0]) === null || _this$noteData$Note$N4 === void 0 ? void 0 : _this$noteData$Note$N4.Value;
      this.showDialog = true;
      if (this.type == NoteType.RetailReceiptNote || this.type == NoteType.RetailTrxNote) {
        this.maxLengthNote = 200;
      }
    }
  }
  onPost(itemText) {
    var _this4 = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this4.value = typeof itemText === 'string' ? itemText : itemText.Note;
      let request = new PostNoteRequest();
      request.PaymentDetailsTypes = PaymentDetailsType.Note;
      request.PaymentDetails = new PostNoteDetail();
      request.PaymentDetails.Value = _this4.value;
      request.PaymentDetails.Type = _this4.type;
      request.PaymentDetails.ItemID = _this4.itemID;
      request.PaymentDetails.PrintOnReceipt = typeof itemText === 'string' ? null : itemText.PrintOnReceipt;
      _this4.manageLoadingService.startLoading();
      try {
        const response = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_35__.firstValueFrom)(_this4.service.PostNote(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => _this4.manageLoadingService.finishLoading())));
        if (response) {
          var _this4$noteData$Note$;
          _this4.noteData.Note.Value = _this4.value;
          const noteDetail = (_this4$noteData$Note$ = _this4.noteData.Note.NoteDetails) === null || _this4$noteData$Note$ === void 0 ? void 0 : _this4$noteData$Note$.filter(p => p.NoteDetailType === NoteDetailType.FoodAndBeverageShowOnReceipt)[0];
          if (noteDetail) {
            noteDetail.Value = request.PaymentDetails.PrintOnReceipt;
          }
          _this4.snackBarService.showSuccess(_this4.translate.instant('PAYMENT_PROCESSOR.NOTE.POST_NOTE_SUCCESS'), '', null, 'left');
          _this4.noteComponentRef.close({
            isChanged: true,
            newNote: _this4.noteData.Note
          });
        } else {
          _this4.snackBarService.showSuccess(_this4.translate.instant('PAYMENT_PROCESSOR.NOTE.POST_NOTE_ERROR'), '', null, 'left');
        }
      } catch (error) {}
    })();
  }
  onCancel() {
    this.noteComponentRef.close({
      isChanged: false
    });
  }
}
NoteComponent.ɵfac = function NoteComponent_Factory(t) {
  return new (t || NoteComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('INoteService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef));
};
NoteComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: NoteComponent,
  selectors: [["tei-pos-food-and-beverage-note"]],
  decls: 3,
  vars: 4,
  consts: [[3, "customTitleClass", "showXCloseDialogIcon", "customContentClass", "userTemplate", "textareaDefaultValue", "showCancelButton", "hasSubmitButton", "enableRequiredValidation", "enableReceiptCheckComments", "printOnReceiptDefaultValue", "userNameTemplate", "multi", "maxlength", "isAdmin", "adminTitle", "post", "cancel", 4, "ngIf"], [3, "show"], [3, "customTitleClass", "showXCloseDialogIcon", "customContentClass", "userTemplate", "textareaDefaultValue", "showCancelButton", "hasSubmitButton", "enableRequiredValidation", "enableReceiptCheckComments", "printOnReceiptDefaultValue", "userNameTemplate", "multi", "maxlength", "isAdmin", "adminTitle", "post", "cancel"], ["userTemplate", ""], ["class", "d-flex a-text-secondary"], ["userNameTemplate", ""], [3, "src", "name", "size"], [1, "a-text-secondary", "a-author-name-single-note", "a-author-name"]],
  template: function NoteComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, NoteComponent_tei_notes_0_Template, 5, 15, "tei-notes", 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "tei-loading", 1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](2, "async");
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.showDialog);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("show", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](2, 2, ctx.manageLoadingService.isLoading$));
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _tei_material__WEBPACK_IMPORTED_MODULE_11__.NotesComponent, _tei_material__WEBPACK_IMPORTED_MODULE_11__.AvatarComponent, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingComponent, _angular_common__WEBPACK_IMPORTED_MODULE_20__.AsyncPipe],
  styles: [".a-note-modal .mat-dialog-container{overflow:hidden;padding:0}  .a-note-modal .mat-dialog-container .a-author-name-single-note{font-family:Roboto,Helvetica Neue,sans-serif}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NoteComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-pos-food-and-beverage-note',
      template: "<tei-notes (post)=\"onPost($event)\" (cancel)=\"onCancel()\" [customTitleClass]=\"'ml-3 mt-3'\" [showXCloseDialogIcon]=\"true\"\n  *ngIf=\"showDialog\" [customContentClass]=\"'mx-3 mb-3'\" [userTemplate]=\"userTemplate\" [textareaDefaultValue]=\"value\"\n  [showCancelButton]=\"true\" [hasSubmitButton]=\"IsEditable\" [enableRequiredValidation]=\"false\"\n  [enableReceiptCheckComments]=\"enableReceiptCheckComments\" [printOnReceiptDefaultValue]=\"printOnReceipt\"\n  [userNameTemplate]=\"userNameTemplate\" [multi]=\"false\" [maxlength]=\"maxLengthNote\" [isAdmin]=\"IsAdmin\"\n  [adminTitle]=\"label\" >\n\n  <ng-template #userTemplate>\n    <tei-avatar [src]=\"\" [name]=\" noteData?.Note?.UserDisplayName\" [size]=\"36\"></tei-avatar>\n  </ng-template>\n\n  <ng-template #userNameTemplate class=\"d-flex a-text-secondary\">\n    <div class=\"a-text-secondary a-author-name-single-note a-author-name\">{{ noteData?.Note?.UserDisplayName }}</div>\n  </ng-template>\n\n</tei-notes>\n<tei-loading [show]=\"manageLoadingService.isLoading$ | async\"></tei-loading>\n",
      styles: ["::ng-deep .a-note-modal .mat-dialog-container{overflow:hidden;padding:0}::ng-deep .a-note-modal .mat-dialog-container .a-author-name-single-note{font-family:Roboto,Helvetica Neue,sans-serif}\n"]
    }]
  }], function () {
    return [{
      type: NoteService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['INoteService']
      }]
    }, {
      type: GetNoteRequest,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: [_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MAT_LEGACY_DIALOG_DATA]
      }]
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogRef
    }];
  }, null);
})();
const BASE_MODULES$2 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule];
const MATERIAL_MODULES$2 = [_angular_material_legacy_input__WEBPACK_IMPORTED_MODULE_16__.MatLegacyInputModule, _angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule];
const TEI_MATERIAL_MODULES$2 = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.NotesModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.AvatarModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const COMPONENTS$1 = [NoteComponent];
class NoteModule {}
NoteModule.ɵfac = function NoteModule_Factory(t) {
  return new (t || NoteModule)();
};
NoteModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: NoteModule
});
NoteModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'INoteService',
    useClass: NoteService
  }],
  imports: [BASE_MODULES$2, MATERIAL_MODULES$2, TEI_MATERIAL_MODULES$2]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](NoteModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...COMPONENTS$1],
      imports: [...BASE_MODULES$2, ...MATERIAL_MODULES$2, ...TEI_MATERIAL_MODULES$2],
      providers: [{
        provide: 'INoteService',
        useClass: NoteService
      }]
    }]
  }], null, null);
})();
class PostPaymentPrintRequest {}
class AddContactToCheckRequest {}
class AddContactToCheckResponse {}
class Contact {}
class GetInitializeRequest {}
class GetInitializeResponse {}
var PaymentInitiator;
(function (PaymentInitiator) {
  PaymentInitiator[PaymentInitiator["pos_retail_order"] = 2] = "pos_retail_order";
  PaymentInitiator[PaymentInitiator["pos_fb_order"] = 1] = "pos_fb_order";
})(PaymentInitiator || (PaymentInitiator = {}));
class ReferenceModel {}
const REFERENCE_KEY_NAME = 'reference';
class PaymentFinalizeService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor';
  }
  PostFinalize(request) {
    const apiUrl = this.serviceUrl + '/Finalize';
    return this.http.post(apiUrl, request);
  }
}
PaymentFinalizeService.ɵfac = function PaymentFinalizeService_Factory(t) {
  return new (t || PaymentFinalizeService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
PaymentFinalizeService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: PaymentFinalizeService,
  factory: PaymentFinalizeService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentFinalizeService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
class ProcessComponent {
  get needPayment() {
    return !this.paymentButtonsStatus.PaymentCompleted || this.paymentButtonsStatus.PaymentRequired;
  }
  get windowIsGreaterThanMedium() {
    return this.screenSize === 'lg' || this.screenSize === 'xl' || this.screenSize === 'xxl';
  }
  get mobileMode() {
    return this.innerWidth <= 767.98 || this.screenSize === 'xs' || this.screenSize === 'sm';
  }
  get tabletMode() {
    return this.innerWidth > 768 && this.innerWidth < 991.98 || this.screenSize === 'md';
  }
  get desktopMode() {
    return this.innerWidth > 992 || this.screenSize !== 'xs' && this.screenSize !== 'sm' && this.screenSize !== 'md';
  }
  Onbeforeunload(event) {
    if (!this.paymentButtonsStatus.CanReload) {
      event.preventDefault();
      event.returnValue = '';
    } else {
      delete event.returnValue;
    }
  }
  constructor(route, paymentProcessService, checkContactService, paymentProcessGenericService, paymentNavigationService, changeDetectorRef, snackBarService, translate, manageLoadingService, storageService, dialog, pointsService, printService, sendNotificationService, finalizeService, responsiveService, currencyService) {
    this.route = route;
    this.paymentProcessService = paymentProcessService;
    this.checkContactService = checkContactService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.paymentNavigationService = paymentNavigationService;
    this.changeDetectorRef = changeDetectorRef;
    this.snackBarService = snackBarService;
    this.translate = translate;
    this.manageLoadingService = manageLoadingService;
    this.storageService = storageService;
    this.dialog = dialog;
    this.pointsService = pointsService;
    this.printService = printService;
    this.sendNotificationService = sendNotificationService;
    this.finalizeService = finalizeService;
    this.responsiveService = responsiveService;
    this.currencyService = currencyService;
    this.isOverflowing = [];
    this.checkDetails = new CheckDetails();
    this.showSummary = true;
    this.showReceipt = true;
    this.paidItem = [];
    this.unPaidItem = [];
    this.drawerBackDropMode = 'side' || 0;
    this.viewMode = 'desktop' || 0;
    this.processRequest = new GetProcessRequest();
    this.paymentInitiator = PaymentInitiator;
    this.paymentButtonsStatus = new PaymentButtonsStatus();
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.screenSize = '';
  }
  ngOnInit() {
    this.currencySymbol = this.currencyService.getCurrencySymbol();
    this.paymentRecordUID = this.route.snapshot.paramMap.get('PaymentRecordUID');
    this.initiator = this.storageService.Get('initiator');
    this.innerWidth = window.innerWidth;
    if (innerWidth > 425) {
      this.drawerBackDropMode = 'side';
      this.viewMode = 'desktop';
    } else {
      this.drawerBackDropMode = 'over';
      this.viewMode = 'mobile';
    }
    this.responsiveServiceSubscription = this.responsiveService.mediaBreakpoint.subscribe(screenSize => {
      this.innerWidth = window.innerWidth;
      if (innerWidth > 992) {
        this.showReceipt = true;
        this.showSummary = true;
      } else if (this.screenSize !== screenSize) {
        this.showReceipt = true;
        this.showSummary = false;
      }
      this.screenSize = screenSize;
    });
    this.load();
    this.subscription.add(this.paymentProcessGenericService.dialogUpdateMessageEvent.subscribe(() => {
      this.paymentAppliedEventHandler();
    }));
  }
  openNoteDialog(note, itemID) {
    var _this5 = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const noteModal = _this5.dialog.open(NoteComponent, {
        width: '400px',
        panelClass: ['a-note-modal', 'o-dialog-sm-fullscreen'],
        data: {
          Note: note,
          ItemID: itemID
        }
      });
      try {
        const result = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_35__.firstValueFrom)(noteModal.afterClosed());
        note = result.newNote;
        _this5.updateTooltip();
      } catch (error) {
        console.log(error);
      }
    })();
  }
  get paymentProcessState() {
    return PaymentProcessState;
  }
  get isMobile() {
    return this.viewMode === 'mobile';
  }
  get isDesktop() {
    return this.viewMode === 'desktop';
  }
  get paymentStatus() {
    return PaymentStatus;
  }
  load() {
    var _this$storageService$;
    this.paymentRecordId = (_this$storageService$ = this.storageService.Get(REFERENCE_KEY_NAME)) === null || _this$storageService$ === void 0 ? void 0 : _this$storageService$.id;
    this.processRequest.RefID = this.paymentRecordId;
    this.manageLoadingService.startLoading();
    this.subscription.add(this.paymentProcessService.Get(this.processRequest).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
      this.manageLoadingService.finishLoading();
    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_25__.catchError)(errMessage => {
      this.paymentButtonsStatus.Back = true;
      this.isSingleCheck = true;
      return rxjs__WEBPACK_IMPORTED_MODULE_42__.EMPTY;
    })).subscribe(paymentDetail => {
      this.showInCompleteTransactionDialogue(paymentDetail);
      this.loadItems(paymentDetail);
      this.updateTooltip();
      this.updatePaymentMethodsTitle(paymentDetail.Payment.IsReturn);
    }));
  }
  showInCompleteTransactionDialogue(paymentDetail) {
    const incompletePayment = paymentDetail.Payment.Items.some(item => item.Status === PaymentStatus.PartiallyPaid);
    if (this.paymentProcessGenericService.inCompleteTransactionDialogue || incompletePayment) {
      const dialogRef = this.dialog.open(_tei_material__WEBPACK_IMPORTED_MODULE_11__.CardDialogComponent, {
        panelClass: ['move-item-dialog-wrapper', 'o-dialog-md-fullscreen'],
        data: {
          component: _tei_material__WEBPACK_IMPORTED_MODULE_11__.ConfirmationDialogComponent,
          dialogData: {
            title: 'PAYMENT_PROCESSOR.PROCESS.INCOMPLETE_TRANSACTION_DIALOG_TITLE',
            content: this.translate.instant('PAYMENT_PROCESSOR.PROCESS.INCOMPLETE_TRANSACTION_DIALOG_DESCRIPTION'),
            closeButtonLabel: 'PAYMENT_PROCESSOR.PROCESS.CLOSE'
          }
        },
        width: '350px'
      });
      this.subscription.add(dialogRef.afterClosed().subscribe(() => {}));
    }
  }
  getContactPoints() {
    var _this$selectedContact, _this$selectedCheckPa, _this$selectedContact2;
    const request = {
      ContactID: (_this$selectedContact = this.selectedContact) === null || _this$selectedContact === void 0 ? void 0 : _this$selectedContact.ContactID,
      POSTrxUID: (_this$selectedCheckPa = this.selectedCheckPanel) === null || _this$selectedCheckPa === void 0 ? void 0 : _this$selectedCheckPa.ItemID
    };
    if ((_this$selectedContact2 = this.selectedContact) !== null && _this$selectedContact2 !== void 0 && _this$selectedContact2.ContactID) {
      this.subscription.add(this.pointsService.GetRedeemablePoints(request).subscribe({
        next: response => {
          this.contactPoints = response;
        }
      }));
    }
  }
  loadItems(paymentDetail) {
    this.paymentProcessGenericService.configuration = paymentDetail.Payment.Configuration;
    this.paymentDetail = paymentDetail.Payment;
    this.paidItem = this.paymentDetail.Items.filter(item => item.Status === PaymentStatus.Paid);
    this.unPaidItem = this.paymentDetail.Items.filter(item => item.Status !== PaymentStatus.Paid);
    this.paymentDetail.Items = this.unPaidItem.concat(this.paidItem);
    this.hasPartialPayment = this.paymentDetail.Items.findIndex(item => item.Status === PaymentStatus.PartiallyPaid) >= 0;
    this.title = paymentDetail.Payment.Title;
    this.showGratuity = paymentDetail.Payment.ShowGratuity;
    this.isSingleCheck = paymentDetail.Payment.IsSingleCheck;
    this.selectFirstCheck();
    this.updateCheckDetails();
    this.changeDetectorRef.detectChanges();
  }
  selectCheck(check) {
    this.selectedContact = check.PaymentContact;
    this.selectedCheckPanel = check;
    this.checkDetails.CheckErrorMessage = this.selectedCheckPanel.ErrorMessage;
    this.detectCurrentIndexOfChecksList();
    this.updateCheckDetails();
    this.handlePartialPaymentStatus();
    this.showPromotionDialogToDoneCheck();
  }
  showPromotionDialogToDoneCheck() {
    if (this.selectedCheckPanel.Remaining !== 0 || this.selectedCheckPanel.Status !== PaymentStatus.Unpaid) {
      return;
    }
    if (this.selectedCheckPanel.Remaining === 0 && this.isSingleCheck) {
      this.payCash();
      return;
    }
    const title = this.selectedCheckPanel.Title ? this.translate.instant('PAYMENT_PROCESSOR.PROCESS.CHECK') + ' #' + this.selectedCheckPanel.Title : this.translate.instant('PAYMENT_PROCESSOR.PROCESS.ORDER');
    const dialogRef = this.dialog.open(_tei_material__WEBPACK_IMPORTED_MODULE_11__.CardDialogComponent, {
      panelClass: ['move-item-dialog-wrapper', 'o-dialog-md-fullscreen'],
      data: {
        component: _tei_material__WEBPACK_IMPORTED_MODULE_11__.ConfirmationDialogComponent,
        dialogData: {
          title: 'PAYMENT_PROCESSOR.PROCESS.PROMOTION_DIALOG_TITLE',
          content: this.isSingleCheck ? this.translate.instant('PAYMENT_PROCESSOR.PROCESS.PROMOTION_DIALOG_DESCRIPTION_WITHOUT_CHECK', {
            checkNumber: title,
            currencySymbol: this.currencySymbol
          }) : this.translate.instant('PAYMENT_PROCESSOR.PROCESS.PROMOTION_DIALOG_DESCRIPTION_CHECK', {
            checkNumber: title,
            currencySymbol: this.currencySymbol
          }),
          submitButtonLabel: 'PAYMENT_PROCESSOR.PROCESS.MARK_DONE',
          submitButtonClass: 'mat-accent',
          cancelButtonLabel: 'PAYMENT_PROCESSOR.PROCESS.CANCEL'
        }
      },
      width: '350px'
    });
    this.subscription.add(dialogRef.afterClosed().subscribe(result => {
      if (result) {
        this.payCash();
      }
    }));
  }
  payCash() {
    const paymentRequest = new PaymentRequest();
    paymentRequest.PaymentItemID = this.checkDetails.CheckUID;
    paymentRequest.PaymentMethodID = TenderTypeID.Cash;
    paymentRequest.Amount = 0;
    paymentRequest.OrderID = this.checkDetails.OrderSeqID;
    paymentRequest.CashBack = 0.0;
    this.manageLoadingService.startLoading();
    this.subscription.add(this.paymentProcessGenericService.ProcessPayment(paymentRequest, null).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
      this.manageLoadingService.finishLoading();
    })).subscribe());
  }
  updateCheckDetails() {
    var _this$selectedCheckPa2, _this$selectedCheckPa3, _this$selectedCheckPa4, _this$selectedCheckPa5, _this$selectedCheckPa6, _this$selectedCheckPa7, _this$selectedCheckPa8, _this$selectedCheckPa9, _this$selectedCheckPa10, _this$selectedCheckPa11, _this$selectedCheckPa12, _this$selectedCheckPa13, _this$paymentDetail;
    this.checkDetails.Contact = this.selectedContact;
    this.checkDetails.Remaining = (_this$selectedCheckPa2 = this.selectedCheckPanel) === null || _this$selectedCheckPa2 === void 0 ? void 0 : _this$selectedCheckPa2.Remaining;
    this.checkDetails.IsSentToKitchen = (_this$selectedCheckPa3 = this.selectedCheckPanel) === null || _this$selectedCheckPa3 === void 0 ? void 0 : (_this$selectedCheckPa4 = _this$selectedCheckPa3.Summary) === null || _this$selectedCheckPa4 === void 0 ? void 0 : (_this$selectedCheckPa5 = _this$selectedCheckPa4.Items) === null || _this$selectedCheckPa5 === void 0 ? void 0 : _this$selectedCheckPa5.every(p => p.Status === ItemStatus.SentToKitchen);
    this.checkDetails.PaymentsTendered = (_this$selectedCheckPa6 = this.selectedCheckPanel) === null || _this$selectedCheckPa6 === void 0 ? void 0 : (_this$selectedCheckPa7 = _this$selectedCheckPa6.Summary) === null || _this$selectedCheckPa7 === void 0 ? void 0 : (_this$selectedCheckPa8 = _this$selectedCheckPa7.PaymentSummary) === null || _this$selectedCheckPa8 === void 0 ? void 0 : _this$selectedCheckPa8.PaymentsTendered;
    this.checkDetails.CheckUID = (_this$selectedCheckPa9 = this.selectedCheckPanel) === null || _this$selectedCheckPa9 === void 0 ? void 0 : _this$selectedCheckPa9.ItemID;
    this.checkDetails.Title = (_this$selectedCheckPa10 = this.selectedCheckPanel) === null || _this$selectedCheckPa10 === void 0 ? void 0 : _this$selectedCheckPa10.Title;
    this.checkDetails.OrderSeqID = this.paymentRecordId;
    this.checkDetails.Status = this.selectedCheckPanel.Status;
    this.checkDetails.Total = (_this$selectedCheckPa11 = this.selectedCheckPanel) === null || _this$selectedCheckPa11 === void 0 ? void 0 : (_this$selectedCheckPa12 = _this$selectedCheckPa11.Summary) === null || _this$selectedCheckPa12 === void 0 ? void 0 : (_this$selectedCheckPa13 = _this$selectedCheckPa12.PaymentSummary) === null || _this$selectedCheckPa13 === void 0 ? void 0 : _this$selectedCheckPa13.Total;
    this.checkDetails.initiator = this.initiator;
    this.checkDetails.PaymentRecordUID = this.paymentRecordUID;
    this.checkDetails.TerminalTenderType = this.paymentDetail.TenderType;
    this.checkDetails.isSingleCheck = this.paymentDetail.IsSingleCheck;
    this.checkDetails.PaymentItem = (_this$paymentDetail = this.paymentDetail) === null || _this$paymentDetail === void 0 ? void 0 : _this$paymentDetail.Items;
    this.paymentProcessGenericService.changeCheckDetailsSubject.next(this.checkDetails);
    this.getContactPoints();
  }
  detectCurrentIndexOfChecksList() {
    var _this$selectedCheckPa14;
    this.selectedCheckIndex = 1;
    if ((_this$selectedCheckPa14 = this.selectedCheckPanel) !== null && _this$selectedCheckPa14 !== void 0 && _this$selectedCheckPa14.ItemID) {
      this.selectedCheckIndex = this.paymentDetail.Items.findIndex(item => {
        var _this$selectedCheckPa15;
        return (item === null || item === void 0 ? void 0 : item.ItemID) === ((_this$selectedCheckPa15 = this.selectedCheckPanel) === null || _this$selectedCheckPa15 === void 0 ? void 0 : _this$selectedCheckPa15.ItemID);
      }) + 1;
    }
  }
  selectNextCheck() {
    if (this.isSingleCheck || this.paymentDetail.Items.length === 1) {
      const errorMessage = this.translate.instant('PAYMENT_PROCESSOR.PROCESS.NO_ADDITIONAL_CHECKS_ERROR');
      this.snackBarService.showError(errorMessage, '', null, 'left');
      return;
    }
    const tabItem = this.selectedCheckIndex >= this.paymentDetail.Items.length ? this.paymentDetail.Items[0] : this.paymentDetail.Items[this.selectedCheckIndex];
    const lastCheck = this.selectedCheckIndex;
    this.selectCheck(tabItem);
    if (this.innerWidth <= 991.98) {
      var _this$checkTabItemCon, _check$nativeElement;
      if (this.innerWidth > 767 && this.selectedCheckIndex < 4) {
        if (this.selectedCheckIndex !== 1 || lastCheck === 1) {
          return;
        }
      }
      const check = (_this$checkTabItemCon = this.checkTabItemContainerHTMLElement) === null || _this$checkTabItemCon === void 0 ? void 0 : _this$checkTabItemCon.find(p => {
        var _p$nativeElement;
        return (p === null || p === void 0 ? void 0 : (_p$nativeElement = p.nativeElement) === null || _p$nativeElement === void 0 ? void 0 : _p$nativeElement.id) === `checkTabItem_${tabItem.ItemID}`;
      });
      check === null || check === void 0 ? void 0 : (_check$nativeElement = check.nativeElement) === null || _check$nativeElement === void 0 ? void 0 : _check$nativeElement.scrollIntoView({
        behavior: 'smooth',
        block: 'center',
        inline: 'center'
      });
    }
  }
  selectFirstCheck() {
    this.detectCurrentIndexOfChecksList();
    if (this.selectedCheckIndex > 0) {
      var _this$paymentDetail2;
      this.selectedCheckPanel = (_this$paymentDetail2 = this.paymentDetail) === null || _this$paymentDetail2 === void 0 ? void 0 : _this$paymentDetail2.Items[this.selectedCheckIndex - 1];
    } else if (this.unPaidItem.length > 0) {
      this.selectedCheckIndex = 1;
      this.selectedCheckPanel = this.unPaidItem[0];
    } else {
      this.selectedCheckIndex = 1;
      this.selectedCheckPanel = this.paidItem[0];
    }
    this.checkDetails.CheckErrorMessage = this.selectedCheckPanel.ErrorMessage;
    this.selectedContact = this.selectedCheckPanel.PaymentContact;
    this.handlePartialPaymentStatus();
    this.updateCheckDetails();
    this.showPromotionDialogToDoneCheck();
    this.changeDetectorRef.detectChanges();
  }
  handlePartialPaymentStatus() {
    if (this.selectedCheckPanel.Remaining > 0 && this.selectedCheckPanel.Remaining < this.selectedCheckPanel.Summary.PaymentSummary.Total) {
      this.selectedCheckPanel.Status = this.paymentStatus.PartiallyPaid;
    }
    switch (this.selectedCheckPanel.Status) {
      case PaymentStatus.Paid:
        this.paymentButtonsStatus = this.paymentDetail.Configuration.PaymentButtonsStatus.Paid;
        break;
      case PaymentStatus.PartiallyPaid:
        this.paymentButtonsStatus = this.paymentDetail.Configuration.PaymentButtonsStatus.PartiallyPaid;
        break;
      case PaymentStatus.Unpaid:
        this.paymentButtonsStatus = this.paymentDetail.Configuration.PaymentButtonsStatus.Unpaid;
        break;
    }
    this.paymentButtonsStatus.Void = this.hasPaidPayment();
    this.changeDetectorRef.detectChanges();
  }
  onContactItemClickEvent(contact) {
    var _this$selectedCheckPa16;
    const errMessage = this.validateChangeContact();
    if (errMessage) {
      this.snackBarService.showError(errMessage, '', null, 'left');
      return;
    }
    this.selectedContact = contact;
    const request = new AddContactToCheckRequest();
    request.ItemID = (_this$selectedCheckPa16 = this.selectedCheckPanel) === null || _this$selectedCheckPa16 === void 0 ? void 0 : _this$selectedCheckPa16.ItemID;
    request.ContactID = contact === null || contact === void 0 ? void 0 : contact.ContactID;
    if (this.isSingleCheck) {
      request.RefID = this.paymentRecordId;
    }
    request.AccountID = '';
    this.manageLoadingService.startLoading();
    this.subscription.add(this.checkContactService.AddContactToCheck(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
      this.manageLoadingService.finishLoading();
    })).subscribe({
      next: () => {
        this.refreshChecks();
      }
    }));
  }
  removeContactItemClickEvent() {
    var _this$selectedCheckPa17;
    const errMessage = this.validateChangeContact();
    if (errMessage) {
      this.snackBarService.showError(errMessage, '', null, 'left');
      return;
    }
    this.selectedContact = null;
    const request = new AddContactToCheckRequest();
    request.ItemID = (_this$selectedCheckPa17 = this.selectedCheckPanel) === null || _this$selectedCheckPa17 === void 0 ? void 0 : _this$selectedCheckPa17.ItemID;
    request.ContactID = null;
    if (this.isSingleCheck) {
      request.RefID = this.paymentRecordId;
    }
    request.AccountID = null;
    this.manageLoadingService.startLoading();
    this.subscription.add(this.checkContactService.DeleteContactFromCheck(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
      this.manageLoadingService.finishLoading();
    })).subscribe({
      next: () => {
        this.refreshChecks();
      }
    }));
  }
  validateChangeContact() {
    var _this$checkDetails41, _this$checkDetails41$;
    if ((_this$checkDetails41 = this.checkDetails) !== null && _this$checkDetails41 !== void 0 && (_this$checkDetails41$ = _this$checkDetails41.PaymentsTendered) !== null && _this$checkDetails41$ !== void 0 && _this$checkDetails41$.some(p => p.TenderTypeID === TenderTypeID.MemberAccount && p.Status === PaymentsTenderedStatus.Approved)) {
      return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.HAVE_UNCOMMITTED_ON_ACCOUNT');
    } else if (this.hasPaidContact() || this.hasPartiallyPaidPayment()) {
      var _this$checkDetails$Ti5;
      return this.translate.instant('PAYMENT_PROCESSOR.PROCESS.ALREADY_PAID_ERROR', {
        title: (_this$checkDetails$Ti5 = this.checkDetails.Title) !== null && _this$checkDetails$Ti5 !== void 0 ? _this$checkDetails$Ti5 : '-'
      });
    }
    return null;
  }
  refreshChecks() {
    this.manageLoadingService.startLoading();
    this.subscription.add(this.paymentProcessService.Get(this.processRequest).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => this.manageLoadingService.finishLoading())).subscribe(paymentDetail => {
      if (paymentDetail !== null && paymentDetail !== void 0 && paymentDetail.Payment.Items) {
        this.handlePartialPaymentStatus();
        this.loadItems(paymentDetail);
        this.selectedCheckPanel = this.paymentDetail.Items[this.selectedCheckIndex - 1];
        this.checkDetails.CheckErrorMessage = this.selectedCheckPanel.ErrorMessage;
      }
    }));
  }
  onShowSummary() {
    this.showSummary = !this.showSummary;
  }
  openContactDialog() {
    this.teiContactQuickSearch.openQuickSearch();
  }
  done() {
    var _this6 = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      var _this6$paymentDetail$, _this6$paymentDetail$2, _this6$paymentDetail$3;
      const recipientModel = {
        Type: ReceiptType.Print,
        CopyCount: 1,
        PrinterID: _this6.paymentProcessGenericService.selectedPrinterID
      };
      if ((_this6$paymentDetail$ = _this6.paymentDetail.Configuration) !== null && _this6$paymentDetail$ !== void 0 && _this6$paymentDetail$.NeedFinalizeOrder) {
        if (_this6.hasPartialPayment) {
          const requiredMessage = _this6.translate.instant('PAYMENT_PROCESSOR.PROCESS.MUST_COMPLETE_PAYMENT_ERROR');
          _this6.snackBarService.showError(requiredMessage, '', null, 'left');
          return;
        }
        _this6.manageLoadingService.startLoading();
        const finalizeResult = (yield _this6.finalizeOrder(recipientModel, [PrintReceiptOption.PackageReceipt, PrintReceiptOption.SlipReceipt])).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
          _this6.manageLoadingService.finishLoading();
        }));
        if (finalizeResult) {
          var _finalizeResponse$Pri;
          const finalizeResponse = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_35__.firstValueFrom)(finalizeResult);
          if (!!(finalizeResponse !== null && finalizeResponse !== void 0 && (_finalizeResponse$Pri = finalizeResponse.PrintUrls) !== null && _finalizeResponse$Pri !== void 0 && _finalizeResponse$Pri.length)) {
            _this6.downloadPrintedFiles(finalizeResponse);
          }
        }
      } else if ((_this6$paymentDetail$2 = _this6.paymentDetail.Configuration) !== null && _this6$paymentDetail$2 !== void 0 && (_this6$paymentDetail$3 = _this6$paymentDetail$2.PrintReceiptOptions) !== null && _this6$paymentDetail$3 !== void 0 && _this6$paymentDetail$3.some(a => a === PrintReceiptOption.PackageReceipt)) {
        const printResult$ = _this6.printReceipt(recipientModel, [PrintReceiptOption.PackageReceipt]);
        if (printResult$) {
          var _printResponse$PrintU;
          const printResponse = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_35__.firstValueFrom)(printResult$);
          if (!!(printResponse !== null && printResponse !== void 0 && (_printResponse$PrintU = printResponse.PrintUrls) !== null && _printResponse$PrintU !== void 0 && _printResponse$PrintU.length)) {
            _this6.downloadPrintedFiles(printResponse);
          }
        }
      }
      _this6.navigateToMainPage();
    })();
  }
  finalizeOrder(recipientModel, printOptions) {
    var _this7 = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      try {
        var _this7$checkDetails, _this7$checkDetails2, _this7$paymentDetail$, _this7$paymentDetail$2;
        _this7.manageLoadingService.startLoading();
        const postPaymentPrintRequest = {
          RefID: _this7.paymentRecordId,
          CheckUIDs: [(_this7$checkDetails = _this7.checkDetails) === null || _this7$checkDetails === void 0 ? void 0 : _this7$checkDetails.CheckUID],
          PrinterID: recipientModel.PrinterID || null,
          Quantity: recipientModel.CopyCount,
          PrintConfigurations: recipientModel.PrintConfigurations || [],
          PaymentRecordUID: _this7.paymentRecordUID,
          PrintReceiptOptions: printOptions,
          HideTipLine: true,
          ShowSignatureSegment: true
        };
        const request = {
          OrderId: _this7.paymentDetail.OrderID,
          PaymentItemID: (_this7$checkDetails2 = _this7.checkDetails) === null || _this7$checkDetails2 === void 0 ? void 0 : _this7$checkDetails2.CheckUID,
          PaymentPrintRequest: (_this7$paymentDetail$ = _this7.paymentDetail.Configuration) !== null && _this7$paymentDetail$ !== void 0 && (_this7$paymentDetail$2 = _this7$paymentDetail$.PrintReceiptOptions) !== null && _this7$paymentDetail$2 !== void 0 && _this7$paymentDetail$2.some(a => a === PrintReceiptOption.PackageReceipt || a === PrintReceiptOption.SlipReceipt) ? postPaymentPrintRequest : null
        };
        const response = yield _this7.finalizeService.PostFinalize(request);
        return response;
      } catch (error) {
        console.error("Error finalizing order:", error);
      } finally {
        _this7.manageLoadingService.finishLoading();
      }
    })();
  }
  navigateToMainPage() {
    if (this.unPaidItem.length || this.hasPartialPayment || !this.paymentDetail || this.paymentDetail.OrderStatus === OrderStatus.Reactivated) {
      this.paymentNavigationService.cancelByUser();
    } else {
      this.paymentNavigationService.success();
    }
  }
  cancelPayment() {
    if (!this.paymentButtonsStatus.Back) {
      if (this.paymentDetail.Configuration.NeedFinalizeOrder) {
        const requiredMessage = this.translate.instant('PAYMENT_PROCESSOR.PROCESS.MUST_COMPLETE_PAYMENT_ERROR');
        this.snackBarService.showError(requiredMessage, '', null, 'left');
      }
    } else {
      this.navigateToMainPage();
    }
  }
  paymentAppliedEventHandler() {
    this.refreshChecks();
  }
  hasPaidContact() {
    var _this$checkDetails42, _this$checkDetails42$;
    return (_this$checkDetails42 = this.checkDetails) === null || _this$checkDetails42 === void 0 ? void 0 : (_this$checkDetails42$ = _this$checkDetails42.PaymentsTendered) === null || _this$checkDetails42$ === void 0 ? void 0 : _this$checkDetails42$.some(p => p.Status !== PaymentsTenderedStatus.Voided);
  }
  get hasOnAccountPayment() {
    var _this$selectedCheckPa18, _this$selectedCheckPa19, _this$selectedCheckPa20, _this$selectedCheckPa21;
    return (_this$selectedCheckPa18 = this.selectedCheckPanel) === null || _this$selectedCheckPa18 === void 0 ? void 0 : (_this$selectedCheckPa19 = _this$selectedCheckPa18.Summary) === null || _this$selectedCheckPa19 === void 0 ? void 0 : (_this$selectedCheckPa20 = _this$selectedCheckPa19.PaymentSummary) === null || _this$selectedCheckPa20 === void 0 ? void 0 : (_this$selectedCheckPa21 = _this$selectedCheckPa20.PaymentsTendered) === null || _this$selectedCheckPa21 === void 0 ? void 0 : _this$selectedCheckPa21.some(p => p.TenderTypeID === TenderTypeID.MemberAccount && p.Status !== PaymentsTenderedStatus.Voided);
  }
  hasPaidPayment() {
    var _this$selectedCheckPa22, _this$selectedCheckPa23, _this$selectedCheckPa24, _this$selectedCheckPa25;
    return (_this$selectedCheckPa22 = this.selectedCheckPanel) === null || _this$selectedCheckPa22 === void 0 ? void 0 : (_this$selectedCheckPa23 = _this$selectedCheckPa22.Summary) === null || _this$selectedCheckPa23 === void 0 ? void 0 : (_this$selectedCheckPa24 = _this$selectedCheckPa23.PaymentSummary) === null || _this$selectedCheckPa24 === void 0 ? void 0 : (_this$selectedCheckPa25 = _this$selectedCheckPa24.PaymentsTendered) === null || _this$selectedCheckPa25 === void 0 ? void 0 : _this$selectedCheckPa25.some(p => p.Status !== PaymentsTenderedStatus.Voided);
  }
  hasPartiallyPaidPayment() {
    var _this$selectedCheckPa26;
    return ((_this$selectedCheckPa26 = this.selectedCheckPanel) === null || _this$selectedCheckPa26 === void 0 ? void 0 : _this$selectedCheckPa26.Status) === this.paymentStatus.PartiallyPaid;
  }
  voidPayment() {
    var _this$paymentDetail3, _this$paymentDetail3$;
    const dialog = this.dialog.open(VoidPaymentComponent, {
      panelClass: ['void-payment-dialog', 'o-dialog-md-fullscreen'],
      width: '400px',
      data: {
        checkDetails: this.checkDetails,
        PaymentMethods: (_this$paymentDetail3 = this.paymentDetail) === null || _this$paymentDetail3 === void 0 ? void 0 : (_this$paymentDetail3$ = _this$paymentDetail3.TenderType) === null || _this$paymentDetail3$ === void 0 ? void 0 : _this$paymentDetail3$.PaymentMethods
      }
    });
    if (dialog) {
      this.subscription.add(dialog.backdropClick().subscribe(() => {
        dialog.disableClose = this.manageLoadingService.isLoading;
        return !dialog.disableClose;
      }));
    }
  }
  printReceipt(recipientModel, printOptions) {
    if (recipientModel.Type === ReceiptType.Print) {
      return this.printOrder(recipientModel, printOptions);
    }
    if (recipientModel.Type === ReceiptType.Email) {
      this.sendReceiptByEmail(recipientModel);
      return null;
    }
  }
  printOrder(recipientModel, printOptions) {
    var _this$checkDetails43;
    const request = new PostPaymentPrintRequest();
    request.RefID = this.paymentRecordId;
    request.CheckUIDs = [(_this$checkDetails43 = this.checkDetails) === null || _this$checkDetails43 === void 0 ? void 0 : _this$checkDetails43.CheckUID];
    request.PrinterID = recipientModel.PrinterID || null;
    request.Quantity = recipientModel.CopyCount;
    request.PrintConfigurations = recipientModel.PrintConfigurations || null;
    request.PaymentRecordUID = this.paymentRecordUID;
    request.PrintReceiptOptions = printOptions;
    request.HideTipLine = true;
    this.manageLoadingService.startLoading();
    return this.printService.Post(request).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
      this.manageLoadingService.finishLoading();
    }));
  }
  downloadPrintedFiles(response) {
    var _response$PrintUrls;
    if (!!(response !== null && response !== void 0 && (_response$PrintUrls = response.PrintUrls) !== null && _response$PrintUrls !== void 0 && _response$PrintUrls.length)) {
      for (let index = 0; index < response.PrintUrls.length; index++) {
        const element = response.PrintUrls[index].PrintToFileUrl;
        this.paymentProcessGenericService.DownloadFile(element, 'Order_' + this.selectedCheckPanel.ItemID + '_' + index);
      }
    } else {
      this.snackBarService.showSuccess(this.translate.instant('PAYMENT_PROCESSOR.PROCESS.PRINT_STARTED'), '', null, 'left');
    }
  }
  receiptActionHandler(recipientModel) {
    var _this8 = this;
    return (0,C_DevelopmentGitLab_web_shell_source_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this8.paymentButtonsStatus.PaymentCompleted || _this8.paymentButtonsStatus.PaymentRequired) {
        _this8.snackBarService.showError(_this8.translate.instant('PAYMENT_PROCESSOR.PROCESS.NOT_PAID_ERROR', {
          checkTitle: _this8.checkDetails.OrderSeqID
        }), '', null, 'left');
        return;
      }
      const printResponse = yield (0,rxjs__WEBPACK_IMPORTED_MODULE_35__.firstValueFrom)(_this8.printReceipt(recipientModel, [PrintReceiptOption.OrderReceipt, PrintReceiptOption.GiftCardReceipt]));
      _this8.downloadPrintedFiles(printResponse);
    })();
  }
  sendReceiptByEmail(recipientModel) {
    var _this$checkDetails44, _this$checkDetails45, _this$checkDetails46;
    const sendNotificationRequest = {
      CheckUID: (_this$checkDetails44 = this.checkDetails) === null || _this$checkDetails44 === void 0 ? void 0 : _this$checkDetails44.CheckUID,
      PaymentRecordUID: this.paymentRecordUID,
      TenderType: (_this$checkDetails45 = this.checkDetails) === null || _this$checkDetails45 === void 0 ? void 0 : _this$checkDetails45.PaymentsTendered[0].TenderTypeID,
      ShowSignatureSegment: false,
      TotalPaid: (_this$checkDetails46 = this.checkDetails) === null || _this$checkDetails46 === void 0 ? void 0 : _this$checkDetails46.PaymentsTendered[0].Amount,
      ContactsInfoList: this.setContactsInfoList(recipientModel.Emails)
    };
    this.manageLoadingService.startLoading();
    this.subscription.add(this.sendNotificationService.Post(sendNotificationRequest).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.finalize)(() => {
      this.manageLoadingService.finishLoading();
    })).subscribe({
      next: () => {
        this.snackBarService.showSuccess(this.translate.instant('PAYMENT_PROCESSOR.PROCESS.SEND_NOTIFICATIONS_SUCCESSFULLY'), '', null, 'left');
      },
      error: error => {
        var _error$error;
        if ((_error$error = error.error) !== null && _error$error !== void 0 && _error$error.title) {
          var _error$error2;
          this.snackBarService.showError((_error$error2 = error.error) === null || _error$error2 === void 0 ? void 0 : _error$error2.title, '', null, 'left');
        }
      }
    }));
  }
  setContactsInfoList(emails) {
    var _this$checkDetails47;
    const contactsInfoList = [];
    if ((_this$checkDetails47 = this.checkDetails) !== null && _this$checkDetails47 !== void 0 && _this$checkDetails47.Contact && emails.includes(this.checkDetails.Contact.Email)) {
      const displayName = this.checkDetails.Contact.DisplayName.split(' ');
      contactsInfoList.push({
        Email: this.checkDetails.Contact.Email,
        PositionNo: 1,
        FirstName: displayName[0],
        LastName: displayName[1]
      });
      emails.forEach((email, index) => {
        if (email !== this.checkDetails.Contact.Email) {
          contactsInfoList.push({
            Email: email,
            PositionNo: index + 1
          });
        }
      });
    } else {
      emails.forEach((email, index) => {
        contactsInfoList.push({
          Email: email,
          PositionNo: index + 1
        });
      });
    }
    return contactsInfoList;
  }
  ngAfterViewInit() {
    var _this$checkTabItemCon2, _this$checkTabItemCon3;
    this.subscription.add((_this$checkTabItemCon2 = this.checkTabItemContainer) === null || _this$checkTabItemCon2 === void 0 ? void 0 : (_this$checkTabItemCon3 = _this$checkTabItemCon2.changes) === null || _this$checkTabItemCon3 === void 0 ? void 0 : _this$checkTabItemCon3.subscribe(elements => {
      this.checkTabItemContainerHTMLElement = elements;
    }));
  }
  updatePaymentMethodsTitle(isReturn) {
    this.paymentMethodTitle = !isReturn ? this.translate.instant('PAYMENT_PROCESSOR.PROCESS.PAYMENT_METHODS') : this.translate.instant('PAYMENT_PROCESSOR.PROCESS.RETURN_PAYMENT_METHODS');
  }
  updateTooltip() {
    setTimeout(() => {
      this.noteElements.forEach((elRef, index) => {
        const el = elRef.nativeElement;
        this.isOverflowing[index] = el.scrollWidth > el.clientWidth;
      });
    });
  }
  absAmount(amount) {
    return Math.abs(amount);
  }
  ngOnDestroy() {
    var _this$subscription2, _this$responsiveServi, _this$dialog;
    (_this$subscription2 = this.subscription) === null || _this$subscription2 === void 0 ? void 0 : _this$subscription2.unsubscribe();
    (_this$responsiveServi = this.responsiveServiceSubscription) === null || _this$responsiveServi === void 0 ? void 0 : _this$responsiveServi.unsubscribe();
    (_this$dialog = this.dialog) === null || _this$dialog === void 0 ? void 0 : _this$dialog.closeAll();
  }
}
ProcessComponent.ɵfac = function ProcessComponent_Factory(t) {
  return new (t || ProcessComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IProcessService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('ICheckContactService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](PaymentNavigationService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.StorageService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialog), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPointsService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPrintService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('ISendNotificationsService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentFinalizeService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.ResponsiveService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService));
};
ProcessComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: ProcessComponent,
  selectors: [["tei-common-payment-processor-process"]],
  viewQuery: function ProcessComponent_Query(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c8, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c9, 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c10, 5);
    }
    if (rf & 2) {
      let _t;
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.teiContactQuickSearch = _t.first);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.checkTabItemContainer = _t);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.noteElements = _t);
    }
  },
  hostBindings: function ProcessComponent_HostBindings(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("beforeunload", function ProcessComponent_beforeunload_HostBindingHandler($event) {
        return ctx.Onbeforeunload($event);
      }, false, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresolveWindow"]);
    }
  },
  decls: 55,
  vars: 46,
  consts: [[1, "d-flex", "flex-column"], [1, "m-breadcrumb", "w-100", "flex-shrink-1"], ["mat-icon-button", "", 3, "disabled", "click"], [1, "a-back-from-payment"], [1, "a-breadcrumb-non-action", "a-breadcrumb", "a-breadcrumb-active"], [1, "main-process-container", "w-100", "d-flex", "px-md-3", "px-2", "pb-md-3", "pb-2", "pb-xxl-5", "pt-md-1", "pt-0", 3, "ngClass"], ["class", "process-check-tab p-0 m-0 d-flex flex-column", 4, "ngIf"], [1, "w-100", "flex-column", "d-flex"], [1, "p-0", "m-0", "d-flex", "flex-grow-1", "flex-column", "flex-lg-row", 3, "ngClass"], [1, "process-info", "p-0", "process-height", 3, "ngClass"], [1, "", 3, "ngClass", "expanded", "opened", "closed"], [3, "click"], ["panelH", ""], [1, "a-text-h3"], [1, ""], [1, "d-flex", "flex-column", "process-control-info-max-overflow"], [1, "m-container-summary"], [1, "d-flex", "o-paymentcontact-container", "mt-1", "ml-1"], [3, "contact", "isDisabled", "onContactItemClickEvent", "removeContactItemClickEvent"], ["teiContactQuickSearch", ""], [1, "d-flex", "w-100", "flex-nowrap", "align-items-center", "my-2"], ["class", "a-note-container mr-1", 3, "a-first-note", "a-second-note", "click", 4, "ngFor", "ngForOf"], ["class", "mt-3 summary-payment", 4, "ngIf"], [1, "row", "my-2"], ["class", "col", 4, "ngIf"], [1, "col"], ["mat-stroked-button", "", "class", "w-100 a-apply-discount-btn", 3, "disabled", "click", 4, "ngIf"], [1, "process-payment-method", "p-0", "process-height"], [1, "o-card-body", "d-flex", "payment-main-body"], ["class", "o-check-pay flex-grow-1", 3, "fade-in", 4, "ngIf"], [1, "a-process-receipt-control", "d-flex", "flex-column", "p-0", "process-receipt-control-height", 3, "ngClass"], [1, "mat-expansion-panel", "flex-grow-1", "w-100", "flex-column", 3, "expanded", "opened", "closed"], ["panelReceipt", ""], ["class", "a-text-h3", 4, "ngIf"], [1, "process-control-info-max-height", "d-flex", "flex-column", "h-100", "w-100"], [3, "tenderType", "showGratuity", "total", "enableTipsOnGiftCard", "contactPoints", "isReturn", "printerList", "openContactDialogEvent", "paymentAppliedEvent", 4, "ngIf"], [3, "printerList", "contact", "printConfigurations", "remaining", "paymentCompleted", "receiptActionEvent", 4, "ngIf"], ["class", "row m-container-selectmethod select-payment-method-title align-self-center", 4, "ngIf"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], ["checkItem", ""], ["checkMaterialTabs", ""], ["checkButtons", ""], [3, "show"], [1, "process-check-tab", "p-0", "m-0", "d-flex", "flex-column"], ["class", "payment-summary", 4, "ngIf", "ngIfElse"], [1, "payment-summary"], ["class", "m-unpaid ", 4, "ngIf"], ["class", "m-paid", 4, "ngIf"], [1, "m-unpaid"], [1, "a-text-secondary"], [1, "m-sidenav-details", "mb-3"], [1, "m-paid"], [1, "m-sidenav-details", "mb-2"], [1, "a-note-container", "mr-1", 3, "click"], ["mat-flat-button", "", 1, "a-note-button", "pl-1", 3, "id"], [1, "d-flex", "align-items-center"], ["fontSet", "material-symbols-outlined"], [1, "ml-1"], ["class", "text-overflow-ellipsis", 3, "matTooltip", "matTooltipDisabled", 4, "ngIf"], [1, "text-overflow-ellipsis", 3, "matTooltip", "matTooltipDisabled"], ["noteText", ""], [1, "mt-3", "summary-payment"], [1, "d-flex", "flex-column", "justify-content-center"], [1, "d-flex", "flex-column", "m-menu-item-details"], [3, "item", "remainingAmount", "paymentDetail"], ["mat-stroked-button", "", 1, "w-100", "a-apply-discount-btn", 3, "disabled"], ["mat-stroked-button", "", 1, "w-100", "a-apply-discount-btn", 3, "disabled", "click"], [1, "o-check-pay", "flex-grow-1"], [1, "a-header-paymentmethods"], [1, "d-flex", "a-text-h3"], [3, "tenderType", "showGratuity", "total", "enableTipsOnGiftCard", "contactPoints", "isReturn", "enableReturnToGiftCard", "printerList", "openContactDialogEvent", "paymentAppliedEvent"], [3, "tenderType", "showGratuity", "total", "enableTipsOnGiftCard", "contactPoints", "isReturn", "printerList", "openContactDialogEvent", "paymentAppliedEvent"], [3, "printerList", "contact", "printConfigurations", "remaining", "paymentCompleted", "receiptActionEvent"], [1, "row", "m-container-selectmethod", "select-payment-method-title", "align-self-center"], [1, "d-flex"], [1, "col-auto", "align-self-center", "d-flex"], ["style", "transform: rotate(180deg);", 4, "ngIf"], ["style", "transform: rotate(270deg);", 4, "ngIf"], [1, "col", "align-self-center", "select-payment-method"], [1, "a-text-h2"], [4, "ngIf"], ["class", "a-text-primary d-flex justify-content-between", 4, "ngIf"], [2, "transform", "rotate(180deg)"], [2, "transform", "rotate(270deg)"], [1, "a-text-primary", "d-flex", "justify-content-between"], [1, "d-flex", 3, "ngClass"], ["matRipple", "", "class", "d-flex flex-row align-items-center check-detail ", 3, "id", "ngClass", "click", 4, "ngFor", "ngForOf"], ["matRipple", "", 1, "d-flex", "flex-row", "align-items-center", "check-detail", 3, "id", "ngClass", "click"], ["checkTabItemContainer", ""], [1, "w-100", 3, "paymentStatus", "checkNumber", "checkDetail"], ["mat-align-tabs", "start", 3, "selectedIndex"], [3, "label", "disabled"], ["class", " px-2 px-sm-0 px-md-0 py-2 py-sm-0 d-flex mt-2 flex-shrink-1 flex-row payment-action-button-mobile-mode m-container-paymentbuttongroup", 4, "ngIf"], [1, "px-2", "px-sm-0", "px-md-0", "py-2", "py-sm-0", "d-flex", "mt-2", "flex-shrink-1", "flex-row", "payment-action-button-mobile-mode", "m-container-paymentbuttongroup"], [1, "mr-1", "w-50"], ["mat-raised-button", "", "id", "a-done-payment-btn", 1, "w-100", "h-100", 3, "disabled", "color", "click"], [1, "ml-1", "w-50"], ["mat-stroked-button", "", 1, "w-100", "h-100", 3, "disabled", "click"], ["mat-raised-button", "", "id", "a-complete-payment-btn", 1, "w-100", "h-100", 3, "disabled", "color", "click"]],
  template: function ProcessComponent_Template(rf, ctx) {
    if (rf & 1) {
      const _r71 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "button", 2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ProcessComponent_Template_button_click_2_listener() {
        return ctx.cancelPayment();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "mat-icon", 3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4, " arrow_back ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "span", 4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 5);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, ProcessComponent_div_8_Template, 2, 2, "div", 6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "div", 7)(10, "div", 8)(11, "div", 9)(12, "mat-expansion-panel", 10);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("opened", function ProcessComponent_Template_mat_expansion_panel_opened_12_listener() {
        return ctx.showSummary = true;
      })("closed", function ProcessComponent_Template_mat_expansion_panel_closed_12_listener() {
        return ctx.showSummary = false;
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "mat-expansion-panel-header", 11, 12);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ProcessComponent_Template_mat_expansion_panel_header_click_13_listener() {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r71);
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](14);
        return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx.innerWidth > 960 && _r1._toggle());
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](15, "div", 13);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](16);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](17, "teiTextTranslate");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "div", 14)(19, "div", 15)(20, "div", 16)(21, "div", 17)(22, "tei-contact-quick-search", 18, 19);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("onContactItemClickEvent", function ProcessComponent_Template_tei_contact_quick_search_onContactItemClickEvent_22_listener($event) {
        return ctx.onContactItemClickEvent($event);
      })("removeContactItemClickEvent", function ProcessComponent_Template_tei_contact_quick_search_removeContactItemClickEvent_22_listener() {
        return ctx.removeContactItemClickEvent();
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](24, "div", 20);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](25, ProcessComponent_div_25_Template, 8, 8, "div", 21);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](26, "mat-divider");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](27, ProcessComponent_div_27_Template, 4, 3, "div", 22);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](28, "div", 23);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](29, ProcessComponent_div_29_Template, 4, 4, "div", 24);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](30, "div", 25);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](31, ProcessComponent_button_31_Template, 3, 4, "button", 26);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](32, "div", 27)(33, "div", 28);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](34, ProcessComponent_div_34_Template, 5, 11, "div", 29);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](35, "div", 30)(36, "mat-expansion-panel", 31);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("opened", function ProcessComponent_Template_mat_expansion_panel_opened_36_listener() {
        return ctx.showReceipt = true;
      })("closed", function ProcessComponent_Template_mat_expansion_panel_closed_36_listener() {
        return ctx.showReceipt = false;
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](37, "mat-expansion-panel-header", 11, 32);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ProcessComponent_Template_mat_expansion_panel_header_click_37_listener() {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r71);
        const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](38);
        return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx.innerWidth > 960 && _r8._toggle());
      });
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](39, "mat-panel-title");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](40, ProcessComponent_span_40_Template, 3, 3, "span", 33);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](41, ProcessComponent_span_41_Template, 2, 1, "span", 33);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](42, "div", 34);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](43, ProcessComponent_tei_common_payment_processor_payment_method_43_Template, 1, 7, "tei-common-payment-processor-payment-method", 35);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](44, ProcessComponent_tei_common_payment_processor_receipt_44_Template, 1, 5, "tei-common-payment-processor-receipt", 36);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](45, ProcessComponent_div_45_Template, 11, 6, "div", 37);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](46, ProcessComponent_ng_container_46_Template, 1, 0, "ng-container", 38);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](47, ProcessComponent_ng_container_47_Template, 1, 0, "ng-container", 38);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](48, ProcessComponent_ng_template_48_Template, 2, 5, "ng-template", null, 39, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](50, ProcessComponent_ng_template_50_Template, 7, 19, "ng-template", null, 40, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](52, ProcessComponent_ng_template_52_Template, 1, 1, "ng-template", null, 41, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplateRefExtractor"]);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](54, "tei-loading", 42);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    }
    if (rf & 2) {
      const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](53);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", !ctx.paymentButtonsStatus.Back || ctx.manageLoadingService.isLoading);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx.title, " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](30, _c14, !ctx.mobileMode, ctx.mobileMode));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.isSingleCheck);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](33, _c15, ctx.isSingleCheck, !ctx.isSingleCheck));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](36, _c16, ctx.desktopMode));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](38, _c17, ctx.showSummary))("expanded", ctx.showSummary || ctx.innerWidth > 960);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](17, 28, "PAYMENT_PROCESSOR.PROCESS.SUMMARY"), " ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("contact", ctx.selectedCheckPanel == null ? null : ctx.selectedCheckPanel.PaymentContact)("isDisabled", ctx.validateChangeContact() || !ctx.paymentProcessGenericService.configuration.AllowChangeContactLookup);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.selectedCheckPanel == null ? null : ctx.selectedCheckPanel.Notes);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.selectedCheckPanel);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", false);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.checkDetails.Total !== 0);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.innerWidth > 1400);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](40, _c16, ctx.desktopMode));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("expanded", ctx.showReceipt || ctx.innerWidth > 960);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.needPayment);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.needPayment && ctx.innerWidth < 1400);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.needPayment && ctx.innerWidth < 1400);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.needPayment);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.needPayment && !ctx.mobileMode);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngTemplateOutlet", _r20)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](42, _c11, ctx.desktopMode));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngTemplateOutlet", _r20)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](44, _c11, !ctx.desktopMode));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](7);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("show", ctx.manageLoadingService.isLoading);
    }
  },
  dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgTemplateOutlet, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButton, _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.MatRipple, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDivider, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_43__.MatExpansionPanel, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_43__.MatExpansionPanelHeader, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_43__.MatExpansionPanelTitle, _angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltip, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingComponent, _tei_office_contacts__WEBPACK_IMPORTED_MODULE_28__.ContactQuickSearchComponent, CheckCardComponent, CheckDetailComponent, _angular_material_legacy_tabs__WEBPACK_IMPORTED_MODULE_33__.MatLegacyTabGroup, _angular_material_legacy_tabs__WEBPACK_IMPORTED_MODULE_33__.MatLegacyTab, PaymentMethodComponent, ReceiptComponent, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipe, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslatePipe],
  styles: [".mat-stroked-button.mat-accent{color:#009e6a}  .t-sidenav-payment .mat-drawer-inner-container{overflow-x:hidden;overflow-y:hidden}  .t-sidenav-payment .mat-drawer-inner-container .a-checks-group-title{font-weight:500}@media (min-width: 1201px){.t-sidenav-payment[_ngcontent-%COMP%]{max-width:450px;width:100%}}@media (max-width: 1200px){.t-sidenav-payment[_ngcontent-%COMP%]{max-width:350px;width:100%}}.t-sidenav-payment[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.t-sidenav-payment[_ngcontent-%COMP%]   .m-sidenav-header[_ngcontent-%COMP%]{height:50px}.t-sidenav-payment[_ngcontent-%COMP%]   .m-paid[_ngcontent-%COMP%]   .m-sidenav-details[_ngcontent-%COMP%]{opacity:.9}.t-sidenav-payment[_ngcontent-%COMP%]   .m-sidenav-details[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;flex:1}.tei-material-theme[_nghost-%COMP%]     .main-process-container, .tei-material-theme   [_nghost-%COMP%]     .main-process-container{overflow:hidden}@media (max-width: 767.98px){.tei-material-theme[_nghost-%COMP%]     .payment-action-button-mobile-mode, .tei-material-theme   [_nghost-%COMP%]     .payment-action-button-mobile-mode{position:fixed;left:0;right:0;bottom:0;width:100%;padding:0}}.tei-material-theme[_nghost-%COMP%]     .a-check-card-selected, .tei-material-theme   [_nghost-%COMP%]     .a-check-card-selected{border:solid 1px #028eb5}@media (min-width: 992px){.tei-material-theme[_nghost-%COMP%]     .a-check-card-selected, .tei-material-theme   [_nghost-%COMP%]     .a-check-card-selected{border-right:0}}@media (max-width: 767px){.tei-material-theme[_nghost-%COMP%]     .check-detail, .tei-material-theme   [_nghost-%COMP%]     .check-detail{margin-bottom:8px;margin-top:8px}}@media (min-width: 768px) and (max-width: 1199.98px){.tei-material-theme[_nghost-%COMP%]     .check-detail, .tei-material-theme   [_nghost-%COMP%]     .check-detail{margin-bottom:3px;margin-top:3px}}@media (max-width: 767px){.nb-theme-material-light[_nghost-%COMP%]     .payment-action-button-mobile-mode, .nb-theme-material-light   [_nghost-%COMP%]     .payment-action-button-mobile-mode{background-color:#ebebeb;border-top:1px solid rgba(0,0,0,.12)}}.nb-theme-material-light[_nghost-%COMP%]     .a-check-card-selected, .nb-theme-material-light   [_nghost-%COMP%]     .a-check-card-selected{background-color:#f9f9f9!important;color:#000}.nb-theme-material-light[_nghost-%COMP%]     .check-detail, .nb-theme-material-light   [_nghost-%COMP%]     .check-detail{background-color:#fff;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.nb-theme-material-light[_nghost-%COMP%]     .pay-method-item.mat-stroked-button:not(.mat-button-disabled), .nb-theme-material-light   [_nghost-%COMP%]     .pay-method-item.mat-stroked-button:not(.mat-button-disabled){background-color:#fff}@media (max-width: 767px){.nb-theme-material-dark[_nghost-%COMP%]     .payment-action-button-mobile-mode, .nb-theme-material-dark   [_nghost-%COMP%]     .payment-action-button-mobile-mode{background-color:#303030;border-top:1px solid rgba(255,255,255,.12)}}.nb-theme-material-dark[_nghost-%COMP%]     .a-check-card-selected, .nb-theme-material-dark   [_nghost-%COMP%]     .a-check-card-selected{background-color:#303030!important;color:#fff}.nb-theme-material-dark[_nghost-%COMP%]     .a-check-card-selected .a-text-primary, .nb-theme-material-dark   [_nghost-%COMP%]     .a-check-card-selected .a-text-primary, .nb-theme-material-dark[_nghost-%COMP%]     .a-check-card-selected .a-text-secondary, .nb-theme-material-dark   [_nghost-%COMP%]     .a-check-card-selected .a-text-secondary, .nb-theme-material-dark[_nghost-%COMP%]     .a-check-card-selected .a-text-default, .nb-theme-material-dark   [_nghost-%COMP%]     .a-check-card-selected .a-text-default{color:#fff}.nb-theme-material-dark[_nghost-%COMP%]     .a-check-card-selected -description, .nb-theme-material-dark   [_nghost-%COMP%]     .a-check-card-selected -description{color:#fff}.nb-theme-material-dark[_nghost-%COMP%]     .a-check-card-selected .mat-icon, .nb-theme-material-dark   [_nghost-%COMP%]     .a-check-card-selected .mat-icon{color:#fff!important}.nb-theme-material-dark[_nghost-%COMP%]     .check-detail, .nb-theme-material-dark   [_nghost-%COMP%]     .check-detail{background-color:#242424;box-shadow:0 0 5px #00000080}.nb-theme-material-dark[_nghost-%COMP%]     .pay-method-item.mat-stroked-button:not(.mat-button-disabled), .nb-theme-material-dark   [_nghost-%COMP%]     .pay-method-item.mat-stroked-button:not(.mat-button-disabled){background-color:#393939}  .a-check-card-selected{background-color:#303030;color:#ffffff57}.m-check-details[_ngcontent-%COMP%]   .a-seat-number[_ngcontent-%COMP%]{margin-right:10px}.m-check-totals[_ngcontent-%COMP%]{padding:16px}.o-card-body[_ngcontent-%COMP%]{margin:0 -16px -16px!important;flex-wrap:nowrap}@media (max-width: 991.98px){.o-card-body[_ngcontent-%COMP%]{flex-wrap:wrap}}.o-check-summary[_ngcontent-%COMP%]{max-width:430px;min-width:300px;width:30vw}@media (max-width: 991.98px){.o-check-summary[_ngcontent-%COMP%]{width:100%;border:0;max-width:none}}.o-check-summary[_ngcontent-%COMP%]   .a-apply-discount-btn[_ngcontent-%COMP%]{margin:5px 10px}.o-check-summary[_ngcontent-%COMP%]   .a-summary-title[_ngcontent-%COMP%], .o-check-pay[_ngcontent-%COMP%]{padding:16px}.o-check-pay[_ngcontent-%COMP%]   .a-pay-title[_ngcontent-%COMP%]{padding-bottom:16px}.o-check-pay[_ngcontent-%COMP%]   .a-remaining-check[_ngcontent-%COMP%]{position:absolute;right:1rem}@media (max-width: 991.98px){.o-check-pay[_ngcontent-%COMP%]{width:100%}}.nb-theme-material-light[_nghost-%COMP%]   .a-menu-item-dnd-placeholder[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .a-menu-item-dnd-placeholder[_ngcontent-%COMP%]{background:rgba(0,0,0,.04);border:dotted 2px rgba(0,0,0,.12);min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}@media (min-width: 992px){.nb-theme-material-light[_nghost-%COMP%]   .o-check-summary[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .o-check-summary[_ngcontent-%COMP%]{border-right:1px solid rgba(0,0,0,.12)}}@media (max-width: 991.98px){.nb-theme-material-light[_nghost-%COMP%]   .o-check-pay[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .o-check-pay[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12)}}.nb-theme-material-light[_nghost-%COMP%]     .check-detail, .nb-theme-material-light   [_nghost-%COMP%]     .check-detail{color:#0000001f}.nb-theme-material-light[_nghost-%COMP%]     .a-check-card-selected.cdk-keyboard-focused:not([aria-disabled=true]), .nb-theme-material-light   [_nghost-%COMP%]     .a-check-card-selected.cdk-keyboard-focused:not([aria-disabled=true]), .nb-theme-material-light[_nghost-%COMP%]     .a-check-card-selected.cdk-program-focused:not([aria-disabled=true]), .nb-theme-material-light   [_nghost-%COMP%]     .a-check-card-selected.cdk-program-focused:not([aria-disabled=true]), .nb-theme-material-light[_nghost-%COMP%]     .a-check-card-selected:hover:not([aria-disabled=true]), .nb-theme-material-light   [_nghost-%COMP%]     .a-check-card-selected:hover:not([aria-disabled=true]){background-color:#fff}.nb-theme-material-light[_nghost-%COMP%]     .a-check-card-selected .avatar-content, .nb-theme-material-light   [_nghost-%COMP%]     .a-check-card-selected .avatar-content{color:#fff}.nb-theme-material-dark[_nghost-%COMP%]   .a-menu-item-dnd-placeholder[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .a-menu-item-dnd-placeholder[_ngcontent-%COMP%]{background:rgba(255,255,255,.04);border:dotted 3px rgba(255,255,255,.12);min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}@media (min-width: 992px){.nb-theme-material-dark[_nghost-%COMP%]   .o-check-summary[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .o-check-summary[_ngcontent-%COMP%]{border-right:1px solid hsla(0,0%,100%,.12)}}@media (max-width: 991.98px){.nb-theme-material-dark[_nghost-%COMP%]   .o-check-pay[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .o-check-pay[_ngcontent-%COMP%]{border-top:1px solid hsla(0,0%,100%,.12)}}.nb-theme-material-dark[_nghost-%COMP%]     .check-detail, .nb-theme-material-dark   [_nghost-%COMP%]     .check-detail{color:#ffffff1f}.nb-theme-material-dark[_nghost-%COMP%]     .a-check-card-selected.cdk-keyboard-focused:not([aria-disabled=true]), .nb-theme-material-dark   [_nghost-%COMP%]     .a-check-card-selected.cdk-keyboard-focused:not([aria-disabled=true]), .nb-theme-material-dark[_nghost-%COMP%]     .a-check-card-selected.cdk-program-focused:not([aria-disabled=true]), .nb-theme-material-dark   [_nghost-%COMP%]     .a-check-card-selected.cdk-program-focused:not([aria-disabled=true]), .nb-theme-material-dark[_nghost-%COMP%]     .a-check-card-selected:hover:not([aria-disabled=true]), .nb-theme-material-dark   [_nghost-%COMP%]     .a-check-card-selected:hover:not([aria-disabled=true]){background-color:#404040}.m-checks-sidebar-toggle[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}.m-checks-sidebar-toggle[_ngcontent-%COMP%]   .m-check-items[_ngcontent-%COMP%]{line-height:15px;margin:0}.m-checks-sidebar-toggle[_ngcontent-%COMP%]   .m-check-items[_ngcontent-%COMP%]   .a-orderid[_ngcontent-%COMP%]{font-weight:700}.m-checks-sidebar-toggle[_ngcontent-%COMP%]   .arrow-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;height:40px;width:40px;line-height:inherit}.m-checks-sidebar-toggle[_ngcontent-%COMP%]   .a-button-checks[_ngcontent-%COMP%]{height:50px}@media (max-width: 424px){.order-d-flex[_ngcontent-%COMP%]{width:100%}mat-drawer[_ngcontent-%COMP%]{width:100%}.m-unpaids[_ngcontent-%COMP%]{margin-top:20px}}.check-detail[_ngcontent-%COMP%]{padding:12px;cursor:pointer;border-radius:5px 0 0 5px;min-height:70px;line-height:50px;min-width:150px;text-align:center;font-family:Arial,sans-serif;transition:background-color .3s ease-in-out}.o-card[_ngcontent-%COMP%]   .m-card-header[_ngcontent-%COMP%]{display:flex;margin:-16px -16px 0}.o-card[_ngcontent-%COMP%]   .m-card-header[_ngcontent-%COMP%]   .a-apply-payment[_ngcontent-%COMP%]{display:none;background:none!important;margin:7px}@media (max-width: 991.98px){.o-card[_ngcontent-%COMP%]   .m-card-header[_ngcontent-%COMP%]   .a-apply-payment[_ngcontent-%COMP%]{display:block}}@media (max-width: 320px){.o-card[_ngcontent-%COMP%]   .m-card-header[_ngcontent-%COMP%]   .a-apply-payment[_ngcontent-%COMP%]{font-size:12px;padding:0 7px}}.o-card-payment[_ngcontent-%COMP%]   .payment-main-body[_ngcontent-%COMP%]{overflow-y:auto;height:100%}.t-sidenav-payment[_ngcontent-%COMP%]   .payment-summary[_ngcontent-%COMP%]{overflow-y:auto}.payment-main-body[_ngcontent-%COMP%]   .fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 2s;opacity:1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.nb-theme-material-light[_nghost-%COMP%]     .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order, .nb-theme-material-light   [_nghost-%COMP%]     .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order{border-left:none}.nb-theme-material-light[_nghost-%COMP%]     .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order .mat-drawer-inner-container, .nb-theme-material-light   [_nghost-%COMP%]     .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order .mat-drawer-inner-container{background-color:#ebebeb}.nb-theme-material-light[_nghost-%COMP%]   .a-payment-label.a-payment-required[_ngcontent-%COMP%], .nb-theme-material-light   [_nghost-%COMP%]   .a-payment-label.a-payment-required[_ngcontent-%COMP%]{background:rgb(127,127,127);color:#fff;opacity:1}.nb-theme-material-dark[_nghost-%COMP%]     .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order, .nb-theme-material-dark   [_nghost-%COMP%]     .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order{border-left:none}.nb-theme-material-dark[_nghost-%COMP%]     .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order .mat-drawer-inner-container, .nb-theme-material-dark   [_nghost-%COMP%]     .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order .mat-drawer-inner-container{background-color:#1f1f1f}.nb-theme-material-dark[_nghost-%COMP%]   .a-payment-label.a-payment-required[_ngcontent-%COMP%], .nb-theme-material-dark   [_nghost-%COMP%]   .a-payment-label.a-payment-required[_ngcontent-%COMP%]{background-color:#424242;color:#ededed;opacity:1}  .process-payment-method{width:400px;max-width:400px;margin:0 16px}  .process-check-tab{width:200px;max-height:calc(100vh - 9rem);overflow-y:overlay;overflow-x:hidden}@media (max-width: 767px){  .process-check-tab{width:100%;overflow:hidden;min-height:130px}}@media (min-width: 768px){  .summary-payment{max-height:calc(100vh - 21.5rem);overflow-y:auto;overflow-x:hidden}}@media (min-width: 768px) and (max-width: 1401px) and (pointer: coarse){  .summary-payment{max-height:calc(100vh - 22rem);overflow-y:auto;overflow-x:hidden}}  .process-controls-single-check{height:calc(100vh - 7rem);height:calc(100dvh - 7rem);overflow-y:overlay;overflow-x:hidden}  .a-process-controls{height:calc(100vh - 7rem);height:calc(100dvh - 7rem);overflow-y:overlay;overflow-x:hidden}@media (max-width: 1300px){  .process-controls-single-check{height:calc(100vh - 17rem);height:calc(100dvh - 11rem);overflow-y:overlay;overflow-x:hidden}  .a-process-controls{height:calc(100vh - 17rem);height:calc(100dvh - 11rem);overflow-y:overlay;overflow-x:hidden}}@media (max-width: 767.98px){  .process-controls{height:calc(100vh - 20rem);height:calc(100dvh - 20rem)}}  .process-rotate180{transform:rotate(180deg);transition:225ms cubic-bezier(.4,0,.2,1),box-shadow .28s cubic-bezier(.4,0,.2,1)}@media (max-width: 991.98px){  .a-process-receipt-control{margin-top:5px}}@media (max-width: 1400px){  .process-payment-method{display:none}}  .process-section-show-collapse{transition:225ms cubic-bezier(.4,0,.2,1),box-shadow .28s cubic-bezier(.4,0,.2,1);max-height:100vh;flex:1;overflow:hidden;transform:scaleY(1);transform-origin:top}  .process-section-hide-collapse{flex:0;transform:scaleY(0);max-height:0;transition:225ms cubic-bezier(.4,0,.2,1),box-shadow .28s cubic-bezier(.4,0,.2,1)}  .process-section-hide-collapse:after{display:none}@media (min-width: 992px) and (max-width: 1400px){  .process-info,   .a-process-receipt-control{width:50%}  .a-process-receipt-control{margin-left:16px}}@media (min-width: 1401px){  .process-info{max-width:525px}}  .tab-check-item{border-radius:5px 0 0 5px;min-height:50px;margin-left:5px}  .h-10vh{height:10vh}@media (min-width: 992px){  .process-control-info-max-height{min-height:200px;overflow-y:overlay;overflow-x:hidden}  .process-control-info-max-overflow .m-container-summary .m-check-details{margin:0 -24px;padding:0 24px;min-height:200px;overflow-x:hidden;overflow-y:overlay}}@media (max-width: 991.98px){  .check-detail{border-radius:5px!important;margin-right:5px!important}}@media (min-width: 992px){  .mat-expansion-indicator{display:none}}@media (max-width: 959px){  .mat-expansion-indicator{display:unset}}  .o-container-process-payment .mat-expansion-panel-header.mat-expanded{height:48px}.a-header-paymentmethods[_ngcontent-%COMP%]{height:48px;display:flex;flex-direction:row;align-items:center;margin-top:-16px}.mat-blue[_ngcontent-%COMP%]{color:#028eb5}.m-container-selectmethod.select-payment-method-title[_ngcontent-%COMP%]{display:flex;align-self:center}@media (max-width: 1400px){.m-container-selectmethod.select-payment-method-title[_ngcontent-%COMP%]{margin-top:16px}}.m-container-selectmethod[_ngcontent-%COMP%]   .select-payment-method[_ngcontent-%COMP%]{line-height:1.4}.m-container-selectmethod[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:32px;height:32px;font-size:32px}@media (min-width: 1500px){.m-container-selectmethod[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:48px}.m-container-selectmethod[_ngcontent-%COMP%]   .select-payment-method[_ngcontent-%COMP%]{line-height:1.4;font-size:22px}}.m-container-paymentbuttongroup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:18px;line-height:60px}.m-container-paymentbuttongroup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:sub}[_nghost-%COMP%]     .mat-icon{font-variation-settings:\"FILL\" 1}.a-note-container[_ngcontent-%COMP%]{display:flex;min-width:0}.a-note-container[_ngcontent-%COMP%]   .mat-flat-button[_ngcontent-%COMP%]{background-color:transparent;min-width:0}.a-note-container[_ngcontent-%COMP%]   .text-overflow-ellipsis[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.a-note-container[_ngcontent-%COMP%]   .a-note-button[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;text-align:left}.a-note-container[_ngcontent-%COMP%]:first-child:last-child{flex:1 1 100%;min-width:100%;max-width:100%}.a-note-container.a-first-note[_ngcontent-%COMP%]{flex:0 0 auto;max-width:50%}.a-note-container.a-second-note[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0}.a-note-container   .nb-theme-material-dark[_nghost-%COMP%]     .mat-flat-button:hover, .nb-theme-material-dark   [_nghost-%COMP%]     .mat-flat-button:hover{background-color:#414141}.a-note-container   .nb-theme-material-light[_nghost-%COMP%]     .mat-flat-button:hover, .nb-theme-material-light   [_nghost-%COMP%]     .mat-flat-button:hover{background-color:#e0e0e0}"]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ProcessComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-process',
      template: "<div class=\"d-flex flex-column\">\n  <div class=\"m-breadcrumb w-100 flex-shrink-1\">\n    <button mat-icon-button (click)=\"cancelPayment()\"\n      [disabled]=\"!paymentButtonsStatus.Back || manageLoadingService.isLoading\">\n      <mat-icon class=\"a-back-from-payment\">\n        arrow_back\n      </mat-icon>\n    </button>\n    <span class=\"a-breadcrumb-non-action a-breadcrumb a-breadcrumb-active\">\n      {{ title }}\n    </span>\n  </div>\n  <div class=\"main-process-container w-100 d-flex px-md-3 px-2 pb-md-3 pb-2 pb-xxl-5 pt-md-1 pt-0\"\n    [ngClass]=\"{'flex-row h-100':!mobileMode,'flex-column':mobileMode}\">\n    <div class=\"process-check-tab p-0 m-0 d-flex flex-column\" *ngIf=\"!isSingleCheck\">\n      <section *ngIf=\"(!mobileMode);else checkMaterialTabs\" class=\"payment-summary\">\n        <div class=\"m-unpaid \" *ngIf=\"unPaidItem?.length > 0\">\n          <span class=\"a-text-secondary\">{{'PAYMENT_PROCESSOR.PROCESS.UNPAID_CHECKS' | teiTextTranslate}} </span>\n          <div class=\"m-sidenav-details mb-3 \">\n            <ng-container *ngTemplateOutlet=\"checkItem; context: {$implicit: unPaidItem}\"></ng-container>\n          </div>\n        </div>\n        <div class=\"m-paid\" *ngIf=\"paidItem?.length > 0\">\n          <span class=\"a-text-secondary\">{{'PAYMENT_PROCESSOR.PROCESS.PAID_CHECKS' | teiTextTranslate}}</span>\n          <div class=\"m-sidenav-details mb-2\">\n            <ng-container *ngTemplateOutlet=\"checkItem; context: {$implicit: paidItem}\"></ng-container>\n          </div>\n        </div>\n      </section>\n    </div>\n    <div class=\"w-100 flex-column d-flex\">\n      <div class=\"p-0 m-0 d-flex flex-grow-1 flex-column flex-lg-row\"\n        [ngClass]=\"{'process-controls-single-check':isSingleCheck,'a-process-controls':!isSingleCheck}\">\n        <div class=\"process-info p-0 process-height\" [ngClass]=\"{'flex-grow-1':desktopMode}\">\n          <mat-expansion-panel class=\" \" [ngClass]=\"{'h-100 mh-100':showSummary}\" (opened)=\"showSummary = true\"\n            (closed)=\"showSummary = false\" [expanded]=\"showSummary||(innerWidth>960)\">\n            <mat-expansion-panel-header #panelH (click)=\"(innerWidth>960) && panelH._toggle()\">\n              <div class=\"a-text-h3\">\n                {{'PAYMENT_PROCESSOR.PROCESS.SUMMARY' | teiTextTranslate}}\n              </div>\n            </mat-expansion-panel-header>\n            <div class=\"\">\n              <div class=\"d-flex flex-column process-control-info-max-overflow\">\n                <div class=\"m-container-summary\">\n                  <div class=\"d-flex o-paymentcontact-container mt-1 ml-1\">\n                    <tei-contact-quick-search [contact]=\"selectedCheckPanel?.PaymentContact\" #teiContactQuickSearch\n                      (onContactItemClickEvent)=\"onContactItemClickEvent($event)\"\n                      [isDisabled]=\"validateChangeContact() || !paymentProcessGenericService.configuration.AllowChangeContactLookup\"\n                      (removeContactItemClickEvent)=\"removeContactItemClickEvent()\"></tei-contact-quick-search>\n                  </div>\n                  <div class=\"d-flex w-100 flex-nowrap align-items-center my-2\">\n                    <div *ngFor=\"let note  of selectedCheckPanel?.Notes; let i = index\" class=\"a-note-container mr-1\"\n                      [class.a-first-note]='i == 0' [class.a-second-note]='i == 1'\n                      (click)=\"openNoteDialog(note, selectedCheckPanel?.ItemID)\">\n                      <button mat-flat-button class=\"a-note-button pl-1 \" id=\"'a-note'+{{note?.Label}}\">\n                        <div class=\" d-flex align-items-center\">\n                          <mat-icon fontSet=\"material-symbols-outlined\"> {{note?.Icon}}</mat-icon>\n                          <span class=\"ml-1\">{{note?.Label}}</span>\n                          <span class=\"text-overflow-ellipsis\" *ngIf=\"note?.Value\" [matTooltip]=\"note?.Value\" #noteText\n                            [matTooltipDisabled]=\"!isOverflowing[i]\">: {{note?.Value}}\n                          </span>\n                        </div>\n\n\n                      </button>\n\n                    </div>\n                  </div>\n                  <mat-divider></mat-divider>\n                  <div *ngIf=\"selectedCheckPanel\" class=\"mt-3 summary-payment\">\n                    <div class=\"d-flex flex-column justify-content-center\">\n                      <div class=\"d-flex flex-column m-menu-item-details\">\n                        <tei-common-payment-processor-check-detail [item]=\"selectedCheckPanel?.Summary\"\n                          [remainingAmount]=\"selectedCheckPanel?.Remaining\" [paymentDetail]=\"paymentDetail\">\n                        </tei-common-payment-processor-check-detail>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row my-2\">\n                    <div class=\"col\" *ngIf=\"false\">\n                      <button mat-stroked-button class=\"w-100 a-apply-discount-btn\"\n                        [disabled]=\"!paymentButtonsStatus.Discount|| manageLoadingService.isLoading ||true\">\n                        {{'PAYMENT_PROCESSOR.PROCESS.APPLY_DISCOUNT' | teiTextTranslate}}\n                      </button>\n                    </div>\n                    <div class=\"col\">\n                      <button mat-stroked-button class=\"w-100 a-apply-discount-btn\" *ngIf=\"checkDetails.Total !== 0\"\n                        [disabled]=\"!paymentButtonsStatus.Void || manageLoadingService.isLoading\"\n                        (click)=\"voidPayment()\">\n                        {{'PAYMENT_PROCESSOR.PROCESS.VOID_PAYMENT' | teiTextTranslate}}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </mat-expansion-panel>\n        </div>\n        <div class=\"process-payment-method p-0 process-height\">\n          <div class=\"o-card-body d-flex payment-main-body\">\n            <div class=\"o-check-pay flex-grow-1\" *ngIf=\"innerWidth>1400\" [class.fade-in]=\"innerWidth<1400\">\n              <div class=\"a-header-paymentmethods\">\n                <span class=\"d-flex a-text-h3\">{{paymentMethodTitle}}</span>\n              </div>\n              <tei-common-payment-processor-payment-method [tenderType]=\"paymentDetail?.TenderType\"\n                (openContactDialogEvent)=\"openContactDialog()\" [showGratuity]=\"showGratuity\"\n                [total]=\"selectedCheckPanel?.Remaining\"\n                [enableTipsOnGiftCard]=\"paymentDetail?.TenderType?.EnableTipsOnGiftCard\" [contactPoints]=\"contactPoints\"\n                [isReturn]=\"paymentDetail?.IsReturn\"\n                [enableReturnToGiftCard]=\"paymentDetail?.TenderType?.EnableReturnToGiftCard\"\n                (paymentAppliedEvent)=\"paymentAppliedEventHandler()\" [printerList]=\"paymentDetail?.Printers\">\n              </tei-common-payment-processor-payment-method>\n            </div>\n          </div>\n        </div>\n        <div class=\"a-process-receipt-control d-flex flex-column p-0 process-receipt-control-height\"\n          [ngClass]=\"{'flex-grow-1':desktopMode}\">\n          <mat-expansion-panel class=\"mat-expansion-panel flex-grow-1 w-100  flex-column\" (opened)=\"showReceipt = true\"\n            (closed)=\"showReceipt = false\" [expanded]=\"showReceipt||(innerWidth>960)\">\n            <mat-expansion-panel-header #panelReceipt (click)=\"(innerWidth>960) && panelReceipt._toggle()\">\n              <mat-panel-title>\n                <span *ngIf=\"!needPayment\" class=\"a-text-h3\">{{\"PAYMENT_PROCESSOR.RECEIPT.RECEIPT\" | teiTextTranslate}}</span>\n                <span *ngIf=\"needPayment&&innerWidth<1400\" class=\"a-text-h3\">{{paymentMethodTitle}}</span>\n              </mat-panel-title>\n            </mat-expansion-panel-header>\n            <div class=\"process-control-info-max-height d-flex flex-column h-100 w-100\">\n              <tei-common-payment-processor-payment-method *ngIf=\"needPayment&&innerWidth<1400\"\n                [tenderType]=\"paymentDetail?.TenderType\" (openContactDialogEvent)=\"openContactDialog()\"\n                [showGratuity]=\"showGratuity\" [total]=\"selectedCheckPanel?.Remaining\"\n                [enableTipsOnGiftCard]=\"paymentDetail?.TenderType?.EnableTipsOnGiftCard\" [contactPoints]=\"contactPoints\"\n                [isReturn]=\"paymentDetail?.IsReturn\" (paymentAppliedEvent)=\"paymentAppliedEventHandler()\"\n                [printerList]=\"paymentDetail?.Printers\">\n              </tei-common-payment-processor-payment-method>\n\n              <tei-common-payment-processor-receipt *ngIf=\"!needPayment\" [printerList]=\"paymentDetail?.Printers\"\n                [contact]=\"checkDetails.Contact\" (receiptActionEvent)=\"receiptActionHandler($event)\"\n                [printConfigurations]=\"paymentDetail?.Configuration?.PrintConfigurations\"\n                [remaining]=\"selectedCheckPanel?.Remaining\"\n                [paymentCompleted]=\"paymentButtonsStatus.PaymentCompleted&&!paymentButtonsStatus.PaymentRequired\">\n              </tei-common-payment-processor-receipt>\n\n              <div class=\"row m-container-selectmethod select-payment-method-title align-self-center\"\n                *ngIf=\"needPayment&&(!mobileMode)\">\n                <div class=\"d-flex\">\n                  <div class=\"col-auto align-self-center d-flex\">\n                    <mat-icon *ngIf=\"innerWidth>1400\" style=\"transform: rotate(180deg);\">forward</mat-icon>\n                    <mat-icon *ngIf=\"innerWidth<=1400\" style=\"transform: rotate(270deg);\">forward</mat-icon>\n                  </div>\n                  <div class=\"col align-self-center select-payment-method\">\n                    <div class=\"a-text-h2\">\n                      <div *ngIf=\"selectedCheckPanel?.Remaining > 0\">\n                        {{\"PAYMENT_PROCESSOR.PROCESS.SELECT_PAYMENT_METHOD\" | teiTextTranslate}}\n                      </div>\n                      <div *ngIf=\"selectedCheckPanel?.Remaining < 0\">\n                        {{\"PAYMENT_PROCESSOR.PROCESS.SELECT_RETURN_METHOD\" | teiTextTranslate}}\n                      </div>\n                    </div>\n                    <div class=\"a-text-primary d-flex justify-content-between\"\n                      *ngIf=\"desktopMode && selectedCheckPanel?.Remaining > 0\">\n                      <div>\n                        {{\"PAYMENT_PROCESSOR.PROCESS.REMAINING_TOTAL\" | teiTextTranslate}}\n                      </div>\n                      <div>\n                        {{selectedCheckPanel?.Remaining | teiCurrencyTranslate}}\n                      </div>\n                    </div>\n                    <div class=\"a-text-primary d-flex justify-content-between\"\n                      *ngIf=\"desktopMode && selectedCheckPanel?.Remaining < 0\">\n                      <div>\n                        {{\"PAYMENT_PROCESSOR.PROCESS.RETURN_TOTAL\" | teiTextTranslate}}\n                      </div>\n                      <div>\n                        ({{absAmount(selectedCheckPanel?.Remaining) | teiCurrencyTranslate}})\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </mat-expansion-panel>\n          <ng-container *ngTemplateOutlet=\"checkButtons;context:{$implicit:desktopMode}\"></ng-container>\n        </div>\n      </div>\n      <ng-container *ngTemplateOutlet=\"checkButtons;context:{$implicit:!desktopMode}\"></ng-container>\n    </div>\n  </div>\n\n  <ng-template #checkItem let-items>\n    <div class=\"d-flex \" [ngClass]=\"{'flex-row':mobileMode,'flex-column':!mobileMode}\">\n      <div matRipple (click)=\"selectCheck(item)\" *ngFor=\"let item of items;let index=index;\" #checkTabItemContainer\n        id=\"checkTabItem_{{item.ItemID}}\" class=\"d-flex flex-row align-items-center check-detail \"\n        [ngClass]=\"{'a-check-card-selected': selectedCheckPanel?.ItemID === item?.ItemID }\">\n        <tei-common-payment-processor-check-card class=\"w-100\" [paymentStatus]=\"item?.Status\" [checkNumber]=\"index + 1\"\n          [checkDetail]=\"item\">\n        </tei-common-payment-processor-check-card>\n      </div>\n    </div>\n  </ng-template>\n\n  <ng-template #checkMaterialTabs>\n    <mat-tab-group mat-align-tabs=\"start\" [selectedIndex]=\"selectedCheckPanel?.Status===1?1:0\">\n      <mat-tab label=\"{{'PAYMENT_PROCESSOR.PROCESS.UNPAID_CHECKS' | teiTextTranslate}} ({{unPaidItem?.length}})\"\n        [disabled]=\"unPaidItem.length===0\">\n        <ng-container *ngTemplateOutlet=\"checkItem; context: {$implicit: unPaidItem}\">\n        </ng-container>\n      </mat-tab>\n      <mat-tab label=\"{{'PAYMENT_PROCESSOR.PROCESS.PAID_CHECKS' | teiTextTranslate}} ({{paidItem?.length}})\"\n        [disabled]=\"paidItem?.length===0\">\n        <ng-container *ngTemplateOutlet=\"checkItem; context: {$implicit: paidItem}\">\n        </ng-container>\n      </mat-tab>\n    </mat-tab-group>\n  </ng-template>\n\n  <ng-template #checkButtons let-viewState>\n    <div\n      class=\" px-2 px-sm-0 px-md-0 py-2 py-sm-0 d-flex mt-2 flex-shrink-1 flex-row payment-action-button-mobile-mode m-container-paymentbuttongroup\"\n      *ngIf=\"viewState\">\n      <ng-container *ngIf=\"!isSingleCheck\">\n        <div class=\"mr-1 w-50\">\n          <button mat-raised-button id=\"a-done-payment-btn\"\n            [disabled]=\"manageLoadingService.isLoading||(needPayment?!paymentButtonsStatus.Back:!paymentButtonsStatus.Done)\"\n            (click)=\"done()\" [color]=\"needPayment ? 'primary' : (!paymentDetail?.IsReturn ? 'accent' : 'warn')\"\n            class=\"w-100 h-100\">\n            <mat-icon *ngIf=\"!needPayment\">check_circle</mat-icon> {{needPayment? (\"PAYMENT_PROCESSOR.PROCESS.BACK\" |\n            teiTextTranslate):(\"PAYMENT_PROCESSOR.PROCESS.DONE\" | teiTextTranslate)}}\n          </button>\n        </div>\n        <div class=\"ml-1 w-50\">\n          <button mat-stroked-button class=\"w-100 h-100\" (click)=\"selectNextCheck()\"\n            [disabled]=\"manageLoadingService.isLoading\"\n            [class.mat-button-disabled]=\"this.paymentDetail?.Items?.length===1\">\n            {{\"PAYMENT_PROCESSOR.PROCESS.NEXT_CHECK\" | teiTextTranslate}} <mat-icon>arrow_forward</mat-icon>\n          </button>\n        </div>\n      </ng-container>\n\n      <ng-container *ngIf=\"isSingleCheck\">\n        <div class=\"mr-1 w-50\">\n\n          <button mat-raised-button [disabled]=\"!paymentButtonsStatus.Done || manageLoadingService.isLoading\"\n            (click)=\"done()\" [color]=\"!paymentDetail?.IsReturn ?'accent':'warn'\" class=\"w-100 h-100\"\n            id=\"a-complete-payment-btn\">\n            <mat-icon *ngIf=\"!needPayment\">check_circle</mat-icon> {{needPayment?\n            (\"PAYMENT_PROCESSOR.PROCESS.PAYMENT_REQUIRED\" |\n            teiTextTranslate):(\"PAYMENT_PROCESSOR.PROCESS.COMPLETE\" | teiTextTranslate)}}\n          </button>\n\n        </div>\n        <div class=\"ml-1 w-50\">\n          <button mat-stroked-button class=\"w-100 h-100\" (click)=\"cancelPayment()\"\n            [disabled]=\"manageLoadingService.isLoading\" [class.mat-button-disabled]=\"!paymentButtonsStatus.Back\">\n            <mat-icon>arrow_back</mat-icon> {{\"PAYMENT_PROCESSOR.PROCESS.BACK\" | teiTextTranslate}}\n          </button>\n        </div>\n      </ng-container>\n    </div>\n  </ng-template>\n  <tei-loading [show]=\"manageLoadingService.isLoading\"></tei-loading>\n</div>\n",
      styles: ["::ng-deep .mat-stroked-button.mat-accent{color:#009e6a}::ng-deep .t-sidenav-payment .mat-drawer-inner-container{overflow-x:hidden;overflow-y:hidden}::ng-deep .t-sidenav-payment .mat-drawer-inner-container .a-checks-group-title{font-weight:500}@media (min-width: 1201px){.t-sidenav-payment{max-width:450px;width:100%}}@media (max-width: 1200px){.t-sidenav-payment{max-width:350px;width:100%}}.t-sidenav-payment{overflow-x:hidden;overflow-y:hidden}.t-sidenav-payment .m-sidenav-header{height:50px}.t-sidenav-payment .m-paid .m-sidenav-details{opacity:.9}.t-sidenav-payment .m-sidenav-details{overflow-y:auto;overflow-x:hidden;flex:1}:host-context(.tei-material-theme) ::ng-deep .main-process-container{overflow:hidden}@media (max-width: 767.98px){:host-context(.tei-material-theme) ::ng-deep .payment-action-button-mobile-mode{position:fixed;left:0;right:0;bottom:0;width:100%;padding:0}}:host-context(.tei-material-theme) ::ng-deep .a-check-card-selected{border:solid 1px #028eb5}@media (min-width: 992px){:host-context(.tei-material-theme) ::ng-deep .a-check-card-selected{border-right:0}}@media (max-width: 767px){:host-context(.tei-material-theme) ::ng-deep .check-detail{margin-bottom:8px;margin-top:8px}}@media (min-width: 768px) and (max-width: 1199.98px){:host-context(.tei-material-theme) ::ng-deep .check-detail{margin-bottom:3px;margin-top:3px}}@media (max-width: 767px){:host-context(.nb-theme-material-light) ::ng-deep .payment-action-button-mobile-mode{background-color:#ebebeb;border-top:1px solid rgba(0,0,0,.12)}}:host-context(.nb-theme-material-light) ::ng-deep .a-check-card-selected{background-color:#f9f9f9!important;color:#000}:host-context(.nb-theme-material-light) ::ng-deep .check-detail{background-color:#fff;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}:host-context(.nb-theme-material-light) ::ng-deep .pay-method-item.mat-stroked-button:not(.mat-button-disabled){background-color:#fff}@media (max-width: 767px){:host-context(.nb-theme-material-dark) ::ng-deep .payment-action-button-mobile-mode{background-color:#303030;border-top:1px solid rgba(255,255,255,.12)}}:host-context(.nb-theme-material-dark) ::ng-deep .a-check-card-selected{background-color:#303030!important;color:#fff}:host-context(.nb-theme-material-dark) ::ng-deep .a-check-card-selected .a-text-primary,:host-context(.nb-theme-material-dark) ::ng-deep .a-check-card-selected .a-text-secondary,:host-context(.nb-theme-material-dark) ::ng-deep .a-check-card-selected .a-text-default{color:#fff}:host-context(.nb-theme-material-dark) ::ng-deep .a-check-card-selected -description{color:#fff}:host-context(.nb-theme-material-dark) ::ng-deep .a-check-card-selected .mat-icon{color:#fff!important}:host-context(.nb-theme-material-dark) ::ng-deep .check-detail{background-color:#242424;box-shadow:0 0 5px #00000080}:host-context(.nb-theme-material-dark) ::ng-deep .pay-method-item.mat-stroked-button:not(.mat-button-disabled){background-color:#393939}::ng-deep .a-check-card-selected{background-color:#303030;color:#ffffff57}.m-check-details .a-seat-number{margin-right:10px}.m-check-totals{padding:16px}.o-card-body{margin:0 -16px -16px!important;flex-wrap:nowrap}@media (max-width: 991.98px){.o-card-body{flex-wrap:wrap}}.o-check-summary{max-width:430px;min-width:300px;width:30vw}@media (max-width: 991.98px){.o-check-summary{width:100%;border:0;max-width:none}}.o-check-summary .a-apply-discount-btn{margin:5px 10px}.o-check-summary .a-summary-title,.o-check-pay{padding:16px}.o-check-pay .a-pay-title{padding-bottom:16px}.o-check-pay .a-remaining-check{position:absolute;right:1rem}@media (max-width: 991.98px){.o-check-pay{width:100%}}:host-context(.nb-theme-material-light) .a-menu-item-dnd-placeholder{background:rgba(0,0,0,.04);border:dotted 2px rgba(0,0,0,.12);min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}@media (min-width: 992px){:host-context(.nb-theme-material-light) .o-check-summary{border-right:1px solid rgba(0,0,0,.12)}}@media (max-width: 991.98px){:host-context(.nb-theme-material-light) .o-check-pay{border-top:1px solid rgba(0,0,0,.12)}}:host-context(.nb-theme-material-light) ::ng-deep .check-detail{color:#0000001f}:host-context(.nb-theme-material-light) ::ng-deep .a-check-card-selected.cdk-keyboard-focused:not([aria-disabled=true]),:host-context(.nb-theme-material-light) ::ng-deep .a-check-card-selected.cdk-program-focused:not([aria-disabled=true]),:host-context(.nb-theme-material-light) ::ng-deep .a-check-card-selected:hover:not([aria-disabled=true]){background-color:#fff}:host-context(.nb-theme-material-light) ::ng-deep .a-check-card-selected .avatar-content{color:#fff}:host-context(.nb-theme-material-dark) .a-menu-item-dnd-placeholder{background:rgba(255,255,255,.04);border:dotted 3px rgba(255,255,255,.12);min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}@media (min-width: 992px){:host-context(.nb-theme-material-dark) .o-check-summary{border-right:1px solid hsla(0,0%,100%,.12)}}@media (max-width: 991.98px){:host-context(.nb-theme-material-dark) .o-check-pay{border-top:1px solid hsla(0,0%,100%,.12)}}:host-context(.nb-theme-material-dark) ::ng-deep .check-detail{color:#ffffff1f}:host-context(.nb-theme-material-dark) ::ng-deep .a-check-card-selected.cdk-keyboard-focused:not([aria-disabled=true]),:host-context(.nb-theme-material-dark) ::ng-deep .a-check-card-selected.cdk-program-focused:not([aria-disabled=true]),:host-context(.nb-theme-material-dark) ::ng-deep .a-check-card-selected:hover:not([aria-disabled=true]){background-color:#404040}.m-checks-sidebar-toggle{height:100%;display:flex;align-items:center;justify-content:center}.m-checks-sidebar-toggle .m-check-items{line-height:15px;margin:0}.m-checks-sidebar-toggle .m-check-items .a-orderid{font-weight:700}.m-checks-sidebar-toggle .arrow-btn mat-icon{font-size:40px;height:40px;width:40px;line-height:inherit}.m-checks-sidebar-toggle .a-button-checks{height:50px}@media (max-width: 424px){.order-d-flex{width:100%}mat-drawer{width:100%}.m-unpaids{margin-top:20px}}.check-detail{padding:12px;cursor:pointer;border-radius:5px 0 0 5px;min-height:70px;line-height:50px;min-width:150px;text-align:center;font-family:Arial,sans-serif;transition:background-color .3s ease-in-out}.o-card .m-card-header{display:flex;margin:-16px -16px 0}.o-card .m-card-header .a-apply-payment{display:none;background:none!important;margin:7px}@media (max-width: 991.98px){.o-card .m-card-header .a-apply-payment{display:block}}@media (max-width: 320px){.o-card .m-card-header .a-apply-payment{font-size:12px;padding:0 7px}}.o-card-payment .payment-main-body{overflow-y:auto;height:100%}.t-sidenav-payment .payment-summary{overflow-y:auto}.payment-main-body .fade-in{animation:fadeIn 2s;opacity:1}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}:host-context(.nb-theme-material-light) ::ng-deep .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order{border-left:none}:host-context(.nb-theme-material-light) ::ng-deep .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order .mat-drawer-inner-container{background-color:#ebebeb}:host-context(.nb-theme-material-light) .a-payment-label.a-payment-required{background:rgb(127,127,127);color:#fff;opacity:1}:host-context(.nb-theme-material-dark) ::ng-deep .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order{border-left:none}:host-context(.nb-theme-material-dark) ::ng-deep .t-sidenav-payment.mat-drawer-side.mat-drawer-end.payment-retail-order .mat-drawer-inner-container{background-color:#1f1f1f}:host-context(.nb-theme-material-dark) .a-payment-label.a-payment-required{background-color:#424242;color:#ededed;opacity:1}::ng-deep .process-payment-method{width:400px;max-width:400px;margin:0 16px}::ng-deep .process-check-tab{width:200px;max-height:calc(100vh - 9rem);overflow-y:overlay;overflow-x:hidden}@media (max-width: 767px){::ng-deep .process-check-tab{width:100%;overflow:hidden;min-height:130px}}@media (min-width: 768px){::ng-deep .summary-payment{max-height:calc(100vh - 21.5rem);overflow-y:auto;overflow-x:hidden}}@media (min-width: 768px) and (max-width: 1401px) and (pointer: coarse){::ng-deep .summary-payment{max-height:calc(100vh - 22rem);overflow-y:auto;overflow-x:hidden}}::ng-deep .process-controls-single-check{height:calc(100vh - 7rem);height:calc(100dvh - 7rem);overflow-y:overlay;overflow-x:hidden}::ng-deep .a-process-controls{height:calc(100vh - 7rem);height:calc(100dvh - 7rem);overflow-y:overlay;overflow-x:hidden}@media (max-width: 1300px){::ng-deep .process-controls-single-check{height:calc(100vh - 17rem);height:calc(100dvh - 11rem);overflow-y:overlay;overflow-x:hidden}::ng-deep .a-process-controls{height:calc(100vh - 17rem);height:calc(100dvh - 11rem);overflow-y:overlay;overflow-x:hidden}}@media (max-width: 767.98px){::ng-deep .process-controls{height:calc(100vh - 20rem);height:calc(100dvh - 20rem)}}::ng-deep .process-rotate180{transform:rotate(180deg);transition:225ms cubic-bezier(.4,0,.2,1),box-shadow .28s cubic-bezier(.4,0,.2,1)}@media (max-width: 991.98px){::ng-deep .a-process-receipt-control{margin-top:5px}}@media (max-width: 1400px){::ng-deep .process-payment-method{display:none}}::ng-deep .process-section-show-collapse{transition:225ms cubic-bezier(.4,0,.2,1),box-shadow .28s cubic-bezier(.4,0,.2,1);max-height:100vh;flex:1;overflow:hidden;transform:scaleY(1);transform-origin:top}::ng-deep .process-section-hide-collapse{flex:0;transform:scaleY(0);max-height:0;transition:225ms cubic-bezier(.4,0,.2,1),box-shadow .28s cubic-bezier(.4,0,.2,1)}::ng-deep .process-section-hide-collapse:after{display:none}@media (min-width: 992px) and (max-width: 1400px){::ng-deep .process-info,::ng-deep .a-process-receipt-control{width:50%}::ng-deep .a-process-receipt-control{margin-left:16px}}@media (min-width: 1401px){::ng-deep .process-info{max-width:525px}}::ng-deep .tab-check-item{border-radius:5px 0 0 5px;min-height:50px;margin-left:5px}::ng-deep .h-10vh{height:10vh}@media (min-width: 992px){::ng-deep .process-control-info-max-height{min-height:200px;overflow-y:overlay;overflow-x:hidden}::ng-deep .process-control-info-max-overflow .m-container-summary .m-check-details{margin:0 -24px;padding:0 24px;min-height:200px;overflow-x:hidden;overflow-y:overlay}}@media (max-width: 991.98px){::ng-deep .check-detail{border-radius:5px!important;margin-right:5px!important}}@media (min-width: 992px){::ng-deep .mat-expansion-indicator{display:none}}@media (max-width: 959px){::ng-deep .mat-expansion-indicator{display:unset}}::ng-deep .o-container-process-payment .mat-expansion-panel-header.mat-expanded{height:48px}.a-header-paymentmethods{height:48px;display:flex;flex-direction:row;align-items:center;margin-top:-16px}.mat-blue{color:#028eb5}.m-container-selectmethod.select-payment-method-title{display:flex;align-self:center}@media (max-width: 1400px){.m-container-selectmethod.select-payment-method-title{margin-top:16px}}.m-container-selectmethod .select-payment-method{line-height:1.4}.m-container-selectmethod .mat-icon{width:32px;height:32px;font-size:32px}@media (min-width: 1500px){.m-container-selectmethod .mat-icon{width:48px;height:48px;font-size:48px}.m-container-selectmethod .select-payment-method{line-height:1.4;font-size:22px}}.m-container-paymentbuttongroup button{font-size:18px;line-height:60px}.m-container-paymentbuttongroup button .mat-icon{vertical-align:sub}:host ::ng-deep .mat-icon{font-variation-settings:\"FILL\" 1}.a-note-container{display:flex;min-width:0}.a-note-container .mat-flat-button{background-color:transparent;min-width:0}.a-note-container .text-overflow-ellipsis{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.a-note-container .a-note-button{overflow:hidden;text-overflow:ellipsis;text-align:left}.a-note-container:first-child:last-child{flex:1 1 100%;min-width:100%;max-width:100%}.a-note-container.a-first-note{flex:0 0 auto;max-width:50%}.a-note-container.a-second-note{flex:1 1 auto;min-width:0}.a-note-container :host-context(.nb-theme-material-dark) ::ng-deep .mat-flat-button:hover{background-color:#414141}.a-note-container :host-context(.nb-theme-material-light) ::ng-deep .mat-flat-button:hover{background-color:#e0e0e0}\n"]
    }]
  }], function () {
    return [{
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.ActivatedRoute
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IProcessService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['ICheckContactService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }, {
      type: PaymentNavigationService
    }, {
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef
    }, {
      type: _tei_material__WEBPACK_IMPORTED_MODULE_11__.SnackBarService
    }, {
      type: _ngx_translate_core__WEBPACK_IMPORTED_MODULE_10__.TranslateService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ManageLoadingService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.StorageService
    }, {
      type: _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialog
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPointsService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPrintService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['ISendNotificationsService']
      }]
    }, {
      type: PaymentFinalizeService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentFinalizeService']
      }]
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ResponsiveService
    }, {
      type: _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiCurrencyTranslateService
    }];
  }, {
    teiContactQuickSearch: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild,
      args: ['teiContactQuickSearch']
    }],
    checkTabItemContainer: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChildren,
      args: ['checkTabItemContainer']
    }],
    noteElements: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChildren,
      args: ['noteText']
    }],
    Onbeforeunload: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener,
      args: ['window:beforeunload', ['$event']]
    }]
  });
})();
class CheckContactService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor/Process';
  }
  AddContactToCheck(request) {
    const apiUrl = this.serviceUrl + '/SetOrderContact';
    return this.http.post(apiUrl, request);
  }
  DeleteContactFromCheck(request) {
    const apiUrl = this.serviceUrl + '/SetOrderContact';
    return this.http.post(apiUrl, request);
  }
}
CheckContactService.ɵfac = function CheckContactService_Factory(t) {
  return new (t || CheckContactService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
CheckContactService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: CheckContactService,
  factory: CheckContactService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CheckContactService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
class PrintService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor/Print';
  }
  Post(request) {
    const apiUrl = this.serviceUrl;
    return this.http.post(apiUrl, request);
  }
}
PrintService.ɵfac = function PrintService_Factory(t) {
  return new (t || PrintService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
PrintService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: PrintService,
  factory: PrintService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PrintService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
class SendNotificationsService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor/PaymentNotification';
  }
  Post(request) {
    const apiUrl = this.serviceUrl + '/SendNotification';
    return this.http.post(apiUrl, request);
  }
}
SendNotificationsService.ɵfac = function SendNotificationsService_Factory(t) {
  return new (t || SendNotificationsService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
SendNotificationsService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: SendNotificationsService,
  factory: SendNotificationsService.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](SendNotificationsService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
const BASE_COMPONENT$2 = [ProcessComponent];
const BASE_MODULE$2 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
const TEI_CONTACT_MODULES = [_tei_office_contacts__WEBPACK_IMPORTED_MODULE_28__.ContactAvatarModule, _tei_office_contacts__WEBPACK_IMPORTED_MODULE_28__.ContactQuickSearchModule];
const TEI_CORE_MODULES = [_tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextTranslatePipeModule, _tei_core_translate__WEBPACK_IMPORTED_MODULE_12__.TeiTextEllipsisPipeModule];
const TEI_MATERIAL_MODULES$1 = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule];
const PAYMENT_PROCESSOR_MODULES = [RetailSaleCardModule, CheckCardModule, CheckDetailModule, CheckFeesModule, CheckMenuItemModule, PaymentMethodModule, ReceiptModule, VoidPaymentModule, OnEventModule, NoteModule];
const MATERIAL_MODULES$1 = [_angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.MatRippleModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_44__.MatSidenavModule, _angular_material_badge__WEBPACK_IMPORTED_MODULE_45__.MatBadgeModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_43__.MatExpansionModule, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_18__.MatLegacyCardModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule];
class ProcessModule {}
ProcessModule.ɵfac = function ProcessModule_Factory(t) {
  return new (t || ProcessModule)();
};
ProcessModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: ProcessModule
});
ProcessModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IProcessService',
    useClass: ProcessService
  }, {
    provide: 'ICheckContactService',
    useClass: CheckContactService
  }, {
    provide: 'IPrintService',
    useClass: PrintService
  }, {
    provide: 'ISendNotificationsService',
    useClass: SendNotificationsService
  }, {
    provide: 'IPaymentFinalizeService',
    useClass: PaymentFinalizeService
  }, PaymentNavigationService],
  imports: [BASE_MODULE$2, MATERIAL_MODULES$1, TEI_CONTACT_MODULES, TEI_CORE_MODULES, PAYMENT_PROCESSOR_MODULES, TEI_MATERIAL_MODULES$1, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_dialog__WEBPACK_IMPORTED_MODULE_9__.MatLegacyDialogModule, _angular_material_core__WEBPACK_IMPORTED_MODULE_8__.MatRippleModule, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_44__.MatSidenavModule, _angular_material_badge__WEBPACK_IMPORTED_MODULE_45__.MatBadgeModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_expansion__WEBPACK_IMPORTED_MODULE_43__.MatExpansionModule, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_18__.MatLegacyCardModule, _angular_material_divider__WEBPACK_IMPORTED_MODULE_13__.MatDividerModule, _angular_material_legacy_tooltip__WEBPACK_IMPORTED_MODULE_29__.MatLegacyTooltipModule, _tei_office_contacts__WEBPACK_IMPORTED_MODULE_28__.ContactAvatarModule, _tei_office_contacts__WEBPACK_IMPORTED_MODULE_28__.ContactQuickSearchModule, RetailSaleCardModule, CheckCardModule, CheckDetailModule, CheckFeesModule, CheckMenuItemModule, PaymentMethodModule, ReceiptModule, VoidPaymentModule, OnEventModule, NoteModule, _tei_material__WEBPACK_IMPORTED_MODULE_11__.LoadingModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ProcessModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...BASE_COMPONENT$2],
      imports: [...BASE_MODULE$2, ...MATERIAL_MODULES$1, ...TEI_CONTACT_MODULES, ...TEI_CORE_MODULES, ...PAYMENT_PROCESSOR_MODULES, ...TEI_MATERIAL_MODULES$1],
      exports: [...BASE_COMPONENT$2, ...BASE_MODULE$2, ...MATERIAL_MODULES$1, ...TEI_CONTACT_MODULES, ...PAYMENT_PROCESSOR_MODULES, ...TEI_MATERIAL_MODULES$1],
      providers: [{
        provide: 'IProcessService',
        useClass: ProcessService
      }, {
        provide: 'ICheckContactService',
        useClass: CheckContactService
      }, {
        provide: 'IPrintService',
        useClass: PrintService
      }, {
        provide: 'ISendNotificationsService',
        useClass: SendNotificationsService
      }, {
        provide: 'IPaymentFinalizeService',
        useClass: PaymentFinalizeService
      }, PaymentNavigationService]
    }]
  }], null, null);
})();
class PaymentProcessorComponent {
  constructor(routeService, genericEventService) {
    this.routeService = routeService;
    this.genericEventService = genericEventService;
    this.genericEventService.onChangeGenericEvent({
      module: {
        Category: _tei_core__WEBPACK_IMPORTED_MODULE_2__.CategoryEnum.Pos,
        Name: 'common-payment-processor'
      },
      eventType: _tei_core__WEBPACK_IMPORTED_MODULE_2__.EventTypeEnum.onChangeSideBarVisibility,
      data: {
        sideBarVisible: false,
        headerTitle: 'Payment'
      }
    });
    this.routeService.ngOnInit();
  }
  ngOnInit() {
    this.setScrollableContainerHight();
  }
  setScrollableContainerHight() {
    const windowInnerHeight = window.innerHeight;
    const scrollableContainer = document.querySelector('.scrollable-container');
    if (scrollableContainer) {
      scrollableContainer.style['height'] = `${windowInnerHeight}px`;
    }
  }
}
PaymentProcessorComponent.ɵfac = function PaymentProcessorComponent_Factory(t) {
  return new (t || PaymentProcessorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.RouteService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.GenericEventService));
};
PaymentProcessorComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: PaymentProcessorComponent,
  selectors: [["tei-common-payment-processor"]],
  decls: 1,
  vars: 0,
  template: function PaymentProcessorComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "router-outlet");
    }
  },
  dependencies: [_angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterOutlet]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentProcessorComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor',
      template: "<router-outlet></router-outlet>\n"
    }]
  }], function () {
    return [{
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.RouteService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.GenericEventService
    }];
  }, null);
})();
class PaymentAuthGuard {
  constructor(authService, appIdentifierService, hearBeatService, router) {
    this.authService = authService;
    this.appIdentifierService = appIdentifierService;
    this.hearBeatService = hearBeatService;
    this.router = router;
  }
  canActivate(route, state) {
    return new Promise((resolve, reject) => {
      this.authService.getToken().subscribe(token => {
        const accessToken = token.getPayload().access_token;
        if (!accessToken) {
          this.redirectMainLoginPage(resolve);
        } else {
          this.hearBeatService.postHeartbeat().subscribe({
            next: () => {
              this.checkExtendedToken(token, resolve);
            },
            error: () => {
              this.redirectMainLoginPage(resolve);
            }
          });
        }
      });
    });
  }
  checkExtendedToken(token, resolve) {
    const extendedAccessToken = token.getPayload().extended_access_token;
    const appSession = this.appIdentifierService.getAppSession();
    if (!extendedAccessToken || !appSession) {
      if (!appSession) {
        location.replace(window.location.origin);
      } else {
        this.router.navigate([appSession.baseAddress + "/logout"]);
      }
      resolve(false);
    } else {
      this.hearBeatService.postHeartbeatExtended().subscribe({
        next: () => {
          resolve(true);
        },
        error: () => {
          this.router.navigate([appSession.baseAddress + "/logout"]);
          resolve(false);
        }
      });
    }
  }
  redirectMainLoginPage(resolve) {
    this.appIdentifierService.removeAppSession();
    location.replace(window.location.origin);
    resolve(false);
  }
}
PaymentAuthGuard.ɵfac = function PaymentAuthGuard_Factory(t) {
  return new (t || PaymentAuthGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAuthService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.AppIdentifierService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.PostHearBeatService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__.Router));
};
PaymentAuthGuard.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: PaymentAuthGuard,
  factory: PaymentAuthGuard.ɵfac
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentAuthGuard, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAuthService']
      }]
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.AppIdentifierService
    }, {
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.PostHearBeatService
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.Router
    }];
  }, null);
})();
class DefaultComponent {
  constructor(formBuilder, router) {
    this.formBuilder = formBuilder;
    this.router = router;
    this.userIdTextFieldConfig = {
      minLenght: 3,
      maxLenght: 5
    };
    this.numericPadDataConfig = {
      loginIcon: 'login',
      backspaceIcon: 'backspace',
      userIdInputConfig: {
        label: 'User ID',
        placeholder: 'Enter or Swipe ID',
        validationMessage: {
          required: 'User ID is required.',
          onlyNumber: 'User ID must be a number.',
          minLength: `Please enter at least ${this.userIdTextFieldConfig.minLenght} digits.`,
          maxLength: `Please enter no more than  ${this.userIdTextFieldConfig.maxLenght} digits.`
        }
      }
    };
  }
  ngOnInit() {
    this.form = this.formBuilder.group({
      quickSearch: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]]
    });
  }
  onItemClick(item) {
    console.log('quick search on item click', item);
  }
  // End Quick Search
  logout() {
    this.router.navigate(['common/payment-processor/logout']);
  }
}
DefaultComponent.ɵfac = function DefaultComponent_Factory(t) {
  return new (t || DefaultComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__.Router));
};
DefaultComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: DefaultComponent,
  selectors: [["tei-common-payment-processor-pages-default"]],
  decls: 1,
  vars: 0,
  template: function DefaultComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "div");
    }
  }
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DefaultComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-pages-default',
      template: "<div></div>\n"
    }]
  }], function () {
    return [{
      type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.Router
    }];
  }, null);
})();
const MATERIAL_MODULES = [_angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIconModule, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyButtonModule, _angular_material_legacy_card__WEBPACK_IMPORTED_MODULE_18__.MatLegacyCardModule];
const BASE_MODULES$1 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
const TEI_MATERIAL_MODULES = [_tei_material__WEBPACK_IMPORTED_MODULE_11__.NumericPadModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule];
class DefaultModule {}
DefaultModule.ɵfac = function DefaultModule_Factory(t) {
  return new (t || DefaultModule)();
};
DefaultModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: DefaultModule
});
DefaultModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [MATERIAL_MODULES, BASE_MODULES$1, TEI_MATERIAL_MODULES]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DefaultModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [DefaultComponent],
      imports: [...MATERIAL_MODULES, ...BASE_MODULES$1, ...TEI_MATERIAL_MODULES],
      providers: []
    }]
  }], null, null);
})();
class PaymentFinalizeRequest {}
class PaymentFinalizeResponse {}
class FinalizeComponent {
  constructor(paymentNavigationService, route, finalizeService) {
    this.paymentNavigationService = paymentNavigationService;
    this.route = route;
    this.finalizeService = finalizeService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    this.paymentUID = new PaymentFinalizeRequest();
  }
  ngOnInit() {
    const stateId = this.route.snapshot.queryParamMap.get('stateId');
    this.load();
    this.detectRouteToNavigate(stateId);
  }
  load() {
    this.subscription.add(this.finalizeService.PostFinalize(this.paymentUID).subscribe());
  }
  detectRouteToNavigate(stateId) {
    // ToDO :
    // what we need : finalize api to return back us some data (with route link) in load() function.
    // what we expect : the route that we need to redirect on , should came from backend .
    // for now we are creating that in frontend side .
    switch (stateId) {
      case PaymentProcessState.Success:
        {
          this.paymentNavigationService.success();
          break;
        }
      // TODO : OrderId should return from backend
      case PaymentProcessState.CancelByUser:
        {
          this.paymentNavigationService.cancelByUser();
          break;
        }
      case PaymentProcessState.FailedOnInitialize:
        {
          this.paymentNavigationService.failedOnInitialize();
          break;
        }
    }
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
FinalizeComponent.ɵfac = function FinalizeComponent_Factory(t) {
  return new (t || FinalizeComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](PaymentNavigationService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentFinalizeService'));
};
FinalizeComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: FinalizeComponent,
  selectors: [["tei-common-payment-processor-finalize"]],
  decls: 2,
  vars: 0,
  template: function FinalizeComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "p");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Redirecting ... ");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    }
  }
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FinalizeComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-finalize',
      template: "<p>Redirecting ... </p>"
    }]
  }], function () {
    return [{
      type: PaymentNavigationService
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.ActivatedRoute
    }, {
      type: PaymentFinalizeService,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentFinalizeService']
      }]
    }];
  }, null);
})();
const BASE_COMPONENT$1 = [FinalizeComponent];
const BASE_MODULE$1 = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
class FinalizeModule {}
FinalizeModule.ɵfac = function FinalizeModule_Factory(t) {
  return new (t || FinalizeModule)();
};
FinalizeModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: FinalizeModule
});
FinalizeModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IPaymentFinalizeService',
    useClass: PaymentFinalizeService
  }, PaymentNavigationService],
  imports: [BASE_MODULE$1, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FinalizeModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...BASE_COMPONENT$1],
      imports: [...BASE_MODULE$1],
      exports: [...BASE_COMPONENT$1, ...BASE_MODULE$1],
      providers: [{
        provide: 'IPaymentFinalizeService',
        useClass: PaymentFinalizeService
      }, PaymentNavigationService]
    }]
  }], null, null);
})();
class InitializeService {
  constructor(apiBaseUrlProvider, http) {
    this.apiBaseUrlProvider = apiBaseUrlProvider;
    this.http = http;
    this.serviceUrl = this.apiBaseUrlProvider.getBaseUrl() + '/Common/PaymentProcessor/Initialize';
  }
  Get(request) {
    const apiUrl = this.serviceUrl + '';
    return this.http.get(apiUrl, {
      params: request
    });
  }
}
InitializeService.ɵfac = function InitializeService_Factory(t) {
  return new (t || InitializeService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"]('IAPIBaseUrlProvider'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient));
};
InitializeService.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: InitializeService,
  factory: InitializeService.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](InitializeService, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IAPIBaseUrlProvider']
      }]
    }, {
      type: _angular_common_http__WEBPACK_IMPORTED_MODULE_21__.HttpClient
    }];
  }, null);
})();
class InitializeComponent {
  constructor(storageService, route, router, location, paymentInitializeService, paymentProcessGenericService) {
    // const currentNavigation = this.router.getCurrentNavigation();
    this.storageService = storageService;
    this.route = route;
    this.router = router;
    this.location = location;
    this.paymentInitializeService = paymentInitializeService;
    this.paymentProcessGenericService = paymentProcessGenericService;
    this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_4__.Subscription();
    const currentNavigationState = location.getState();
    if (currentNavigationState) {
      paymentProcessGenericService.returnUrl = currentNavigationState === null || currentNavigationState === void 0 ? void 0 : currentNavigationState.returnUrl;
      paymentProcessGenericService.inCompleteTransactionDialogue = currentNavigationState === null || currentNavigationState === void 0 ? void 0 : currentNavigationState.inCompleteTransactionDialogue;
    }
  }
  ngOnInit() {
    const request = {
      Initiator: PaymentInitiator[this.route.snapshot.paramMap.get('Initiator')],
      RefID: this.route.snapshot.paramMap.get('RefID')
    };
    const subRefID = this.route.snapshot.paramMap.get('SubRefID');
    this.selectedCheckUID = this.route.snapshot.queryParamMap.get('checkUID');
    if (subRefID && subRefID !== null && subRefID !== '') {
      request.SubRefID = this.route.snapshot.paramMap.get('SubRefID');
    }
    this.storageService.Set('initiator', request.Initiator);
    this.load(request);
  }
  load(request) {
    const reference = {
      id: request.RefID,
      subId: request.SubRefID,
      selectedCheckUID: this.selectedCheckUID
    };
    this.storageService.Set(REFERENCE_KEY_NAME, reference);
    this.subscription.add(this.paymentInitializeService.Get(request).subscribe(response => {
      this.router.navigate(['../../../../process', response.PaymentRecordUID], {
        relativeTo: this.route
      });
    }));
  }
  ngOnDestroy() {
    this.subscription.unsubscribe();
  }
}
InitializeComponent.ɵfac = function InitializeComponent_Factory(t) {
  return new (t || InitializeComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.StorageService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_20__.Location), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IInitializeService'), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"]('IPaymentProcessGenericService'));
};
InitializeComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: InitializeComponent,
  selectors: [["tei-common-payment-processor-initial"]],
  decls: 0,
  vars: 0,
  template: function InitializeComponent_Template(rf, ctx) {}
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](InitializeComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'tei-common-payment-processor-initial',
      template: "<!-- <p>Initializing ... </p> -->"
    }]
  }], function () {
    return [{
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.StorageService
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.ActivatedRoute
    }, {
      type: _angular_router__WEBPACK_IMPORTED_MODULE_3__.Router
    }, {
      type: _angular_common__WEBPACK_IMPORTED_MODULE_20__.Location
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IInitializeService']
      }]
    }, {
      type: undefined,
      decorators: [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Inject,
        args: ['IPaymentProcessGenericService']
      }]
    }];
  }, null);
})();
const BASE_COMPONENT = [InitializeComponent];
const BASE_MODULE = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule];
class InitializeModule {}
InitializeModule.ɵfac = function InitializeModule_Factory(t) {
  return new (t || InitializeModule)();
};
InitializeModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: InitializeModule
});
InitializeModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [{
    provide: 'IInitializeService',
    useClass: InitializeService
  }, {
    provide: 'IPaymentProcessGenericService',
    useClass: PaymentProcessGenericService
  }],
  imports: [BASE_MODULE, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](InitializeModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      declarations: [...BASE_COMPONENT],
      imports: [...BASE_MODULE],
      exports: [...BASE_COMPONENT, ...BASE_MODULE],
      providers: [{
        provide: 'IInitializeService',
        useClass: InitializeService
      }, {
        provide: 'IPaymentProcessGenericService',
        useClass: PaymentProcessGenericService
      }]
    }]
  }], null, null);
})();
class PagesComponent {
  constructor() {}
}
PagesComponent.ɵfac = function PagesComponent_Factory(t) {
  return new (t || PagesComponent)();
};
PagesComponent.ɵcmp = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
  type: PagesComponent,
  selectors: [["payment-processor-pages"]],
  decls: 9,
  vars: 4,
  consts: [["header-icons", ""], ["mat-icon-button", "", "routerLinkActive", "active", "aria-hidden", "false", "aria-label", "header main icon", 1, "header-icon", 3, "routerLink"], ["mat-icon-button", "", "routerLinkActive", "active", "aria-hidden", "false", "aria-label", "header settings icon", 1, "header-icon", 3, "routerLink"]],
  template: function PagesComponent_Template(rf, ctx) {
    if (rf & 1) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "tei-theme-default-layout")(1, "div", 0)(2, "a", 1)(3, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4, "format_list_bulleted");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "a", 2)(6, "mat-icon");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7, "settings");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](8, "router-outlet");
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    }
    if (rf & 2) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction0"](2, _c18));
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction0"](3, _c19));
    }
  },
  dependencies: [_angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterOutlet, _angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterLink, _angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterLinkActive, _angular_material_icon__WEBPACK_IMPORTED_MODULE_14__.MatIcon, _angular_material_legacy_button__WEBPACK_IMPORTED_MODULE_17__.MatLegacyAnchor, _tei_theme__WEBPACK_IMPORTED_MODULE_46__.DefaultLayoutComponent],
  encapsulation: 2
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PagesComponent, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Component,
    args: [{
      selector: 'payment-processor-pages',
      template: "<tei-theme-default-layout >\n  <div header-icons>\n    <a mat-icon-button [routerLink]=\"['master-list']\" routerLinkActive=\"active\" class=\"header-icon\" aria-hidden=\"false\"\n      aria-label=\"header main icon\">\n      <mat-icon>format_list_bulleted</mat-icon>\n    </a>\n\n    <a mat-icon-button [routerLink]=\"['settings']\" routerLinkActive=\"active\" class=\"header-icon\" aria-hidden=\"false\"\n      aria-label=\"header settings icon\">\n      <mat-icon>settings</mat-icon>\n    </a>\n  </div>\n  <router-outlet></router-outlet>\n</tei-theme-default-layout>\n"
    }]
  }], function () {
    return [];
  }, null);
})();
class DeactivatePaymentProcessor {
  constructor(storageService) {
    this.storageService = storageService;
  }
  canDeactivate(component, currentRoute, currentState) {
    this.storageService.Remove(REFERENCE_KEY_NAME);
    return true;
  }
}
DeactivatePaymentProcessor.ɵfac = function DeactivatePaymentProcessor_Factory(t) {
  return new (t || DeactivatePaymentProcessor)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_tei_core__WEBPACK_IMPORTED_MODULE_2__.StorageService));
};
DeactivatePaymentProcessor.ɵprov = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
  token: DeactivatePaymentProcessor,
  factory: DeactivatePaymentProcessor.ɵfac,
  providedIn: 'root'
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](DeactivatePaymentProcessor, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable,
    args: [{
      providedIn: 'root'
    }]
  }], function () {
    return [{
      type: _tei_core__WEBPACK_IMPORTED_MODULE_2__.StorageService
    }];
  }, null);
})();
const routes = [{
  path: '',
  component: PaymentProcessorComponent,
  canDeactivate: [DeactivatePaymentProcessor],
  children: [{
    path: '',
    component: PagesComponent,
    children: [
    // {
    //   path: '',
    //   component: DefaultComponent,
    // },
    {
      path: 'initialize/:Initiator/:RefID',
      redirectTo: 'initialize/:Initiator/:RefID/',
      data: {
        appIdentifier: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ApplicationIdentifier.PaymentProcess
      },
      resolve: {
        data: _tei_core__WEBPACK_IMPORTED_MODULE_2__.RouteChangeResolver
      }
    }, {
      canActivate: [PaymentAuthGuard],
      path: 'initialize/:Initiator/:RefID/:SubRefID',
      component: InitializeComponent,
      data: {
        appIdentifier: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ApplicationIdentifier.PaymentProcess
      },
      resolve: {
        data: _tei_core__WEBPACK_IMPORTED_MODULE_2__.RouteChangeResolver
      }
    }, {
      path: 'process/:PaymentRecordUID',
      component: ProcessComponent,
      data: {
        appIdentifier: _tei_core__WEBPACK_IMPORTED_MODULE_2__.ApplicationIdentifier.PaymentProcess
      },
      resolve: {
        data: _tei_core__WEBPACK_IMPORTED_MODULE_2__.RouteChangeResolver
      }
    }, {
      path: 'finalize',
      component: FinalizeComponent
    }]
  }, {
    path: '**',
    redirectTo: ''
  }]
}];
class PaymentProcessorRoutingModule {}
PaymentProcessorRoutingModule.ɵfac = function PaymentProcessorRoutingModule_Factory(t) {
  return new (t || PaymentProcessorRoutingModule)();
};
PaymentProcessorRoutingModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: PaymentProcessorRoutingModule
});
PaymentProcessorRoutingModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  imports: [_angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterModule.forChild(routes), _angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentProcessorRoutingModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [_angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterModule.forChild(routes)],
      exports: [_angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterModule]
    }]
  }], null, null);
})();
const BASE_MODULES = [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule];
const MODULES = [_tei_theme__WEBPACK_IMPORTED_MODULE_46__.DefaultLayoutModule, DefaultModule, InitializeModule, ProcessModule, FinalizeModule];
const COMPONENTS = [PagesComponent, PaymentProcessorComponent];
const PIPES = [];
class PaymentProcessorModule {}
PaymentProcessorModule.ɵfac = function PaymentProcessorModule_Factory(t) {
  return new (t || PaymentProcessorModule)();
};
PaymentProcessorModule.ɵmod = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({
  type: PaymentProcessorModule
});
PaymentProcessorModule.ɵinj = /* @__PURE__ */_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({
  providers: [PaymentAuthGuard],
  imports: [PaymentProcessorRoutingModule, BASE_MODULES, MODULES, _angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.ReactiveFormsModule]
});
(function () {
  (typeof ngDevMode === "undefined" || ngDevMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PaymentProcessorModule, [{
    type: _angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule,
    args: [{
      imports: [PaymentProcessorRoutingModule, ...BASE_MODULES, ...MODULES],
      exports: [...BASE_MODULES],
      declarations: [...COMPONENTS, ...PIPES],
      providers: [PaymentAuthGuard]
    }]
  }], null, null);
})();

/*
 * Public API Surface of theme
 */

/**
 * Generated bundle index. Do not edit.
 */



/***/ })

}]);
//# sourceMappingURL=node_modules_tei_common-payment-processor_fesm2020_tei-common-payment-processor_mjs.js.map